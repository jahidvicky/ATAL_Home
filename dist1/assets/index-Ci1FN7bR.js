(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function XU(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var VS={exports:{}},y0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function YU(){if(EN)return y0;EN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:a}}return y0.Fragment=e,y0.jsx=t,y0.jsxs=t,y0}var CN;function KU(){return CN||(CN=1,VS.exports=YU()),VS.exports}var r=KU(),GS={exports:{}},Tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function JU(){if(MN)return Tn;MN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function E(T,X,ee){this.props=T,this.context=X,this.refs=_,this.updater=ee||b}E.prototype.isReactComponent={},E.prototype.setState=function(T,X){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,X,"setState")},E.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=E.prototype;function P(T,X,ee){this.props=T,this.context=X,this.refs=_,this.updater=ee||b}var N=P.prototype=new A;N.constructor=P,S(N,E.prototype),N.isPureReactComponent=!0;var L=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function k(T,X,ee,oe,ce,re){return ee=re.ref,{$$typeof:n,type:T,key:X,ref:ee!==void 0?ee:null,props:re}}function F(T,X){return k(T.type,X,void 0,void 0,void 0,T.props)}function D(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function B(T){var X={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ee){return X[ee]})}var q=/\/+/g;function Y(T,X){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):X.toString(36)}function G(){}function W(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(G,G):(T.status="pending",T.then(function(X){T.status==="pending"&&(T.status="fulfilled",T.value=X)},function(X){T.status==="pending"&&(T.status="rejected",T.reason=X)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function $(T,X,ee,oe,ce){var re=typeof T;(re==="undefined"||re==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(re){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case n:case e:ue=!0;break;case m:return ue=T._init,$(ue(T._payload),X,ee,oe,ce)}}if(ue)return ce=ce(T),ue=oe===""?"."+Y(T,0):oe,L(ce)?(ee="",ue!=null&&(ee=ue.replace(q,"$&/")+"/"),$(ce,X,ee,"",function(Qe){return Qe})):ce!=null&&(D(ce)&&(ce=F(ce,ee+(ce.key==null||T&&T.key===ce.key?"":(""+ce.key).replace(q,"$&/")+"/")+ue)),X.push(ce)),1;ue=0;var ye=oe===""?".":oe+":";if(L(T))for(var Ve=0;Ve<T.length;Ve++)oe=T[Ve],re=ye+Y(oe,Ve),ue+=$(oe,X,ee,re,ce);else if(Ve=y(T),typeof Ve=="function")for(T=Ve.call(T),Ve=0;!(oe=T.next()).done;)oe=oe.value,re=ye+Y(oe,Ve++),ue+=$(oe,X,ee,re,ce);else if(re==="object"){if(typeof T.then=="function")return $(W(T),X,ee,oe,ce);throw X=String(T),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ue}function z(T,X,ee){if(T==null)return T;var oe=[],ce=0;return $(T,oe,"","",function(re){return X.call(ee,re,ce++)}),oe}function I(T){if(T._status===-1){var X=T._result;X=X(),X.then(function(ee){(T._status===0||T._status===-1)&&(T._status=1,T._result=ee)},function(ee){(T._status===0||T._status===-1)&&(T._status=2,T._result=ee)}),T._status===-1&&(T._status=0,T._result=X)}if(T._status===1)return T._result.default;throw T._result}var Q=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function K(){}return Tn.Children={map:z,forEach:function(T,X,ee){z(T,function(){X.apply(this,arguments)},ee)},count:function(T){var X=0;return z(T,function(){X++}),X},toArray:function(T){return z(T,function(X){return X})||[]},only:function(T){if(!D(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Tn.Component=E,Tn.Fragment=t,Tn.Profiler=s,Tn.PureComponent=P,Tn.StrictMode=i,Tn.Suspense=d,Tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Tn.__COMPILER_RUNTIME={__proto__:null,c:function(T){return j.H.useMemoCache(T)}},Tn.cache=function(T){return function(){return T.apply(null,arguments)}},Tn.cloneElement=function(T,X,ee){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var oe=S({},T.props),ce=T.key,re=void 0;if(X!=null)for(ue in X.ref!==void 0&&(re=void 0),X.key!==void 0&&(ce=""+X.key),X)!R.call(X,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&X.ref===void 0||(oe[ue]=X[ue]);var ue=arguments.length-2;if(ue===1)oe.children=ee;else if(1<ue){for(var ye=Array(ue),Ve=0;Ve<ue;Ve++)ye[Ve]=arguments[Ve+2];oe.children=ye}return k(T.type,ce,void 0,void 0,re,oe)},Tn.createContext=function(T){return T={$$typeof:o,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:a,_context:T},T},Tn.createElement=function(T,X,ee){var oe,ce={},re=null;if(X!=null)for(oe in X.key!==void 0&&(re=""+X.key),X)R.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ce[oe]=X[oe]);var ue=arguments.length-2;if(ue===1)ce.children=ee;else if(1<ue){for(var ye=Array(ue),Ve=0;Ve<ue;Ve++)ye[Ve]=arguments[Ve+2];ce.children=ye}if(T&&T.defaultProps)for(oe in ue=T.defaultProps,ue)ce[oe]===void 0&&(ce[oe]=ue[oe]);return k(T,re,void 0,void 0,null,ce)},Tn.createRef=function(){return{current:null}},Tn.forwardRef=function(T){return{$$typeof:c,render:T}},Tn.isValidElement=D,Tn.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:I}},Tn.memo=function(T,X){return{$$typeof:h,type:T,compare:X===void 0?null:X}},Tn.startTransition=function(T){var X=j.T,ee={};j.T=ee;try{var oe=T(),ce=j.S;ce!==null&&ce(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(K,Q)}catch(re){Q(re)}finally{j.T=X}},Tn.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Tn.use=function(T){return j.H.use(T)},Tn.useActionState=function(T,X,ee){return j.H.useActionState(T,X,ee)},Tn.useCallback=function(T,X){return j.H.useCallback(T,X)},Tn.useContext=function(T){return j.H.useContext(T)},Tn.useDebugValue=function(){},Tn.useDeferredValue=function(T,X){return j.H.useDeferredValue(T,X)},Tn.useEffect=function(T,X,ee){var oe=j.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(T,X)},Tn.useId=function(){return j.H.useId()},Tn.useImperativeHandle=function(T,X,ee){return j.H.useImperativeHandle(T,X,ee)},Tn.useInsertionEffect=function(T,X){return j.H.useInsertionEffect(T,X)},Tn.useLayoutEffect=function(T,X){return j.H.useLayoutEffect(T,X)},Tn.useMemo=function(T,X){return j.H.useMemo(T,X)},Tn.useOptimistic=function(T,X){return j.H.useOptimistic(T,X)},Tn.useReducer=function(T,X,ee){return j.H.useReducer(T,X,ee)},Tn.useRef=function(T){return j.H.useRef(T)},Tn.useState=function(T){return j.H.useState(T)},Tn.useSyncExternalStore=function(T,X,ee){return j.H.useSyncExternalStore(T,X,ee)},Tn.useTransition=function(){return j.H.useTransition()},Tn.version="19.1.1",Tn}var TN;function Er(){return TN||(TN=1,GS.exports=JU()),GS.exports}var V=Er();const Mi=Af(V);var qS={exports:{}},v0={},WS={exports:{}},XS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function QU(){return NN||(NN=1,function(n){function e(z,I){var Q=z.length;z.push(I);e:for(;0<Q;){var K=Q-1>>>1,T=z[K];if(0<s(T,I))z[K]=I,z[Q]=T,Q=K;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var I=z[0],Q=z.pop();if(Q!==I){z[0]=Q;e:for(var K=0,T=z.length,X=T>>>1;K<X;){var ee=2*(K+1)-1,oe=z[ee],ce=ee+1,re=z[ce];if(0>s(oe,Q))ce<T&&0>s(re,oe)?(z[K]=re,z[ce]=Q,K=ce):(z[K]=oe,z[ee]=Q,K=ee);else if(ce<T&&0>s(re,Q))z[K]=re,z[ce]=Q,K=ce;else break e}}return I}function s(z,I){var Q=z.sortIndex-I.sortIndex;return Q!==0?Q:z.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,x=null,y=3,b=!1,S=!1,_=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function L(z){for(var I=t(h);I!==null;){if(I.callback===null)i(h);else if(I.startTime<=z)i(h),I.sortIndex=I.expirationTime,e(d,I);else break;I=t(h)}}function j(z){if(_=!1,L(z),!S)if(t(d)!==null)S=!0,R||(R=!0,Y());else{var I=t(h);I!==null&&$(j,I.startTime-z)}}var R=!1,k=-1,F=5,D=-1;function B(){return E?!0:!(n.unstable_now()-D<F)}function q(){if(E=!1,R){var z=n.unstable_now();D=z;var I=!0;try{e:{S=!1,_&&(_=!1,P(k),k=-1),b=!0;var Q=y;try{t:{for(L(z),x=t(d);x!==null&&!(x.expirationTime>z&&B());){var K=x.callback;if(typeof K=="function"){x.callback=null,y=x.priorityLevel;var T=K(x.expirationTime<=z);if(z=n.unstable_now(),typeof T=="function"){x.callback=T,L(z),I=!0;break t}x===t(d)&&i(d),L(z)}else i(d);x=t(d)}if(x!==null)I=!0;else{var X=t(h);X!==null&&$(j,X.startTime-z),I=!1}}break e}finally{x=null,y=Q,b=!1}I=void 0}}finally{I?Y():R=!1}}}var Y;if(typeof N=="function")Y=function(){N(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=q,Y=function(){W.postMessage(null)}}else Y=function(){A(q,0)};function $(z,I){k=A(function(){z(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var Q=y;y=I;try{return z()}finally{y=Q}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=y;y=z;try{return I()}finally{y=Q}},n.unstable_scheduleCallback=function(z,I,Q){var K=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?K+Q:K):Q=K,z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Q+T,z={id:m++,callback:I,priorityLevel:z,startTime:Q,expirationTime:T,sortIndex:-1},Q>K?(z.sortIndex=Q,e(h,z),t(d)===null&&z===t(h)&&(_?(P(k),k=-1):_=!0,$(j,Q-K))):(z.sortIndex=T,e(d,z),S||b||(S=!0,R||(R=!0,Y()))),z},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(z){var I=y;return function(){var Q=y;y=I;try{return z.apply(this,arguments)}finally{y=Q}}}}(XS)),XS}var jN;function ZU(){return jN||(jN=1,WS.exports=QU()),WS.exports}var YS={exports:{}},gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function $U(){if(RN)return gr;RN=1;var n=Er();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:d,containerInfo:h,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gr.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},gr.flushSync=function(d){var h=o.T,m=i.p;try{if(o.T=null,i.p=2,d)return d()}finally{o.T=h,i.p=m,i.d.f()}},gr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},gr.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},gr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,x=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(d,{crossOrigin:x,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},gr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,x=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gr.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},gr.requestFormReset=function(d){i.d.r(d)},gr.unstable_batchedUpdates=function(d,h){return d(h)},gr.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},gr.useFormStatus=function(){return o.H.useHostTransitionStatus()},gr.version="19.1.1",gr}var BN;function nD(){if(BN)return YS.exports;BN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),YS.exports=$U(),YS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN;function ek(){if(DN)return v0;DN=1;var n=ZU(),e=Er(),t=nD();function i(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(i(188))}function d(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(i(188));return u!==l?null:l}for(var g=l,v=u;;){var C=g.return;if(C===null)break;var O=C.alternate;if(O===null){if(v=C.return,v!==null){g=v;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===g)return c(C),l;if(O===v)return c(C),u;O=O.sibling}throw Error(i(188))}if(g.return!==v.return)g=C,v=O;else{for(var J=!1,ne=C.child;ne;){if(ne===g){J=!0,g=C,v=O;break}if(ne===v){J=!0,v=C,g=O;break}ne=ne.sibling}if(!J){for(ne=O.child;ne;){if(ne===g){J=!0,g=O,v=C;break}if(ne===v){J=!0,v=O,g=C;break}ne=ne.sibling}if(!J)throw Error(i(189))}}if(g.alternate!==v)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=q&&l[q]||l["@@iterator"],typeof l=="function"?l:null)}var G=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===G?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case R:return"SuspenseList";case D:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case N:return(l.displayName||"Context")+".Provider";case P:return(l._context.displayName||"Context")+".Consumer";case L:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return u=l.displayName||null,u!==null?u:W(l.type)||"Memo";case F:u=l._payload,l=l._init;try{return W(l(u))}catch{}}return null}var $=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},K=[],T=-1;function X(l){return{current:l}}function ee(l){0>T||(l.current=K[T],K[T]=null,T--)}function oe(l,u){T++,K[T]=l.current,l.current=u}var ce=X(null),re=X(null),ue=X(null),ye=X(null);function Ve(l,u){switch(oe(ue,u),oe(re,l),oe(ce,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?$T(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=$T(u),l=eN(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ee(ce),oe(ce,l)}function Qe(){ee(ce),ee(re),ee(ue)}function We(l){l.memoizedState!==null&&oe(ye,l);var u=ce.current,g=eN(u,l.type);u!==g&&(oe(re,l),oe(ce,g))}function mt(l){re.current===l&&(ee(ce),ee(re)),ye.current===l&&(ee(ye),f0._currentValue=Q)}var ut=Object.prototype.hasOwnProperty,le=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,Ae=n.unstable_shouldYield,we=n.unstable_requestPaint,ge=n.unstable_now,Be=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,_e=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,et=n.unstable_LowPriority,te=n.unstable_IdlePriority,Z=n.log,xe=n.unstable_setDisableYieldValue,Oe=null,Xe=null;function He(l){if(typeof Z=="function"&&xe(l),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Oe,l)}catch{}}var _t=Math.clz32?Math.clz32:Ot,yt=Math.log,Tt=Math.LN2;function Ot(l){return l>>>=0,l===0?32:31-(yt(l)/Tt|0)|0}var Pe=256,Je=4194304;function Ct(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function he(l,u,g){var v=l.pendingLanes;if(v===0)return 0;var C=0,O=l.suspendedLanes,J=l.pingedLanes;l=l.warmLanes;var ne=v&134217727;return ne!==0?(v=ne&~O,v!==0?C=Ct(v):(J&=ne,J!==0?C=Ct(J):g||(g=ne&~l,g!==0&&(C=Ct(g))))):(ne=v&~O,ne!==0?C=Ct(ne):J!==0?C=Ct(J):g||(g=v&~l,g!==0&&(C=Ct(g)))),C===0?0:u!==0&&u!==C&&(u&O)===0&&(O=C&-C,g=u&-u,O>=g||O===32&&(g&4194048)!==0)?u:C}function Ne(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function ct(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var l=Pe;return Pe<<=1,(Pe&4194048)===0&&(Pe=256),l}function rt(){var l=Je;return Je<<=1,(Je&62914560)===0&&(Je=4194304),l}function ht(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function At(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function gt(l,u,g,v,C,O){var J=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ne=l.entanglements,pe=l.expirationTimes,Ie=l.hiddenUpdates;for(g=J&~g;0<g;){var it=31-_t(g),lt=1<<it;ne[it]=0,pe[it]=-1;var ze=Ie[it];if(ze!==null)for(Ie[it]=null,it=0;it<ze.length;it++){var Ge=ze[it];Ge!==null&&(Ge.lane&=-536870913)}g&=~lt}v!==0&&tt(l,v,0),O!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=O&~(J&~u))}function tt(l,u,g){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-_t(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|g&4194090}function Mt(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var v=31-_t(g),C=1<<v;C&u|l[v]&u&&(l[v]|=u),g&=~C}}function Gt(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function yn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function de(){var l=I.p;return l!==0?l:(l=window.event,l===void 0?32:vN(l.type))}function Ce(l,u){var g=I.p;try{return I.p=l,u()}finally{I.p=g}}var Le=Math.random().toString(36).slice(2),ot="__reactFiber$"+Le,ft="__reactProps$"+Le,It="__reactContainer$"+Le,Ut="__reactEvents$"+Le,Vt="__reactListeners$"+Le,Ft="__reactHandles$"+Le,qt="__reactResources$"+Le,kt="__reactMarker$"+Le;function Et(l){delete l[ot],delete l[ft],delete l[Ut],delete l[Vt],delete l[Ft]}function pn(l){var u=l[ot];if(u)return u;for(var g=l.parentNode;g;){if(u=g[It]||g[ot]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(l=sN(l);l!==null;){if(g=l[ot])return g;l=sN(l)}return u}l=g,g=l.parentNode}return null}function Hn(l){if(l=l[ot]||l[It]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function wi(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(i(33))}function Si(l){var u=l[qt];return u||(u=l[qt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function mn(l){l[kt]=!0}var Yn=new Set,or={};function ie(l,u){ve(l,u),ve(l+"Capture",u)}function ve(l,u){for(or[l]=u,l=0;l<u.length;l++)Yn.add(u[l])}var je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fe={},Ee={};function pt(l){return ut.call(Ee,l)?!0:ut.call(Fe,l)?!1:je.test(l)?Ee[l]=!0:(Fe[l]=!0,!1)}function bt(l,u,g){if(pt(u))if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+g)}}function jt(l,u,g){if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+g)}}function dt(l,u,g,v){if(v===null)l.removeAttribute(g);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(u,g,""+v)}}var Dt,Kt;function zt(l){if(Dt===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Dt=u&&u[1]||"",Kt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+l+Kt}var Yt=!1;function Rn(l,u){if(!l||Yt)return"";Yt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Ge){var ze=Ge}Reflect.construct(l,[],lt)}else{try{lt.call()}catch(Ge){ze=Ge}l.call(lt.prototype)}}else{try{throw Error()}catch(Ge){ze=Ge}(lt=l())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Ge){if(Ge&&ze&&typeof Ge.stack=="string")return[Ge.stack,ze.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),J=O[0],ne=O[1];if(J&&ne){var pe=J.split(`
`),Ie=ne.split(`
`);for(C=v=0;v<pe.length&&!pe[v].includes("DetermineComponentFrameRoot");)v++;for(;C<Ie.length&&!Ie[C].includes("DetermineComponentFrameRoot");)C++;if(v===pe.length||C===Ie.length)for(v=pe.length-1,C=Ie.length-1;1<=v&&0<=C&&pe[v]!==Ie[C];)C--;for(;1<=v&&0<=C;v--,C--)if(pe[v]!==Ie[C]){if(v!==1||C!==1)do if(v--,C--,0>C||pe[v]!==Ie[C]){var it=`
`+pe[v].replace(" at new "," at ");return l.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",l.displayName)),it}while(1<=v&&0<=C);break}}}finally{Yt=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?zt(g):""}function li(l){switch(l.tag){case 26:case 27:case 5:return zt(l.type);case 16:return zt("Lazy");case 13:return zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Rn(l.type,!1);case 11:return Rn(l.type.render,!1);case 1:return Rn(l.type,!0);case 31:return zt("Activity");default:return""}}function Zn(l){try{var u="";do u+=li(l),l=l.return;while(l);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function vn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Qt(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ai(l){var u=Qt(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,O=g.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return C.call(this)},set:function(J){v=""+J,O.call(this,J)}}),Object.defineProperty(l,u,{enumerable:g.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Bn(l){l._valueTracker||(l._valueTracker=Ai(l))}function Ss(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var g=u.getValue(),v="";return l&&(v=Qt(l)?l.checked?"true":"false":l.value),l=v,l!==g?(u.setValue(l),!0):!1}function Qr(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var As=/[\n"\\]/g;function es(l){return l.replace(As,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function ci(l,u,g,v,C,O,J,ne){l.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?l.type=J:l.removeAttribute("type"),u!=null?J==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+vn(u)):l.value!==""+vn(u)&&(l.value=""+vn(u)):J!=="submit"&&J!=="reset"||l.removeAttribute("value"),u!=null?_s(l,J,vn(u)):g!=null?_s(l,J,vn(g)):v!=null&&l.removeAttribute("value"),C==null&&O!=null&&(l.defaultChecked=!!O),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?l.name=""+vn(ne):l.removeAttribute("name")}function Is(l,u,g,v,C,O,J,ne){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.type=O),u!=null||g!=null){if(!(O!=="submit"&&O!=="reset"||u!=null))return;g=g!=null?""+vn(g):"",u=u!=null?""+vn(u):g,ne||u===l.value||(l.value=u),l.defaultValue=u}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=ne?l.checked:!!v,l.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(l.name=J)}function _s(l,u,g){u==="number"&&Qr(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function Ni(l,u,g,v){if(l=l.options,u){u={};for(var C=0;C<g.length;C++)u["$"+g[C]]=!0;for(g=0;g<l.length;g++)C=u.hasOwnProperty("$"+l[g].value),l[g].selected!==C&&(l[g].selected=C),C&&v&&(l[g].defaultSelected=!0)}else{for(g=""+vn(g),u=null,C=0;C<l.length;C++){if(l[C].value===g){l[C].selected=!0,v&&(l[C].defaultSelected=!0);return}u!==null||l[C].disabled||(u=l[C])}u!==null&&(u.selected=!0)}}function Es(l,u,g){if(u!=null&&(u=""+vn(u),u!==l.value&&(l.value=u),g==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=g!=null?""+vn(g):""}function uc(l,u,g,v){if(u==null){if(v!=null){if(g!=null)throw Error(i(92));if($(v)){if(1<v.length)throw Error(i(93));v=v[0]}g=v}g==null&&(g=""),u=g}g=vn(u),l.defaultValue=g,v=l.textContent,v===g&&v!==""&&v!==null&&(l.value=v)}function ts(l,u){if(u){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=u;return}}l.textContent=u}var yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nd(l,u,g){var v=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,g):typeof g!="number"||g===0||yy.has(u)?u==="float"?l.cssFloat=g:l[u]=(""+g).trim():l[u]=g+"px"}function jd(l,u,g){if(u!=null&&typeof u!="object")throw Error(i(62));if(l=l.style,g!=null){for(var v in g)!g.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var C in u)v=u[C],u.hasOwnProperty(C)&&g[C]!==v&&Nd(l,C,v)}else for(var O in u)u.hasOwnProperty(O)&&Nd(l,O,u[O])}function Bf(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rd(l){return vy.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Df=null;function Of(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var fl=null,dc=null;function ag(l){var u=Hn(l);if(u&&(l=u.stateNode)){var g=l[ft]||null;e:switch(l=u.stateNode,u.type){case"input":if(ci(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+es(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var v=g[u];if(v!==l&&v.form===l.form){var C=v[ft]||null;if(!C)throw Error(i(90));ci(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<g.length;u++)v=g[u],v.form===l.form&&Ss(v)}break e;case"textarea":Es(l,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&Ni(l,!!g.multiple,u,!1)}}}var Bd=!1;function og(l,u,g){if(Bd)return l(u,g);Bd=!0;try{var v=l(u);return v}finally{if(Bd=!1,(fl!==null||dc!==null)&&(co(),fl&&(u=fl,l=dc,dc=fl=null,ag(u),l)))for(u=0;u<l.length;u++)ag(l[u])}}function su(l,u){var g=l.stateNode;if(g===null)return null;var v=g[ft]||null;if(v===null)return null;g=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,u,typeof g));return g}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=!1;if(Ya)try{var ru={};Object.defineProperty(ru,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Dd=!1}var Mo=null,lg=null,Pf=null;function cg(){if(Pf)return Pf;var l,u=lg,g=u.length,v,C="value"in Mo?Mo.value:Mo.textContent,O=C.length;for(l=0;l<g&&u[l]===C[l];l++);var J=g-l;for(v=1;v<=J&&u[g-v]===C[O-v];v++);return Pf=C.slice(l,1<v?1-v:void 0)}function pl(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function au(){return!0}function Od(){return!1}function Ys(l){function u(g,v,C,O,J){this._reactName=g,this._targetInst=C,this.type=v,this.nativeEvent=O,this.target=J,this.currentTarget=null;for(var ne in l)l.hasOwnProperty(ne)&&(g=l[ne],this[ne]=g?g(O):O[ne]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?au:Od,this.isPropagationStopped=Od,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),u}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=Ys(ml),lu=m({},ml,{view:0,detail:0}),by=Ys(lu),To,cu,uu,du=m({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==uu&&(uu&&l.type==="mousemove"?(To=l.screenX-uu.screenX,cu=l.screenY-uu.screenY):cu=To=0,uu=l),To)},movementY:function(l){return"movementY"in l?l.movementY:cu}}),ug=Ys(du),wy=m({},du,{dataTransfer:0}),oS=Ys(wy),Cs=m({},lu,{relatedTarget:0}),Lf=Ys(Cs),Sy=m({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),Ay=Ys(Sy),_y=m({},ml,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ey=Ys(_y),Pd=m({},ml,{data:0}),If=Ys(Pd),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},My={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Ty[l])?!!u[l]:!1}function Ld(){return dg}var Ny=m({},lu,{key:function(l){if(l.key){var u=Cy[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=pl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?My[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(l){return l.type==="keypress"?pl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hg=Ys(Ny),fg=m({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=Ys(fg),jy=m({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),pg=Ys(jy),Ry=m({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=Ys(Ry),mg=m({},du,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),lS=Ys(mg),By=m({},ml,{newState:0,oldState:0}),gl=Ys(By),jo=[9,13,27,32],Id=Ya&&"CompositionEvent"in window,hc=null;Ya&&"documentMode"in document&&(hc=document.documentMode);var Ud=Ya&&"TextEvent"in window&&!hc,kd=Ya&&(!Id||hc&&8<hc&&11>=hc),xl=" ",Ms=!1;function Fd(l,u){switch(l){case"keyup":return jo.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var yl=!1;function zd(l,u){switch(l){case"compositionend":return gg(u);case"keypress":return u.which!==32?null:(Ms=!0,xl);case"textInput":return l=u.data,l===xl&&Ms?null:l;default:return null}}function xg(l,u){if(yl)return l==="compositionend"||!Id&&Fd(l,u)?(l=cg(),Pf=lg=Mo=null,yl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return kd&&u.locale!=="ko"?null:u.data;default:return null}}var kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!kf[l.type]:u==="textarea"}function lr(l,u,g,v){fl?dc?dc.push(v):dc=[v]:fl=v,u=Rv(u,"onChange"),0<u.length&&(g=new ou("onChange","change",null,g,v),l.push({event:g,listeners:u}))}var hu=null,fc=null;function Dy(l){YT(l,0)}function Hd(l){var u=wi(l);if(Ss(u))return l}function Ff(l,u){if(l==="change")return u}var zf=!1;if(Ya){var Hf;if(Ya){var fu="oninput"in document;if(!fu){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),fu=typeof pu.oninput=="function"}Hf=fu}else Hf=!1;zf=Hf&&(!document.documentMode||9<document.documentMode)}function Ci(){hu&&(hu.detachEvent("onpropertychange",Oy),fc=hu=null)}function Oy(l){if(l.propertyName==="value"&&Hd(fc)){var u=[];lr(u,fc,l,Of(l)),og(Dy,u)}}function cS(l,u,g){l==="focusin"?(Ci(),hu=u,fc=g,hu.attachEvent("onpropertychange",Oy)):l==="focusout"&&Ci()}function Py(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Hd(fc)}function Vd(l,u){if(l==="click")return Hd(u)}function vl(l,u){if(l==="input"||l==="change")return Hd(u)}function Ly(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var cr=typeof Object.is=="function"?Object.is:Ly;function wa(l,u){if(cr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),v=Object.keys(u);if(g.length!==v.length)return!1;for(v=0;v<g.length;v++){var C=g[v];if(!ut.call(u,C)||!cr(l[C],u[C]))return!1}return!0}function ur(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function vg(l,u){var g=ur(l);l=0;for(var v;g;){if(g.nodeType===3){if(v=l+g.textContent.length,l<=u&&v>=u)return{node:g,offset:u-l};l=v}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ur(g)}}function bg(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?bg(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function wg(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Qr(l.document);u instanceof l.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)l=u.contentWindow;else break;u=Qr(l.document)}return u}function Gd(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Sg=Ya&&"documentMode"in document&&11>=document.documentMode,Ro=null,Vf=null,qd=null,Gf=!1;function Ag(l,u,g){var v=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Gf||Ro==null||Ro!==Qr(v)||(v=Ro,"selectionStart"in v&&Gd(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),qd&&wa(qd,v)||(qd=v,v=Rv(Vf,"onSelect"),0<v.length&&(u=new ou("onSelect","select",null,u,g),l.push({event:u,listeners:v}),u.target=Ro)))}function Ts(l,u){var g={};return g[l.toLowerCase()]=u.toLowerCase(),g["Webkit"+l]="webkit"+u,g["Moz"+l]="moz"+u,g}var bl={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},qf={},Iy={};Ya&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Bo(l){if(qf[l])return qf[l];if(!bl[l])return l;var u=bl[l],g;for(g in u)if(u.hasOwnProperty(g)&&g in Iy)return qf[l]=u[g];return l}var Ks=Bo("animationend"),_g=Bo("animationiteration"),dr=Bo("animationstart"),Uy=Bo("transitionrun"),Do=Bo("transitionstart"),mu=Bo("transitioncancel"),Oo=Bo("transitionend"),Wf=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function fs(l,u){Wf.set(l,u),ie(u,[l])}var Eg=new WeakMap;function Ns(l,u){if(typeof l=="object"&&l!==null){var g=Eg.get(l);return g!==void 0?g:(u={value:l,source:u,stack:Zn(u)},Eg.set(l,u),u)}return{value:l,source:u,stack:Zn(u)}}var Us=[],Zr=0,Xf=0;function Xd(){for(var l=Zr,u=Xf=Zr=0;u<l;){var g=Us[u];Us[u++]=null;var v=Us[u];Us[u++]=null;var C=Us[u];Us[u++]=null;var O=Us[u];if(Us[u++]=null,v!==null&&C!==null){var J=v.pending;J===null?C.next=C:(C.next=J.next,J.next=C),v.pending=C}O!==0&&Cg(g,C,O)}}function wl(l,u,g,v){Us[Zr++]=l,Us[Zr++]=u,Us[Zr++]=g,Us[Zr++]=v,Xf|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function Yf(l,u,g,v){return wl(l,u,g,v),gu(l)}function Po(l,u){return wl(l,null,null,u),gu(l)}function Cg(l,u,g){l.lanes|=g;var v=l.alternate;v!==null&&(v.lanes|=g);for(var C=!1,O=l.return;O!==null;)O.childLanes|=g,v=O.alternate,v!==null&&(v.childLanes|=g),O.tag===22&&(l=O.stateNode,l===null||l._visibility&1||(C=!0)),l=O,O=O.return;return l.tag===3?(O=l.stateNode,C&&u!==null&&(C=31-_t(g),l=O.hiddenUpdates,v=l[C],v===null?l[C]=[u]:v.push(u),u.lane=g|536870912),O):null}function gu(l){if(50<lo)throw lo=0,Rc=null,Error(i(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Sl={};function Mg(l,u,g,v){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(l,u,g,v){return new Mg(l,u,g,v)}function Yd(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Fi(l,u){var g=l.alternate;return g===null?(g=hr(l.tag,u,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Tg(l,u){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,u=g.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function ps(l,u,g,v,C,O){var J=0;if(v=l,typeof l=="function")Yd(l)&&(J=1);else if(typeof l=="string")J=OU(l,g,ce.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case D:return l=hr(31,g,u,C),l.elementType=D,l.lanes=O,l;case S:return Al(g.children,C,O,u);case _:J=8,C|=24;break;case E:return l=hr(12,g,u,C|2),l.elementType=E,l.lanes=O,l;case j:return l=hr(13,g,u,C),l.elementType=j,l.lanes=O,l;case R:return l=hr(19,g,u,C),l.elementType=R,l.lanes=O,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:case N:J=10;break e;case P:J=9;break e;case L:J=11;break e;case k:J=14;break e;case F:J=16,v=null;break e}J=29,g=Error(i(130,l===null?"null":typeof l,"")),v=null}return u=hr(J,g,u,C),u.elementType=l,u.type=v,u.lanes=O,u}function Al(l,u,g,v){return l=hr(7,l,v,u),l.lanes=g,l}function Kd(l,u,g){return l=hr(6,l,null,u),l.lanes=g,l}function Kf(l,u,g){return u=hr(4,l.children!==null?l.children:[],l.key,u),u.lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var xu=[],fr=0,Jd=null,yu=0,js=[],Tr=0,_l=null,Ka=1,Ja="";function Lo(l,u){xu[fr++]=yu,xu[fr++]=Jd,Jd=l,yu=u}function Jf(l,u,g){js[Tr++]=Ka,js[Tr++]=Ja,js[Tr++]=_l,_l=l;var v=Ka;l=Ja;var C=32-_t(v)-1;v&=~(1<<C),g+=1;var O=32-_t(u)+C;if(30<O){var J=C-C%5;O=(v&(1<<J)-1).toString(32),v>>=J,C-=J,Ka=1<<32-_t(u)+C|g<<C|v,Ja=O+l}else Ka=1<<O|g<<C|v,Ja=l}function Ng(l){l.return!==null&&(Lo(l,1),Jf(l,1,0))}function jg(l){for(;l===Jd;)Jd=xu[--fr],xu[fr]=null,yu=xu[--fr],xu[fr]=null;for(;l===_l;)_l=js[--Tr],js[Tr]=null,Ja=js[--Tr],js[Tr]=null,Ka=js[--Tr],js[Tr]=null}var Js=null,ji=null,Kn=!1,$r=null,Nr=!1,Qf=Error(i(519));function El(l){var u=Error(i(418,""));throw pc(Ns(u,l)),Qf}function ky(l){var u=l.stateNode,g=l.type,v=l.memoizedProps;switch(u[ot]=l,u[ft]=v,g){case"dialog":kn("cancel",u),kn("close",u);break;case"iframe":case"object":case"embed":kn("load",u);break;case"video":case"audio":for(g=0;g<o0.length;g++)kn(o0[g],u);break;case"source":kn("error",u);break;case"img":case"image":case"link":kn("error",u),kn("load",u);break;case"details":kn("toggle",u);break;case"input":kn("invalid",u),Is(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Bn(u);break;case"select":kn("invalid",u);break;case"textarea":kn("invalid",u),uc(u,v.value,v.defaultValue,v.children),Bn(u)}g=v.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||v.suppressHydrationWarning===!0||ZT(u.textContent,g)?(v.popover!=null&&(kn("beforetoggle",u),kn("toggle",u)),v.onScroll!=null&&kn("scroll",u),v.onScrollEnd!=null&&kn("scrollend",u),v.onClick!=null&&(u.onclick=Bv),u=!0):u=!1,u||El(l)}function Rg(l){for(Js=l.return;Js;)switch(Js.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Js=Js.return}}function Sa(l){if(l!==Js)return!1;if(!Kn)return Rg(l),Kn=!0,!1;var u=l.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||NS(l.type,l.memoizedProps)),g=!g),g&&ji&&El(l),Rg(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(u===0){ji=Jo(l.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++;l=l.nextSibling}ji=null}}else u===27?(u=ji,Vu(l.type)?(l=DS,DS=null,ji=l):ji=u):ji=Js?Jo(l.stateNode.nextSibling):null;return!0}function vu(){ji=Js=null,Kn=!1}function ti(){var l=$r;return l!==null&&(tn===null?tn=l:tn.push.apply(tn,l),$r=null),l}function pc(l){$r===null?$r=[l]:$r.push(l)}var Bg=X(null),Cl=null,Io=null;function Ml(l,u,g){oe(Bg,u._currentValue),u._currentValue=g}function Uo(l){l._currentValue=Bg.current,ee(Bg)}function Dg(l,u,g){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===g)break;l=l.return}}function Qd(l,u,g,v){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var O=C.dependencies;if(O!==null){var J=C.child;O=O.firstContext;e:for(;O!==null;){var ne=O;O=C;for(var pe=0;pe<u.length;pe++)if(ne.context===u[pe]){O.lanes|=g,ne=O.alternate,ne!==null&&(ne.lanes|=g),Dg(O.return,g,l),v||(J=null);break e}O=ne.next}}else if(C.tag===18){if(J=C.return,J===null)throw Error(i(341));J.lanes|=g,O=J.alternate,O!==null&&(O.lanes|=g),Dg(J,g,l),J=null}else J=C.child;if(J!==null)J.return=C;else for(J=C;J!==null;){if(J===l){J=null;break}if(C=J.sibling,C!==null){C.return=J.return,J=C;break}J=J.return}C=J}}function ea(l,u,g,v){l=null;for(var C=u,O=!1;C!==null;){if(!O){if((C.flags&524288)!==0)O=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var J=C.alternate;if(J===null)throw Error(i(387));if(J=J.memoizedProps,J!==null){var ne=C.type;cr(C.pendingProps.value,J.value)||(l!==null?l.push(ne):l=[ne])}}else if(C===ye.current){if(J=C.alternate,J===null)throw Error(i(387));J.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(f0):l=[f0])}C=C.return}l!==null&&Qd(u,l,g,v),u.flags|=262144}function Zd(l){for(l=l.firstContext;l!==null;){if(!cr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Qa(l){Cl=l,Io=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Di(l){return Zf(Cl,l)}function $d(l,u){return Cl===null&&Qa(l),Zf(l,u)}function Zf(l,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},Io===null){if(l===null)throw Error(i(308));Io=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Io=Io.next=u;return g}var Og=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(g,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(g){return g()})}},uS=n.unstable_scheduleCallback,Fy=n.unstable_NormalPriority,Xi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new Og,data:new Map,refCount:0}}function bu(l){l.refCount--,l.refCount===0&&uS(Fy,function(){l.controller.abort()})}var wu=null,eh=0,bn=0,Su=null;function jr(l,u){if(wu===null){var g=wu=[];eh=0,bn=bS(),Su={status:"pending",value:void 0,then:function(v){g.push(v)}}}return eh++,u.then(ep,ep),u}function ep(){if(--eh===0&&wu!==null){Su!==null&&(Su.status="fulfilled");var l=wu;wu=null,bn=0,Su=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function dS(l,u){var g=[],v={status:"pending",value:null,reason:null,then:function(C){g.push(C)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var C=0;C<g.length;C++)(0,g[C])(u)},function(C){for(v.status="rejected",v.reason=C,C=0;C<g.length;C++)(0,g[C])(void 0)}),v}var th=z.S;z.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&jr(l,u),th!==null&&th(l,u)};var ta=X(null);function Tl(){var l=ta.current;return l!==null?l:gn.pooledCache}function nh(l,u){u===null?oe(ta,ta.current):oe(ta,u.pool)}function tp(){var l=Tl();return l===null?null:{parent:Xi._currentValue,pool:l}}var ih=Error(i(460)),Pg=Error(i(474)),Aa=Error(i(542)),sh={then:function(){}};function np(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Au(){}function ip(l,u,g){switch(g=l[g],g===void 0?l.push(u):g!==u&&(u.then(Au,Au),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,zy(l),l;default:if(typeof u.status=="string")u.then(Au,Au);else{if(l=gn,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=v}},function(v){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,zy(l),l}throw na=u,ih}}var na=null;function Lg(){if(na===null)throw Error(i(459));var l=na;return na=null,l}function zy(l){if(l===ih||l===Aa)throw Error(i(483))}var ko=!1;function Ig(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cn(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Za(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Fo(l,u,g){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(ni&2)!==0){var C=v.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),v.pending=u,u=gu(l),Cg(l,null,g),u}return wl(l,v,u,g),gu(l)}function mc(l,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,Mt(l,g)}}function _u(l,u){var g=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,g===v)){var C=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var J={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};O===null?C=O=J:O=O.next=J,g=g.next}while(g!==null);O===null?C=O=u:O=O.next=u}else C=O=u;g={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}var Ug=!1;function rh(){if(Ug){var l=Su;if(l!==null)throw l}}function Eu(l,u,g,v){Ug=!1;var C=l.updateQueue;ko=!1;var O=C.firstBaseUpdate,J=C.lastBaseUpdate,ne=C.shared.pending;if(ne!==null){C.shared.pending=null;var pe=ne,Ie=pe.next;pe.next=null,J===null?O=Ie:J.next=Ie,J=pe;var it=l.alternate;it!==null&&(it=it.updateQueue,ne=it.lastBaseUpdate,ne!==J&&(ne===null?it.firstBaseUpdate=Ie:ne.next=Ie,it.lastBaseUpdate=pe))}if(O!==null){var lt=C.baseState;J=0,it=Ie=pe=null,ne=O;do{var ze=ne.lane&-536870913,Ge=ze!==ne.lane;if(Ge?($t&ze)===ze:(v&ze)===ze){ze!==0&&ze===bn&&(Ug=!0),it!==null&&(it=it.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var hn=l,on=ne;ze=u;var bi=g;switch(on.tag){case 1:if(hn=on.payload,typeof hn=="function"){lt=hn.call(bi,lt,ze);break e}lt=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=on.payload,ze=typeof hn=="function"?hn.call(bi,lt,ze):hn,ze==null)break e;lt=m({},lt,ze);break e;case 2:ko=!0}}ze=ne.callback,ze!==null&&(l.flags|=64,Ge&&(l.flags|=8192),Ge=C.callbacks,Ge===null?C.callbacks=[ze]:Ge.push(ze))}else Ge={lane:ze,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},it===null?(Ie=it=Ge,pe=lt):it=it.next=Ge,J|=ze;if(ne=ne.next,ne===null){if(ne=C.shared.pending,ne===null)break;Ge=ne,ne=Ge.next,Ge.next=null,C.lastBaseUpdate=Ge,C.shared.pending=null}}while(!0);it===null&&(pe=lt),C.baseState=pe,C.firstBaseUpdate=Ie,C.lastBaseUpdate=it,O===null&&(C.shared.lanes=0),Ra|=J,l.lanes=J,l.memoizedState=lt}}function Cu(l,u){if(typeof l!="function")throw Error(i(191,l));l.call(u)}function Hy(l,u){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Cu(g[l],u)}var Mu=X(null),sp=X(0);function Vy(l,u){l=la,oe(sp,l),oe(Mu,u),la=l|u.baseLanes}function kg(){oe(sp,la),oe(Mu,Mu.current)}function ah(){la=sp.current,ee(Mu),ee(sp)}var zo=0,wn=null,ai=null,Yi=null,rp=!1,Nl=!1,Qs=!1,ns=0,ia=0,Rs=null,Gy=0;function zi(){throw Error(i(321))}function ks(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!cr(l[g],u[g]))return!1;return!0}function Ho(l,u,g,v,C,O){return zo=O,wn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,z.H=l===null||l.memoizedState===null?pp:t0,Qs=!1,O=g(v,C),Qs=!1,Nl&&(O=Wy(u,g,v,C)),qy(l),O}function qy(l){z.H=ch;var u=ai!==null&&ai.next!==null;if(zo=0,Yi=ai=wn=null,rp=!1,ia=0,Rs=null,u)throw Error(i(300));l===null||ms||(l=l.dependencies,l!==null&&Zd(l)&&(ms=!0))}function Wy(l,u,g,v){wn=l;var C=0;do{if(Nl&&(Rs=null),ia=0,Nl=!1,25<=C)throw Error(i(301));if(C+=1,Yi=ai=null,l.updateQueue!=null){var O=l.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}z.H=yv,O=u(g,v)}while(Nl);return O}function hS(){var l=z.H,u=l.useState()[0];return u=typeof u.then=="function"?_a(u):u,l=l.useState()[0],(ai!==null?ai.memoizedState:null)!==l&&(wn.flags|=1024),u}function Fg(){var l=ns!==0;return ns=0,l}function ap(l,u,g){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~g}function zg(l){if(rp){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}rp=!1}zo=0,Yi=ai=wn=null,Nl=!1,ia=ns=0,Rs=null}function Zs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yi===null?wn.memoizedState=Yi=l:Yi=Yi.next=l,Yi}function Ki(){if(ai===null){var l=wn.alternate;l=l!==null?l.memoizedState:null}else l=ai.next;var u=Yi===null?wn.memoizedState:Yi.next;if(u!==null)Yi=u,ai=l;else{if(l===null)throw wn.alternate===null?Error(i(467)):Error(i(310));ai=l,l={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},Yi===null?wn.memoizedState=Yi=l:Yi=Yi.next=l}return Yi}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _a(l){var u=ia;return ia+=1,Rs===null&&(Rs=[]),l=ip(Rs,l,u),u=wn,(Yi===null?u.memoizedState:Yi.next)===null&&(u=u.alternate,z.H=u===null||u.memoizedState===null?pp:t0),l}function op(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return _a(l);if(l.$$typeof===N)return Di(l)}throw Error(i(438,String(l)))}function Hg(l){var u=null,g=wn.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var v=wn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=jl(),wn.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(l),v=0;v<l;v++)g[v]=B;return u.index++,g}function Vo(l,u){return typeof u=="function"?u(l):u}function Rl(l){var u=Ki();return Vg(u,ai,l)}function Vg(l,u,g){var v=l.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=g;var C=l.baseQueue,O=v.pending;if(O!==null){if(C!==null){var J=C.next;C.next=O.next,O.next=J}u.baseQueue=C=O,v.pending=null}if(O=l.baseState,C===null)l.memoizedState=O;else{u=C.next;var ne=J=null,pe=null,Ie=u,it=!1;do{var lt=Ie.lane&-536870913;if(lt!==Ie.lane?($t&lt)===lt:(zo&lt)===lt){var ze=Ie.revertLane;if(ze===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),lt===bn&&(it=!0);else if((zo&ze)===ze){Ie=Ie.next,ze===bn&&(it=!0);continue}else lt={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},pe===null?(ne=pe=lt,J=O):pe=pe.next=lt,wn.lanes|=ze,Ra|=ze;lt=Ie.action,Qs&&g(O,lt),O=Ie.hasEagerState?Ie.eagerState:g(O,lt)}else ze={lane:lt,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},pe===null?(ne=pe=ze,J=O):pe=pe.next=ze,wn.lanes|=lt,Ra|=lt;Ie=Ie.next}while(Ie!==null&&Ie!==u);if(pe===null?J=O:pe.next=ne,!cr(O,l.memoizedState)&&(ms=!0,it&&(g=Su,g!==null)))throw g;l.memoizedState=O,l.baseState=J,l.baseQueue=pe,v.lastRenderedState=O}return C===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Gg(l){var u=Ki(),g=u.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var v=g.dispatch,C=g.pending,O=u.memoizedState;if(C!==null){g.pending=null;var J=C=C.next;do O=l(O,J.action),J=J.next;while(J!==C);cr(O,u.memoizedState)||(ms=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),g.lastRenderedState=O}return[O,v]}function Xy(l,u,g){var v=wn,C=Ki(),O=Kn;if(O){if(g===void 0)throw Error(i(407));g=g()}else g=u();var J=!cr((ai||C).memoizedState,g);J&&(C.memoizedState=g,ms=!0),C=C.queue;var ne=Ky.bind(null,v,C,l);if(ju(2048,8,ne,[l]),C.getSnapshot!==u||J||Yi!==null&&Yi.memoizedState.tag&1){if(v.flags|=2048,Nu(9,oh(),Yy.bind(null,v,C,g,u),null),gn===null)throw Error(i(349));O||(zo&124)!==0||Tu(v,u,g)}return g}function Tu(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},u=wn.updateQueue,u===null?(u=jl(),wn.updateQueue=u,u.stores=[l]):(g=u.stores,g===null?u.stores=[l]:g.push(l))}function Yy(l,u,g,v){u.value=g,u.getSnapshot=v,Jy(u)&&Qy(l)}function Ky(l,u,g){return g(function(){Jy(u)&&Qy(l)})}function Jy(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!cr(l,g)}catch{return!0}}function Qy(l){var u=Po(l,2);u!==null&&tr(u,l,2)}function qg(l){var u=Zs();if(typeof l=="function"){var g=l;if(l=g(),Qs){He(!0);try{g()}finally{He(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:l},u}function Zy(l,u,g,v){return l.baseState=g,Vg(l,ai,typeof v=="function"?v:Vo)}function fS(l,u,g,v,C){if(fp(l))throw Error(i(485));if(l=u.action,l!==null){var O={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){O.listeners.push(J)}};z.T!==null?g(!0):O.isTransition=!1,v(O),g=u.pending,g===null?(O.next=u.pending=O,$y(u,O)):(O.next=g.next,u.pending=g.next=O)}}function $y(l,u){var g=u.action,v=u.payload,C=l.state;if(u.isTransition){var O=z.T,J={};z.T=J;try{var ne=g(C,v),pe=z.S;pe!==null&&pe(J,ne),ev(l,u,ne)}catch(Ie){Wg(l,u,Ie)}finally{z.T=O}}else try{O=g(C,v),ev(l,u,O)}catch(Ie){Wg(l,u,Ie)}}function ev(l,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(v){tv(l,u,v)},function(v){return Wg(l,u,v)}):tv(l,u,g)}function tv(l,u,g){u.status="fulfilled",u.value=g,nv(u),l.state=g,u=l.pending,u!==null&&(g=u.next,g===u?l.pending=null:(g=g.next,u.next=g,$y(l,g)))}function Wg(l,u,g){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=g,nv(u),u=u.next;while(u!==v)}l.action=null}function nv(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Xg(l,u){return u}function iv(l,u){if(Kn){var g=gn.formState;if(g!==null){e:{var v=wn;if(Kn){if(ji){t:{for(var C=ji,O=Nr;C.nodeType!==8;){if(!O){C=null;break t}if(C=Jo(C.nextSibling),C===null){C=null;break t}}O=C.data,C=O==="F!"||O==="F"?C:null}if(C){ji=Jo(C.nextSibling),v=C.data==="F!";break e}}El(v)}v=!1}v&&(u=g[0])}}return g=Zs(),g.memoizedState=g.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:u},g.queue=v,g=gv.bind(null,wn,v),v.dispatch=g,v=qg(!1),O=hp.bind(null,wn,!1,v.queue),v=Zs(),C={state:u,dispatch:null,action:l,pending:null},v.queue=C,g=fS.bind(null,wn,C,O,g),C.dispatch=g,v.memoizedState=l,[u,g,!1]}function sv(l){var u=Ki();return rv(u,ai,l)}function rv(l,u,g){if(u=Vg(l,u,Xg)[0],l=Rl(Vo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=_a(u)}catch(J){throw J===ih?Aa:J}else v=u;u=Ki();var C=u.queue,O=C.dispatch;return g!==u.memoizedState&&(wn.flags|=2048,Nu(9,oh(),pS.bind(null,C,g),null)),[v,O,l]}function pS(l,u){l.action=u}function av(l){var u=Ki(),g=ai;if(g!==null)return rv(u,g,l);Ki(),u=u.memoizedState,g=Ki();var v=g.queue.dispatch;return g.memoizedState=l,[u,v,!1]}function Nu(l,u,g,v){return l={tag:l,create:g,deps:v,inst:u,next:null},u=wn.updateQueue,u===null&&(u=jl(),wn.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=l.next=l:(v=g.next,g.next=l,l.next=v,u.lastEffect=l),l}function oh(){return{destroy:void 0,resource:void 0}}function Yg(){return Ki().memoizedState}function lp(l,u,g,v){var C=Zs();v=v===void 0?null:v,wn.flags|=l,C.memoizedState=Nu(1|u,oh(),g,v)}function ju(l,u,g,v){var C=Ki();v=v===void 0?null:v;var O=C.memoizedState.inst;ai!==null&&v!==null&&ks(v,ai.memoizedState.deps)?C.memoizedState=Nu(u,O,g,v):(wn.flags|=l,C.memoizedState=Nu(1|u,O,g,v))}function Kg(l,u){lp(8390656,8,l,u)}function Jg(l,u){ju(2048,8,l,u)}function cp(l,u){return ju(4,2,l,u)}function up(l,u){return ju(4,4,l,u)}function ov(l,u){if(typeof u=="function"){l=l();var g=u(l);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function lv(l,u,g){g=g!=null?g.concat([l]):null,ju(4,4,ov.bind(null,u,l),g)}function Qg(){}function cv(l,u){var g=Ki();u=u===void 0?null:u;var v=g.memoizedState;return u!==null&&ks(u,v[1])?v[0]:(g.memoizedState=[l,u],l)}function Zg(l,u){var g=Ki();u=u===void 0?null:u;var v=g.memoizedState;if(u!==null&&ks(u,v[1]))return v[0];if(v=l(),Qs){He(!0);try{l()}finally{He(!1)}}return g.memoizedState=[v,u],v}function dp(l,u,g){return g===void 0||(zo&1073741824)!==0?l.memoizedState=u:(l.memoizedState=g,l=Ep(),wn.lanes|=l,Ra|=l,g)}function uv(l,u,g,v){return cr(g,u)?g:Mu.current!==null?(l=dp(l,g,v),cr(l,u)||(ms=!0),l):(zo&42)===0?(ms=!0,l.memoizedState=g):(l=Ep(),wn.lanes|=l,Ra|=l,u)}function dv(l,u,g,v,C){var O=I.p;I.p=O!==0&&8>O?O:8;var J=z.T,ne={};z.T=ne,hp(l,!1,u,g);try{var pe=C(),Ie=z.S;if(Ie!==null&&Ie(ne,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var it=dS(pe,v);lh(l,u,it,Li(l))}else lh(l,u,v,Li(l))}catch(lt){lh(l,u,{then:function(){},status:"rejected",reason:lt},Li())}finally{I.p=O,z.T=J}}function mS(){}function $g(l,u,g,v){if(l.tag!==5)throw Error(i(476));var C=hv(l).queue;dv(l,C,u,Q,g===null?mS:function(){return fv(l),g(v)})}function hv(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:Q},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:g},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function fv(l){var u=hv(l).next.queue;lh(l,u,{},Li())}function e0(){return Di(f0)}function pv(){return Ki().memoizedState}function mv(){return Ki().memoizedState}function gS(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var g=Li();l=Za(g);var v=Fo(u,l,g);v!==null&&(tr(v,u,g),mc(v,u,g)),u={cache:$f()},l.payload=u;return}u=u.return}}function xS(l,u,g){var v=Li();g={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},fp(l)?xv(u,g):(g=Yf(l,u,g,v),g!==null&&(tr(g,l,v),Rr(g,u,v)))}function gv(l,u,g){var v=Li();lh(l,u,g,v)}function lh(l,u,g,v){var C={lane:v,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(fp(l))xv(u,C);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var J=u.lastRenderedState,ne=O(J,g);if(C.hasEagerState=!0,C.eagerState=ne,cr(ne,J))return wl(l,u,C,0),gn===null&&Xd(),!1}catch{}finally{}if(g=Yf(l,u,C,v),g!==null)return tr(g,l,v),Rr(g,u,v),!0}return!1}function hp(l,u,g,v){if(v={lane:2,revertLane:bS(),action:v,hasEagerState:!1,eagerState:null,next:null},fp(l)){if(u)throw Error(i(479))}else u=Yf(l,g,v,2),u!==null&&tr(u,l,2)}function fp(l){var u=l.alternate;return l===wn||u!==null&&u===wn}function xv(l,u){Nl=rp=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function Rr(l,u,g){if((g&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,g|=v,u.lanes=g,Mt(l,g)}}var ch={readContext:Di,use:op,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useLayoutEffect:zi,useInsertionEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useSyncExternalStore:zi,useId:zi,useHostTransitionStatus:zi,useFormState:zi,useActionState:zi,useOptimistic:zi,useMemoCache:zi,useCacheRefresh:zi},pp={readContext:Di,use:op,useCallback:function(l,u){return Zs().memoizedState=[l,u===void 0?null:u],l},useContext:Di,useEffect:Kg,useImperativeHandle:function(l,u,g){g=g!=null?g.concat([l]):null,lp(4194308,4,ov.bind(null,u,l),g)},useLayoutEffect:function(l,u){return lp(4194308,4,l,u)},useInsertionEffect:function(l,u){lp(4,2,l,u)},useMemo:function(l,u){var g=Zs();u=u===void 0?null:u;var v=l();if(Qs){He(!0);try{l()}finally{He(!1)}}return g.memoizedState=[v,u],v},useReducer:function(l,u,g){var v=Zs();if(g!==void 0){var C=g(u);if(Qs){He(!0);try{g(u)}finally{He(!1)}}}else C=u;return v.memoizedState=v.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},v.queue=l,l=l.dispatch=xS.bind(null,wn,l),[v.memoizedState,l]},useRef:function(l){var u=Zs();return l={current:l},u.memoizedState=l},useState:function(l){l=qg(l);var u=l.queue,g=gv.bind(null,wn,u);return u.dispatch=g,[l.memoizedState,g]},useDebugValue:Qg,useDeferredValue:function(l,u){var g=Zs();return dp(g,l,u)},useTransition:function(){var l=qg(!1);return l=dv.bind(null,wn,l.queue,!0,!1),Zs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,g){var v=wn,C=Zs();if(Kn){if(g===void 0)throw Error(i(407));g=g()}else{if(g=u(),gn===null)throw Error(i(349));($t&124)!==0||Tu(v,u,g)}C.memoizedState=g;var O={value:g,getSnapshot:u};return C.queue=O,Kg(Ky.bind(null,v,O,l),[l]),v.flags|=2048,Nu(9,oh(),Yy.bind(null,v,O,g,u),null),g},useId:function(){var l=Zs(),u=gn.identifierPrefix;if(Kn){var g=Ja,v=Ka;g=(v&~(1<<32-_t(v)-1)).toString(32)+g,u=""+u+"R"+g,g=ns++,0<g&&(u+="H"+g.toString(32)),u+=""}else g=Gy++,u=""+u+"r"+g.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:e0,useFormState:iv,useActionState:iv,useOptimistic:function(l){var u=Zs();u.memoizedState=u.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=hp.bind(null,wn,!0,g),g.dispatch=u,[l,u]},useMemoCache:Hg,useCacheRefresh:function(){return Zs().memoizedState=gS.bind(null,wn)}},t0={readContext:Di,use:op,useCallback:cv,useContext:Di,useEffect:Jg,useImperativeHandle:lv,useInsertionEffect:cp,useLayoutEffect:up,useMemo:Zg,useReducer:Rl,useRef:Yg,useState:function(){return Rl(Vo)},useDebugValue:Qg,useDeferredValue:function(l,u){var g=Ki();return uv(g,ai.memoizedState,l,u)},useTransition:function(){var l=Rl(Vo)[0],u=Ki().memoizedState;return[typeof l=="boolean"?l:_a(l),u]},useSyncExternalStore:Xy,useId:pv,useHostTransitionStatus:e0,useFormState:sv,useActionState:sv,useOptimistic:function(l,u){var g=Ki();return Zy(g,ai,l,u)},useMemoCache:Hg,useCacheRefresh:mv},yv={readContext:Di,use:op,useCallback:cv,useContext:Di,useEffect:Jg,useImperativeHandle:lv,useInsertionEffect:cp,useLayoutEffect:up,useMemo:Zg,useReducer:Gg,useRef:Yg,useState:function(){return Gg(Vo)},useDebugValue:Qg,useDeferredValue:function(l,u){var g=Ki();return ai===null?dp(g,l,u):uv(g,ai.memoizedState,l,u)},useTransition:function(){var l=Gg(Vo)[0],u=Ki().memoizedState;return[typeof l=="boolean"?l:_a(l),u]},useSyncExternalStore:Xy,useId:pv,useHostTransitionStatus:e0,useFormState:av,useActionState:av,useOptimistic:function(l,u){var g=Ki();return ai!==null?Zy(g,ai,l,u):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:Hg,useCacheRefresh:mv},gc=null,uh=0;function dh(l){var u=uh;return uh+=1,gc===null&&(gc=[]),ip(gc,l,u)}function Ru(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function mp(l,u){throw u.$$typeof===x?Error(i(525)):(l=Object.prototype.toString.call(u),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function vv(l){var u=l._init;return u(l._payload)}function bv(l){function u(Te,Se){if(l){var De=Te.deletions;De===null?(Te.deletions=[Se],Te.flags|=16):De.push(Se)}}function g(Te,Se){if(!l)return null;for(;Se!==null;)u(Te,Se),Se=Se.sibling;return null}function v(Te){for(var Se=new Map;Te!==null;)Te.key!==null?Se.set(Te.key,Te):Se.set(Te.index,Te),Te=Te.sibling;return Se}function C(Te,Se){return Te=Fi(Te,Se),Te.index=0,Te.sibling=null,Te}function O(Te,Se,De){return Te.index=De,l?(De=Te.alternate,De!==null?(De=De.index,De<Se?(Te.flags|=67108866,Se):De):(Te.flags|=67108866,Se)):(Te.flags|=1048576,Se)}function J(Te){return l&&Te.alternate===null&&(Te.flags|=67108866),Te}function ne(Te,Se,De,at){return Se===null||Se.tag!==6?(Se=Kd(De,Te.mode,at),Se.return=Te,Se):(Se=C(Se,De),Se.return=Te,Se)}function pe(Te,Se,De,at){var Wt=De.type;return Wt===S?it(Te,Se,De.props.children,at,De.key):Se!==null&&(Se.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===F&&vv(Wt)===Se.type)?(Se=C(Se,De.props),Ru(Se,De),Se.return=Te,Se):(Se=ps(De.type,De.key,De.props,null,Te.mode,at),Ru(Se,De),Se.return=Te,Se)}function Ie(Te,Se,De,at){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==De.containerInfo||Se.stateNode.implementation!==De.implementation?(Se=Kf(De,Te.mode,at),Se.return=Te,Se):(Se=C(Se,De.children||[]),Se.return=Te,Se)}function it(Te,Se,De,at,Wt){return Se===null||Se.tag!==7?(Se=Al(De,Te.mode,at,Wt),Se.return=Te,Se):(Se=C(Se,De),Se.return=Te,Se)}function lt(Te,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Kd(""+Se,Te.mode,De),Se.return=Te,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case y:return De=ps(Se.type,Se.key,Se.props,null,Te.mode,De),Ru(De,Se),De.return=Te,De;case b:return Se=Kf(Se,Te.mode,De),Se.return=Te,Se;case F:var at=Se._init;return Se=at(Se._payload),lt(Te,Se,De)}if($(Se)||Y(Se))return Se=Al(Se,Te.mode,De,null),Se.return=Te,Se;if(typeof Se.then=="function")return lt(Te,dh(Se),De);if(Se.$$typeof===N)return lt(Te,$d(Te,Se),De);mp(Te,Se)}return null}function ze(Te,Se,De,at){var Wt=Se!==null?Se.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Wt!==null?null:ne(Te,Se,""+De,at);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return De.key===Wt?pe(Te,Se,De,at):null;case b:return De.key===Wt?Ie(Te,Se,De,at):null;case F:return Wt=De._init,De=Wt(De._payload),ze(Te,Se,De,at)}if($(De)||Y(De))return Wt!==null?null:it(Te,Se,De,at,null);if(typeof De.then=="function")return ze(Te,Se,dh(De),at);if(De.$$typeof===N)return ze(Te,Se,$d(Te,De),at);mp(Te,De)}return null}function Ge(Te,Se,De,at,Wt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Te=Te.get(De)||null,ne(Se,Te,""+at,Wt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case y:return Te=Te.get(at.key===null?De:at.key)||null,pe(Se,Te,at,Wt);case b:return Te=Te.get(at.key===null?De:at.key)||null,Ie(Se,Te,at,Wt);case F:var In=at._init;return at=In(at._payload),Ge(Te,Se,De,at,Wt)}if($(at)||Y(at))return Te=Te.get(De)||null,it(Se,Te,at,Wt,null);if(typeof at.then=="function")return Ge(Te,Se,De,dh(at),Wt);if(at.$$typeof===N)return Ge(Te,Se,De,$d(Se,at),Wt);mp(Se,at)}return null}function hn(Te,Se,De,at){for(var Wt=null,In=null,Zt=Se,ln=Se=0,Hs=null;Zt!==null&&ln<De.length;ln++){Zt.index>ln?(Hs=Zt,Zt=null):Hs=Zt.sibling;var si=ze(Te,Zt,De[ln],at);if(si===null){Zt===null&&(Zt=Hs);break}l&&Zt&&si.alternate===null&&u(Te,Zt),Se=O(si,Se,ln),In===null?Wt=si:In.sibling=si,In=si,Zt=Hs}if(ln===De.length)return g(Te,Zt),Kn&&Lo(Te,ln),Wt;if(Zt===null){for(;ln<De.length;ln++)Zt=lt(Te,De[ln],at),Zt!==null&&(Se=O(Zt,Se,ln),In===null?Wt=Zt:In.sibling=Zt,In=Zt);return Kn&&Lo(Te,ln),Wt}for(Zt=v(Zt);ln<De.length;ln++)Hs=Ge(Zt,Te,ln,De[ln],at),Hs!==null&&(l&&Hs.alternate!==null&&Zt.delete(Hs.key===null?ln:Hs.key),Se=O(Hs,Se,ln),In===null?Wt=Hs:In.sibling=Hs,In=Hs);return l&&Zt.forEach(function(Yu){return u(Te,Yu)}),Kn&&Lo(Te,ln),Wt}function on(Te,Se,De,at){if(De==null)throw Error(i(151));for(var Wt=null,In=null,Zt=Se,ln=Se=0,Hs=null,si=De.next();Zt!==null&&!si.done;ln++,si=De.next()){Zt.index>ln?(Hs=Zt,Zt=null):Hs=Zt.sibling;var Yu=ze(Te,Zt,si.value,at);if(Yu===null){Zt===null&&(Zt=Hs);break}l&&Zt&&Yu.alternate===null&&u(Te,Zt),Se=O(Yu,Se,ln),In===null?Wt=Yu:In.sibling=Yu,In=Yu,Zt=Hs}if(si.done)return g(Te,Zt),Kn&&Lo(Te,ln),Wt;if(Zt===null){for(;!si.done;ln++,si=De.next())si=lt(Te,si.value,at),si!==null&&(Se=O(si,Se,ln),In===null?Wt=si:In.sibling=si,In=si);return Kn&&Lo(Te,ln),Wt}for(Zt=v(Zt);!si.done;ln++,si=De.next())si=Ge(Zt,Te,ln,si.value,at),si!==null&&(l&&si.alternate!==null&&Zt.delete(si.key===null?ln:si.key),Se=O(si,Se,ln),In===null?Wt=si:In.sibling=si,In=si);return l&&Zt.forEach(function(WU){return u(Te,WU)}),Kn&&Lo(Te,ln),Wt}function bi(Te,Se,De,at){if(typeof De=="object"&&De!==null&&De.type===S&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case y:e:{for(var Wt=De.key;Se!==null;){if(Se.key===Wt){if(Wt=De.type,Wt===S){if(Se.tag===7){g(Te,Se.sibling),at=C(Se,De.props.children),at.return=Te,Te=at;break e}}else if(Se.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===F&&vv(Wt)===Se.type){g(Te,Se.sibling),at=C(Se,De.props),Ru(at,De),at.return=Te,Te=at;break e}g(Te,Se);break}else u(Te,Se);Se=Se.sibling}De.type===S?(at=Al(De.props.children,Te.mode,at,De.key),at.return=Te,Te=at):(at=ps(De.type,De.key,De.props,null,Te.mode,at),Ru(at,De),at.return=Te,Te=at)}return J(Te);case b:e:{for(Wt=De.key;Se!==null;){if(Se.key===Wt)if(Se.tag===4&&Se.stateNode.containerInfo===De.containerInfo&&Se.stateNode.implementation===De.implementation){g(Te,Se.sibling),at=C(Se,De.children||[]),at.return=Te,Te=at;break e}else{g(Te,Se);break}else u(Te,Se);Se=Se.sibling}at=Kf(De,Te.mode,at),at.return=Te,Te=at}return J(Te);case F:return Wt=De._init,De=Wt(De._payload),bi(Te,Se,De,at)}if($(De))return hn(Te,Se,De,at);if(Y(De)){if(Wt=Y(De),typeof Wt!="function")throw Error(i(150));return De=Wt.call(De),on(Te,Se,De,at)}if(typeof De.then=="function")return bi(Te,Se,dh(De),at);if(De.$$typeof===N)return bi(Te,Se,$d(Te,De),at);mp(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Se!==null&&Se.tag===6?(g(Te,Se.sibling),at=C(Se,De),at.return=Te,Te=at):(g(Te,Se),at=Kd(De,Te.mode,at),at.return=Te,Te=at),J(Te)):g(Te,Se)}return function(Te,Se,De,at){try{uh=0;var Wt=bi(Te,Se,De,at);return gc=null,Wt}catch(Zt){if(Zt===ih||Zt===Aa)throw Zt;var In=hr(29,Zt,null,Te.mode);return In.lanes=at,In.return=Te,In}finally{}}}var xc=bv(!0),wv=bv(!1),di=X(null),Ea=null;function Bl(l){var u=l.alternate;oe(Hi,Hi.current&1),oe(di,l),Ea===null&&(u===null||Mu.current!==null||u.memoizedState!==null)&&(Ea=l)}function Sv(l){if(l.tag===22){if(oe(Hi,Hi.current),oe(di,l),Ea===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Ea=l)}}else Dl()}function Dl(){oe(Hi,Hi.current),oe(di,di.current)}function $a(l){ee(di),Ea===l&&(Ea=null),ee(Hi)}var Hi=X(0);function Go(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||BS(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Ol(l,u,g,v){u=l.memoizedState,g=g(v,u),g=g==null?u:m({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var $s={enqueueSetState:function(l,u,g){l=l._reactInternals;var v=Li(),C=Za(v);C.payload=u,g!=null&&(C.callback=g),u=Fo(l,C,v),u!==null&&(tr(u,l,v),mc(u,l,v))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var v=Li(),C=Za(v);C.tag=1,C.payload=u,g!=null&&(C.callback=g),u=Fo(l,C,v),u!==null&&(tr(u,l,v),mc(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=Li(),v=Za(g);v.tag=2,u!=null&&(v.callback=u),u=Fo(l,v,g),u!==null&&(tr(u,l,g),mc(u,l,g))}};function Av(l,u,g,v,C,O,J){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,O,J):u.prototype&&u.prototype.isPureReactComponent?!wa(g,v)||!wa(C,O):!0}function _v(l,u,g,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,v),u.state!==l&&$s.enqueueReplaceState(u,u.state,null)}function eo(l,u){var g=u;if("ref"in u){g={};for(var v in u)v!=="ref"&&(g[v]=u[v])}if(l=l.defaultProps){g===u&&(g=m({},g));for(var C in l)g[C]===void 0&&(g[C]=l[C])}return g}var yc=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function hh(l){yc(l)}function gp(l){console.error(l)}function Ev(l){yc(l)}function xp(l,u){try{var g=l.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function sa(l,u,g){try{var v=l.onCaughtError;v(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function yp(l,u,g){return g=Za(g),g.tag=3,g.payload={element:null},g.callback=function(){xp(l,u)},g}function Cv(l){return l=Za(l),l.tag=3,l}function vp(l,u,g,v){var C=g.type.getDerivedStateFromError;if(typeof C=="function"){var O=v.value;l.payload=function(){return C(O)},l.callback=function(){sa(u,g,v)}}var J=g.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(l.callback=function(){sa(u,g,v),typeof C!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var ne=v.stack;this.componentDidCatch(v.value,{componentStack:ne!==null?ne:""})})}function yS(l,u,g,v,C){if(g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=g.alternate,u!==null&&ea(u,g,C,!0),g=di.current,g!==null){switch(g.tag){case 13:return Ea===null?f():g.alternate===null&&_i===0&&(_i=3),g.flags&=-257,g.flags|=65536,g.lanes=C,v===sh?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([v]):u.add(v),qe(l,v,C)),!1;case 22:return g.flags|=65536,v===sh?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([v]):g.add(v)),qe(l,v,C)),!1}throw Error(i(435,g.tag))}return qe(l,v,C),f(),!1}if(Kn)return u=di.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,v!==Qf&&(l=Error(i(422),{cause:v}),pc(Ns(l,g)))):(v!==Qf&&(u=Error(i(423),{cause:v}),pc(Ns(u,g))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,v=Ns(v,g),C=yp(l.stateNode,v,C),_u(l,C),_i!==4&&(_i=2)),!1;var O=Error(i(520),{cause:v});if(O=Ns(O,g),ii===null?ii=[O]:ii.push(O),_i!==4&&(_i=2),u===null)return!0;v=Ns(v,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,l=C&-C,g.lanes|=l,l=yp(g.stateNode,v,l),_u(g,l),!1;case 1:if(u=g.type,O=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(kr===null||!kr.has(O))))return g.flags|=65536,C&=-C,g.lanes|=C,C=Cv(C),vp(C,l,g,v),_u(g,C),!1}g=g.return}while(g!==null);return!1}var Mv=Error(i(461)),ms=!1;function Vi(l,u,g,v){u.child=l===null?wv(u,null,g,v):xc(u,l.child,g,v)}function pr(l,u,g,v,C){g=g.render;var O=u.ref;if("ref"in v){var J={};for(var ne in v)ne!=="ref"&&(J[ne]=v[ne])}else J=v;return Qa(u),v=Ho(l,u,g,J,O,C),ne=Fg(),l!==null&&!ms?(ap(l,u,C),gs(l,u,C)):(Kn&&ne&&Ng(u),u.flags|=1,Vi(l,u,v,C),u.child)}function mr(l,u,g,v,C){if(l===null){var O=g.type;return typeof O=="function"&&!Yd(O)&&O.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=O,n0(l,u,O,v,C)):(l=ps(g.type,null,v,u,u.mode,C),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,!fh(l,C)){var J=O.memoizedProps;if(g=g.compare,g=g!==null?g:wa,g(J,v)&&l.ref===u.ref)return gs(l,u,C)}return u.flags|=1,l=Fi(O,v),l.ref=u.ref,l.return=u,u.child=l}function n0(l,u,g,v,C){if(l!==null){var O=l.memoizedProps;if(wa(O,v)&&l.ref===u.ref)if(ms=!1,u.pendingProps=v=O,fh(l,C))(l.flags&131072)!==0&&(ms=!0);else return u.lanes=l.lanes,gs(l,u,C)}return Bu(l,u,g,v,C)}function vc(l,u,g){var v=u.pendingProps,C=v.children,O=l!==null?l.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=O!==null?O.baseLanes|g:g,l!==null){for(C=u.child=l.child,O=0;C!==null;)O=O|C.lanes|C.childLanes,C=C.sibling;u.childLanes=O&~v}else u.childLanes=0,u.child=null;return bc(l,u,v,g)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&nh(u,O!==null?O.cachePool:null),O!==null?Vy(u,O):kg(),Sv(u);else return u.lanes=u.childLanes=536870912,bc(l,u,O!==null?O.baseLanes|g:g,g)}else O!==null?(nh(u,O.cachePool),Vy(u,O),Dl(),u.memoizedState=null):(l!==null&&nh(u,null),kg(),Dl());return Vi(l,u,C,g),u.child}function bc(l,u,g,v){var C=Tl();return C=C===null?null:{parent:Xi._currentValue,pool:C},u.memoizedState={baseLanes:g,cachePool:C},l!==null&&nh(u,null),kg(),Sv(u),l!==null&&ea(l,u,v,!0),null}function wc(l,u){var g=u.ref;if(g===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(u.flags|=4194816)}}function Bu(l,u,g,v,C){return Qa(u),g=Ho(l,u,g,v,void 0,C),v=Fg(),l!==null&&!ms?(ap(l,u,C),gs(l,u,C)):(Kn&&v&&Ng(u),u.flags|=1,Vi(l,u,g,C),u.child)}function Br(l,u,g,v,C,O){return Qa(u),u.updateQueue=null,g=Wy(u,v,g,C),qy(l),v=Fg(),l!==null&&!ms?(ap(l,u,O),gs(l,u,O)):(Kn&&v&&Ng(u),u.flags|=1,Vi(l,u,g,O),u.child)}function Dr(l,u,g,v,C){if(Qa(u),u.stateNode===null){var O=Sl,J=g.contextType;typeof J=="object"&&J!==null&&(O=Di(J)),O=new g(v,O),u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=$s,u.stateNode=O,O._reactInternals=u,O=u.stateNode,O.props=v,O.state=u.memoizedState,O.refs={},Ig(u),J=g.contextType,O.context=typeof J=="object"&&J!==null?Di(J):Sl,O.state=u.memoizedState,J=g.getDerivedStateFromProps,typeof J=="function"&&(Ol(u,g,J,v),O.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(J=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),J!==O.state&&$s.enqueueReplaceState(O,O.state,null),Eu(u,v,O,C),rh(),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){O=u.stateNode;var ne=u.memoizedProps,pe=eo(g,ne);O.props=pe;var Ie=O.context,it=g.contextType;J=Sl,typeof it=="object"&&it!==null&&(J=Di(it));var lt=g.getDerivedStateFromProps;it=typeof lt=="function"||typeof O.getSnapshotBeforeUpdate=="function",ne=u.pendingProps!==ne,it||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ne||Ie!==J)&&_v(u,O,v,J),ko=!1;var ze=u.memoizedState;O.state=ze,Eu(u,v,O,C),rh(),Ie=u.memoizedState,ne||ze!==Ie||ko?(typeof lt=="function"&&(Ol(u,g,lt,v),Ie=u.memoizedState),(pe=ko||Av(u,g,pe,v,ze,Ie,J))?(it||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Ie),O.props=v,O.state=Ie,O.context=J,v=pe):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{O=u.stateNode,cn(l,u),J=u.memoizedProps,it=eo(g,J),O.props=it,lt=u.pendingProps,ze=O.context,Ie=g.contextType,pe=Sl,typeof Ie=="object"&&Ie!==null&&(pe=Di(Ie)),ne=g.getDerivedStateFromProps,(Ie=typeof ne=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(J!==lt||ze!==pe)&&_v(u,O,v,pe),ko=!1,ze=u.memoizedState,O.state=ze,Eu(u,v,O,C),rh();var Ge=u.memoizedState;J!==lt||ze!==Ge||ko||l!==null&&l.dependencies!==null&&Zd(l.dependencies)?(typeof ne=="function"&&(Ol(u,g,ne,v),Ge=u.memoizedState),(it=ko||Av(u,g,it,v,ze,Ge,pe)||l!==null&&l.dependencies!==null&&Zd(l.dependencies))?(Ie||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,Ge,pe),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,Ge,pe)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ge),O.props=v,O.state=Ge,O.context=pe,v=it):(typeof O.componentDidUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=1024),v=!1)}return O=v,wc(l,u),v=(u.flags&128)!==0,O||v?(O=u.stateNode,g=v&&typeof g.getDerivedStateFromError!="function"?null:O.render(),u.flags|=1,l!==null&&v?(u.child=xc(u,l.child,null,C),u.child=xc(u,null,g,C)):Vi(l,u,g,C),u.memoizedState=O.state,l=u.child):l=gs(l,u,C),l}function Pl(l,u,g,v){return vu(),u.flags|=256,Vi(l,u,g,v),u.child}var Ca={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ma(l){return{baseLanes:l,cachePool:tp()}}function is(l,u,g){return l=l!==null?l.childLanes&~g:0,u&&(l|=ca),l}function Du(l,u,g){var v=u.pendingProps,C=!1,O=(u.flags&128)!==0,J;if((J=O)||(J=l!==null&&l.memoizedState===null?!1:(Hi.current&2)!==0),J&&(C=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,l===null){if(Kn){if(C?Bl(u):Dl(),Kn){var ne=ji,pe;if(pe=ne){e:{for(pe=ne,ne=Nr;pe.nodeType!==8;){if(!ne){ne=null;break e}if(pe=Jo(pe.nextSibling),pe===null){ne=null;break e}}ne=pe}ne!==null?(u.memoizedState={dehydrated:ne,treeContext:_l!==null?{id:Ka,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},pe=hr(18,null,null,0),pe.stateNode=ne,pe.return=u,u.child=pe,Js=u,ji=null,pe=!0):pe=!1}pe||El(u)}if(ne=u.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return BS(ne)?u.lanes=32:u.lanes=536870912,null;$a(u)}return ne=v.children,v=v.fallback,C?(Dl(),C=u.mode,ne=Sc({mode:"hidden",children:ne},C),v=Al(v,C,g,null),ne.return=u,v.return=u,ne.sibling=v,u.child=ne,C=u.child,C.memoizedState=Ma(g),C.childLanes=is(l,J,g),u.memoizedState=Ca,v):(Bl(u),to(u,ne))}if(pe=l.memoizedState,pe!==null&&(ne=pe.dehydrated,ne!==null)){if(O)u.flags&256?(Bl(u),u.flags&=-257,u=Bs(l,u,g)):u.memoizedState!==null?(Dl(),u.child=l.child,u.flags|=128,u=null):(Dl(),C=v.fallback,ne=u.mode,v=Sc({mode:"visible",children:v.children},ne),C=Al(C,ne,g,null),C.flags|=2,v.return=u,C.return=u,v.sibling=C,u.child=v,xc(u,l.child,null,g),v=u.child,v.memoizedState=Ma(g),v.childLanes=is(l,J,g),u.memoizedState=Ca,u=C);else if(Bl(u),BS(ne)){if(J=ne.nextSibling&&ne.nextSibling.dataset,J)var Ie=J.dgst;J=Ie,v=Error(i(419)),v.stack="",v.digest=J,pc({value:v,source:null,stack:null}),u=Bs(l,u,g)}else if(ms||ea(l,u,g,!1),J=(g&l.childLanes)!==0,ms||J){if(J=gn,J!==null&&(v=g&-g,v=(v&42)!==0?1:Gt(v),v=(v&(J.suspendedLanes|g))!==0?0:v,v!==0&&v!==pe.retryLane))throw pe.retryLane=v,Po(l,v),tr(J,l,v),Mv;ne.data==="$?"||f(),u=Bs(l,u,g)}else ne.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=pe.treeContext,ji=Jo(ne.nextSibling),Js=u,Kn=!0,$r=null,Nr=!1,l!==null&&(js[Tr++]=Ka,js[Tr++]=Ja,js[Tr++]=_l,Ka=l.id,Ja=l.overflow,_l=u),u=to(u,v.children),u.flags|=4096);return u}return C?(Dl(),C=v.fallback,ne=u.mode,pe=l.child,Ie=pe.sibling,v=Fi(pe,{mode:"hidden",children:v.children}),v.subtreeFlags=pe.subtreeFlags&65011712,Ie!==null?C=Fi(Ie,C):(C=Al(C,ne,g,null),C.flags|=2),C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,ne=l.child.memoizedState,ne===null?ne=Ma(g):(pe=ne.cachePool,pe!==null?(Ie=Xi._currentValue,pe=pe.parent!==Ie?{parent:Ie,pool:Ie}:pe):pe=tp(),ne={baseLanes:ne.baseLanes|g,cachePool:pe}),C.memoizedState=ne,C.childLanes=is(l,J,g),u.memoizedState=Ca,v):(Bl(u),g=l.child,l=g.sibling,g=Fi(g,{mode:"visible",children:v.children}),g.return=u,g.sibling=null,l!==null&&(J=u.deletions,J===null?(u.deletions=[l],u.flags|=16):J.push(l)),u.child=g,u.memoizedState=null,g)}function to(l,u){return u=Sc({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Sc(l,u){return l=hr(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Bs(l,u,g){return xc(u,l.child,null,g),l=to(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Ds(l,u,g){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Dg(l.return,u,g)}function zn(l,u,g,v,C){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:g,tailMode:C}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=v,O.tail=g,O.tailMode=C)}function ra(l,u,g){var v=u.pendingProps,C=v.revealOrder,O=v.tail;if(Vi(l,u,v.children,g),v=Hi.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Ds(l,g,u);else if(l.tag===19)Ds(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}switch(oe(Hi,v),C){case"forwards":for(g=u.child,C=null;g!==null;)l=g.alternate,l!==null&&Go(l)===null&&(C=g),g=g.sibling;g=C,g===null?(C=u.child,u.child=null):(C=g.sibling,g.sibling=null),zn(u,!1,C,g,O);break;case"backwards":for(g=null,C=u.child,u.child=null;C!==null;){if(l=C.alternate,l!==null&&Go(l)===null){u.child=C;break}l=C.sibling,C.sibling=g,g=C,C=l}zn(u,!0,g,null,O);break;case"together":zn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function gs(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),Ra|=u.lanes,(g&u.childLanes)===0)if(l!==null){if(ea(l,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(i(153));if(u.child!==null){for(l=u.child,g=Fi(l,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,g=g.sibling=Fi(l,l.pendingProps),g.return=u;g.sibling=null}return u.child}function fh(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Zd(l)))}function aa(l,u,g){switch(u.tag){case 3:Ve(u,u.stateNode.containerInfo),Ml(u,Xi,l.memoizedState.cache),vu();break;case 27:case 5:We(u);break;case 4:Ve(u,u.stateNode.containerInfo);break;case 10:Ml(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Bl(u),u.flags|=128,null):(g&u.child.childLanes)!==0?Du(l,u,g):(Bl(u),l=gs(l,u,g),l!==null?l.sibling:null);Bl(u);break;case 19:var C=(l.flags&128)!==0;if(v=(g&u.childLanes)!==0,v||(ea(l,u,g,!1),v=(g&u.childLanes)!==0),C){if(v)return ra(l,u,g);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),oe(Hi,Hi.current),v)break;return null;case 22:case 23:return u.lanes=0,vc(l,u,g);case 24:Ml(u,Xi,l.memoizedState.cache)}return gs(l,u,g)}function Ac(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps)ms=!0;else{if(!fh(l,g)&&(u.flags&128)===0)return ms=!1,aa(l,u,g);ms=(l.flags&131072)!==0}else ms=!1,Kn&&(u.flags&1048576)!==0&&Jf(u,yu,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var v=u.elementType,C=v._init;if(v=C(v._payload),u.type=v,typeof v=="function")Yd(v)?(l=eo(v,l),u.tag=1,u=Dr(null,u,v,l,g)):(u.tag=0,u=Bu(null,u,v,l,g));else{if(v!=null){if(C=v.$$typeof,C===L){u.tag=11,u=pr(null,u,v,l,g);break e}else if(C===k){u.tag=14,u=mr(null,u,v,l,g);break e}}throw u=W(v)||v,Error(i(306,u,""))}}return u;case 0:return Bu(l,u,u.type,u.pendingProps,g);case 1:return v=u.type,C=eo(v,u.pendingProps),Dr(l,u,v,C,g);case 3:e:{if(Ve(u,u.stateNode.containerInfo),l===null)throw Error(i(387));v=u.pendingProps;var O=u.memoizedState;C=O.element,cn(l,u),Eu(u,v,null,g);var J=u.memoizedState;if(v=J.cache,Ml(u,Xi,v),v!==O.cache&&Qd(u,[Xi],g,!0),rh(),v=J.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){u=Pl(l,u,v,g);break e}else if(v!==C){C=Ns(Error(i(424)),u),pc(C),u=Pl(l,u,v,g);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(ji=Jo(l.firstChild),Js=u,Kn=!0,$r=null,Nr=!0,g=wv(u,null,v,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(vu(),v===C){u=gs(l,u,g);break e}Vi(l,u,v,g)}u=u.child}return u;case 26:return wc(l,u),l===null?(g=lN(u.type,null,u.pendingProps,null))?u.memoizedState=g:Kn||(g=u.type,l=u.pendingProps,v=Dv(ue.current).createElement(g),v[ot]=u,v[ft]=l,nr(v,g,l),mn(v),u.stateNode=v):u.memoizedState=lN(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return We(u),l===null&&Kn&&(v=u.stateNode=rN(u.type,u.pendingProps,ue.current),Js=u,Nr=!0,C=ji,Vu(u.type)?(DS=C,ji=Jo(v.firstChild)):ji=C),Vi(l,u,u.pendingProps.children,g),wc(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Kn&&((C=v=ji)&&(v=wU(v,u.type,u.pendingProps,Nr),v!==null?(u.stateNode=v,Js=u,ji=Jo(v.firstChild),Nr=!1,C=!0):C=!1),C||El(u)),We(u),C=u.type,O=u.pendingProps,J=l!==null?l.memoizedProps:null,v=O.children,NS(C,O)?v=null:J!==null&&NS(C,J)&&(u.flags|=32),u.memoizedState!==null&&(C=Ho(l,u,hS,null,null,g),f0._currentValue=C),wc(l,u),Vi(l,u,v,g),u.child;case 6:return l===null&&Kn&&((l=g=ji)&&(g=SU(g,u.pendingProps,Nr),g!==null?(u.stateNode=g,Js=u,ji=null,l=!0):l=!1),l||El(u)),null;case 13:return Du(l,u,g);case 4:return Ve(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=xc(u,null,v,g):Vi(l,u,v,g),u.child;case 11:return pr(l,u,u.type,u.pendingProps,g);case 7:return Vi(l,u,u.pendingProps,g),u.child;case 8:return Vi(l,u,u.pendingProps.children,g),u.child;case 12:return Vi(l,u,u.pendingProps.children,g),u.child;case 10:return v=u.pendingProps,Ml(u,u.type,v.value),Vi(l,u,v.children,g),u.child;case 9:return C=u.type._context,v=u.pendingProps.children,Qa(u),C=Di(C),v=v(C),u.flags|=1,Vi(l,u,v,g),u.child;case 14:return mr(l,u,u.type,u.pendingProps,g);case 15:return n0(l,u,u.type,u.pendingProps,g);case 19:return ra(l,u,g);case 31:return v=u.pendingProps,g=u.mode,v={mode:v.mode,children:v.children},l===null?(g=Sc(v,g),g.ref=u.ref,u.child=g,g.return=u,u=g):(g=Fi(l.child,v),g.ref=u.ref,u.child=g,g.return=u,u=g),u;case 22:return vc(l,u,g);case 24:return Qa(u),v=Di(Xi),l===null?(C=Tl(),C===null&&(C=gn,O=$f(),C.pooledCache=O,O.refCount++,O!==null&&(C.pooledCacheLanes|=g),C=O),u.memoizedState={parent:v,cache:C},Ig(u),Ml(u,Xi,C)):((l.lanes&g)!==0&&(cn(l,u),Eu(u,null,null,g),rh()),C=l.memoizedState,O=u.memoizedState,C.parent!==v?(C={parent:v,cache:v},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),Ml(u,Xi,v)):(v=O.cache,Ml(u,Xi,v),v!==C.cache&&Qd(u,[Xi],g,!0))),Vi(l,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Ta(l){l.flags|=4}function ph(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!fN(u)){if(u=di.current,u!==null&&(($t&4194048)===$t?Ea!==null:($t&62914560)!==$t&&($t&536870912)===0||u!==Ea))throw na=sh,Pg;l.flags|=8192}}function qo(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?rt():536870912,l.lanes|=u,Gn|=u)}function _c(l,u){if(!Kn)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var v=null;g!==null;)g.alternate!==null&&(v=g),g=g.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function gi(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,v=0;if(u)for(var C=l.child;C!==null;)g|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)g|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=v,l.childLanes=g,u}function i0(l,u,g){var v=u.pendingProps;switch(jg(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(u),null;case 1:return gi(u),null;case 3:return g=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Uo(Xi),Qe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Sa(u)?Ta(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ti())),gi(u),null;case 26:return g=u.memoizedState,l===null?(Ta(u),g!==null?(gi(u),ph(u,g)):(gi(u),u.flags&=-16777217)):g?g!==l.memoizedState?(Ta(u),gi(u),ph(u,g)):(gi(u),u.flags&=-16777217):(l.memoizedProps!==v&&Ta(u),gi(u),u.flags&=-16777217),null;case 27:mt(u),g=ue.current;var C=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Ta(u);else{if(!v){if(u.stateNode===null)throw Error(i(166));return gi(u),null}l=ce.current,Sa(u)?ky(u):(l=rN(C,v,g),u.stateNode=l,Ta(u))}return gi(u),null;case 5:if(mt(u),g=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Ta(u);else{if(!v){if(u.stateNode===null)throw Error(i(166));return gi(u),null}if(l=ce.current,Sa(u))ky(u);else{switch(C=Dv(ue.current),l){case 1:l=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=C.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof v.is=="string"?C.createElement("select",{is:v.is}):C.createElement("select"),v.multiple?l.multiple=!0:v.size&&(l.size=v.size);break;default:l=typeof v.is=="string"?C.createElement(g,{is:v.is}):C.createElement(g)}}l[ot]=u,l[ft]=v;e:for(C=u.child;C!==null;){if(C.tag===5||C.tag===6)l.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===u)break e;for(;C.sibling===null;){if(C.return===null||C.return===u)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}u.stateNode=l;e:switch(nr(l,g,v),g){case"button":case"input":case"select":case"textarea":l=!!v.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ta(u)}}return gi(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&Ta(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(i(166));if(l=ue.current,Sa(u)){if(l=u.stateNode,g=u.memoizedProps,v=null,C=Js,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}l[ot]=u,l=!!(l.nodeValue===g||v!==null&&v.suppressHydrationWarning===!0||ZT(l.nodeValue,g)),l||El(u)}else l=Dv(l).createTextNode(v),l[ot]=u,u.stateNode=l}return gi(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=Sa(u),v!==null&&v.dehydrated!==null){if(l===null){if(!C)throw Error(i(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[ot]=u}else vu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gi(u),C=!1}else C=ti(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?($a(u),u):($a(u),null)}if($a(u),(u.flags&128)!==0)return u.lanes=g,u;if(g=v!==null,l=l!==null&&l.memoizedState!==null,g){v=u.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool);var O=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==C&&(v.flags|=2048)}return g!==l&&g&&(u.child.flags|=8192),qo(u,u.updateQueue),gi(u),null;case 4:return Qe(),l===null&&_S(u.stateNode.containerInfo),gi(u),null;case 10:return Uo(u.type),gi(u),null;case 19:if(ee(Hi),C=u.memoizedState,C===null)return gi(u),null;if(v=(u.flags&128)!==0,O=C.rendering,O===null)if(v)_c(C,!1);else{if(_i!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(O=Go(l),O!==null){for(u.flags|=128,_c(C,!1),l=O.updateQueue,u.updateQueue=l,qo(u,l),u.subtreeFlags=0,l=g,g=u.child;g!==null;)Tg(g,l),g=g.sibling;return oe(Hi,Hi.current&1|2),u.child}l=l.sibling}C.tail!==null&&ge()>Fs&&(u.flags|=128,v=!0,_c(C,!1),u.lanes=4194304)}else{if(!v)if(l=Go(O),l!==null){if(u.flags|=128,v=!0,l=l.updateQueue,u.updateQueue=l,qo(u,l),_c(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!Kn)return gi(u),null}else 2*ge()-C.renderingStartTime>Fs&&g!==536870912&&(u.flags|=128,v=!0,_c(C,!1),u.lanes=4194304);C.isBackwards?(O.sibling=u.child,u.child=O):(l=C.last,l!==null?l.sibling=O:u.child=O,C.last=O)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=ge(),u.sibling=null,l=Hi.current,oe(Hi,v?l&1|2:l&1),u):(gi(u),null);case 22:case 23:return $a(u),ah(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(g&536870912)!==0&&(u.flags&128)===0&&(gi(u),u.subtreeFlags&6&&(u.flags|=8192)):gi(u),g=u.updateQueue,g!==null&&qo(u,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048),l!==null&&ee(ta),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Uo(Xi),gi(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function Ou(l,u){switch(jg(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Uo(Xi),Qe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return mt(u),null;case 13:if($a(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(i(340));vu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ee(Hi),null;case 4:return Qe(),null;case 10:return Uo(u.type),null;case 22:case 23:return $a(u),ah(),l!==null&&ee(ta),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Uo(Xi),null;case 25:return null;default:return null}}function Pu(l,u){switch(jg(u),u.tag){case 3:Uo(Xi),Qe();break;case 26:case 27:case 5:mt(u);break;case 4:Qe();break;case 13:$a(u);break;case 19:ee(Hi);break;case 10:Uo(u.type);break;case 22:case 23:$a(u),ah(),l!==null&&ee(ta);break;case 24:Uo(Xi)}}function Ec(l,u){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var C=v.next;g=C;do{if((g.tag&l)===l){v=void 0;var O=g.create,J=g.inst;v=O(),J.destroy=v}g=g.next}while(g!==C)}}catch(ne){be(u,u.return,ne)}}function Or(l,u,g){try{var v=u.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var O=C.next;v=O;do{if((v.tag&l)===l){var J=v.inst,ne=J.destroy;if(ne!==void 0){J.destroy=void 0,C=u;var pe=g,Ie=ne;try{Ie()}catch(it){be(C,pe,it)}}}v=v.next}while(v!==O)}}catch(it){be(u,u.return,it)}}function Cc(l){var u=l.updateQueue;if(u!==null){var g=l.stateNode;try{Hy(u,g)}catch(v){be(l,l.return,v)}}}function Wo(l,u,g){g.props=eo(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(v){be(l,u,v)}}function Mc(l,u){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof g=="function"?l.refCleanup=g(v):g.current=v}}catch(C){be(l,u,C)}}function no(l,u){var g=l.ref,v=l.refCleanup;if(g!==null)if(typeof v=="function")try{v()}catch(C){be(l,u,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(C){be(l,u,C)}else g.current=null}function Lu(l){var u=l.type,g=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&v.focus();break e;case"img":g.src?v.src=g.src:g.srcSet&&(v.srcset=g.srcSet)}}catch(C){be(l,l.return,C)}}function mh(l,u,g){try{var v=l.stateNode;gU(v,l.type,g,u),v[ft]=u}catch(C){be(l,l.return,C)}}function gh(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Vu(l.type)||l.tag===4}function Ll(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||gh(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Vu(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Il(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(l),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Bv));else if(v!==4&&(v===27&&Vu(l.type)&&(g=l.stateNode,u=null),l=l.child,l!==null))for(Il(l,u,g),l=l.sibling;l!==null;)Il(l,u,g),l=l.sibling}function Ul(l,u,g){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?g.insertBefore(l,u):g.appendChild(l);else if(v!==4&&(v===27&&Vu(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(Ul(l,u,g),l=l.sibling;l!==null;)Ul(l,u,g),l=l.sibling}function kl(l){var u=l.stateNode,g=l.memoizedProps;try{for(var v=l.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);nr(u,v,g),u[ot]=l,u[ft]=g}catch(O){be(l,l.return,O)}}var io=!1,xi=!1,Iu=!1,Pr=typeof WeakSet=="function"?WeakSet:Set,hi=null;function ss(l,u){if(l=l.containerInfo,MS=kv,l=wg(l),Gd(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var v=g.getSelection&&g.getSelection();if(v&&v.rangeCount!==0){g=v.anchorNode;var C=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var J=0,ne=-1,pe=-1,Ie=0,it=0,lt=l,ze=null;t:for(;;){for(var Ge;lt!==g||C!==0&&lt.nodeType!==3||(ne=J+C),lt!==O||v!==0&&lt.nodeType!==3||(pe=J+v),lt.nodeType===3&&(J+=lt.nodeValue.length),(Ge=lt.firstChild)!==null;)ze=lt,lt=Ge;for(;;){if(lt===l)break t;if(ze===g&&++Ie===C&&(ne=J),ze===O&&++it===v&&(pe=J),(Ge=lt.nextSibling)!==null)break;lt=ze,ze=lt.parentNode}lt=Ge}g=ne===-1||pe===-1?null:{start:ne,end:pe}}else g=null}g=g||{start:0,end:0}}else g=null;for(TS={focusedElem:l,selectionRange:g},kv=!1,hi=u;hi!==null;)if(u=hi,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,hi=l;else for(;hi!==null;){switch(u=hi,O=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&O!==null){l=void 0,g=u,C=O.memoizedProps,O=O.memoizedState,v=g.stateNode;try{var hn=eo(g.type,C,g.elementType===g.type);l=v.getSnapshotBeforeUpdate(hn,O),v.__reactInternalSnapshotBeforeUpdate=l}catch(on){be(g,g.return,on)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,g=l.nodeType,g===9)RS(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":RS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=u.sibling,l!==null){l.return=u.return,hi=l;break}hi=u.return}}function Xo(l,u,g){var v=g.flags;switch(g.tag){case 0:case 11:case 15:er(l,g),v&4&&Ec(5,g);break;case 1:if(er(l,g),v&4)if(l=g.stateNode,u===null)try{l.componentDidMount()}catch(J){be(g,g.return,J)}else{var C=eo(g.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(C,u,l.__reactInternalSnapshotBeforeUpdate)}catch(J){be(g,g.return,J)}}v&64&&Cc(g),v&512&&Mc(g,g.return);break;case 3:if(er(l,g),v&64&&(l=g.updateQueue,l!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{Hy(l,u)}catch(J){be(g,g.return,J)}}break;case 27:u===null&&v&4&&kl(g);case 26:case 5:er(l,g),u===null&&v&4&&Lu(g),v&512&&Mc(g,g.return);break;case 12:er(l,g);break;case 13:er(l,g),v&4&&Fl(l,g),v&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=Ei.bind(null,g),AU(l,g))));break;case 22:if(v=g.memoizedState!==null||io,!v){u=u!==null&&u.memoizedState!==null||xi,C=io;var O=xi;io=v,(xi=u)&&!O?so(l,g,(g.subtreeFlags&8772)!==0):er(l,g),io=C,xi=O}break;case 30:break;default:er(l,g)}}function En(l){var u=l.alternate;u!==null&&(l.alternate=null,En(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Et(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var en=null,Vn=!1;function oa(l,u,g){for(g=g.child;g!==null;)Tc(l,u,g),g=g.sibling}function Tc(l,u,g){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Oe,g)}catch{}switch(g.tag){case 26:xi||no(g,u),oa(l,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:xi||no(g,u);var v=en,C=Vn;Vu(g.type)&&(en=g.stateNode,Vn=!1),oa(l,u,g),c0(g.stateNode),en=v,Vn=C;break;case 5:xi||no(g,u);case 6:if(v=en,C=Vn,en=null,oa(l,u,g),en=v,Vn=C,en!==null)if(Vn)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(g.stateNode)}catch(O){be(g,u,O)}else try{en.removeChild(g.stateNode)}catch(O){be(g,u,O)}break;case 18:en!==null&&(Vn?(l=en,iN(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),x0(l)):iN(en,g.stateNode));break;case 4:v=en,C=Vn,en=g.stateNode.containerInfo,Vn=!0,oa(l,u,g),en=v,Vn=C;break;case 0:case 11:case 14:case 15:xi||Or(2,g,u),xi||Or(4,g,u),oa(l,u,g);break;case 1:xi||(no(g,u),v=g.stateNode,typeof v.componentWillUnmount=="function"&&Wo(g,u,v)),oa(l,u,g);break;case 21:oa(l,u,g);break;case 22:xi=(v=xi)||g.memoizedState!==null,oa(l,u,g),xi=v;break;default:oa(l,u,g)}}function Fl(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{x0(l)}catch(g){be(u,u.return,g)}}function bp(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Pr),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Pr),u;default:throw Error(i(435,l.tag))}}function Nc(l,u){var g=bp(l);u.forEach(function(v){var C=un.bind(null,l,v);g.has(v)||(g.add(v),v.then(C,C))})}function xs(l,u){var g=u.deletions;if(g!==null)for(var v=0;v<g.length;v++){var C=g[v],O=l,J=u,ne=J;e:for(;ne!==null;){switch(ne.tag){case 27:if(Vu(ne.type)){en=ne.stateNode,Vn=!1;break e}break;case 5:en=ne.stateNode,Vn=!1;break e;case 3:case 4:en=ne.stateNode.containerInfo,Vn=!0;break e}ne=ne.return}if(en===null)throw Error(i(160));Tc(O,J,C),en=null,Vn=!1,O=C.alternate,O!==null&&(O.return=null),C.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)wp(u,l),u=u.sibling}var Na=null;function wp(l,u){var g=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:xs(u,l),Oi(l),v&4&&(Or(3,l,l.return),Ec(3,l),Or(5,l,l.return));break;case 1:xs(u,l),Oi(l),v&512&&(xi||g===null||no(g,g.return)),v&64&&io&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?v:g.concat(v))));break;case 26:var C=Na;if(xs(u,l),Oi(l),v&512&&(xi||g===null||no(g,g.return)),v&4){var O=g!==null?g.memoizedState:null;if(v=l.memoizedState,g===null)if(v===null)if(l.stateNode===null){e:{v=l.type,g=l.memoizedProps,C=C.ownerDocument||C;t:switch(v){case"title":O=C.getElementsByTagName("title")[0],(!O||O[kt]||O[ot]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=C.createElement(v),C.head.insertBefore(O,C.querySelector("head > title"))),nr(O,v,g),O[ot]=l,mn(O),v=O;break e;case"link":var J=dN("link","href",C).get(v+(g.href||""));if(J){for(var ne=0;ne<J.length;ne++)if(O=J[ne],O.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&O.getAttribute("rel")===(g.rel==null?null:g.rel)&&O.getAttribute("title")===(g.title==null?null:g.title)&&O.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){J.splice(ne,1);break t}}O=C.createElement(v),nr(O,v,g),C.head.appendChild(O);break;case"meta":if(J=dN("meta","content",C).get(v+(g.content||""))){for(ne=0;ne<J.length;ne++)if(O=J[ne],O.getAttribute("content")===(g.content==null?null:""+g.content)&&O.getAttribute("name")===(g.name==null?null:g.name)&&O.getAttribute("property")===(g.property==null?null:g.property)&&O.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&O.getAttribute("charset")===(g.charSet==null?null:g.charSet)){J.splice(ne,1);break t}}O=C.createElement(v),nr(O,v,g),C.head.appendChild(O);break;default:throw Error(i(468,v))}O[ot]=l,mn(O),v=O}l.stateNode=v}else hN(C,l.type,l.stateNode);else l.stateNode=uN(C,v,l.memoizedProps);else O!==v?(O===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):O.count--,v===null?hN(C,l.type,l.stateNode):uN(C,v,l.memoizedProps)):v===null&&l.stateNode!==null&&mh(l,l.memoizedProps,g.memoizedProps)}break;case 27:xs(u,l),Oi(l),v&512&&(xi||g===null||no(g,g.return)),g!==null&&v&4&&mh(l,l.memoizedProps,g.memoizedProps);break;case 5:if(xs(u,l),Oi(l),v&512&&(xi||g===null||no(g,g.return)),l.flags&32){C=l.stateNode;try{ts(C,"")}catch(Ge){be(l,l.return,Ge)}}v&4&&l.stateNode!=null&&(C=l.memoizedProps,mh(l,C,g!==null?g.memoizedProps:C)),v&1024&&(Iu=!0);break;case 6:if(xs(u,l),Oi(l),v&4){if(l.stateNode===null)throw Error(i(162));v=l.memoizedProps,g=l.stateNode;try{g.nodeValue=v}catch(Ge){be(l,l.return,Ge)}}break;case 3:if(Lv=null,C=Na,Na=Ov(u.containerInfo),xs(u,l),Na=C,Oi(l),v&4&&g!==null&&g.memoizedState.isDehydrated)try{x0(u.containerInfo)}catch(Ge){be(l,l.return,Ge)}Iu&&(Iu=!1,zl(l));break;case 4:v=Na,Na=Ov(l.stateNode.containerInfo),xs(u,l),Oi(l),Na=v;break;case 12:xs(u,l),Oi(l);break;case 13:xs(u,l),Oi(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(ui=ge()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Nc(l,v)));break;case 22:C=l.memoizedState!==null;var pe=g!==null&&g.memoizedState!==null,Ie=io,it=xi;if(io=Ie||C,xi=it||pe,xs(u,l),xi=it,io=Ie,Oi(l),v&8192)e:for(u=l.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(g===null||pe||io||xi||Lr(l)),g=null,u=l;;){if(u.tag===5||u.tag===26){if(g===null){pe=g=u;try{if(O=pe.stateNode,C)J=O.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ne=pe.stateNode;var lt=pe.memoizedProps.style,ze=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;ne.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(Ge){be(pe,pe.return,Ge)}}}else if(u.tag===6){if(g===null){pe=u;try{pe.stateNode.nodeValue=C?"":pe.memoizedProps}catch(Ge){be(pe,pe.return,Ge)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(g=v.retryQueue,g!==null&&(v.retryQueue=null,Nc(l,g))));break;case 19:xs(u,l),Oi(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Nc(l,v)));break;case 30:break;case 21:break;default:xs(u,l),Oi(l)}}function Oi(l){var u=l.flags;if(u&2){try{for(var g,v=l.return;v!==null;){if(gh(v)){g=v;break}v=v.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var C=g.stateNode,O=Ll(l);Ul(l,O,C);break;case 5:var J=g.stateNode;g.flags&32&&(ts(J,""),g.flags&=-33);var ne=Ll(l);Ul(l,ne,J);break;case 3:case 4:var pe=g.stateNode.containerInfo,Ie=Ll(l);Il(l,Ie,pe);break;default:throw Error(i(161))}}catch(it){be(l,l.return,it)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function zl(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;zl(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function er(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Xo(l,u.alternate,u),u=u.sibling}function Lr(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Or(4,u,u.return),Lr(u);break;case 1:no(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&Wo(u,u.return,g),Lr(u);break;case 27:c0(u.stateNode);case 26:case 5:no(u,u.return),Lr(u);break;case 22:u.memoizedState===null&&Lr(u);break;case 30:Lr(u);break;default:Lr(u)}l=l.sibling}}function so(l,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,C=l,O=u,J=O.flags;switch(O.tag){case 0:case 11:case 15:so(C,O,g),Ec(4,O);break;case 1:if(so(C,O,g),v=O,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ie){be(v,v.return,Ie)}if(v=O,C=v.updateQueue,C!==null){var ne=v.stateNode;try{var pe=C.shared.hiddenCallbacks;if(pe!==null)for(C.shared.hiddenCallbacks=null,C=0;C<pe.length;C++)Cu(pe[C],ne)}catch(Ie){be(v,v.return,Ie)}}g&&J&64&&Cc(O),Mc(O,O.return);break;case 27:kl(O);case 26:case 5:so(C,O,g),g&&v===null&&J&4&&Lu(O),Mc(O,O.return);break;case 12:so(C,O,g);break;case 13:so(C,O,g),g&&J&4&&Fl(C,O);break;case 22:O.memoizedState===null&&so(C,O,g),Mc(O,O.return);break;case 30:break;default:so(C,O,g)}u=u.sibling}}function Sp(l,u){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&bu(g))}function Ap(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&bu(l))}function fi(l,u,g,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)_p(l,u,g,v),u=u.sibling}function _p(l,u,g,v){var C=u.flags;switch(u.tag){case 0:case 11:case 15:fi(l,u,g,v),C&2048&&Ec(9,u);break;case 1:fi(l,u,g,v);break;case 3:fi(l,u,g,v),C&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&bu(l)));break;case 12:if(C&2048){fi(l,u,g,v),l=u.stateNode;try{var O=u.memoizedProps,J=O.id,ne=O.onPostCommit;typeof ne=="function"&&ne(J,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(pe){be(u,u.return,pe)}}else fi(l,u,g,v);break;case 13:fi(l,u,g,v);break;case 23:break;case 22:O=u.stateNode,J=u.alternate,u.memoizedState!==null?O._visibility&2?fi(l,u,g,v):ja(l,u):O._visibility&2?fi(l,u,g,v):(O._visibility|=2,Yo(l,u,g,v,(u.subtreeFlags&10256)!==0)),C&2048&&Sp(J,u);break;case 24:fi(l,u,g,v),C&2048&&Ap(u.alternate,u);break;default:fi(l,u,g,v)}}function Yo(l,u,g,v,C){for(C=C&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var O=l,J=u,ne=g,pe=v,Ie=J.flags;switch(J.tag){case 0:case 11:case 15:Yo(O,J,ne,pe,C),Ec(8,J);break;case 23:break;case 22:var it=J.stateNode;J.memoizedState!==null?it._visibility&2?Yo(O,J,ne,pe,C):ja(O,J):(it._visibility|=2,Yo(O,J,ne,pe,C)),C&&Ie&2048&&Sp(J.alternate,J);break;case 24:Yo(O,J,ne,pe,C),C&&Ie&2048&&Ap(J.alternate,J);break;default:Yo(O,J,ne,pe,C)}u=u.sibling}}function ja(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=l,v=u,C=v.flags;switch(v.tag){case 22:ja(g,v),C&2048&&Sp(v.alternate,v);break;case 24:ja(g,v),C&2048&&Ap(v.alternate,v);break;default:ja(g,v)}u=u.sibling}}var Ir=8192;function Uu(l){if(l.subtreeFlags&Ir)for(l=l.child;l!==null;)Tv(l),l=l.sibling}function Tv(l){switch(l.tag){case 26:Uu(l),l.flags&Ir&&l.memoizedState!==null&&LU(Na,l.memoizedState,l.memoizedProps);break;case 5:Uu(l);break;case 3:case 4:var u=Na;Na=Ov(l.stateNode.containerInfo),Uu(l),Na=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Ir,Ir=16777216,Uu(l),Ir=u):Uu(l));break;default:Uu(l)}}function Nv(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function yi(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];hi=v,ao(v,l)}Nv(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)s0(l),l=l.sibling}function s0(l){switch(l.tag){case 0:case 11:case 15:yi(l),l.flags&2048&&Or(9,l,l.return);break;case 3:yi(l);break;case 12:yi(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,ro(l)):yi(l);break;default:yi(l)}}function ro(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var v=u[g];hi=v,ao(v,l)}Nv(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Or(8,u,u.return),ro(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,ro(u));break;default:ro(u)}l=l.sibling}}function ao(l,u){for(;hi!==null;){var g=hi;switch(g.tag){case 0:case 11:case 15:Or(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var v=g.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:bu(g.memoizedState.cache)}if(v=g.child,v!==null)v.return=g,hi=v;else e:for(g=l;hi!==null;){v=hi;var C=v.sibling,O=v.return;if(En(v),v===g){hi=null;break e}if(C!==null){C.return=O,hi=C;break e}hi=O}}}var Pi={getCacheForType:function(l){var u=Di(Xi),g=u.data.get(l);return g===void 0&&(g=l(),u.data.set(l,g)),g}},r0=typeof WeakMap=="function"?WeakMap:Map,ni=0,gn=null,Dn=null,$t=0,An=0,Ri=null,Ur=!1,ku=!1,Fu=!1,la=0,_i=0,Ra=0,oo=0,jc=0,ca=0,Gn=0,ii=null,tn=null,Ln=!1,ui=0,Fs=1/0,ua=null,kr=null,rs=0,zs=null,pi=null,Fr=0,Ko=0,xh=null,zr=null,lo=0,Rc=null;function Li(){if((ni&2)!==0&&$t!==0)return $t&-$t;if(z.T!==null){var l=bn;return l!==0?l:bS()}return de()}function Ep(){ca===0&&(ca=($t&536870912)===0||Kn?fe():536870912);var l=di.current;return l!==null&&(l.flags|=32),ca}function tr(l,u,g){(l===gn&&(An===2||An===9)||l.cancelPendingCommit!==null)&&(Vl(l,0),Ba(l,$t,ca,!1)),At(l,g),((ni&2)===0||l!==gn)&&(l===gn&&((ni&2)===0&&(oo|=g),_i===4&&Ba(l,$t,ca,!1)),Wl(l))}function zu(l,u,g){if((ni&6)!==0)throw Error(i(327));var v=!g&&(u&124)===0&&(u&l.expiredLanes)===0||Ne(l,u),C=v?M(l,u):p(l,u,!0),O=v;do{if(C===0){ku&&!v&&Ba(l,u,0,!1);break}else{if(g=l.current.alternate,O&&!Hl(g)){C=p(l,u,!1),O=!1;continue}if(C===2){if(O=u,l.errorRecoveryDisabledLanes&O)var J=0;else J=l.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var ne=l;C=ii;var pe=ne.current.memoizedState.isDehydrated;if(pe&&(Vl(ne,J).flags|=256),J=p(ne,J,!1),J!==2){if(Fu&&!pe){ne.errorRecoveryDisabledLanes|=O,oo|=O,C=4;break e}O=tn,tn=C,O!==null&&(tn===null?tn=O:tn.push.apply(tn,O))}C=J}if(O=!1,C!==2)continue}}if(C===1){Vl(l,0),Ba(l,u,0,!0);break}e:{switch(v=l,O=C,O){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Ba(v,u,ca,!Ur);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(C=ui+300-ge(),10<C)){if(Ba(v,u,ca,!Ur),he(v,0,!0)!==0)break e;v.timeoutHandle=tN(yh.bind(null,v,g,tn,ua,Ln,u,ca,oo,Gn,Ur,O,2,-0,0),C);break e}yh(v,g,tn,ua,Ln,u,ca,oo,Gn,Ur,O,0,-0,0)}}break}while(!0);Wl(l)}function yh(l,u,g,v,C,O,J,ne,pe,Ie,it,lt,ze,Ge){if(l.timeoutHandle=-1,lt=u.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(h0={stylesheets:null,count:0,unsuspend:PU},Tv(u),lt=IU(),lt!==null)){l.cancelPendingCommit=lt(wt.bind(null,l,u,O,g,v,C,J,ne,pe,it,1,ze,Ge)),Ba(l,O,J,!Ie);return}wt(l,u,O,g,v,C,J,ne,pe)}function Hl(l){for(var u=l;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var v=0;v<g.length;v++){var C=g[v],O=C.getSnapshot;C=C.value;try{if(!cr(O(),C))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ba(l,u,g,v){u&=~jc,u&=~oo,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var C=u;0<C;){var O=31-_t(C),J=1<<O;v[O]=-1,C&=~J}g!==0&&tt(l,g,u)}function co(){return(ni&6)===0?(a0(0),!1):!0}function Bc(){if(Dn!==null){if(An===0)var l=Dn.return;else l=Dn,Io=Cl=null,zg(l),gc=null,uh=0,l=Dn;for(;l!==null;)Pu(l.alternate,l),l=l.return;Dn=null}}function Vl(l,u){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,yU(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Bc(),gn=l,Dn=g=Fi(l.current,null),$t=u,An=0,Ri=null,Ur=!1,ku=Ne(l,u),Fu=!1,Gn=ca=jc=oo=Ra=_i=0,tn=ii=null,Ln=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var C=31-_t(v),O=1<<C;u|=l[C],v&=~O}return la=u,Xd(),g}function Cp(l,u){wn=null,z.H=ch,u===ih||u===Aa?(u=Lg(),An=3):u===Pg?(u=Lg(),An=4):An=u===Mv?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ri=u,Dn===null&&(_i=1,xp(l,Ns(u,l.current)))}function Hu(){var l=z.H;return z.H=ch,l===null?ch:l}function Mp(){var l=z.A;return z.A=Pi,l}function f(){_i=4,Ur||($t&4194048)!==$t&&di.current!==null||(ku=!0),(Ra&134217727)===0&&(oo&134217727)===0||gn===null||Ba(gn,$t,ca,!1)}function p(l,u,g){var v=ni;ni|=2;var C=Hu(),O=Mp();(gn!==l||$t!==u)&&(ua=null,Vl(l,u)),u=!1;var J=_i;e:do try{if(An!==0&&Dn!==null){var ne=Dn,pe=Ri;switch(An){case 8:Bc(),J=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(u=!0);var Ie=An;if(An=0,Ri=null,me(l,ne,pe,Ie),g&&ku){J=0;break e}break;default:Ie=An,An=0,Ri=null,me(l,ne,pe,Ie)}}w(),J=_i;break}catch(it){Cp(l,it)}while(!0);return u&&l.shellSuspendCounter++,Io=Cl=null,ni=v,z.H=C,z.A=O,Dn===null&&(gn=null,$t=0,Xd()),J}function w(){for(;Dn!==null;)H(Dn)}function M(l,u){var g=ni;ni|=2;var v=Hu(),C=Mp();gn!==l||$t!==u?(ua=null,Fs=ge()+500,Vl(l,u)):ku=Ne(l,u);e:do try{if(An!==0&&Dn!==null){u=Dn;var O=Ri;t:switch(An){case 1:An=0,Ri=null,me(l,u,O,1);break;case 2:case 9:if(np(O)){An=0,Ri=null,se(u);break}u=function(){An!==2&&An!==9||gn!==l||(An=7),Wl(l)},O.then(u,u);break e;case 3:An=7;break e;case 4:An=5;break e;case 7:np(O)?(An=0,Ri=null,se(u)):(An=0,Ri=null,me(l,u,O,7));break;case 5:var J=null;switch(Dn.tag){case 26:J=Dn.memoizedState;case 5:case 27:var ne=Dn;if(!J||fN(J)){An=0,Ri=null;var pe=ne.sibling;if(pe!==null)Dn=pe;else{var Ie=ne.return;Ie!==null?(Dn=Ie,Re(Ie)):Dn=null}break t}}An=0,Ri=null,me(l,u,O,5);break;case 6:An=0,Ri=null,me(l,u,O,6);break;case 8:Bc(),_i=6;break e;default:throw Error(i(462))}}U();break}catch(it){Cp(l,it)}while(!0);return Io=Cl=null,z.H=v,z.A=C,ni=g,Dn!==null?0:(gn=null,$t=0,Xd(),_i)}function U(){for(;Dn!==null&&!Ae();)H(Dn)}function H(l){var u=Ac(l.alternate,l,la);l.memoizedProps=l.pendingProps,u===null?Re(l):Dn=u}function se(l){var u=l,g=u.alternate;switch(u.tag){case 15:case 0:u=Br(g,u,u.pendingProps,u.type,void 0,$t);break;case 11:u=Br(g,u,u.pendingProps,u.type.render,u.ref,$t);break;case 5:zg(u);default:Pu(g,u),u=Dn=Tg(u,la),u=Ac(g,u,la)}l.memoizedProps=l.pendingProps,u===null?Re(l):Dn=u}function me(l,u,g,v){Io=Cl=null,zg(u),gc=null,uh=0;var C=u.return;try{if(yS(l,C,u,g,$t)){_i=1,xp(l,Ns(g,l.current)),Dn=null;return}}catch(O){if(C!==null)throw Dn=C,O;_i=1,xp(l,Ns(g,l.current)),Dn=null;return}u.flags&32768?(Kn||v===1?l=!0:ku||($t&536870912)!==0?l=!1:(Ur=l=!0,(v===2||v===9||v===3||v===6)&&(v=di.current,v!==null&&v.tag===13&&(v.flags|=16384))),nt(u,l)):Re(u)}function Re(l){var u=l;do{if((u.flags&32768)!==0){nt(u,Ur);return}l=u.return;var g=i0(u.alternate,u,la);if(g!==null){Dn=g;return}if(u=u.sibling,u!==null){Dn=u;return}Dn=u=l}while(u!==null);_i===0&&(_i=5)}function nt(l,u){do{var g=Ou(l.alternate,l);if(g!==null){g.flags&=32767,Dn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(l=l.sibling,l!==null)){Dn=l;return}Dn=l=g}while(l!==null);_i=6,Dn=null}function wt(l,u,g,v,C,O,J,ne,pe){l.cancelPendingCommit=null;do Gl();while(rs!==0);if((ni&6)!==0)throw Error(i(327));if(u!==null){if(u===l.current)throw Error(i(177));if(O=u.lanes|u.childLanes,O|=Xf,gt(l,g,O,J,ne,pe),l===gn&&(Dn=gn=null,$t=0),pi=u,zs=l,Fr=g,Ko=O,xh=C,zr=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Jn($e,function(){return ql(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=z.T,z.T=null,C=I.p,I.p=2,J=ni,ni|=4;try{ss(l,u,g)}finally{ni=J,I.p=C,z.T=v}}rs=1,Rt(),Pt(),xn()}}function Rt(){if(rs===1){rs=0;var l=zs,u=pi,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=z.T,z.T=null;var v=I.p;I.p=2;var C=ni;ni|=4;try{wp(u,l);var O=TS,J=wg(l.containerInfo),ne=O.focusedElem,pe=O.selectionRange;if(J!==ne&&ne&&ne.ownerDocument&&bg(ne.ownerDocument.documentElement,ne)){if(pe!==null&&Gd(ne)){var Ie=pe.start,it=pe.end;if(it===void 0&&(it=Ie),"selectionStart"in ne)ne.selectionStart=Ie,ne.selectionEnd=Math.min(it,ne.value.length);else{var lt=ne.ownerDocument||document,ze=lt&&lt.defaultView||window;if(ze.getSelection){var Ge=ze.getSelection(),hn=ne.textContent.length,on=Math.min(pe.start,hn),bi=pe.end===void 0?on:Math.min(pe.end,hn);!Ge.extend&&on>bi&&(J=bi,bi=on,on=J);var Te=vg(ne,on),Se=vg(ne,bi);if(Te&&Se&&(Ge.rangeCount!==1||Ge.anchorNode!==Te.node||Ge.anchorOffset!==Te.offset||Ge.focusNode!==Se.node||Ge.focusOffset!==Se.offset)){var De=lt.createRange();De.setStart(Te.node,Te.offset),Ge.removeAllRanges(),on>bi?(Ge.addRange(De),Ge.extend(Se.node,Se.offset)):(De.setEnd(Se.node,Se.offset),Ge.addRange(De))}}}}for(lt=[],Ge=ne;Ge=Ge.parentNode;)Ge.nodeType===1&&lt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<lt.length;ne++){var at=lt[ne];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}kv=!!MS,TS=MS=null}finally{ni=C,I.p=v,z.T=g}}l.current=u,rs=2}}function Pt(){if(rs===2){rs=0;var l=zs,u=pi,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=z.T,z.T=null;var v=I.p;I.p=2;var C=ni;ni|=4;try{Xo(l,u.alternate,u)}finally{ni=C,I.p=v,z.T=g}}rs=3}}function xn(){if(rs===4||rs===3){rs=0,we();var l=zs,u=pi,g=Fr,v=zr;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?rs=5:(rs=0,pi=zs=null,Hr(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(kr=null),yn(g),u=u.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Oe,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=z.T,C=I.p,I.p=2,z.T=null;try{for(var O=l.onRecoverableError,J=0;J<v.length;J++){var ne=v[J];O(ne.value,{componentStack:ne.stack})}}finally{z.T=u,I.p=C}}(Fr&3)!==0&&Gl(),Wl(l),C=l.pendingLanes,(g&4194090)!==0&&(C&42)!==0?l===Rc?lo++:(lo=0,Rc=l):lo=0,a0(0)}}function Hr(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,bu(u)))}function Gl(l){return Rt(),Pt(),xn(),ql()}function ql(){if(rs!==5)return!1;var l=zs,u=Ko;Ko=0;var g=yn(Fr),v=z.T,C=I.p;try{I.p=32>g?32:g,z.T=null,g=xh,xh=null;var O=zs,J=Fr;if(rs=0,pi=zs=null,Fr=0,(ni&6)!==0)throw Error(i(331));var ne=ni;if(ni|=4,s0(O.current),_p(O,O.current,J,g),ni=ne,a0(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Oe,O)}catch{}return!0}finally{I.p=C,z.T=v,Hr(l,u)}}function ke(l,u,g){u=Ns(g,u),u=yp(l.stateNode,u,2),l=Fo(l,u,2),l!==null&&(At(l,2),Wl(l))}function be(l,u,g){if(l.tag===3)ke(l,l,g);else for(;u!==null;){if(u.tag===3){ke(u,l,g);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(kr===null||!kr.has(v))){l=Ns(g,l),g=Cv(2),v=Fo(u,g,2),v!==null&&(vp(g,v,u,l),At(v,2),Wl(v));break}}u=u.return}}function qe(l,u,g){var v=l.pingCache;if(v===null){v=l.pingCache=new r0;var C=new Set;v.set(u,C)}else C=v.get(u),C===void 0&&(C=new Set,v.set(u,C));C.has(g)||(Fu=!0,C.add(g),l=vt.bind(null,l,u,g),u.then(l,l))}function vt(l,u,g){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,gn===l&&($t&g)===g&&(_i===4||_i===3&&($t&62914560)===$t&&300>ge()-ui?(ni&2)===0&&Vl(l,0):jc|=g,Gn===$t&&(Gn=0)),Wl(l)}function Jt(l,u){u===0&&(u=rt()),l=Po(l,u),l!==null&&(At(l,u),Wl(l))}function Ei(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),Jt(l,g)}function un(l,u){var g=0;switch(l.tag){case 13:var v=l.stateNode,C=l.memoizedState;C!==null&&(g=C.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(u),Jt(l,g)}function Jn(l,u){return le(l,u)}var Gi=null,On=null,uo=!1,Tp=!1,vS=!1,vh=0;function Wl(l){l!==On&&l.next===null&&(On===null?Gi=On=l:On=On.next=l),Tp=!0,uo||(uo=!0,cU())}function a0(l,u){if(!vS&&Tp){vS=!0;do for(var g=!1,v=Gi;v!==null;){if(l!==0){var C=v.pendingLanes;if(C===0)var O=0;else{var J=v.suspendedLanes,ne=v.pingedLanes;O=(1<<31-_t(42|l)+1)-1,O&=C&~(J&~ne),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(g=!0,qT(v,O))}else O=$t,O=he(v,v===gn?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||Ne(v,O)||(g=!0,qT(v,O));v=v.next}while(g);vS=!1}}function lU(){HT()}function HT(){Tp=uo=!1;var l=0;vh!==0&&(xU()&&(l=vh),vh=0);for(var u=ge(),g=null,v=Gi;v!==null;){var C=v.next,O=VT(v,u);O===0?(v.next=null,g===null?Gi=C:g.next=C,C===null&&(On=g)):(g=v,(l!==0||(O&3)!==0)&&(Tp=!0)),v=C}a0(l)}function VT(l,u){for(var g=l.suspendedLanes,v=l.pingedLanes,C=l.expirationTimes,O=l.pendingLanes&-62914561;0<O;){var J=31-_t(O),ne=1<<J,pe=C[J];pe===-1?((ne&g)===0||(ne&v)!==0)&&(C[J]=ct(ne,u)):pe<=u&&(l.expiredLanes|=ne),O&=~ne}if(u=gn,g=$t,g=he(l,l===u?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,g===0||l===u&&(An===2||An===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&Me(v),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Ne(l,g)){if(u=g&-g,u===l.callbackPriority)return u;switch(v!==null&&Me(v),yn(g)){case 2:case 8:g=_e;break;case 32:g=$e;break;case 268435456:g=te;break;default:g=$e}return v=GT.bind(null,l),g=le(g,v),l.callbackPriority=u,l.callbackNode=g,u}return v!==null&&v!==null&&Me(v),l.callbackPriority=2,l.callbackNode=null,2}function GT(l,u){if(rs!==0&&rs!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Gl()&&l.callbackNode!==g)return null;var v=$t;return v=he(l,l===gn?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(zu(l,v,u),VT(l,ge()),l.callbackNode!=null&&l.callbackNode===g?GT.bind(null,l):null)}function qT(l,u){if(Gl())return null;zu(l,u,!0)}function cU(){vU(function(){(ni&6)!==0?le(Ue,lU):HT()})}function bS(){return vh===0&&(vh=fe()),vh}function WT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Rd(""+l)}function XT(l,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,l.id&&g.setAttribute("form",l.id),u.parentNode.insertBefore(g,u),l=new FormData(l),g.parentNode.removeChild(g),l}function uU(l,u,g,v,C){if(u==="submit"&&g&&g.stateNode===C){var O=WT((C[ft]||null).action),J=v.submitter;J&&(u=(u=J[ft]||null)?WT(u.formAction):J.getAttribute("formAction"),u!==null&&(O=u,J=null));var ne=new ou("action","action",null,v,C);l.push({event:ne,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(vh!==0){var pe=J?XT(C,J):new FormData(C);$g(g,{pending:!0,data:pe,method:C.method,action:O},null,pe)}}else typeof O=="function"&&(ne.preventDefault(),pe=J?XT(C,J):new FormData(C),$g(g,{pending:!0,data:pe,method:C.method,action:O},O,pe))},currentTarget:C}]})}}for(var wS=0;wS<Wd.length;wS++){var SS=Wd[wS],dU=SS.toLowerCase(),hU=SS[0].toUpperCase()+SS.slice(1);fs(dU,"on"+hU)}fs(Ks,"onAnimationEnd"),fs(_g,"onAnimationIteration"),fs(dr,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Uy,"onTransitionRun"),fs(Do,"onTransitionStart"),fs(mu,"onTransitionCancel"),fs(Oo,"onTransitionEnd"),ve("onMouseEnter",["mouseout","mouseover"]),ve("onMouseLeave",["mouseout","mouseover"]),ve("onPointerEnter",["pointerout","pointerover"]),ve("onPointerLeave",["pointerout","pointerover"]),ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var o0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(o0));function YT(l,u){u=(u&4)!==0;for(var g=0;g<l.length;g++){var v=l[g],C=v.event;v=v.listeners;e:{var O=void 0;if(u)for(var J=v.length-1;0<=J;J--){var ne=v[J],pe=ne.instance,Ie=ne.currentTarget;if(ne=ne.listener,pe!==O&&C.isPropagationStopped())break e;O=ne,C.currentTarget=Ie;try{O(C)}catch(it){yc(it)}C.currentTarget=null,O=pe}else for(J=0;J<v.length;J++){if(ne=v[J],pe=ne.instance,Ie=ne.currentTarget,ne=ne.listener,pe!==O&&C.isPropagationStopped())break e;O=ne,C.currentTarget=Ie;try{O(C)}catch(it){yc(it)}C.currentTarget=null,O=pe}}}}function kn(l,u){var g=u[Ut];g===void 0&&(g=u[Ut]=new Set);var v=l+"__bubble";g.has(v)||(KT(u,l,2,!1),g.add(v))}function AS(l,u,g){var v=0;u&&(v|=4),KT(g,l,v,u)}var jv="_reactListening"+Math.random().toString(36).slice(2);function _S(l){if(!l[jv]){l[jv]=!0,Yn.forEach(function(g){g!=="selectionchange"&&(fU.has(g)||AS(g,!1,l),AS(g,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[jv]||(u[jv]=!0,AS("selectionchange",!1,u))}}function KT(l,u,g,v){switch(vN(u)){case 2:var C=FU;break;case 8:C=zU;break;default:C=US}g=C.bind(null,u,g,l),C=void 0,!Dd||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),v?C!==void 0?l.addEventListener(u,g,{capture:!0,passive:C}):l.addEventListener(u,g,!0):C!==void 0?l.addEventListener(u,g,{passive:C}):l.addEventListener(u,g,!1)}function ES(l,u,g,v,C){var O=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var ne=v.stateNode.containerInfo;if(ne===C)break;if(J===4)for(J=v.return;J!==null;){var pe=J.tag;if((pe===3||pe===4)&&J.stateNode.containerInfo===C)return;J=J.return}for(;ne!==null;){if(J=pn(ne),J===null)return;if(pe=J.tag,pe===5||pe===6||pe===26||pe===27){v=O=J;continue e}ne=ne.parentNode}}v=v.return}og(function(){var Ie=O,it=Of(g),lt=[];e:{var ze=Wf.get(l);if(ze!==void 0){var Ge=ou,hn=l;switch(l){case"keypress":if(pl(g)===0)break e;case"keydown":case"keyup":Ge=hg;break;case"focusin":hn="focus",Ge=Lf;break;case"focusout":hn="blur",Ge=Lf;break;case"beforeblur":case"afterblur":Ge=Lf;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=pg;break;case Ks:case _g:case dr:Ge=Ay;break;case Oo:Ge=No;break;case"scroll":case"scrollend":Ge=by;break;case"wheel":Ge=lS;break;case"copy":case"cut":case"paste":Ge=Ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Uf;break;case"toggle":case"beforetoggle":Ge=gl}var on=(u&4)!==0,bi=!on&&(l==="scroll"||l==="scrollend"),Te=on?ze!==null?ze+"Capture":null:ze;on=[];for(var Se=Ie,De;Se!==null;){var at=Se;if(De=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||De===null||Te===null||(at=su(Se,Te),at!=null&&on.push(l0(Se,at,De))),bi)break;Se=Se.return}0<on.length&&(ze=new Ge(ze,hn,null,g,it),lt.push({event:ze,listeners:on}))}}if((u&7)===0){e:{if(ze=l==="mouseover"||l==="pointerover",Ge=l==="mouseout"||l==="pointerout",ze&&g!==Df&&(hn=g.relatedTarget||g.fromElement)&&(pn(hn)||hn[It]))break e;if((Ge||ze)&&(ze=it.window===it?it:(ze=it.ownerDocument)?ze.defaultView||ze.parentWindow:window,Ge?(hn=g.relatedTarget||g.toElement,Ge=Ie,hn=hn?pn(hn):null,hn!==null&&(bi=a(hn),on=hn.tag,hn!==bi||on!==5&&on!==27&&on!==6)&&(hn=null)):(Ge=null,hn=Ie),Ge!==hn)){if(on=ug,at="onMouseLeave",Te="onMouseEnter",Se="mouse",(l==="pointerout"||l==="pointerover")&&(on=Uf,at="onPointerLeave",Te="onPointerEnter",Se="pointer"),bi=Ge==null?ze:wi(Ge),De=hn==null?ze:wi(hn),ze=new on(at,Se+"leave",Ge,g,it),ze.target=bi,ze.relatedTarget=De,at=null,pn(it)===Ie&&(on=new on(Te,Se+"enter",hn,g,it),on.target=De,on.relatedTarget=bi,at=on),bi=at,Ge&&hn)t:{for(on=Ge,Te=hn,Se=0,De=on;De;De=Np(De))Se++;for(De=0,at=Te;at;at=Np(at))De++;for(;0<Se-De;)on=Np(on),Se--;for(;0<De-Se;)Te=Np(Te),De--;for(;Se--;){if(on===Te||Te!==null&&on===Te.alternate)break t;on=Np(on),Te=Np(Te)}on=null}else on=null;Ge!==null&&JT(lt,ze,Ge,on,!1),hn!==null&&bi!==null&&JT(lt,bi,hn,on,!0)}}e:{if(ze=Ie?wi(Ie):window,Ge=ze.nodeName&&ze.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&ze.type==="file")var Wt=Ff;else if(yg(ze))if(zf)Wt=vl;else{Wt=Py;var In=cS}else Ge=ze.nodeName,!Ge||Ge.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Ie&&Bf(Ie.elementType)&&(Wt=Ff):Wt=Vd;if(Wt&&(Wt=Wt(l,Ie))){lr(lt,Wt,g,it);break e}In&&In(l,ze,Ie),l==="focusout"&&Ie&&ze.type==="number"&&Ie.memoizedProps.value!=null&&_s(ze,"number",ze.value)}switch(In=Ie?wi(Ie):window,l){case"focusin":(yg(In)||In.contentEditable==="true")&&(Ro=In,Vf=Ie,qd=null);break;case"focusout":qd=Vf=Ro=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,Ag(lt,g,it);break;case"selectionchange":if(Sg)break;case"keydown":case"keyup":Ag(lt,g,it)}var Zt;if(Id)e:{switch(l){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else yl?Fd(l,g)&&(ln="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ln="onCompositionStart");ln&&(kd&&g.locale!=="ko"&&(yl||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&yl&&(Zt=cg()):(Mo=it,lg="value"in Mo?Mo.value:Mo.textContent,yl=!0)),In=Rv(Ie,ln),0<In.length&&(ln=new If(ln,l,null,g,it),lt.push({event:ln,listeners:In}),Zt?ln.data=Zt:(Zt=gg(g),Zt!==null&&(ln.data=Zt)))),(Zt=Ud?zd(l,g):xg(l,g))&&(ln=Rv(Ie,"onBeforeInput"),0<ln.length&&(In=new If("onBeforeInput","beforeinput",null,g,it),lt.push({event:In,listeners:ln}),In.data=Zt)),uU(lt,l,Ie,g,it)}YT(lt,u)})}function l0(l,u,g){return{instance:l,listener:u,currentTarget:g}}function Rv(l,u){for(var g=u+"Capture",v=[];l!==null;){var C=l,O=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||O===null||(C=su(l,g),C!=null&&v.unshift(l0(l,C,O)),C=su(l,u),C!=null&&v.push(l0(l,C,O))),l.tag===3)return v;l=l.return}return[]}function Np(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function JT(l,u,g,v,C){for(var O=u._reactName,J=[];g!==null&&g!==v;){var ne=g,pe=ne.alternate,Ie=ne.stateNode;if(ne=ne.tag,pe!==null&&pe===v)break;ne!==5&&ne!==26&&ne!==27||Ie===null||(pe=Ie,C?(Ie=su(g,O),Ie!=null&&J.unshift(l0(g,Ie,pe))):C||(Ie=su(g,O),Ie!=null&&J.push(l0(g,Ie,pe)))),g=g.return}J.length!==0&&l.push({event:u,listeners:J})}var pU=/\r\n?/g,mU=/\u0000|\uFFFD/g;function QT(l){return(typeof l=="string"?l:""+l).replace(pU,`
`).replace(mU,"")}function ZT(l,u){return u=QT(u),QT(l)===u}function Bv(){}function vi(l,u,g,v,C,O){switch(g){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||ts(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&ts(l,""+v);break;case"className":jt(l,"class",v);break;case"tabIndex":jt(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":jt(l,g,v);break;case"style":jd(l,v,O);break;case"data":if(u!=="object"){jt(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||g!=="href")){l.removeAttribute(g);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(g);break}v=Rd(""+v),l.setAttribute(g,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(g==="formAction"?(u!=="input"&&vi(l,u,"name",C.name,C,null),vi(l,u,"formEncType",C.formEncType,C,null),vi(l,u,"formMethod",C.formMethod,C,null),vi(l,u,"formTarget",C.formTarget,C,null)):(vi(l,u,"encType",C.encType,C,null),vi(l,u,"method",C.method,C,null),vi(l,u,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(g);break}v=Rd(""+v),l.setAttribute(g,v);break;case"onClick":v!=null&&(l.onclick=Bv);break;case"onScroll":v!=null&&kn("scroll",l);break;case"onScrollEnd":v!=null&&kn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(g=v.__html,g!=null){if(C.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}g=Rd(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,""+v):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":v===!0?l.setAttribute(g,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(g,v):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(g,v):l.removeAttribute(g);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(g):l.setAttribute(g,v);break;case"popover":kn("beforetoggle",l),kn("toggle",l),bt(l,"popover",v);break;case"xlinkActuate":dt(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":dt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":dt(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":dt(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":dt(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":dt(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":dt(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":dt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":dt(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":bt(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=rg.get(g)||g,bt(l,g,v))}}function CS(l,u,g,v,C,O){switch(g){case"style":jd(l,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(g=v.__html,g!=null){if(C.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof v=="string"?ts(l,v):(typeof v=="number"||typeof v=="bigint")&&ts(l,""+v);break;case"onScroll":v!=null&&kn("scroll",l);break;case"onScrollEnd":v!=null&&kn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Bv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!or.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(C=g.endsWith("Capture"),u=g.slice(2,C?g.length-7:void 0),O=l[ft]||null,O=O!=null?O[g]:null,typeof O=="function"&&l.removeEventListener(u,O,C),typeof v=="function")){typeof O!="function"&&O!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(u,v,C);break e}g in l?l[g]=v:v===!0?l.setAttribute(g,""):bt(l,g,v)}}}function nr(l,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",l),kn("load",l);var v=!1,C=!1,O;for(O in g)if(g.hasOwnProperty(O)){var J=g[O];if(J!=null)switch(O){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:vi(l,u,O,J,g,null)}}C&&vi(l,u,"srcSet",g.srcSet,g,null),v&&vi(l,u,"src",g.src,g,null);return;case"input":kn("invalid",l);var ne=O=J=C=null,pe=null,Ie=null;for(v in g)if(g.hasOwnProperty(v)){var it=g[v];if(it!=null)switch(v){case"name":C=it;break;case"type":J=it;break;case"checked":pe=it;break;case"defaultChecked":Ie=it;break;case"value":O=it;break;case"defaultValue":ne=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,u));break;default:vi(l,u,v,it,g,null)}}Is(l,O,ne,pe,Ie,J,C,!1),Bn(l);return;case"select":kn("invalid",l),v=J=O=null;for(C in g)if(g.hasOwnProperty(C)&&(ne=g[C],ne!=null))switch(C){case"value":O=ne;break;case"defaultValue":J=ne;break;case"multiple":v=ne;default:vi(l,u,C,ne,g,null)}u=O,g=J,l.multiple=!!v,u!=null?Ni(l,!!v,u,!1):g!=null&&Ni(l,!!v,g,!0);return;case"textarea":kn("invalid",l),O=C=v=null;for(J in g)if(g.hasOwnProperty(J)&&(ne=g[J],ne!=null))switch(J){case"value":v=ne;break;case"defaultValue":C=ne;break;case"children":O=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:vi(l,u,J,ne,g,null)}uc(l,v,C,O),Bn(l);return;case"option":for(pe in g)if(g.hasOwnProperty(pe)&&(v=g[pe],v!=null))switch(pe){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:vi(l,u,pe,v,g,null)}return;case"dialog":kn("beforetoggle",l),kn("toggle",l),kn("cancel",l),kn("close",l);break;case"iframe":case"object":kn("load",l);break;case"video":case"audio":for(v=0;v<o0.length;v++)kn(o0[v],l);break;case"image":kn("error",l),kn("load",l);break;case"details":kn("toggle",l);break;case"embed":case"source":case"link":kn("error",l),kn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in g)if(g.hasOwnProperty(Ie)&&(v=g[Ie],v!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:vi(l,u,Ie,v,g,null)}return;default:if(Bf(u)){for(it in g)g.hasOwnProperty(it)&&(v=g[it],v!==void 0&&CS(l,u,it,v,g,void 0));return}}for(ne in g)g.hasOwnProperty(ne)&&(v=g[ne],v!=null&&vi(l,u,ne,v,g,null))}function gU(l,u,g,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,O=null,J=null,ne=null,pe=null,Ie=null,it=null;for(Ge in g){var lt=g[Ge];if(g.hasOwnProperty(Ge)&&lt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":pe=lt;default:v.hasOwnProperty(Ge)||vi(l,u,Ge,null,v,lt)}}for(var ze in v){var Ge=v[ze];if(lt=g[ze],v.hasOwnProperty(ze)&&(Ge!=null||lt!=null))switch(ze){case"type":O=Ge;break;case"name":C=Ge;break;case"checked":Ie=Ge;break;case"defaultChecked":it=Ge;break;case"value":J=Ge;break;case"defaultValue":ne=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(i(137,u));break;default:Ge!==lt&&vi(l,u,ze,Ge,v,lt)}}ci(l,J,ne,pe,Ie,it,O,C);return;case"select":Ge=J=ne=ze=null;for(O in g)if(pe=g[O],g.hasOwnProperty(O)&&pe!=null)switch(O){case"value":break;case"multiple":Ge=pe;default:v.hasOwnProperty(O)||vi(l,u,O,null,v,pe)}for(C in v)if(O=v[C],pe=g[C],v.hasOwnProperty(C)&&(O!=null||pe!=null))switch(C){case"value":ze=O;break;case"defaultValue":ne=O;break;case"multiple":J=O;default:O!==pe&&vi(l,u,C,O,v,pe)}u=ne,g=J,v=Ge,ze!=null?Ni(l,!!g,ze,!1):!!v!=!!g&&(u!=null?Ni(l,!!g,u,!0):Ni(l,!!g,g?[]:"",!1));return;case"textarea":Ge=ze=null;for(ne in g)if(C=g[ne],g.hasOwnProperty(ne)&&C!=null&&!v.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:vi(l,u,ne,null,v,C)}for(J in v)if(C=v[J],O=g[J],v.hasOwnProperty(J)&&(C!=null||O!=null))switch(J){case"value":ze=C;break;case"defaultValue":Ge=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==O&&vi(l,u,J,C,v,O)}Es(l,ze,Ge);return;case"option":for(var hn in g)if(ze=g[hn],g.hasOwnProperty(hn)&&ze!=null&&!v.hasOwnProperty(hn))switch(hn){case"selected":l.selected=!1;break;default:vi(l,u,hn,null,v,ze)}for(pe in v)if(ze=v[pe],Ge=g[pe],v.hasOwnProperty(pe)&&ze!==Ge&&(ze!=null||Ge!=null))switch(pe){case"selected":l.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:vi(l,u,pe,ze,v,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in g)ze=g[on],g.hasOwnProperty(on)&&ze!=null&&!v.hasOwnProperty(on)&&vi(l,u,on,null,v,ze);for(Ie in v)if(ze=v[Ie],Ge=g[Ie],v.hasOwnProperty(Ie)&&ze!==Ge&&(ze!=null||Ge!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,u));break;default:vi(l,u,Ie,ze,v,Ge)}return;default:if(Bf(u)){for(var bi in g)ze=g[bi],g.hasOwnProperty(bi)&&ze!==void 0&&!v.hasOwnProperty(bi)&&CS(l,u,bi,void 0,v,ze);for(it in v)ze=v[it],Ge=g[it],!v.hasOwnProperty(it)||ze===Ge||ze===void 0&&Ge===void 0||CS(l,u,it,ze,v,Ge);return}}for(var Te in g)ze=g[Te],g.hasOwnProperty(Te)&&ze!=null&&!v.hasOwnProperty(Te)&&vi(l,u,Te,null,v,ze);for(lt in v)ze=v[lt],Ge=g[lt],!v.hasOwnProperty(lt)||ze===Ge||ze==null&&Ge==null||vi(l,u,lt,ze,v,Ge)}var MS=null,TS=null;function Dv(l){return l.nodeType===9?l:l.ownerDocument}function $T(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eN(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function NS(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var jS=null;function xU(){var l=window.event;return l&&l.type==="popstate"?l===jS?!1:(jS=l,!0):(jS=null,!1)}var tN=typeof setTimeout=="function"?setTimeout:void 0,yU=typeof clearTimeout=="function"?clearTimeout:void 0,nN=typeof Promise=="function"?Promise:void 0,vU=typeof queueMicrotask=="function"?queueMicrotask:typeof nN<"u"?function(l){return nN.resolve(null).then(l).catch(bU)}:tN;function bU(l){setTimeout(function(){throw l})}function Vu(l){return l==="head"}function iN(l,u){var g=u,v=0,C=0;do{var O=g.nextSibling;if(l.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(0<v&&8>v){g=v;var J=l.ownerDocument;if(g&1&&c0(J.documentElement),g&2&&c0(J.body),g&4)for(g=J.head,c0(g),J=g.firstChild;J;){var ne=J.nextSibling,pe=J.nodeName;J[kt]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&J.rel.toLowerCase()==="stylesheet"||g.removeChild(J),J=ne}}if(C===0){l.removeChild(O),x0(u);return}C--}else g==="$"||g==="$?"||g==="$!"?C++:v=g.charCodeAt(0)-48;else v=0;g=O}while(g);x0(u)}function RS(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":RS(g),Et(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function wU(l,u,g,v){for(;l.nodeType===1;){var C=g;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[kt])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(O=l.getAttribute("rel"),O==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(O!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(O=l.getAttribute("src"),(O!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&O&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var O=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===O)return l}else return l;if(l=Jo(l.nextSibling),l===null)break}return null}function SU(l,u,g){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Jo(l.nextSibling),l===null))return null;return l}function BS(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function AU(l,u){var g=l.ownerDocument;if(l.data!=="$?"||g.readyState==="complete")u();else{var v=function(){u(),g.removeEventListener("DOMContentLoaded",v)};g.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Jo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var DS=null;function sN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return l;u--}else g==="/$"&&u++}l=l.previousSibling}return null}function rN(l,u,g){switch(u=Dv(g),l){case"html":if(l=u.documentElement,!l)throw Error(i(452));return l;case"head":if(l=u.head,!l)throw Error(i(453));return l;case"body":if(l=u.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function c0(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Et(l)}var ho=new Map,aN=new Set;function Ov(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Dc=I.d;I.d={f:_U,r:EU,D:CU,C:MU,L:TU,m:NU,X:RU,S:jU,M:BU};function _U(){var l=Dc.f(),u=co();return l||u}function EU(l){var u=Hn(l);u!==null&&u.tag===5&&u.type==="form"?fv(u):Dc.r(l)}var jp=typeof document>"u"?null:document;function oN(l,u,g){var v=jp;if(v&&typeof u=="string"&&u){var C=es(u);C='link[rel="'+l+'"][href="'+C+'"]',typeof g=="string"&&(C+='[crossorigin="'+g+'"]'),aN.has(C)||(aN.add(C),l={rel:l,crossOrigin:g,href:u},v.querySelector(C)===null&&(u=v.createElement("link"),nr(u,"link",l),mn(u),v.head.appendChild(u)))}}function CU(l){Dc.D(l),oN("dns-prefetch",l,null)}function MU(l,u){Dc.C(l,u),oN("preconnect",l,u)}function TU(l,u,g){Dc.L(l,u,g);var v=jp;if(v&&l&&u){var C='link[rel="preload"][as="'+es(u)+'"]';u==="image"&&g&&g.imageSrcSet?(C+='[imagesrcset="'+es(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(C+='[imagesizes="'+es(g.imageSizes)+'"]')):C+='[href="'+es(l)+'"]';var O=C;switch(u){case"style":O=Rp(l);break;case"script":O=Bp(l)}ho.has(O)||(l=m({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:l,as:u},g),ho.set(O,l),v.querySelector(C)!==null||u==="style"&&v.querySelector(u0(O))||u==="script"&&v.querySelector(d0(O))||(u=v.createElement("link"),nr(u,"link",l),mn(u),v.head.appendChild(u)))}}function NU(l,u){Dc.m(l,u);var g=jp;if(g&&l){var v=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+es(v)+'"][href="'+es(l)+'"]',O=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Bp(l)}if(!ho.has(O)&&(l=m({rel:"modulepreload",href:l},u),ho.set(O,l),g.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(d0(O)))return}v=g.createElement("link"),nr(v,"link",l),mn(v),g.head.appendChild(v)}}}function jU(l,u,g){Dc.S(l,u,g);var v=jp;if(v&&l){var C=Si(v).hoistableStyles,O=Rp(l);u=u||"default";var J=C.get(O);if(!J){var ne={loading:0,preload:null};if(J=v.querySelector(u0(O)))ne.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":u},g),(g=ho.get(O))&&OS(l,g);var pe=J=v.createElement("link");mn(pe),nr(pe,"link",l),pe._p=new Promise(function(Ie,it){pe.onload=Ie,pe.onerror=it}),pe.addEventListener("load",function(){ne.loading|=1}),pe.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Pv(J,u,v)}J={type:"stylesheet",instance:J,count:1,state:ne},C.set(O,J)}}}function RU(l,u){Dc.X(l,u);var g=jp;if(g&&l){var v=Si(g).hoistableScripts,C=Bp(l),O=v.get(C);O||(O=g.querySelector(d0(C)),O||(l=m({src:l,async:!0},u),(u=ho.get(C))&&PS(l,u),O=g.createElement("script"),mn(O),nr(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(C,O))}}function BU(l,u){Dc.M(l,u);var g=jp;if(g&&l){var v=Si(g).hoistableScripts,C=Bp(l),O=v.get(C);O||(O=g.querySelector(d0(C)),O||(l=m({src:l,async:!0,type:"module"},u),(u=ho.get(C))&&PS(l,u),O=g.createElement("script"),mn(O),nr(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(C,O))}}function lN(l,u,g,v){var C=(C=ue.current)?Ov(C):null;if(!C)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=Rp(g.href),g=Si(C).hoistableStyles,v=g.get(u),v||(v={type:"style",instance:null,count:0,state:null},g.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=Rp(g.href);var O=Si(C).hoistableStyles,J=O.get(l);if(J||(C=C.ownerDocument||C,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(l,J),(O=C.querySelector(u0(l)))&&!O._p&&(J.instance=O,J.state.loading=5),ho.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ho.set(l,g),O||DU(C,l,g,J.state))),u&&v===null)throw Error(i(528,""));return J}if(u&&v!==null)throw Error(i(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Bp(g),g=Si(C).hoistableScripts,v=g.get(u),v||(v={type:"script",instance:null,count:0,state:null},g.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function Rp(l){return'href="'+es(l)+'"'}function u0(l){return'link[rel="stylesheet"]['+l+"]"}function cN(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function DU(l,u,g,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),nr(u,"link",g),mn(u),l.head.appendChild(u))}function Bp(l){return'[src="'+es(l)+'"]'}function d0(l){return"script[async]"+l}function uN(l,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+es(g.href)+'"]');if(v)return u.instance=v,mn(v),v;var C=m({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),mn(v),nr(v,"style",C),Pv(v,g.precedence,l),u.instance=v;case"stylesheet":C=Rp(g.href);var O=l.querySelector(u0(C));if(O)return u.state.loading|=4,u.instance=O,mn(O),O;v=cN(g),(C=ho.get(C))&&OS(v,C),O=(l.ownerDocument||l).createElement("link"),mn(O);var J=O;return J._p=new Promise(function(ne,pe){J.onload=ne,J.onerror=pe}),nr(O,"link",v),u.state.loading|=4,Pv(O,g.precedence,l),u.instance=O;case"script":return O=Bp(g.src),(C=l.querySelector(d0(O)))?(u.instance=C,mn(C),C):(v=g,(C=ho.get(O))&&(v=m({},g),PS(v,C)),l=l.ownerDocument||l,C=l.createElement("script"),mn(C),nr(C,"link",v),l.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,Pv(v,g.precedence,l));return u.instance}function Pv(l,u,g){for(var v=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,O=C,J=0;J<v.length;J++){var ne=v[J];if(ne.dataset.precedence===u)O=ne;else if(O!==C)break}O?O.parentNode.insertBefore(l,O.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(l,u.firstChild))}function OS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function PS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Lv=null;function dN(l,u,g){if(Lv===null){var v=new Map,C=Lv=new Map;C.set(g,v)}else C=Lv,v=C.get(g),v||(v=new Map,C.set(g,v));if(v.has(l))return v;for(v.set(l,null),g=g.getElementsByTagName(l),C=0;C<g.length;C++){var O=g[C];if(!(O[kt]||O[ot]||l==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var J=O.getAttribute(u)||"";J=l+J;var ne=v.get(J);ne?ne.push(O):v.set(J,[O])}}return v}function hN(l,u,g){l=l.ownerDocument||l,l.head.insertBefore(g,u==="title"?l.querySelector("head > title"):null)}function OU(l,u,g){if(g===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function fN(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var h0=null;function PU(){}function LU(l,u,g){if(h0===null)throw Error(i(475));var v=h0;if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=Rp(g.href),O=l.querySelector(u0(C));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(v.count++,v=Iv.bind(v),l.then(v,v)),u.state.loading|=4,u.instance=O,mn(O);return}O=l.ownerDocument||l,g=cN(g),(C=ho.get(C))&&OS(g,C),O=O.createElement("link"),mn(O);var J=O;J._p=new Promise(function(ne,pe){J.onload=ne,J.onerror=pe}),nr(O,"link",g),u.instance=O}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=Iv.bind(v),l.addEventListener("load",u),l.addEventListener("error",u))}}function IU(){if(h0===null)throw Error(i(475));var l=h0;return l.stylesheets&&l.count===0&&LS(l,l.stylesheets),0<l.count?function(u){var g=setTimeout(function(){if(l.stylesheets&&LS(l,l.stylesheets),l.unsuspend){var v=l.unsuspend;l.unsuspend=null,v()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(g)}}:null}function Iv(){if(this.count--,this.count===0){if(this.stylesheets)LS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Uv=null;function LS(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Uv=new Map,u.forEach(UU,l),Uv=null,Iv.call(l))}function UU(l,u){if(!(u.state.loading&4)){var g=Uv.get(l);if(g)var v=g.get(null);else{g=new Map,Uv.set(l,g);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<C.length;O++){var J=C[O];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(g.set(J.dataset.precedence,J),v=J)}v&&g.set(null,v)}C=u.instance,J=C.getAttribute("data-precedence"),O=g.get(J)||v,O===v&&g.set(null,C),g.set(J,C),this.count++,v=Iv.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),O?O.parentNode.insertBefore(C,O.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),u.state.loading|=4}}var f0={$$typeof:N,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function kU(l,u,g,v,C,O,J,ne){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.hiddenUpdates=ht(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=O,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function pN(l,u,g,v,C,O,J,ne,pe,Ie,it,lt){return l=new kU(l,u,g,J,ne,pe,Ie,lt),u=1,O===!0&&(u|=24),O=hr(3,null,null,u),l.current=O,O.stateNode=l,u=$f(),u.refCount++,l.pooledCache=u,u.refCount++,O.memoizedState={element:v,isDehydrated:g,cache:u},Ig(O),l}function mN(l){return l?(l=Sl,l):Sl}function gN(l,u,g,v,C,O){C=mN(C),v.context===null?v.context=C:v.pendingContext=C,v=Za(u),v.payload={element:g},O=O===void 0?null:O,O!==null&&(v.callback=O),g=Fo(l,v,u),g!==null&&(tr(g,l,u),mc(g,l,u))}function xN(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function IS(l,u){xN(l,u),(l=l.alternate)&&xN(l,u)}function yN(l){if(l.tag===13){var u=Po(l,67108864);u!==null&&tr(u,l,67108864),IS(l,67108864)}}var kv=!0;function FU(l,u,g,v){var C=z.T;z.T=null;var O=I.p;try{I.p=2,US(l,u,g,v)}finally{I.p=O,z.T=C}}function zU(l,u,g,v){var C=z.T;z.T=null;var O=I.p;try{I.p=8,US(l,u,g,v)}finally{I.p=O,z.T=C}}function US(l,u,g,v){if(kv){var C=kS(v);if(C===null)ES(l,u,v,Fv,g),bN(l,v);else if(VU(C,l,u,g,v))v.stopPropagation();else if(bN(l,v),u&4&&-1<HU.indexOf(l)){for(;C!==null;){var O=Hn(C);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var J=Ct(O.pendingLanes);if(J!==0){var ne=O;for(ne.pendingLanes|=2,ne.entangledLanes|=2;J;){var pe=1<<31-_t(J);ne.entanglements[1]|=pe,J&=~pe}Wl(O),(ni&6)===0&&(Fs=ge()+500,a0(0))}}break;case 13:ne=Po(O,2),ne!==null&&tr(ne,O,2),co(),IS(O,2)}if(O=kS(v),O===null&&ES(l,u,v,Fv,g),O===C)break;C=O}C!==null&&v.stopPropagation()}else ES(l,u,v,null,g)}}function kS(l){return l=Of(l),FS(l)}var Fv=null;function FS(l){if(Fv=null,l=pn(l),l!==null){var u=a(l);if(u===null)l=null;else{var g=u.tag;if(g===13){if(l=o(u),l!==null)return l;l=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Fv=l,null}function vN(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Ue:return 2;case _e:return 8;case $e:case et:return 32;case te:return 268435456;default:return 32}default:return 32}}var zS=!1,Gu=null,qu=null,Wu=null,p0=new Map,m0=new Map,Xu=[],HU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bN(l,u){switch(l){case"focusin":case"focusout":Gu=null;break;case"dragenter":case"dragleave":qu=null;break;case"mouseover":case"mouseout":Wu=null;break;case"pointerover":case"pointerout":p0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":m0.delete(u.pointerId)}}function g0(l,u,g,v,C,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:g,eventSystemFlags:v,nativeEvent:O,targetContainers:[C]},u!==null&&(u=Hn(u),u!==null&&yN(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),l)}function VU(l,u,g,v,C){switch(u){case"focusin":return Gu=g0(Gu,l,u,g,v,C),!0;case"dragenter":return qu=g0(qu,l,u,g,v,C),!0;case"mouseover":return Wu=g0(Wu,l,u,g,v,C),!0;case"pointerover":var O=C.pointerId;return p0.set(O,g0(p0.get(O)||null,l,u,g,v,C)),!0;case"gotpointercapture":return O=C.pointerId,m0.set(O,g0(m0.get(O)||null,l,u,g,v,C)),!0}return!1}function wN(l){var u=pn(l.target);if(u!==null){var g=a(u);if(g!==null){if(u=g.tag,u===13){if(u=o(g),u!==null){l.blockedOn=u,Ce(l.priority,function(){if(g.tag===13){var v=Li();v=Gt(v);var C=Po(g,v);C!==null&&tr(C,g,v),IS(g,v)}});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function zv(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var g=kS(l.nativeEvent);if(g===null){g=l.nativeEvent;var v=new g.constructor(g.type,g);Df=v,g.target.dispatchEvent(v),Df=null}else return u=Hn(g),u!==null&&yN(u),l.blockedOn=g,!1;u.shift()}return!0}function SN(l,u,g){zv(l)&&g.delete(u)}function GU(){zS=!1,Gu!==null&&zv(Gu)&&(Gu=null),qu!==null&&zv(qu)&&(qu=null),Wu!==null&&zv(Wu)&&(Wu=null),p0.forEach(SN),m0.forEach(SN)}function Hv(l,u){l.blockedOn===u&&(l.blockedOn=null,zS||(zS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GU)))}var Vv=null;function AN(l){Vv!==l&&(Vv=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vv===l&&(Vv=null);for(var u=0;u<l.length;u+=3){var g=l[u],v=l[u+1],C=l[u+2];if(typeof v!="function"){if(FS(v||g)===null)continue;break}var O=Hn(g);O!==null&&(l.splice(u,3),u-=3,$g(O,{pending:!0,data:C,method:g.method,action:v},v,C))}}))}function x0(l){function u(pe){return Hv(pe,l)}Gu!==null&&Hv(Gu,l),qu!==null&&Hv(qu,l),Wu!==null&&Hv(Wu,l),p0.forEach(u),m0.forEach(u);for(var g=0;g<Xu.length;g++){var v=Xu[g];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Xu.length&&(g=Xu[0],g.blockedOn===null);)wN(g),g.blockedOn===null&&Xu.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(v=0;v<g.length;v+=3){var C=g[v],O=g[v+1],J=C[ft]||null;if(typeof O=="function")J||AN(g);else if(J){var ne=null;if(O&&O.hasAttribute("formAction")){if(C=O,J=O[ft]||null)ne=J.formAction;else if(FS(C)!==null)continue}else ne=J.action;typeof ne=="function"?g[v+1]=ne:(g.splice(v,3),v-=3),AN(g)}}}function HS(l){this._internalRoot=l}Gv.prototype.render=HS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(i(409));var g=u.current,v=Li();gN(g,v,l,u,null,null)},Gv.prototype.unmount=HS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;gN(l.current,2,null,l,null,null),co(),u[It]=null}};function Gv(l){this._internalRoot=l}Gv.prototype.unstable_scheduleHydration=function(l){if(l){var u=de();l={blockedOn:null,target:l,priority:u};for(var g=0;g<Xu.length&&u!==0&&u<Xu[g].priority;g++);Xu.splice(g,0,l),g===0&&wN(l)}};var _N=e.version;if(_N!=="19.1.1")throw Error(i(527,_N,"19.1.1"));I.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=d(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var qU={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qv.isDisabled&&qv.supportsFiber)try{Oe=qv.inject(qU),Xe=qv}catch{}}return v0.createRoot=function(l,u){if(!s(l))throw Error(i(299));var g=!1,v="",C=hh,O=gp,J=Ev,ne=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ne=u.unstable_transitionCallbacks)),u=pN(l,1,!1,null,null,g,v,C,O,J,ne,null),l[It]=u.current,_S(l),new HS(u)},v0.hydrateRoot=function(l,u,g){if(!s(l))throw Error(i(299));var v=!1,C="",O=hh,J=gp,ne=Ev,pe=null,Ie=null;return g!=null&&(g.unstable_strictMode===!0&&(v=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onUncaughtError!==void 0&&(O=g.onUncaughtError),g.onCaughtError!==void 0&&(J=g.onCaughtError),g.onRecoverableError!==void 0&&(ne=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(pe=g.unstable_transitionCallbacks),g.formState!==void 0&&(Ie=g.formState)),u=pN(l,1,!0,u,g??null,v,C,O,J,ne,pe,Ie),u.context=mN(null),g=u.current,v=Li(),v=Gt(v),C=Za(v),C.callback=null,Fo(g,C,v),g=v,u.current.lanes=g,At(u,g),Wl(u),l[It]=u.current,_S(l),new Gv(u)},v0.version="19.1.1",v0}var ON;function tk(){if(ON)return qS.exports;ON=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qS.exports=ek(),qS.exports}var nk=tk();const ik=Af(nk);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iD=n=>{throw TypeError(n)},sk=(n,e,t)=>e.has(n)||iD("Cannot "+t),KS=(n,e,t)=>(sk(n,e,"read from private field"),t?t.call(n):e.get(n)),rk=(n,e,t)=>e.has(n)?iD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),PN="popstate";function ak(n={}){function e(i,s){let{pathname:a,search:o,hash:c}=i.location;return gx("",{pathname:a,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:md(s)}return lk(e,t,null,n)}function Un(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $i(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ok(){return Math.random().toString(36).substring(2,10)}function LN(n,e){return{usr:n.state,key:n.key,idx:e}}function gx(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ad(e):e,state:t,key:e&&e.key||i||ok()}}function md({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ad(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function lk(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function x(){c="POP";let E=m(),A=E==null?null:E-h;h=E,d&&d({action:c,location:_.location,delta:A})}function y(E,A){c="PUSH";let P=gx(_.location,E,A);h=m()+1;let N=LN(P,h),L=_.createHref(P);try{o.pushState(N,"",L)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(L)}a&&d&&d({action:c,location:_.location,delta:1})}function b(E,A){c="REPLACE";let P=gx(_.location,E,A);h=m();let N=LN(P,h),L=_.createHref(P);o.replaceState(N,"",L),a&&d&&d({action:c,location:_.location,delta:0})}function S(E){return sD(E)}let _={get action(){return c},get location(){return n(s,o)},listen(E){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(PN,x),d=E,()=>{s.removeEventListener(PN,x),d=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let A=S(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:b,go(E){return o.go(E)}};return _}function sD(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Un(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:md(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var q0,IN=class{constructor(n){if(rk(this,q0,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(KS(this,q0).has(n))return KS(this,q0).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){KS(this,q0).set(n,e)}};q0=new WeakMap;var ck=new Set(["lazy","caseSensitive","path","id","index","children"]);function uk(n){return ck.has(n)}var dk=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function hk(n){return dk.has(n)}function fk(n){return n.index===!0}function xx(n,e,t=[],i={},s=!1){return n.map((a,o)=>{let c=[...t,String(o)],d=typeof a.id=="string"?a.id:c.join("-");if(Un(a.index!==!0||!a.children,"Cannot specify children on an index route"),Un(s||!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),fk(a)){let h={...a,...e(a),id:d};return i[d]=h,h}else{let h={...a,...e(a),id:d,children:void 0};return i[d]=h,a.children&&(h.children=xx(a.children,e,c,i,s)),h}})}function od(n,e,t="/"){return s1(n,e,t,!1)}function s1(n,e,t,i){let s=typeof e=="string"?Ad(e):e,a=wo(s.pathname||"/",t);if(a==null)return null;let o=rD(n);mk(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=Ck(a);c=_k(o[d],h,i)}return c}function pk(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function rD(n,e=[],t=[],i=""){let s=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Un(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=Zl([i,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(Un(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),rD(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:Sk(h,a.index),routesMeta:m})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let c of aD(a.path))s(a,o,c)}),e}function aD(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let o=aD(i.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...o),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function mk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ak(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gk=/^:[\w-]+$/,xk=3,yk=2,vk=1,bk=10,wk=-2,UN=n=>n==="*";function Sk(n,e){let t=n.split("/"),i=t.length;return t.some(UN)&&(i+=wk),e&&(i+=yk),t.filter(s=>!UN(s)).reduce((s,a)=>s+(gk.test(a)?xk:a===""?vk:bk),i)}function Ak(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function _k(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",o=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",x=j1({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),y=d.route;if(!x&&h&&t&&!i[i.length-1].route.index&&(x=j1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!x)return null;Object.assign(s,x.params),o.push({params:s,pathname:Zl([a,x.pathname]),pathnameBase:jk(Zl([a,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(a=Zl([a,x.pathnameBase]))}return o}function j1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Ek(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:x},y)=>{if(m==="*"){let S=c[y]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[y];return x&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:n}}function Ek(n,e=!1,t=!0){$i(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Ck(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function wo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Mk({basename:n,pathname:e}){return e==="/"?n:Zl([n,e])}function Tk(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Ad(n):n;return{pathname:t?t.startsWith("/")?t:Nk(t,e):e,search:Rk(i),hash:Bk(s)}}function Nk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function JS(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kw(n){let e=oD(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Jw(n,e,t,i=!1){let s;typeof n=="string"?s=Ad(n):(s={...n},Un(!s.pathname||!s.pathname.includes("?"),JS("?","pathname","search",s)),Un(!s.pathname||!s.pathname.includes("#"),JS("#","pathname","hash",s)),Un(!s.search||!s.search.includes("#"),JS("#","search","hash",s)));let a=n===""||s.pathname==="",o=a?"/":s.pathname,c;if(o==null)c=t;else{let x=e.length-1;if(!i&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),x-=1;s.pathname=y.join("/")}c=x>=0?e[x]:"/"}let d=Tk(s,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Zl=n=>n.join("/").replace(/\/\/+/g,"/"),jk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Rk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Bk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,R1=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function yx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lD=["POST","PUT","PATCH","DELETE"],Dk=new Set(lD),Ok=["GET",...lD],Pk=new Set(Ok),Lk=new Set([301,302,303,307,308]),Ik=new Set([307,308]),QS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},b0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TC=n=>kk.test(n),Fk=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),cD="remix-router-transitions",uD=Symbol("ResetLoaderData");function zk(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Un(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||Fk,a={},o=xx(n.routes,s,void 0,a),c,d=n.basename||"/",h=n.dataStrategy||Wk,m={unstable_middleware:!1,...n.future},x=null,y=new Set,b=null,S=null,_=null,E=n.hydrationData!=null,A=od(o,n.history.location,d),P=!1,N=null,L;if(A==null&&!n.patchRoutesOnNavigation){let de=xo(404,{pathname:n.history.location.pathname}),{matches:Ce,route:Le}=JN(o);L=!0,A=Ce,N={[Le.id]:de}}else if(A&&!n.hydrationData&&tt(A,o,n.history.location.pathname).active&&(A=null),A)if(A.some(de=>de.route.lazy))L=!1;else if(!A.some(de=>de.route.loader))L=!0;else{let de=n.hydrationData?n.hydrationData.loaderData:null,Ce=n.hydrationData?n.hydrationData.errors:null;if(Ce){let Le=A.findIndex(ot=>Ce[ot.route.id]!==void 0);L=A.slice(0,Le+1).every(ot=>!oE(ot.route,de,Ce))}else L=A.every(Le=>!oE(Le.route,de,Ce))}else{L=!1,A=[];let de=tt(null,o,n.history.location.pathname);de.active&&de.matches&&(P=!0,A=de.matches)}let j,R={historyAction:n.history.action,location:n.history.location,matches:A,initialized:L,navigation:QS,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||N,fetchers:new Map,blockers:new Map},k="POP",F=!1,D,B=!1,q=new Map,Y=null,G=!1,W=!1,$=new Set,z=new Map,I=0,Q=-1,K=new Map,T=new Set,X=new Map,ee=new Map,oe=new Set,ce=new Map,re,ue=null;function ye(){if(x=n.history.listen(({action:de,location:Ce,delta:Le})=>{if(re){re(),re=void 0;return}$i(ce.size===0||Le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ot=ct({currentLocation:R.location,nextLocation:Ce,historyAction:de});if(ot&&Le!=null){let ft=new Promise(It=>{re=It});n.history.go(Le*-1),Ne(ot,{state:"blocked",location:Ce,proceed(){Ne(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),ft.then(()=>n.history.go(Le))},reset(){let It=new Map(R.blockers);It.set(ot,b0),We({blockers:It})}});return}return Me(de,Ce)}),t){i8(e,q);let de=()=>s8(e,q);e.addEventListener("pagehide",de),Y=()=>e.removeEventListener("pagehide",de)}return R.initialized||Me("POP",R.location,{initialHydration:!0}),j}function Ve(){x&&x(),Y&&Y(),y.clear(),D&&D.abort(),R.fetchers.forEach((de,Ce)=>_t(Ce)),R.blockers.forEach((de,Ce)=>he(Ce))}function Qe(de){return y.add(de),()=>y.delete(de)}function We(de,Ce={}){de.matches&&(de.matches=de.matches.map(ft=>{let It=a[ft.route.id],Ut=ft.route;return Ut.element!==It.element||Ut.errorElement!==It.errorElement||Ut.hydrateFallbackElement!==It.hydrateFallbackElement?{...ft,route:It}:ft})),R={...R,...de};let Le=[],ot=[];R.fetchers.forEach((ft,It)=>{ft.state==="idle"&&(oe.has(It)?Le.push(It):ot.push(It))}),oe.forEach(ft=>{!R.fetchers.has(ft)&&!z.has(ft)&&Le.push(ft)}),[...y].forEach(ft=>ft(R,{deletedFetchers:Le,viewTransitionOpts:Ce.viewTransitionOpts,flushSync:Ce.flushSync===!0})),Le.forEach(ft=>_t(ft)),ot.forEach(ft=>R.fetchers.delete(ft))}function mt(de,Ce,{flushSync:Le}={}){let ot=R.actionData!=null&&R.navigation.formMethod!=null&&pa(R.navigation.formMethod)&&R.navigation.state==="loading"&&de.state?._isRedirect!==!0,ft;Ce.actionData?Object.keys(Ce.actionData).length>0?ft=Ce.actionData:ft=null:ot?ft=R.actionData:ft=null;let It=Ce.loaderData?YN(R.loaderData,Ce.loaderData,Ce.matches||[],Ce.errors):R.loaderData,Ut=R.blockers;Ut.size>0&&(Ut=new Map(Ut),Ut.forEach((kt,Et)=>Ut.set(Et,b0)));let Vt=G?!1:gt(de,Ce.matches||R.matches),Ft=F===!0||R.navigation.formMethod!=null&&pa(R.navigation.formMethod)&&de.state?._isRedirect!==!0;c&&(o=c,c=void 0),G||k==="POP"||(k==="PUSH"?n.history.push(de,de.state):k==="REPLACE"&&n.history.replace(de,de.state));let qt;if(k==="POP"){let kt=q.get(R.location.pathname);kt&&kt.has(de.pathname)?qt={currentLocation:R.location,nextLocation:de}:q.has(de.pathname)&&(qt={currentLocation:de,nextLocation:R.location})}else if(B){let kt=q.get(R.location.pathname);kt?kt.add(de.pathname):(kt=new Set([de.pathname]),q.set(R.location.pathname,kt)),qt={currentLocation:R.location,nextLocation:de}}We({...Ce,actionData:ft,loaderData:It,historyAction:k,location:de,initialized:!0,navigation:QS,revalidation:"idle",restoreScrollPosition:Vt,preventScrollReset:Ft,blockers:Ut},{viewTransitionOpts:qt,flushSync:Le===!0}),k="POP",F=!1,B=!1,G=!1,W=!1,ue?.resolve(),ue=null}async function ut(de,Ce){if(typeof de=="number"){n.history.go(de);return}let Le=aE(R.location,R.matches,d,de,Ce?.fromRouteId,Ce?.relative),{path:ot,submission:ft,error:It}=kN(!1,Le,Ce),Ut=R.location,Vt=gx(R.location,ot,Ce&&Ce.state);Vt={...Vt,...n.history.encodeLocation(Vt)};let Ft=Ce&&Ce.replace!=null?Ce.replace:void 0,qt="PUSH";Ft===!0?qt="REPLACE":Ft===!1||ft!=null&&pa(ft.formMethod)&&ft.formAction===R.location.pathname+R.location.search&&(qt="REPLACE");let kt=Ce&&"preventScrollReset"in Ce?Ce.preventScrollReset===!0:void 0,Et=(Ce&&Ce.flushSync)===!0,pn=ct({currentLocation:Ut,nextLocation:Vt,historyAction:qt});if(pn){Ne(pn,{state:"blocked",location:Vt,proceed(){Ne(pn,{state:"proceeding",proceed:void 0,reset:void 0,location:Vt}),ut(de,Ce)},reset(){let Hn=new Map(R.blockers);Hn.set(pn,b0),We({blockers:Hn})}});return}await Me(qt,Vt,{submission:ft,pendingError:It,preventScrollReset:kt,replace:Ce&&Ce.replace,enableViewTransition:Ce&&Ce.viewTransition,flushSync:Et})}function le(){ue||(ue=r8()),xe(),We({revalidation:"loading"});let de=ue.promise;return R.navigation.state==="submitting"?de:R.navigation.state==="idle"?(Me(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),de):(Me(k||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:B===!0}),de)}async function Me(de,Ce,Le){D&&D.abort(),D=null,k=de,G=(Le&&Le.startUninterruptedRevalidation)===!0,At(R.location,R.matches),F=(Le&&Le.preventScrollReset)===!0,B=(Le&&Le.enableViewTransition)===!0;let ot=c||o,ft=Le&&Le.overrideNavigation,It=Le?.initialHydration&&R.matches&&R.matches.length>0&&!P?R.matches:od(ot,Ce,d),Ut=(Le&&Le.flushSync)===!0;if(It&&R.initialized&&!W&&Zk(R.location,Ce)&&!(Le&&Le.submission&&pa(Le.submission.formMethod))){mt(Ce,{matches:It},{flushSync:Ut});return}let Vt=tt(It,ot,Ce.pathname);if(Vt.active&&Vt.matches&&(It=Vt.matches),!It){let{error:Si,notFoundMatches:mn,route:Yn}=fe(Ce.pathname);mt(Ce,{matches:mn,loaderData:{},errors:{[Yn.id]:Si}},{flushSync:Ut});return}D=new AbortController;let Ft=sm(n.history,Ce,D.signal,Le&&Le.submission),qt=new IN(n.unstable_getContext?await n.unstable_getContext():void 0),kt;if(Le&&Le.pendingError)kt=[Gh(It).route.id,{type:"error",error:Le.pendingError}];else if(Le&&Le.submission&&pa(Le.submission.formMethod)){let Si=await Ae(Ft,Ce,Le.submission,It,qt,Vt.active,Le&&Le.initialHydration===!0,{replace:Le.replace,flushSync:Ut});if(Si.shortCircuited)return;if(Si.pendingActionResult){let[mn,Yn]=Si.pendingActionResult;if(La(Yn)&&yx(Yn.error)&&Yn.error.status===404){D=null,mt(Ce,{matches:Si.matches,loaderData:{},errors:{[mn]:Yn.error}});return}}It=Si.matches||It,kt=Si.pendingActionResult,ft=ZS(Ce,Le.submission),Ut=!1,Vt.active=!1,Ft=sm(n.history,Ft.url,Ft.signal)}let{shortCircuited:Et,matches:pn,loaderData:Hn,errors:wi}=await we(Ft,Ce,It,qt,Vt.active,ft,Le&&Le.submission,Le&&Le.fetcherSubmission,Le&&Le.replace,Le&&Le.initialHydration===!0,Ut,kt);Et||(D=null,mt(Ce,{matches:pn||It,...KN(kt),loaderData:Hn,errors:wi}))}async function Ae(de,Ce,Le,ot,ft,It,Ut,Vt={}){xe();let Ft=t8(Ce,Le);if(We({navigation:Ft},{flushSync:Vt.flushSync===!0}),It){let Et=await Mt(ot,Ce.pathname,de.signal);if(Et.type==="aborted")return{shortCircuited:!0};if(Et.type==="error"){let pn=Gh(Et.partialMatches).route.id;return{matches:Et.partialMatches,pendingActionResult:[pn,{type:"error",error:Et.error}]}}else if(Et.matches)ot=Et.matches;else{let{notFoundMatches:pn,error:Hn,route:wi}=fe(Ce.pathname);return{matches:pn,pendingActionResult:[wi.id,{type:"error",error:Hn}]}}}let qt,kt=r1(ot,Ce);if(!kt.route.action&&!kt.route.lazy)qt={type:"error",error:xo(405,{method:de.method,pathname:Ce.pathname,routeId:kt.route.id})};else{let Et=hm(s,a,de,ot,kt,Ut?[]:i,ft),pn=await te(de,Et,ft,null);if(qt=pn[kt.route.id],!qt){for(let Hn of ot)if(pn[Hn.route.id]){qt=pn[Hn.route.id];break}}if(de.signal.aborted)return{shortCircuited:!0}}if(Wh(qt)){let Et;return Vt&&Vt.replace!=null?Et=Vt.replace:Et=qN(qt.response.headers.get("Location"),new URL(de.url),d)===R.location.pathname+R.location.search,await et(de,qt,!0,{submission:Le,replace:Et}),{shortCircuited:!0}}if(La(qt)){let Et=Gh(ot,kt.route.id);return(Vt&&Vt.replace)!==!0&&(k="PUSH"),{matches:ot,pendingActionResult:[Et.route.id,qt,kt.route.id]}}return{matches:ot,pendingActionResult:[kt.route.id,qt]}}async function we(de,Ce,Le,ot,ft,It,Ut,Vt,Ft,qt,kt,Et){let pn=It||ZS(Ce,Ut),Hn=Ut||Vt||ZN(pn),wi=!G&&!qt;if(ft){if(wi){let Dt=ge(Et);We({navigation:pn,...Dt!==void 0?{actionData:Dt}:{}},{flushSync:kt})}let dt=await Mt(Le,Ce.pathname,de.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Dt=Gh(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Dt]:dt.error}}}else if(dt.matches)Le=dt.matches;else{let{error:Dt,notFoundMatches:Kt,route:zt}=fe(Ce.pathname);return{matches:Kt,loaderData:{},errors:{[zt.id]:Dt}}}}let Si=c||o,{dsMatches:mn,revalidatingFetchers:Yn}=FN(de,ot,s,a,n.history,R,Le,Hn,Ce,qt?[]:i,qt===!0,W,$,oe,X,T,Si,d,n.patchRoutesOnNavigation!=null,Et);if(Q=++I,!n.dataStrategy&&!mn.some(dt=>dt.shouldLoad)&&Yn.length===0){let dt=Pe();return mt(Ce,{matches:Le,loaderData:{},errors:Et&&La(Et[1])?{[Et[0]]:Et[1].error}:null,...KN(Et),...dt?{fetchers:new Map(R.fetchers)}:{}},{flushSync:kt}),{shortCircuited:!0}}if(wi){let dt={};if(!ft){dt.navigation=pn;let Dt=ge(Et);Dt!==void 0&&(dt.actionData=Dt)}Yn.length>0&&(dt.fetchers=Be(Yn)),We(dt,{flushSync:kt})}Yn.forEach(dt=>{Tt(dt.key),dt.controller&&z.set(dt.key,dt.controller)});let or=()=>Yn.forEach(dt=>Tt(dt.key));D&&D.signal.addEventListener("abort",or);let{loaderResults:ie,fetcherResults:ve}=await Z(mn,Yn,de,ot);if(de.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",or),Yn.forEach(dt=>z.delete(dt.key));let je=Xv(ie);if(je)return await et(de,je.result,!0,{replace:Ft}),{shortCircuited:!0};if(je=Xv(ve),je)return T.add(je.key),await et(de,je.result,!0,{replace:Ft}),{shortCircuited:!0};let{loaderData:Fe,errors:Ee}=XN(R,Le,ie,Et,Yn,ve);qt&&R.errors&&(Ee={...R.errors,...Ee});let pt=Pe(),bt=Je(Q),jt=pt||bt||Yn.length>0;return{matches:Le,loaderData:Fe,errors:Ee,...jt?{fetchers:new Map(R.fetchers)}:{}}}function ge(de){if(de&&!La(de[1]))return{[de[0]]:de[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Be(de){return de.forEach(Ce=>{let Le=R.fetchers.get(Ce.key),ot=w0(void 0,Le?Le.data:void 0);R.fetchers.set(Ce.key,ot)}),new Map(R.fetchers)}async function Ue(de,Ce,Le,ot){Tt(de);let ft=(ot&&ot.flushSync)===!0,It=c||o,Ut=aE(R.location,R.matches,d,Le,Ce,ot?.relative),Vt=od(It,Ut,d),Ft=tt(Vt,It,Ut);if(Ft.active&&Ft.matches&&(Vt=Ft.matches),!Vt){Xe(de,Ce,xo(404,{pathname:Ut}),{flushSync:ft});return}let{path:qt,submission:kt,error:Et}=kN(!0,Ut,ot);if(Et){Xe(de,Ce,Et,{flushSync:ft});return}let pn=new IN(n.unstable_getContext?await n.unstable_getContext():void 0),Hn=(ot&&ot.preventScrollReset)===!0;if(kt&&pa(kt.formMethod)){await _e(de,Ce,qt,Vt,pn,Ft.active,ft,Hn,kt);return}X.set(de,{routeId:Ce,path:qt}),await $e(de,Ce,qt,Vt,pn,Ft.active,ft,Hn,kt)}async function _e(de,Ce,Le,ot,ft,It,Ut,Vt,Ft){xe(),X.delete(de);let qt=R.fetchers.get(de);Oe(de,n8(Ft,qt),{flushSync:Ut});let kt=new AbortController,Et=sm(n.history,Le,kt.signal,Ft);if(It){let Yt=await Mt(ot,new URL(Et.url).pathname,Et.signal,de);if(Yt.type==="aborted")return;if(Yt.type==="error"){Xe(de,Ce,Yt.error,{flushSync:Ut});return}else if(Yt.matches)ot=Yt.matches;else{Xe(de,Ce,xo(404,{pathname:Le}),{flushSync:Ut});return}}let pn=r1(ot,Le);if(!pn.route.action&&!pn.route.lazy){let Yt=xo(405,{method:Ft.formMethod,pathname:Le,routeId:Ce});Xe(de,Ce,Yt,{flushSync:Ut});return}z.set(de,kt);let Hn=I,wi=hm(s,a,Et,ot,pn,i,ft),mn=(await te(Et,wi,ft,de))[pn.route.id];if(Et.signal.aborted){z.get(de)===kt&&z.delete(de);return}if(oe.has(de)){if(Wh(mn)||La(mn)){Oe(de,rd(void 0));return}}else{if(Wh(mn))if(z.delete(de),Q>Hn){Oe(de,rd(void 0));return}else return T.add(de),Oe(de,w0(Ft)),et(Et,mn,!1,{fetcherSubmission:Ft,preventScrollReset:Vt});if(La(mn)){Xe(de,Ce,mn.error);return}}let Yn=R.navigation.location||R.location,or=sm(n.history,Yn,kt.signal),ie=c||o,ve=R.navigation.state!=="idle"?od(ie,R.navigation.location,d):R.matches;Un(ve,"Didn't find any matches after fetcher action");let je=++I;K.set(de,je);let Fe=w0(Ft,mn.data);R.fetchers.set(de,Fe);let{dsMatches:Ee,revalidatingFetchers:pt}=FN(or,ft,s,a,n.history,R,ve,Ft,Yn,i,!1,W,$,oe,X,T,ie,d,n.patchRoutesOnNavigation!=null,[pn.route.id,mn]);pt.filter(Yt=>Yt.key!==de).forEach(Yt=>{let Rn=Yt.key,li=R.fetchers.get(Rn),Zn=w0(void 0,li?li.data:void 0);R.fetchers.set(Rn,Zn),Tt(Rn),Yt.controller&&z.set(Rn,Yt.controller)}),We({fetchers:new Map(R.fetchers)});let bt=()=>pt.forEach(Yt=>Tt(Yt.key));kt.signal.addEventListener("abort",bt);let{loaderResults:jt,fetcherResults:dt}=await Z(Ee,pt,or,ft);if(kt.signal.aborted)return;if(kt.signal.removeEventListener("abort",bt),K.delete(de),z.delete(de),pt.forEach(Yt=>z.delete(Yt.key)),R.fetchers.has(de)){let Yt=rd(mn.data);R.fetchers.set(de,Yt)}let Dt=Xv(jt);if(Dt)return et(or,Dt.result,!1,{preventScrollReset:Vt});if(Dt=Xv(dt),Dt)return T.add(Dt.key),et(or,Dt.result,!1,{preventScrollReset:Vt});let{loaderData:Kt,errors:zt}=XN(R,ve,jt,void 0,pt,dt);Je(je),R.navigation.state==="loading"&&je>Q?(Un(k,"Expected pending action"),D&&D.abort(),mt(R.navigation.location,{matches:ve,loaderData:Kt,errors:zt,fetchers:new Map(R.fetchers)})):(We({errors:zt,loaderData:YN(R.loaderData,Kt,ve,zt),fetchers:new Map(R.fetchers)}),W=!1)}async function $e(de,Ce,Le,ot,ft,It,Ut,Vt,Ft){let qt=R.fetchers.get(de);Oe(de,w0(Ft,qt?qt.data:void 0),{flushSync:Ut});let kt=new AbortController,Et=sm(n.history,Le,kt.signal);if(It){let Yn=await Mt(ot,new URL(Et.url).pathname,Et.signal,de);if(Yn.type==="aborted")return;if(Yn.type==="error"){Xe(de,Ce,Yn.error,{flushSync:Ut});return}else if(Yn.matches)ot=Yn.matches;else{Xe(de,Ce,xo(404,{pathname:Le}),{flushSync:Ut});return}}let pn=r1(ot,Le);z.set(de,kt);let Hn=I,wi=hm(s,a,Et,ot,pn,i,ft),mn=(await te(Et,wi,ft,de))[pn.route.id];if(z.get(de)===kt&&z.delete(de),!Et.signal.aborted){if(oe.has(de)){Oe(de,rd(void 0));return}if(Wh(mn))if(Q>Hn){Oe(de,rd(void 0));return}else{T.add(de),await et(Et,mn,!1,{preventScrollReset:Vt});return}if(La(mn)){Xe(de,Ce,mn.error);return}Oe(de,rd(mn.data))}}async function et(de,Ce,Le,{submission:ot,fetcherSubmission:ft,preventScrollReset:It,replace:Ut}={}){Ce.response.headers.has("X-Remix-Revalidate")&&(W=!0);let Vt=Ce.response.headers.get("Location");Un(Vt,"Expected a Location header on the redirect Response"),Vt=qN(Vt,new URL(de.url),d);let Ft=gx(R.location,Vt,{_isRedirect:!0});if(t){let wi=!1;if(Ce.response.headers.has("X-Remix-Reload-Document"))wi=!0;else if(TC(Vt)){const Si=sD(Vt,!0);wi=Si.origin!==e.location.origin||wo(Si.pathname,d)==null}if(wi){Ut?e.location.replace(Vt):e.location.assign(Vt);return}}D=null;let qt=Ut===!0||Ce.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:kt,formAction:Et,formEncType:pn}=R.navigation;!ot&&!ft&&kt&&Et&&pn&&(ot=ZN(R.navigation));let Hn=ot||ft;if(Ik.has(Ce.response.status)&&Hn&&pa(Hn.formMethod))await Me(qt,Ft,{submission:{...Hn,formAction:Vt},preventScrollReset:It||F,enableViewTransition:Le?B:void 0});else{let wi=ZS(Ft,ot);await Me(qt,Ft,{overrideNavigation:wi,fetcherSubmission:ft,preventScrollReset:It||F,enableViewTransition:Le?B:void 0})}}async function te(de,Ce,Le,ot){let ft,It={};try{ft=await Xk(h,de,Ce,ot,Le,!1)}catch(Ut){return Ce.filter(Vt=>Vt.shouldLoad).forEach(Vt=>{It[Vt.route.id]={type:"error",error:Ut}}),It}if(de.signal.aborted)return It;for(let[Ut,Vt]of Object.entries(ft))if($k(Vt)){let Ft=Vt.result;It[Ut]={type:"redirect",response:Jk(Ft,de,Ut,Ce,d)}}else It[Ut]=await Kk(Vt);return It}async function Z(de,Ce,Le,ot){let ft=te(Le,de,ot,null),It=Promise.all(Ce.map(async Ft=>{if(Ft.matches&&Ft.match&&Ft.request&&Ft.controller){let kt=(await te(Ft.request,Ft.matches,ot,Ft.key))[Ft.match.route.id];return{[Ft.key]:kt}}else return Promise.resolve({[Ft.key]:{type:"error",error:xo(404,{pathname:Ft.path})}})})),Ut=await ft,Vt=(await It).reduce((Ft,qt)=>Object.assign(Ft,qt),{});return{loaderResults:Ut,fetcherResults:Vt}}function xe(){W=!0,X.forEach((de,Ce)=>{z.has(Ce)&&$.add(Ce),Tt(Ce)})}function Oe(de,Ce,Le={}){R.fetchers.set(de,Ce),We({fetchers:new Map(R.fetchers)},{flushSync:(Le&&Le.flushSync)===!0})}function Xe(de,Ce,Le,ot={}){let ft=Gh(R.matches,Ce);_t(de),We({errors:{[ft.route.id]:Le},fetchers:new Map(R.fetchers)},{flushSync:(ot&&ot.flushSync)===!0})}function He(de){return ee.set(de,(ee.get(de)||0)+1),oe.has(de)&&oe.delete(de),R.fetchers.get(de)||Uk}function _t(de){let Ce=R.fetchers.get(de);z.has(de)&&!(Ce&&Ce.state==="loading"&&K.has(de))&&Tt(de),X.delete(de),K.delete(de),T.delete(de),oe.delete(de),$.delete(de),R.fetchers.delete(de)}function yt(de){let Ce=(ee.get(de)||0)-1;Ce<=0?(ee.delete(de),oe.add(de)):ee.set(de,Ce),We({fetchers:new Map(R.fetchers)})}function Tt(de){let Ce=z.get(de);Ce&&(Ce.abort(),z.delete(de))}function Ot(de){for(let Ce of de){let Le=He(Ce),ot=rd(Le.data);R.fetchers.set(Ce,ot)}}function Pe(){let de=[],Ce=!1;for(let Le of T){let ot=R.fetchers.get(Le);Un(ot,`Expected fetcher: ${Le}`),ot.state==="loading"&&(T.delete(Le),de.push(Le),Ce=!0)}return Ot(de),Ce}function Je(de){let Ce=[];for(let[Le,ot]of K)if(ot<de){let ft=R.fetchers.get(Le);Un(ft,`Expected fetcher: ${Le}`),ft.state==="loading"&&(Tt(Le),K.delete(Le),Ce.push(Le))}return Ot(Ce),Ce.length>0}function Ct(de,Ce){let Le=R.blockers.get(de)||b0;return ce.get(de)!==Ce&&ce.set(de,Ce),Le}function he(de){R.blockers.delete(de),ce.delete(de)}function Ne(de,Ce){let Le=R.blockers.get(de)||b0;Un(Le.state==="unblocked"&&Ce.state==="blocked"||Le.state==="blocked"&&Ce.state==="blocked"||Le.state==="blocked"&&Ce.state==="proceeding"||Le.state==="blocked"&&Ce.state==="unblocked"||Le.state==="proceeding"&&Ce.state==="unblocked",`Invalid blocker state transition: ${Le.state} -> ${Ce.state}`);let ot=new Map(R.blockers);ot.set(de,Ce),We({blockers:ot})}function ct({currentLocation:de,nextLocation:Ce,historyAction:Le}){if(ce.size===0)return;ce.size>1&&$i(!1,"A router only supports one blocker at a time");let ot=Array.from(ce.entries()),[ft,It]=ot[ot.length-1],Ut=R.blockers.get(ft);if(!(Ut&&Ut.state==="proceeding")&&It({currentLocation:de,nextLocation:Ce,historyAction:Le}))return ft}function fe(de){let Ce=xo(404,{pathname:de}),Le=c||o,{matches:ot,route:ft}=JN(Le);return{notFoundMatches:ot,route:ft,error:Ce}}function rt(de,Ce,Le){if(b=de,_=Ce,S=Le||null,!E&&R.navigation===QS){E=!0;let ot=gt(R.location,R.matches);ot!=null&&We({restoreScrollPosition:ot})}return()=>{b=null,_=null,S=null}}function ht(de,Ce){return S&&S(de,Ce.map(ot=>pk(ot,R.loaderData)))||de.key}function At(de,Ce){if(b&&_){let Le=ht(de,Ce);b[Le]=_()}}function gt(de,Ce){if(b){let Le=ht(de,Ce),ot=b[Le];if(typeof ot=="number")return ot}return null}function tt(de,Ce,Le){if(n.patchRoutesOnNavigation)if(de){if(Object.keys(de[0].params).length>0)return{active:!0,matches:s1(Ce,Le,d,!0)}}else return{active:!0,matches:s1(Ce,Le,d,!0)||[]};return{active:!1,matches:null}}async function Mt(de,Ce,Le,ot){if(!n.patchRoutesOnNavigation)return{type:"success",matches:de};let ft=de;for(;;){let It=c==null,Ut=c||o,Vt=a;try{await n.patchRoutesOnNavigation({signal:Le,path:Ce,matches:ft,fetcherKey:ot,patch:(kt,Et)=>{Le.aborted||zN(kt,Et,Ut,Vt,s,!1)}})}catch(kt){return{type:"error",error:kt,partialMatches:ft}}finally{It&&!Le.aborted&&(o=[...o])}if(Le.aborted)return{type:"aborted"};let Ft=od(Ut,Ce,d);if(Ft)return{type:"success",matches:Ft};let qt=s1(Ut,Ce,d,!0);if(!qt||ft.length===qt.length&&ft.every((kt,Et)=>kt.route.id===qt[Et].route.id))return{type:"success",matches:null};ft=qt}}function Gt(de){a={},c=xx(de,s,void 0,a)}function yn(de,Ce,Le=!1){let ot=c==null;zN(de,Ce,c||o,a,s,Le),ot&&(o=[...o],We({}))}return j={get basename(){return d},get future(){return m},get state(){return R},get routes(){return o},get window(){return e},initialize:ye,subscribe:Qe,enableScrollRestoration:rt,navigate:ut,fetch:Ue,revalidate:le,createHref:de=>n.history.createHref(de),encodeLocation:de=>n.history.encodeLocation(de),getFetcher:He,deleteFetcher:yt,dispose:Ve,getBlocker:Ct,deleteBlocker:he,patchRoutes:yn,_internalFetchControllers:z,_internalSetRoutes:Gt,_internalSetStateDoNotUseOrYouWillBreakYourApp(de){We(de)}},j}function Hk(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function aE(n,e,t,i,s,a){let o,c;if(s){o=[];for(let h of e)if(o.push(h),h.route.id===s){c=h;break}}else o=e,c=e[e.length-1];let d=Jw(i||".",Kw(o),wo(n.pathname,t)||n.pathname,a==="path");if(i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&c){let h=NC(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(d.search),x=m.getAll("index");m.delete("index"),x.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();d.search=y?`?${y}`:""}}return t!=="/"&&(d.pathname=Mk({basename:t,pathname:d.pathname})),md(d)}function kN(n,e,t){if(!t||!Hk(t))return{path:e};if(t.formMethod&&!e8(t.formMethod))return{path:e,error:xo(405,{method:t.formMethod})};let i=()=>({path:e,error:xo(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),o=gD(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!pa(a))return i();let x=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((y,[b,S])=>`${y}${b}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:x}}}else if(t.formEncType==="application/json"){if(!pa(a))return i();try{let x=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:o,formEncType:t.formEncType,formData:void 0,json:x,text:void 0}}}catch{return i()}}}Un(typeof FormData=="function","FormData is not available in this environment");let c,d;if(t.formData)c=cE(t.formData),d=t.formData;else if(t.body instanceof FormData)c=cE(t.body),d=t.body;else if(t.body instanceof URLSearchParams)c=t.body,d=WN(c);else if(t.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(t.body),d=WN(c)}catch{return i()}let h={formMethod:a,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(pa(h.formMethod))return{path:e,submission:h};let m=Ad(e);return n&&m.search&&NC(m.search)&&c.append("index",""),m.search=`?${c}`,{path:md(m),submission:h}}function FN(n,e,t,i,s,a,o,c,d,h,m,x,y,b,S,_,E,A,P,N){let L=N?La(N[1])?N[1].error:N[1].data:void 0,j=s.createURL(a.location),R=s.createURL(d),k;if(m&&a.errors){let G=Object.keys(a.errors)[0];k=o.findIndex(W=>W.route.id===G)}else if(N&&La(N[1])){let G=N[0];k=o.findIndex(W=>W.route.id===G)-1}let F=N?N[1].statusCode:void 0,D=F&&F>=400,B={currentUrl:j,currentParams:a.matches[0]?.params||{},nextUrl:R,nextParams:o[0].params,...c,actionResult:L,actionStatus:F},q=o.map((G,W)=>{let{route:$}=G,z=null;if(k!=null&&W>k?z=!1:$.lazy?z=!0:$.loader==null?z=!1:m?z=oE($,a.loaderData,a.errors):Vk(a.loaderData,a.matches[W],G)&&(z=!0),z!==null)return lE(t,i,n,G,h,e,z);let I=D?!1:x||j.pathname+j.search===R.pathname+R.search||j.search!==R.search||Gk(a.matches[W],G),Q={...B,defaultShouldRevalidate:I},K=B1(G,Q);return lE(t,i,n,G,h,e,K,Q)}),Y=[];return S.forEach((G,W)=>{if(m||!o.some(ee=>ee.route.id===G.routeId)||b.has(W))return;let $=a.fetchers.get(W),z=$&&$.state!=="idle"&&$.data===void 0,I=od(E,G.path,A);if(!I){if(P&&z)return;Y.push({key:W,routeId:G.routeId,path:G.path,matches:null,match:null,request:null,controller:null});return}if(_.has(W))return;let Q=r1(I,G.path),K=new AbortController,T=sm(s,G.path,K.signal),X=null;if(y.has(W))y.delete(W),X=hm(t,i,T,I,Q,h,e);else if(z)x&&(X=hm(t,i,T,I,Q,h,e));else{let ee={...B,defaultShouldRevalidate:D?!1:x};B1(Q,ee)&&(X=hm(t,i,T,I,Q,h,e,ee))}X&&Y.push({key:W,routeId:G.routeId,path:G.path,matches:X,match:Q,request:T,controller:K})}),{dsMatches:q,revalidatingFetchers:Y}}function oE(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function Vk(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function Gk(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function B1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function zN(n,e,t,i,s,a){let o;if(n){let h=i[n];Un(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),o=h.children}else o=t;let c=[],d=[];if(e.forEach(h=>{let m=o.find(x=>dD(h,x));m?d.push({existingRoute:m,newRoute:h}):c.push(h)}),c.length>0){let h=xx(c,s,[n||"_","patch",String(o?.length||"0")],i);o.push(...h)}if(a&&d.length>0)for(let h=0;h<d.length;h++){let{existingRoute:m,newRoute:x}=d[h],y=m,[b]=xx([x],s,[],{},!0);Object.assign(y,{element:b.element?b.element:y.element,errorElement:b.errorElement?b.errorElement:y.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:y.hydrateFallbackElement})}}function dD(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>e.children?.some(s=>dD(t,s))):!1}var HN=new WeakMap,hD=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(Un(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let o=HN.get(s);o||(o={},HN.set(s,o));let c=o[n];if(c)return c;let d=(async()=>{let h=uk(n),x=s[n]!==void 0&&n!=="hasErrorBoundary";if(h)$i(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),o[n]=Promise.resolve();else if(x)$i(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(s,{[n]:y}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(y=>y===void 0)&&(s.lazy=void 0))})();return o[n]=d,d},VN=new WeakMap;function qk(n,e,t,i,s){let a=t[n.id];if(Un(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let m=VN.get(a);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let x=(async()=>{Un(typeof n.lazy=="function","No lazy route function found");let y=await n.lazy(),b={};for(let S in y){let _=y[S];if(_===void 0)continue;let E=hk(S),P=a[S]!==void 0&&S!=="hasErrorBoundary";E?$i(!E,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?$i(!P,`Route "${a.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):b[S]=_}Object.assign(a,b),Object.assign(a,{...i(a),lazy:void 0})})();return VN.set(a,x),x.catch(()=>{}),{lazyRoutePromise:x,lazyHandlerPromise:x}}let o=Object.keys(n.lazy),c=[],d;for(let m of o){if(s&&s.includes(m))continue;let x=hD({key:m,route:n,manifest:t,mapRouteProperties:i});x&&(c.push(x),m===e&&(d=x))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function GN(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function Wk(n){return n.matches.some(e=>e.route.unstable_middleware)?fD(n,!1,()=>GN(n),(e,t)=>({[t]:{type:"error",result:e}})):GN(n)}async function fD(n,e,t,i){let{matches:s,request:a,params:o,context:c}=n,d={handlerResult:void 0};try{let h=s.flatMap(x=>x.route.unstable_middleware?x.route.unstable_middleware.map(y=>[x.route.id,y]):[]),m=await pD({request:a,params:o,context:c},h,e,d,t);return e?m:d.handlerResult}catch(h){if(!d.middlewareError)throw h;let m=await i(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,m):m}}async function pD(n,e,t,i,s,a=0){let{request:o}=n;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let c=e[a];if(!c)return i.handlerResult=await s(),i.handlerResult;let[d,h]=c,m=!1,x,y=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");m=!0,await pD(n,e,t,i,s,a+1)};try{let b=await h({request:n.request,params:n.params,context:n.context},y);return m?b===void 0?x:b:y()}catch(b){throw i.middlewareError?i.middlewareError.error!==b&&(i.middlewareError={routeId:d,error:b}):i.middlewareError={routeId:d,error:b},b}}function mD(n,e,t,i,s){let a=hD({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),o=qk(i.route,pa(t.method)?"action":"loader",e,n,s);return{middleware:a,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function lE(n,e,t,i,s,a,o,c=null){let d=!1,h=mD(n,e,t,i,s);return{...i,_lazyPromises:h,shouldLoad:o,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(m){return d=!0,c?typeof m=="boolean"?B1(i,{...c,defaultShouldRevalidate:m}):B1(i,c):o},resolve(m){return d||o||m&&!pa(t.method)&&(i.route.lazy||i.route.loader)?Yk({request:t,match:i,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:m,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function hm(n,e,t,i,s,a,o,c=null){return i.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:mD(n,e,t,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:lE(n,e,t,d,a,o,!0,c))}async function Xk(n,e,t,i,s,a){t.some(h=>h._lazyPromises?.middleware)&&await Promise.all(t.map(h=>h._lazyPromises?.middleware));let o={request:e,params:t[0].params,context:s,matches:t},d=await n({...o,fetcherKey:i,unstable_runClientMiddleware:h=>{let m=o;return fD(m,!1,()=>h({...m,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(x,y)=>({[y]:{type:"error",result:x}}))}});try{await Promise.all(t.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return d}async function Yk({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:s,scopedContext:a}){let o,c,d=pa(n.method),h=d?"action":"loader",m=x=>{let y,b=new Promise((E,A)=>y=A);c=()=>y(),n.signal.addEventListener("abort",c);let S=E=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):x({request:n,params:e.params,context:a},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(s?s(A=>S(A)):S())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,b])};try{let x=d?e.route.action:e.route.loader;if(t||i)if(x){let y,[b]=await Promise.all([m(x).catch(S=>{y=S}),t,i]);if(y!==void 0)throw y;o=b}else{await t;let y=d?e.route.action:e.route.loader;if(y)[o]=await Promise.all([m(y),i]);else if(h==="action"){let b=new URL(n.url),S=b.pathname+b.search;throw xo(405,{method:n.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(x)o=await m(x);else{let y=new URL(n.url),b=y.pathname+y.search;throw xo(404,{pathname:b})}}catch(x){return{type:"error",result:x}}finally{c&&n.signal.removeEventListener("abort",c)}return o}async function Kk(n){let{result:e,type:t}=n;if(xD(e)){let i;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new R1(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return t==="error"?QN(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new R1(e.init?.status||500,void 0,e.data),statusCode:yx(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:yx(e)?e.status:void 0}:QN(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Jk(n,e,t,i,s){let a=n.headers.get("Location");if(Un(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!TC(a)){let o=i.slice(0,i.findIndex(c=>c.route.id===t)+1);a=aE(new URL(e.url),o,s,a),n.headers.set("Location",a)}return n}function qN(n,e,t){if(TC(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=wo(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function sm(n,e,t,i){let s=n.createURL(gD(e)).toString(),a={signal:t};if(i&&pa(i.formMethod)){let{formMethod:o,formEncType:c}=i;a.method=o.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(i.json)):c==="text/plain"?a.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?a.body=cE(i.formData):a.body=i.formData}return new Request(s,a)}function cE(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function WN(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Qk(n,e,t,i=!1,s=!1){let a={},o=null,c,d=!1,h={},m=t&&La(t[1])?t[1].error:void 0;return n.forEach(x=>{if(!(x.route.id in e))return;let y=x.route.id,b=e[y];if(Un(!Wh(b),"Cannot handle redirect results in processLoaderData"),La(b)){let S=b.error;if(m!==void 0&&(S=m,m=void 0),o=o||{},s)o[y]=S;else{let _=Gh(n,y);o[_.route.id]==null&&(o[_.route.id]=S)}i||(a[y]=uD),d||(d=!0,c=yx(b.error)?b.error.status:500),b.headers&&(h[y]=b.headers)}else a[y]=b.data,b.statusCode&&b.statusCode!==200&&!d&&(c=b.statusCode),b.headers&&(h[y]=b.headers)}),m!==void 0&&t&&(o={[t[0]]:m},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:o,statusCode:c||200,loaderHeaders:h}}function XN(n,e,t,i,s,a){let{loaderData:o,errors:c}=Qk(e,t,i);return s.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:m,controller:x}=d,y=a[h];if(Un(y,"Did not find corresponding fetcher result"),!(x&&x.signal.aborted))if(La(y)){let b=Gh(n.matches,m?.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:y.error}),n.fetchers.delete(h)}else if(Wh(y))Un(!1,"Unhandled fetcher revalidation redirect");else{let b=rd(y.data);n.fetchers.set(h,b)}}),{loaderData:o,errors:c}}function YN(n,e,t,i){let s=Object.entries(e).filter(([,a])=>a!==uD).reduce((a,[o,c])=>(a[o]=c,a),{});for(let a of t){let o=a.route.id;if(!e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&a.route.loader&&(s[o]=n[o]),i&&i.hasOwnProperty(o))break}return s}function KN(n){return n?La(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Gh(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function JN(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xo(n,{pathname:e,routeId:t,method:i,type:s,message:a}={}){let o="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&e&&t?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):n===403?(o="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(o="Not Found",c=`No route matches URL "${e}"`):n===405&&(o="Method Not Allowed",i&&e&&t?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new R1(n||500,o,new Error(c),!0)}function Xv(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Wh(s))return{key:i,result:s}}}function gD(n){let e=typeof n=="string"?Ad(n):n;return md({...e,hash:""})}function Zk(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function $k(n){return xD(n.result)&&Lk.has(n.result.status)}function La(n){return n.type==="error"}function Wh(n){return(n&&n.type)==="redirect"}function QN(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function xD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function e8(n){return Pk.has(n.toUpperCase())}function pa(n){return Dk.has(n.toUpperCase())}function NC(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function r1(n,e){let t=typeof e=="string"?Ad(e).search:e.search;if(n[n.length-1].route.index&&NC(t||""))return n[n.length-1];let i=oD(n);return i[i.length-1]}function ZN(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:a,json:o}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:o,text:void 0}}}function ZS(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function t8(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function w0(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function n8(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function rd(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function i8(n,e){try{let t=n.sessionStorage.getItem(cD);if(t){let i=JSON.parse(t);for(let[s,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function s8(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(cD,JSON.stringify(t))}catch(i){$i(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function r8(){let n,e,t=new Promise((i,s)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var _f=V.createContext(null);_f.displayName="DataRouter";var Fx=V.createContext(null);Fx.displayName="DataRouterState";V.createContext(!1);var jC=V.createContext({isTransitioning:!1});jC.displayName="ViewTransition";var yD=V.createContext(new Map);yD.displayName="Fetchers";var a8=V.createContext(null);a8.displayName="Await";var cl=V.createContext(null);cl.displayName="Navigation";var Qw=V.createContext(null);Qw.displayName="Location";var _o=V.createContext({outlet:null,matches:[],isDataRoute:!1});_o.displayName="Route";var RC=V.createContext(null);RC.displayName="RouteError";function o8(n,{relative:e}={}){Un(zm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(cl),{hash:s,pathname:a,search:o}=zx(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Zl([t,a])),i.createHref({pathname:c,search:o,hash:s})}function zm(){return V.useContext(Qw)!=null}function ws(){return Un(zm(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Qw).location}var vD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bD(n){V.useContext(cl).static||V.useLayoutEffect(n)}function Bi(){let{isDataRoute:n}=V.useContext(_o);return n?S8():l8()}function l8(){Un(zm(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(_f),{basename:e,navigator:t}=V.useContext(cl),{matches:i}=V.useContext(_o),{pathname:s}=ws(),a=JSON.stringify(Kw(i)),o=V.useRef(!1);return bD(()=>{o.current=!0}),V.useCallback((d,h={})=>{if($i(o.current,vD),!o.current)return;if(typeof d=="number"){t.go(d);return}let m=Jw(d,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Zl([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,s,n])}var c8=V.createContext(null);function u8(n){let e=V.useContext(_o).outlet;return e&&V.createElement(c8.Provider,{value:n},e)}function Ef(){let{matches:n}=V.useContext(_o),e=n[n.length-1];return e?e.params:{}}function zx(n,{relative:e}={}){let{matches:t}=V.useContext(_o),{pathname:i}=ws(),s=JSON.stringify(Kw(t));return V.useMemo(()=>Jw(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function d8(n,e,t,i){Un(zm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(cl),{matches:a}=V.useContext(_o),o=a[a.length-1],c=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let A=m&&m.path||"";wD(d,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=ws(),y;y=x;let b=y.pathname||"/",S=b;if(h!=="/"){let A=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=od(n,{pathname:S});return $i(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),$i(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),g8(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Zl([h,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Zl([h,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,i)}function h8(){let n=w8(),e=yx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,o)}var f8=V.createElement(h8,null),p8=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(_o.Provider,{value:this.props.routeContext},V.createElement(RC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m8({routeContext:n,match:e,children:t}){let i=V.useContext(_f);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(_o.Provider,{value:n},t)}function g8(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);Un(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:x}=t,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||y){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let x,y=!1,b=null,S=null;t&&(x=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||f8,o&&(c<0&&m===0?(wD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===m&&(y=!0,S=h.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),E=()=>{let A;return x?A=b:y?A=S:h.route.Component?A=V.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,V.createElement(m8,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?V.createElement(p8,{location:t.location,revalidation:t.revalidation,component:b,error:x,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function BC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x8(n){let e=V.useContext(_f);return Un(e,BC(n)),e}function y8(n){let e=V.useContext(Fx);return Un(e,BC(n)),e}function v8(n){let e=V.useContext(_o);return Un(e,BC(n)),e}function DC(n){let e=v8(n),t=e.matches[e.matches.length-1];return Un(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function b8(){return DC("useRouteId")}function w8(){let n=V.useContext(RC),e=y8("useRouteError"),t=DC("useRouteError");return n!==void 0?n:e.errors?.[t]}function S8(){let{router:n}=x8("useNavigate"),e=DC("useNavigate"),t=V.useRef(!1);return bD(()=>{t.current=!0}),V.useCallback(async(s,a={})=>{$i(t.current,vD),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var $N={};function wD(n,e,t){!e&&!$N[n]&&($N[n]=!0,$i(!1,t))}var ej={};function tj(n,e){!n&&!ej[e]&&(ej[e]=!0,console.warn(e))}function A8(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&$i(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&$i(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&$i(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var _8=["HydrateFallback","hydrateFallbackElement"],E8=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function C8({router:n,flushSync:e}){let[t,i]=V.useState(n.state),[s,a]=V.useState(),[o,c]=V.useState({isTransitioning:!1}),[d,h]=V.useState(),[m,x]=V.useState(),[y,b]=V.useState(),S=V.useRef(new Map),_=V.useCallback((N,{deletedFetchers:L,flushSync:j,viewTransitionOpts:R})=>{N.fetchers.forEach((F,D)=>{F.data!==void 0&&S.current.set(D,F.data)}),L.forEach(F=>S.current.delete(F)),tj(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(tj(R==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!k){e&&j?e(()=>i(N)):V.startTransition(()=>i(N));return}if(e&&j){e(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let F=n.window.document.startViewTransition(()=>{e(()=>i(N))});F.finished.finally(()=>{e(()=>{h(void 0),x(void 0),a(void 0),c({isTransitioning:!1})})}),e(()=>x(F));return}m?(d&&d.resolve(),m.skipTransition(),b({state:N,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(N),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,e,m,d]);V.useLayoutEffect(()=>n.subscribe(_),[n,_]),V.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new E8)},[o]),V.useEffect(()=>{if(d&&s&&n.window){let N=s,L=d.promise,j=n.window.document.startViewTransition(async()=>{V.startTransition(()=>i(N)),await L});j.finished.finally(()=>{h(void 0),x(void 0),a(void 0),c({isTransitioning:!1})}),x(j)}},[s,d,n.window]),V.useEffect(()=>{d&&s&&t.location.key===s.location.key&&d.resolve()},[d,m,t.location,s]),V.useEffect(()=>{!o.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[o.isTransitioning,y]);let E=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,L,j)=>n.navigate(N,{state:L,preventScrollReset:j?.preventScrollReset}),replace:(N,L,j)=>n.navigate(N,{replace:!0,state:L,preventScrollReset:j?.preventScrollReset})}),[n]),A=n.basename||"/",P=V.useMemo(()=>({router:n,navigator:E,static:!1,basename:A}),[n,E,A]);return V.createElement(V.Fragment,null,V.createElement(_f.Provider,{value:P},V.createElement(Fx.Provider,{value:t},V.createElement(yD.Provider,{value:S.current},V.createElement(jC.Provider,{value:o},V.createElement(j8,{basename:A,location:t.location,navigationType:t.historyAction,navigator:E},V.createElement(M8,{routes:n.routes,future:n.future,state:t})))))),null)}var M8=V.memo(T8);function T8({routes:n,future:e,state:t}){return d8(n,void 0,t,e)}function N8({to:n,replace:e,state:t,relative:i}){Un(zm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(cl);$i(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=V.useContext(_o),{pathname:o}=ws(),c=Bi(),d=Jw(n,Kw(a),o,i==="path"),h=JSON.stringify(d);return V.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:i})},[c,h,i,e,t]),null}function SD(n){return u8(n.context)}function j8({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1}){Un(!zm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof t=="string"&&(t=Ad(t));let{pathname:d="/",search:h="",hash:m="",state:x=null,key:y="default"}=t,b=V.useMemo(()=>{let S=wo(d,o);return S==null?null:{location:{pathname:S,search:h,hash:m,state:x,key:y},navigationType:i}},[o,d,h,m,x,y,i]);return $i(b!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:V.createElement(cl.Provider,{value:c},V.createElement(Qw.Provider,{children:e,value:b}))}var a1="get",o1="application/x-www-form-urlencoded";function Zw(n){return n!=null&&typeof n.tagName=="string"}function R8(n){return Zw(n)&&n.tagName.toLowerCase()==="button"}function B8(n){return Zw(n)&&n.tagName.toLowerCase()==="form"}function D8(n){return Zw(n)&&n.tagName.toLowerCase()==="input"}function O8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function P8(n,e){return n.button===0&&(!e||e==="_self")&&!O8(n)}function uE(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function L8(n,e){let t=uE(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}var Yv=null;function I8(){if(Yv===null)try{new FormData(document.createElement("form"),0),Yv=!1}catch{Yv=!0}return Yv}var U8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $S(n){return n!=null&&!U8.has(n)?($i(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${o1}"`),null):n}function k8(n,e){let t,i,s,a,o;if(B8(n)){let c=n.getAttribute("action");i=c?wo(c,e):null,t=n.getAttribute("method")||a1,s=$S(n.getAttribute("enctype"))||o1,a=new FormData(n)}else if(R8(n)||D8(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(i=d?wo(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||a1,s=$S(n.getAttribute("formenctype"))||$S(c.getAttribute("enctype"))||o1,a=new FormData(c,n),!I8()){let{name:h,type:m,value:x}=n;if(m==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,x)}}else{if(Zw(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=a1,i=null,s=o1,o=n}return a&&s==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function OC(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function F8(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&wo(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function z8(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H8(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function V8(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let o=await z8(a,t);return o.links?o.links():[]}return[]}));return X8(i.flat(1).filter(H8).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function nj(n,e,t,i,s,a){let o=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function G8(n,e,{includeHydrateFallback:t}={}){return q8(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function q8(n){return[...new Set(n)]}function W8(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function X8(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(W8(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function AD(){let n=V.useContext(_f);return OC(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Y8(){let n=V.useContext(Fx);return OC(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var PC=V.createContext(void 0);PC.displayName="FrameworkContext";function _D(){let n=V.useContext(PC);return OC(n,"You must render this element inside a <HydratedRouter> element"),n}function K8(n,e){let t=V.useContext(PC),[i,s]=V.useState(!1),[a,o]=V.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:x}=e,y=V.useRef(null);V.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let _=A=>{A.forEach(P=>{o(P.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),V.useEffect(()=>{if(i){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[i]);let b=()=>{s(!0)},S=()=>{s(!1),o(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:S0(c,b),onBlur:S0(d,S),onMouseEnter:S0(h,b),onMouseLeave:S0(m,S),onTouchStart:S0(x,b)}]:[!1,y,{}]}function S0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function J8({page:n,...e}){let{router:t}=AD(),i=V.useMemo(()=>od(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(Z8,{page:n,matches:i,...e}):null}function Q8(n){let{manifest:e,routeModules:t}=_D(),[i,s]=V.useState([]);return V.useEffect(()=>{let a=!1;return V8(n,e,t).then(o=>{a||s(o)}),()=>{a=!0}},[n,e,t]),i}function Z8({page:n,matches:e,...t}){let i=ws(),{manifest:s,routeModules:a}=_D(),{basename:o}=AD(),{loaderData:c,matches:d}=Y8(),h=V.useMemo(()=>nj(n,e,d,s,i,"data"),[n,e,d,s,i]),m=V.useMemo(()=>nj(n,e,d,s,i,"assets"),[n,e,d,s,i]),x=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,_=!1;if(e.forEach(A=>{let P=s.routes[A.route.id];!P||!P.hasLoader||(!h.some(N=>N.route.id===A.route.id)&&A.route.id in c&&a[A.route.id]?.shouldRevalidate||P.hasClientLoader?_=!0:S.add(A.route.id))}),S.size===0)return[];let E=F8(n,o,"data");return _&&S.size>0&&E.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[o,c,i,s,h,e,n,a]),y=V.useMemo(()=>G8(m,s),[m,s]),b=Q8(m);return V.createElement(V.Fragment,null,x.map(S=>V.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),y.map(S=>V.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:_})=>V.createElement("link",{key:S,..._})))}function $8(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ED=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ED&&(window.__reactRouterVersion="7.7.1")}catch{}function eF(n,e){return zk({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:ak({window:e?.window}),hydrationData:tF(),routes:n,mapRouteProperties:A8,hydrationRouteProperties:_8,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function tF(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nF(n.errors)}),n}function nF(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new R1(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let o=new a(s.message);o.stack="",t[i]=o}catch{}}if(t[i]==null){let a=new Error(s.message);a.stack="",t[i]=a}}else t[i]=s;return t}var CD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:x,...y},b){let{basename:S}=V.useContext(cl),_=typeof h=="string"&&CD.test(h),E,A=!1;if(typeof h=="string"&&_&&(E=h,ED))try{let D=new URL(window.location.href),B=h.startsWith("//")?new URL(D.protocol+h):new URL(h),q=wo(B.pathname,S);B.origin===D.origin&&q!=null?h=q+B.search+B.hash:A=!0}catch{$i(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=o8(h,{relative:s}),[N,L,j]=K8(i,y),R=rF(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:x});function k(D){e&&e(D),D.defaultPrevented||R(D)}let F=V.createElement("a",{...y,...j,href:E||P,onClick:A||a?e:k,ref:$8(b,L),target:d,"data-discover":!_&&t==="render"?"true":void 0});return N&&!_?V.createElement(V.Fragment,null,F,V.createElement(J8,{page:P})):F});xt.displayName="Link";var sn=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:o,viewTransition:c,children:d,...h},m){let x=zx(o,{relative:h.relative}),y=ws(),b=V.useContext(Fx),{navigator:S,basename:_}=V.useContext(cl),E=b!=null&&dF(x)&&c===!0,A=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,P=y.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(P=P.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&_&&(N=wo(N,_)||N);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let j=P===A||!s&&P.startsWith(A)&&P.charAt(L)==="/",R=N!=null&&(N===A||!s&&N.startsWith(A)&&N.charAt(A.length)==="/"),k={isActive:j,isPending:R,isTransitioning:E},F=j?e:void 0,D;typeof i=="function"?D=i(k):D=[i,j?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(k):a;return V.createElement(xt,{...h,"aria-current":F,className:D,ref:m,style:B,to:o,viewTransition:c},typeof d=="function"?d(k):d)});sn.displayName="NavLink";var iF=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:o=a1,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:x,...y},b)=>{let S=cF(),_=uF(c,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&CD.test(c),P=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let L=N.nativeEvent.submitter,j=L?.getAttribute("formmethod")||o;S(L||N.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:x})};return V.createElement("form",{ref:b,method:E,action:_,onSubmit:i?d:P,...y,"data-discover":!A&&n==="render"?"true":void 0})});iF.displayName="Form";function sF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MD(n){let e=V.useContext(_f);return Un(e,sF(n)),e}function rF(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o}={}){let c=Bi(),d=ws(),h=zx(n,{relative:a});return V.useCallback(m=>{if(P8(m,e)){m.preventDefault();let x=t!==void 0?t:md(d)===md(h);c(n,{replace:x,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[d,c,h,t,i,e,n,s,a,o])}function aF(n){$i(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(uE(n)),t=V.useRef(!1),i=ws(),s=V.useMemo(()=>L8(i.search,t.current?null:e.current),[i.search]),a=Bi(),o=V.useCallback((c,d)=>{const h=uE(typeof c=="function"?c(new URLSearchParams(s)):c);t.current=!0,a("?"+h,d)},[a,s]);return[s,o]}var oF=0,lF=()=>`__${String(++oF)}__`;function cF(){let{router:n}=MD("useSubmit"),{basename:e}=V.useContext(cl),t=b8();return V.useCallback(async(i,s={})=>{let{action:a,method:o,encType:c,formData:d,body:h}=k8(i,e);if(s.navigate===!1){let m=s.fetcherKey||lF();await n.fetch(m,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function uF(n,{relative:e}={}){let{basename:t}=V.useContext(cl),i=V.useContext(_o);Un(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...zx(n||".",{relative:e})},o=ws();if(n==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(x=>x).forEach(x=>c.append("index",x));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Zl([t,a.pathname])),md(a)}function dF(n,{relative:e}={}){let t=V.useContext(jC);Un(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=MD("useViewTransitionState"),s=zx(n,{relative:e});if(!t.isTransitioning)return!1;let a=wo(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=wo(t.nextLocation.pathname,i)||t.nextLocation.pathname;return j1(s.pathname,o)!=null||j1(s.pathname,a)!=null}var hF=nD();function fF(n){return V.createElement(C8,{flushSync:hF.flushSync,...n})}var eA={},tA={},A0={},nA={},ij;function pF(){return ij||(ij=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(nA)),nA}var iA,sj;function mF(){if(sj)return iA;sj=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt,d=typeof Wv=="object"&&Wv&&Wv.Object===Object&&Wv,h=typeof self=="object"&&self&&self.Object===Object&&self,m=d||h||Function("return this")(),x=Object.prototype,y=x.toString,b=Math.max,S=Math.min,_=function(){return m.Date.now()};function E(j,R,k){var F,D,B,q,Y,G,W=0,$=!1,z=!1,I=!0;if(typeof j!="function")throw new TypeError(n);R=L(R)||0,A(k)&&($=!!k.leading,z="maxWait"in k,B=z?b(L(k.maxWait)||0,R):B,I="trailing"in k?!!k.trailing:I);function Q(ye){var Ve=F,Qe=D;return F=D=void 0,W=ye,q=j.apply(Qe,Ve),q}function K(ye){return W=ye,Y=setTimeout(ee,R),$?Q(ye):q}function T(ye){var Ve=ye-G,Qe=ye-W,We=R-Ve;return z?S(We,B-Qe):We}function X(ye){var Ve=ye-G,Qe=ye-W;return G===void 0||Ve>=R||Ve<0||z&&Qe>=B}function ee(){var ye=_();if(X(ye))return oe(ye);Y=setTimeout(ee,T(ye))}function oe(ye){return Y=void 0,I&&F?Q(ye):(F=D=void 0,q)}function ce(){Y!==void 0&&clearTimeout(Y),W=0,F=G=D=Y=void 0}function re(){return Y===void 0?q:oe(_())}function ue(){var ye=_(),Ve=X(ye);if(F=arguments,D=this,G=ye,Ve){if(Y===void 0)return K(G);if(z)return Y=setTimeout(ee,R),Q(G)}return Y===void 0&&(Y=setTimeout(ee,R)),q}return ue.cancel=ce,ue.flush=re,ue}function A(j){var R=typeof j;return!!j&&(R=="object"||R=="function")}function P(j){return!!j&&typeof j=="object"}function N(j){return typeof j=="symbol"||P(j)&&y.call(j)==t}function L(j){if(typeof j=="number")return j;if(N(j))return e;if(A(j)){var R=typeof j.valueOf=="function"?j.valueOf():j;j=A(R)?R+"":R}if(typeof j!="string")return j===0?j:+j;j=j.replace(i,"");var k=a.test(j);return k||o.test(j)?c(j.slice(2),k?2:8):s.test(j)?e:+j}return iA=E,iA}var sA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rj;function $w(){return rj||(rj=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(a=s(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var c in a)e.call(a,c)&&a[c]&&(o=s(o,c));return o}function s(a,o){return o?a?a+" "+o:a+o:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(sA)),sA.exports}var Lt={},rA={},aj;function TD(){return aj||(aj=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(Er());function t(s){return s&&s.__esModule?s:{default:s}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}(rA)),rA}var oj;function Hx(){if(oj)return Lt;oj=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.checkSpecKeys=Lt.checkNavigable=Lt.changeSlide=Lt.canUseDOM=Lt.canGoNext=void 0,Lt.clamp=h,Lt.extractObject=void 0,Lt.filterSettings=Q,Lt.validSettings=Lt.swipeStart=Lt.swipeMove=Lt.swipeEnd=Lt.slidesOnRight=Lt.slidesOnLeft=Lt.slideHandler=Lt.siblingDirection=Lt.safePreventDefault=Lt.lazyStartIndex=Lt.lazySlidesOnRight=Lt.lazySlidesOnLeft=Lt.lazyEndIndex=Lt.keyHandler=Lt.initializedState=Lt.getWidth=Lt.getTrackLeft=Lt.getTrackCSS=Lt.getTrackAnimateCSS=Lt.getTotalSlides=Lt.getSwipeDirection=Lt.getSlideCount=Lt.getRequiredLazySlides=Lt.getPreClones=Lt.getPostClones=Lt.getOnDemandLazySlides=Lt.getNavigableIndexes=Lt.getHeight=void 0;var n=t(Er()),e=t(TD());function t(K){return K&&K.__esModule?K:{default:K}}function i(K){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i(K)}function s(K,T){var X=Object.keys(K);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(K);T&&(ee=ee.filter(function(oe){return Object.getOwnPropertyDescriptor(K,oe).enumerable})),X.push.apply(X,ee)}return X}function a(K){for(var T=1;T<arguments.length;T++){var X=arguments[T]!=null?arguments[T]:{};T%2?s(Object(X),!0).forEach(function(ee){o(K,ee,X[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(X)):s(Object(X)).forEach(function(ee){Object.defineProperty(K,ee,Object.getOwnPropertyDescriptor(X,ee))})}return K}function o(K,T,X){return T=c(T),T in K?Object.defineProperty(K,T,{value:X,enumerable:!0,configurable:!0,writable:!0}):K[T]=X,K}function c(K){var T=d(K,"string");return i(T)=="symbol"?T:String(T)}function d(K,T){if(i(K)!="object"||!K)return K;var X=K[Symbol.toPrimitive];if(X!==void 0){var ee=X.call(K,T);if(i(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(K)}function h(K,T,X){return Math.max(T,Math.min(K,X))}var m=Lt.safePreventDefault=function(T){var X=["onTouchStart","onTouchMove","onWheel"];X.includes(T._reactName)||T.preventDefault()},x=Lt.getOnDemandLazySlides=function(T){for(var X=[],ee=y(T),oe=b(T),ce=ee;ce<oe;ce++)T.lazyLoadedList.indexOf(ce)<0&&X.push(ce);return X};Lt.getRequiredLazySlides=function(T){for(var X=[],ee=y(T),oe=b(T),ce=ee;ce<oe;ce++)X.push(ce);return X};var y=Lt.lazyStartIndex=function(T){return T.currentSlide-S(T)},b=Lt.lazyEndIndex=function(T){return T.currentSlide+_(T)},S=Lt.lazySlidesOnLeft=function(T){return T.centerMode?Math.floor(T.slidesToShow/2)+(parseInt(T.centerPadding)>0?1:0):0},_=Lt.lazySlidesOnRight=function(T){return T.centerMode?Math.floor((T.slidesToShow-1)/2)+1+(parseInt(T.centerPadding)>0?1:0):T.slidesToShow},E=Lt.getWidth=function(T){return T&&T.offsetWidth||0},A=Lt.getHeight=function(T){return T&&T.offsetHeight||0},P=Lt.getSwipeDirection=function(T){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ee,oe,ce,re;return ee=T.startX-T.curX,oe=T.startY-T.curY,ce=Math.atan2(oe,ee),re=Math.round(ce*180/Math.PI),re<0&&(re=360-Math.abs(re)),re<=45&&re>=0||re<=360&&re>=315?"left":re>=135&&re<=225?"right":X===!0?re>=35&&re<=135?"up":"down":"vertical"},N=Lt.canGoNext=function(T){var X=!0;return T.infinite||(T.centerMode&&T.currentSlide>=T.slideCount-1||T.slideCount<=T.slidesToShow||T.currentSlide>=T.slideCount-T.slidesToShow)&&(X=!1),X};Lt.extractObject=function(T,X){var ee={};return X.forEach(function(oe){return ee[oe]=T[oe]}),ee},Lt.initializedState=function(T){var X=n.default.Children.count(T.children),ee=T.listRef,oe=Math.ceil(E(ee)),ce=T.trackRef&&T.trackRef.node,re=Math.ceil(E(ce)),ue;if(T.vertical)ue=oe;else{var ye=T.centerMode&&parseInt(T.centerPadding)*2;typeof T.centerPadding=="string"&&T.centerPadding.slice(-1)==="%"&&(ye*=oe/100),ue=Math.ceil((oe-ye)/T.slidesToShow)}var Ve=ee&&A(ee.querySelector('[data-index="0"]')),Qe=Ve*T.slidesToShow,We=T.currentSlide===void 0?T.initialSlide:T.currentSlide;T.rtl&&T.currentSlide===void 0&&(We=X-1-T.initialSlide);var mt=T.lazyLoadedList||[],ut=x(a(a({},T),{},{currentSlide:We,lazyLoadedList:mt}));mt=mt.concat(ut);var le={slideCount:X,slideWidth:ue,listWidth:oe,trackWidth:re,currentSlide:We,slideHeight:Ve,listHeight:Qe,lazyLoadedList:mt};return T.autoplaying===null&&T.autoplay&&(le.autoplaying="playing"),le},Lt.slideHandler=function(T){var X=T.waitForAnimate,ee=T.animating,oe=T.fade,ce=T.infinite,re=T.index,ue=T.slideCount,ye=T.lazyLoad,Ve=T.currentSlide,Qe=T.centerMode,We=T.slidesToScroll,mt=T.slidesToShow,ut=T.useCSS,le=T.lazyLoadedList;if(X&&ee)return{};var Me=re,Ae,we,ge,Be={},Ue={},_e=ce?re:h(re,0,ue-1);if(oe){if(!ce&&(re<0||re>=ue))return{};re<0?Me=re+ue:re>=ue&&(Me=re-ue),ye&&le.indexOf(Me)<0&&(le=le.concat(Me)),Be={animating:!0,currentSlide:Me,lazyLoadedList:le,targetSlide:Me},Ue={animating:!1,targetSlide:Me}}else Ae=Me,Me<0?(Ae=Me+ue,ce?ue%We!==0&&(Ae=ue-ue%We):Ae=0):!N(T)&&Me>Ve?Me=Ae=Ve:Qe&&Me>=ue?(Me=ce?ue:ue-1,Ae=ce?0:ue-1):Me>=ue&&(Ae=Me-ue,ce?ue%We!==0&&(Ae=0):Ae=ue-mt),!ce&&Me+mt>=ue&&(Ae=ue-mt),we=B(a(a({},T),{},{slideIndex:Me})),ge=B(a(a({},T),{},{slideIndex:Ae})),ce||(we===ge&&(Me=Ae),we=ge),ye&&(le=le.concat(x(a(a({},T),{},{currentSlide:Me})))),ut?(Be={animating:!0,currentSlide:Ae,trackStyle:D(a(a({},T),{},{left:we})),lazyLoadedList:le,targetSlide:_e},Ue={animating:!1,currentSlide:Ae,trackStyle:F(a(a({},T),{},{left:ge})),swipeLeft:null,targetSlide:_e}):Be={currentSlide:Ae,trackStyle:F(a(a({},T),{},{left:ge})),lazyLoadedList:le,targetSlide:_e};return{state:Be,nextState:Ue}},Lt.changeSlide=function(T,X){var ee,oe,ce,re,ue,ye=T.slidesToScroll,Ve=T.slidesToShow,Qe=T.slideCount,We=T.currentSlide,mt=T.targetSlide,ut=T.lazyLoad,le=T.infinite;if(re=Qe%ye!==0,ee=re?0:(Qe-We)%ye,X.message==="previous")ce=ee===0?ye:Ve-ee,ue=We-ce,ut&&!le&&(oe=We-ce,ue=oe===-1?Qe-1:oe),le||(ue=mt-ye);else if(X.message==="next")ce=ee===0?ye:ee,ue=We+ce,ut&&!le&&(ue=(We+ye)%Qe+ee),le||(ue=mt+ye);else if(X.message==="dots")ue=X.index*X.slidesToScroll;else if(X.message==="children"){if(ue=X.index,le){var Me=W(a(a({},T),{},{targetSlide:ue}));ue>X.currentSlide&&Me==="left"?ue=ue-Qe:ue<X.currentSlide&&Me==="right"&&(ue=ue+Qe)}}else X.message==="index"&&(ue=Number(X.index));return ue},Lt.keyHandler=function(T,X,ee){return T.target.tagName.match("TEXTAREA|INPUT|SELECT")||!X?"":T.keyCode===37?ee?"next":"previous":T.keyCode===39?ee?"previous":"next":""},Lt.swipeStart=function(T,X,ee){return T.target.tagName==="IMG"&&m(T),!X||!ee&&T.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:T.touches?T.touches[0].pageX:T.clientX,startY:T.touches?T.touches[0].pageY:T.clientY,curX:T.touches?T.touches[0].pageX:T.clientX,curY:T.touches?T.touches[0].pageY:T.clientY}}},Lt.swipeMove=function(T,X){var ee=X.scrolling,oe=X.animating,ce=X.vertical,re=X.swipeToSlide,ue=X.verticalSwiping,ye=X.rtl,Ve=X.currentSlide,Qe=X.edgeFriction,We=X.edgeDragged,mt=X.onEdge,ut=X.swiped,le=X.swiping,Me=X.slideCount,Ae=X.slidesToScroll,we=X.infinite,ge=X.touchObject,Be=X.swipeEvent,Ue=X.listHeight,_e=X.listWidth;if(!ee){if(oe)return m(T);ce&&re&&ue&&m(T);var $e,et={},te=B(X);ge.curX=T.touches?T.touches[0].pageX:T.clientX,ge.curY=T.touches?T.touches[0].pageY:T.clientY,ge.swipeLength=Math.round(Math.sqrt(Math.pow(ge.curX-ge.startX,2)));var Z=Math.round(Math.sqrt(Math.pow(ge.curY-ge.startY,2)));if(!ue&&!le&&Z>10)return{scrolling:!0};ue&&(ge.swipeLength=Z);var xe=(ye?-1:1)*(ge.curX>ge.startX?1:-1);ue&&(xe=ge.curY>ge.startY?1:-1);var Oe=Math.ceil(Me/Ae),Xe=P(X.touchObject,ue),He=ge.swipeLength;return we||(Ve===0&&(Xe==="right"||Xe==="down")||Ve+1>=Oe&&(Xe==="left"||Xe==="up")||!N(X)&&(Xe==="left"||Xe==="up"))&&(He=ge.swipeLength*Qe,We===!1&&mt&&(mt(Xe),et.edgeDragged=!0)),!ut&&Be&&(Be(Xe),et.swiped=!0),ce?$e=te+He*(Ue/_e)*xe:ye?$e=te-He*xe:$e=te+He*xe,ue&&($e=te+He*xe),et=a(a({},et),{},{touchObject:ge,swipeLeft:$e,trackStyle:F(a(a({},X),{},{left:$e}))}),Math.abs(ge.curX-ge.startX)<Math.abs(ge.curY-ge.startY)*.8||ge.swipeLength>10&&(et.swiping=!0,m(T)),et}},Lt.swipeEnd=function(T,X){var ee=X.dragging,oe=X.swipe,ce=X.touchObject,re=X.listWidth,ue=X.touchThreshold,ye=X.verticalSwiping,Ve=X.listHeight,Qe=X.swipeToSlide,We=X.scrolling,mt=X.onSwipe,ut=X.targetSlide,le=X.currentSlide,Me=X.infinite;if(!ee)return oe&&m(T),{};var Ae=ye?Ve/ue:re/ue,we=P(ce,ye),ge={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(We||!ce.swipeLength)return ge;if(ce.swipeLength>Ae){m(T),mt&&mt(we);var Be,Ue,_e=Me?le:ut;switch(we){case"left":case"up":Ue=_e+R(X),Be=Qe?j(X,Ue):Ue,ge.currentDirection=0;break;case"right":case"down":Ue=_e-R(X),Be=Qe?j(X,Ue):Ue,ge.currentDirection=1;break;default:Be=_e}ge.triggerSlideHandler=Be}else{var $e=B(X);ge.trackStyle=D(a(a({},X),{},{left:$e}))}return ge};var L=Lt.getNavigableIndexes=function(T){for(var X=T.infinite?T.slideCount*2:T.slideCount,ee=T.infinite?T.slidesToShow*-1:0,oe=T.infinite?T.slidesToShow*-1:0,ce=[];ee<X;)ce.push(ee),ee=oe+T.slidesToScroll,oe+=Math.min(T.slidesToScroll,T.slidesToShow);return ce},j=Lt.checkNavigable=function(T,X){var ee=L(T),oe=0;if(X>ee[ee.length-1])X=ee[ee.length-1];else for(var ce in ee){if(X<ee[ce]){X=oe;break}oe=ee[ce]}return X},R=Lt.getSlideCount=function(T){var X=T.centerMode?T.slideWidth*Math.floor(T.slidesToShow/2):0;if(T.swipeToSlide){var ee,oe=T.listRef,ce=oe.querySelectorAll&&oe.querySelectorAll(".slick-slide")||[];if(Array.from(ce).every(function(ye){if(T.vertical){if(ye.offsetTop+A(ye)/2>T.swipeLeft*-1)return ee=ye,!1}else if(ye.offsetLeft-X+E(ye)/2>T.swipeLeft*-1)return ee=ye,!1;return!0}),!ee)return 0;var re=T.rtl===!0?T.slideCount-T.currentSlide:T.currentSlide,ue=Math.abs(ee.dataset.index-re)||1;return ue}else return T.slidesToScroll},k=Lt.checkSpecKeys=function(T,X){return X.reduce(function(ee,oe){return ee&&T.hasOwnProperty(oe)},!0)?null:console.error("Keys Missing:",T)},F=Lt.getTrackCSS=function(T){k(T,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var X,ee,oe=T.slideCount+2*T.slidesToShow;T.vertical?ee=oe*T.slideHeight:X=G(T)*T.slideWidth;var ce={opacity:1,transition:"",WebkitTransition:""};if(T.useTransform){var re=T.vertical?"translate3d(0px, "+T.left+"px, 0px)":"translate3d("+T.left+"px, 0px, 0px)",ue=T.vertical?"translate3d(0px, "+T.left+"px, 0px)":"translate3d("+T.left+"px, 0px, 0px)",ye=T.vertical?"translateY("+T.left+"px)":"translateX("+T.left+"px)";ce=a(a({},ce),{},{WebkitTransform:re,transform:ue,msTransform:ye})}else T.vertical?ce.top=T.left:ce.left=T.left;return T.fade&&(ce={opacity:1}),X&&(ce.width=X),ee&&(ce.height=ee),window&&!window.addEventListener&&window.attachEvent&&(T.vertical?ce.marginTop=T.left+"px":ce.marginLeft=T.left+"px"),ce},D=Lt.getTrackAnimateCSS=function(T){k(T,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var X=F(T);return T.useTransform?(X.WebkitTransition="-webkit-transform "+T.speed+"ms "+T.cssEase,X.transition="transform "+T.speed+"ms "+T.cssEase):T.vertical?X.transition="top "+T.speed+"ms "+T.cssEase:X.transition="left "+T.speed+"ms "+T.cssEase,X},B=Lt.getTrackLeft=function(T){if(T.unslick)return 0;k(T,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var X=T.slideIndex,ee=T.trackRef,oe=T.infinite,ce=T.centerMode,re=T.slideCount,ue=T.slidesToShow,ye=T.slidesToScroll,Ve=T.slideWidth,Qe=T.listWidth,We=T.variableWidth,mt=T.slideHeight,ut=T.fade,le=T.vertical,Me=0,Ae,we,ge=0;if(ut||T.slideCount===1)return 0;var Be=0;if(oe?(Be=-q(T),re%ye!==0&&X+ye>re&&(Be=-(X>re?ue-(X-re):re%ye)),ce&&(Be+=parseInt(ue/2))):(re%ye!==0&&X+ye>re&&(Be=ue-re%ye),ce&&(Be=parseInt(ue/2))),Me=Be*Ve,ge=Be*mt,le?Ae=X*mt*-1+ge:Ae=X*Ve*-1+Me,We===!0){var Ue,_e=ee&&ee.node;if(Ue=X+q(T),we=_e&&_e.childNodes[Ue],Ae=we?we.offsetLeft*-1:0,ce===!0){Ue=oe?X+q(T):X,we=_e&&_e.children[Ue],Ae=0;for(var $e=0;$e<Ue;$e++)Ae-=_e&&_e.children[$e]&&_e.children[$e].offsetWidth;Ae-=parseInt(T.centerPadding),Ae+=we&&(Qe-we.offsetWidth)/2}}return Ae},q=Lt.getPreClones=function(T){return T.unslick||!T.infinite?0:T.variableWidth?T.slideCount:T.slidesToShow+(T.centerMode?1:0)},Y=Lt.getPostClones=function(T){return T.unslick||!T.infinite?0:T.slideCount},G=Lt.getTotalSlides=function(T){return T.slideCount===1?1:q(T)+T.slideCount+Y(T)},W=Lt.siblingDirection=function(T){return T.targetSlide>T.currentSlide?T.targetSlide>T.currentSlide+$(T)?"left":"right":T.targetSlide<T.currentSlide-z(T)?"right":"left"},$=Lt.slidesOnRight=function(T){var X=T.slidesToShow,ee=T.centerMode,oe=T.rtl,ce=T.centerPadding;if(ee){var re=(X-1)/2+1;return parseInt(ce)>0&&(re+=1),oe&&X%2===0&&(re+=1),re}return oe?0:X-1},z=Lt.slidesOnLeft=function(T){var X=T.slidesToShow,ee=T.centerMode,oe=T.rtl,ce=T.centerPadding;if(ee){var re=(X-1)/2+1;return parseInt(ce)>0&&(re+=1),!oe&&X%2===0&&(re+=1),re}return oe?X-1:0};Lt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var I=Lt.validSettings=Object.keys(e.default);function Q(K){return I.reduce(function(T,X){return K.hasOwnProperty(X)&&(T[X]=K[X]),T},{})}return Lt}var _0={},lj;function gF(){if(lj)return _0;lj=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.Track=void 0;var n=i(Er()),e=i($w()),t=Hx();function i(D){return D&&D.__esModule?D:{default:D}}function s(D){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s(D)}function a(){return a=Object.assign?Object.assign.bind():function(D){for(var B=1;B<arguments.length;B++){var q=arguments[B];for(var Y in q)Object.prototype.hasOwnProperty.call(q,Y)&&(D[Y]=q[Y])}return D},a.apply(this,arguments)}function o(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function c(D,B){for(var q=0;q<B.length;q++){var Y=B[q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(D,N(Y.key),Y)}}function d(D,B,q){return B&&c(D.prototype,B),Object.defineProperty(D,"prototype",{writable:!1}),D}function h(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),B&&m(D,B)}function m(D,B){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,G){return Y.__proto__=G,Y},m(D,B)}function x(D){var B=S();return function(){var Y=_(D),G;if(B){var W=_(this).constructor;G=Reflect.construct(Y,arguments,W)}else G=Y.apply(this,arguments);return y(this,G)}}function y(D,B){if(B&&(s(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(D)}function b(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function S(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!D})()}function _(D){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},_(D)}function E(D,B){var q=Object.keys(D);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(D);B&&(Y=Y.filter(function(G){return Object.getOwnPropertyDescriptor(D,G).enumerable})),q.push.apply(q,Y)}return q}function A(D){for(var B=1;B<arguments.length;B++){var q=arguments[B]!=null?arguments[B]:{};B%2?E(Object(q),!0).forEach(function(Y){P(D,Y,q[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(q)):E(Object(q)).forEach(function(Y){Object.defineProperty(D,Y,Object.getOwnPropertyDescriptor(q,Y))})}return D}function P(D,B,q){return B=N(B),B in D?Object.defineProperty(D,B,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[B]=q,D}function N(D){var B=L(D,"string");return s(B)=="symbol"?B:String(B)}function L(D,B){if(s(D)!="object"||!D)return D;var q=D[Symbol.toPrimitive];if(q!==void 0){var Y=q.call(D,B);if(s(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(D)}var j=function(B){var q,Y,G,W,$;B.rtl?$=B.slideCount-1-B.index:$=B.index,G=$<0||$>=B.slideCount,B.centerMode?(W=Math.floor(B.slidesToShow/2),Y=($-B.currentSlide)%B.slideCount===0,$>B.currentSlide-W-1&&$<=B.currentSlide+W&&(q=!0)):q=B.currentSlide<=$&&$<B.currentSlide+B.slidesToShow;var z;B.targetSlide<0?z=B.targetSlide+B.slideCount:B.targetSlide>=B.slideCount?z=B.targetSlide-B.slideCount:z=B.targetSlide;var I=$===z;return{"slick-slide":!0,"slick-active":q,"slick-center":Y,"slick-cloned":G,"slick-current":I}},R=function(B){var q={};return(B.variableWidth===void 0||B.variableWidth===!1)&&(q.width=B.slideWidth),B.fade&&(q.position="relative",B.vertical?q.top=-B.index*parseInt(B.slideHeight):q.left=-B.index*parseInt(B.slideWidth),q.opacity=B.currentSlide===B.index?1:0,q.zIndex=B.currentSlide===B.index?999:998,B.useCSS&&(q.transition="opacity "+B.speed+"ms "+B.cssEase+", visibility "+B.speed+"ms "+B.cssEase)),q},k=function(B,q){return B.key||q},F=function(B){var q,Y=[],G=[],W=[],$=n.default.Children.count(B.children),z=(0,t.lazyStartIndex)(B),I=(0,t.lazyEndIndex)(B);return n.default.Children.forEach(B.children,function(Q,K){var T,X={message:"children",index:K,slidesToScroll:B.slidesToScroll,currentSlide:B.currentSlide};!B.lazyLoad||B.lazyLoad&&B.lazyLoadedList.indexOf(K)>=0?T=Q:T=n.default.createElement("div",null);var ee=R(A(A({},B),{},{index:K})),oe=T.props.className||"",ce=j(A(A({},B),{},{index:K}));if(Y.push(n.default.cloneElement(T,{key:"original"+k(T,K),"data-index":K,className:(0,e.default)(ce,oe),tabIndex:"-1","aria-hidden":!ce["slick-active"],style:A(A({outline:"none"},T.props.style||{}),ee),onClick:function(ye){T.props&&T.props.onClick&&T.props.onClick(ye),B.focusOnSelect&&B.focusOnSelect(X)}})),B.infinite&&B.fade===!1){var re=$-K;re<=(0,t.getPreClones)(B)&&(q=-re,q>=z&&(T=Q),ce=j(A(A({},B),{},{index:q})),G.push(n.default.cloneElement(T,{key:"precloned"+k(T,q),"data-index":q,tabIndex:"-1",className:(0,e.default)(ce,oe),"aria-hidden":!ce["slick-active"],style:A(A({},T.props.style||{}),ee),onClick:function(ye){T.props&&T.props.onClick&&T.props.onClick(ye),B.focusOnSelect&&B.focusOnSelect(X)}}))),q=$+K,q<I&&(T=Q),ce=j(A(A({},B),{},{index:q})),W.push(n.default.cloneElement(T,{key:"postcloned"+k(T,q),"data-index":q,tabIndex:"-1",className:(0,e.default)(ce,oe),"aria-hidden":!ce["slick-active"],style:A(A({},T.props.style||{}),ee),onClick:function(ye){T.props&&T.props.onClick&&T.props.onClick(ye),B.focusOnSelect&&B.focusOnSelect(X)}}))}}),B.rtl?G.concat(Y,W).reverse():G.concat(Y,W)};return _0.Track=function(D){h(q,D);var B=x(q);function q(){var Y;o(this,q);for(var G=arguments.length,W=new Array(G),$=0;$<G;$++)W[$]=arguments[$];return Y=B.call.apply(B,[this].concat(W)),P(b(Y),"node",null),P(b(Y),"handleRef",function(z){Y.node=z}),Y}return d(q,[{key:"render",value:function(){var G=F(this.props),W=this.props,$=W.onMouseEnter,z=W.onMouseOver,I=W.onMouseLeave,Q={onMouseEnter:$,onMouseOver:z,onMouseLeave:I};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},Q),G)}}]),q}(n.default.PureComponent),_0}var E0={},cj;function xF(){if(cj)return E0;cj=1;function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(j)}Object.defineProperty(E0,"__esModule",{value:!0}),E0.Dots=void 0;var e=s(Er()),t=s($w()),i=Hx();function s(j){return j&&j.__esModule?j:{default:j}}function a(j,R){var k=Object.keys(j);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(j);R&&(F=F.filter(function(D){return Object.getOwnPropertyDescriptor(j,D).enumerable})),k.push.apply(k,F)}return k}function o(j){for(var R=1;R<arguments.length;R++){var k=arguments[R]!=null?arguments[R]:{};R%2?a(Object(k),!0).forEach(function(F){c(j,F,k[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(k)):a(Object(k)).forEach(function(F){Object.defineProperty(j,F,Object.getOwnPropertyDescriptor(k,F))})}return j}function c(j,R,k){return R=x(R),R in j?Object.defineProperty(j,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):j[R]=k,j}function d(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")}function h(j,R){for(var k=0;k<R.length;k++){var F=R[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(j,x(F.key),F)}}function m(j,R,k){return R&&h(j.prototype,R),Object.defineProperty(j,"prototype",{writable:!1}),j}function x(j){var R=y(j,"string");return n(R)=="symbol"?R:String(R)}function y(j,R){if(n(j)!="object"||!j)return j;var k=j[Symbol.toPrimitive];if(k!==void 0){var F=k.call(j,R);if(n(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function b(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),R&&S(j,R)}function S(j,R){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,D){return F.__proto__=D,F},S(j,R)}function _(j){var R=P();return function(){var F=N(j),D;if(R){var B=N(this).constructor;D=Reflect.construct(F,arguments,B)}else D=F.apply(this,arguments);return E(this,D)}}function E(j,R){if(R&&(n(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(j)}function A(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function P(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!j})()}function N(j){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},N(j)}var L=function(R){var k;return R.infinite?k=Math.ceil(R.slideCount/R.slidesToScroll):k=Math.ceil((R.slideCount-R.slidesToShow)/R.slidesToScroll)+1,k};return E0.Dots=function(j){b(k,j);var R=_(k);function k(){return d(this,k),R.apply(this,arguments)}return m(k,[{key:"clickHandler",value:function(D,B){B.preventDefault(),this.props.clickHandler(D)}},{key:"render",value:function(){for(var D=this.props,B=D.onMouseEnter,q=D.onMouseOver,Y=D.onMouseLeave,G=D.infinite,W=D.slidesToScroll,$=D.slidesToShow,z=D.slideCount,I=D.currentSlide,Q=L({slideCount:z,slidesToScroll:W,slidesToShow:$,infinite:G}),K={onMouseEnter:B,onMouseOver:q,onMouseLeave:Y},T=[],X=0;X<Q;X++){var ee=(X+1)*W-1,oe=G?ee:(0,i.clamp)(ee,0,z-1),ce=oe-(W-1),re=G?ce:(0,i.clamp)(ce,0,z-1),ue=(0,t.default)({"slick-active":G?I>=re&&I<=oe:I===re}),ye={message:"dots",index:X,slidesToScroll:W,currentSlide:I},Ve=this.clickHandler.bind(this,ye);T=T.concat(e.default.createElement("li",{key:X,className:ue},e.default.cloneElement(this.props.customPaging(X),{onClick:Ve})))}return e.default.cloneElement(this.props.appendDots(T),o({className:this.props.dotsClass},K))}}]),k}(e.default.PureComponent),E0}var bh={},uj;function yF(){if(uj)return bh;uj=1;function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(j)}Object.defineProperty(bh,"__esModule",{value:!0}),bh.PrevArrow=bh.NextArrow=void 0;var e=s(Er()),t=s($w()),i=Hx();function s(j){return j&&j.__esModule?j:{default:j}}function a(){return a=Object.assign?Object.assign.bind():function(j){for(var R=1;R<arguments.length;R++){var k=arguments[R];for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&(j[F]=k[F])}return j},a.apply(this,arguments)}function o(j,R){var k=Object.keys(j);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(j);R&&(F=F.filter(function(D){return Object.getOwnPropertyDescriptor(j,D).enumerable})),k.push.apply(k,F)}return k}function c(j){for(var R=1;R<arguments.length;R++){var k=arguments[R]!=null?arguments[R]:{};R%2?o(Object(k),!0).forEach(function(F){d(j,F,k[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(k)):o(Object(k)).forEach(function(F){Object.defineProperty(j,F,Object.getOwnPropertyDescriptor(k,F))})}return j}function d(j,R,k){return R=y(R),R in j?Object.defineProperty(j,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):j[R]=k,j}function h(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")}function m(j,R){for(var k=0;k<R.length;k++){var F=R[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(j,y(F.key),F)}}function x(j,R,k){return R&&m(j.prototype,R),Object.defineProperty(j,"prototype",{writable:!1}),j}function y(j){var R=b(j,"string");return n(R)=="symbol"?R:String(R)}function b(j,R){if(n(j)!="object"||!j)return j;var k=j[Symbol.toPrimitive];if(k!==void 0){var F=k.call(j,R);if(n(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function S(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),R&&_(j,R)}function _(j,R){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,D){return F.__proto__=D,F},_(j,R)}function E(j){var R=N();return function(){var F=L(j),D;if(R){var B=L(this).constructor;D=Reflect.construct(F,arguments,B)}else D=F.apply(this,arguments);return A(this,D)}}function A(j,R){if(R&&(n(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(j)}function P(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function N(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!j})()}function L(j){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},L(j)}return bh.PrevArrow=function(j){S(k,j);var R=E(k);function k(){return h(this,k),R.apply(this,arguments)}return x(k,[{key:"clickHandler",value:function(D,B){B&&B.preventDefault(),this.props.clickHandler(D,B)}},{key:"render",value:function(){var D={"slick-arrow":!0,"slick-prev":!0},B=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(D["slick-disabled"]=!0,B=null);var q={key:"0","data-role":"none",className:(0,t.default)(D),style:{display:"block"},onClick:B},Y={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},G;return this.props.prevArrow?G=e.default.cloneElement(this.props.prevArrow,c(c({},q),Y)):G=e.default.createElement("button",a({key:"0",type:"button"},q)," ","Previous"),G}}]),k}(e.default.PureComponent),bh.NextArrow=function(j){S(k,j);var R=E(k);function k(){return h(this,k),R.apply(this,arguments)}return x(k,[{key:"clickHandler",value:function(D,B){B&&B.preventDefault(),this.props.clickHandler(D,B)}},{key:"render",value:function(){var D={"slick-arrow":!0,"slick-next":!0},B=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(D["slick-disabled"]=!0,B=null);var q={key:"1","data-role":"none",className:(0,t.default)(D),style:{display:"block"},onClick:B},Y={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},G;return this.props.nextArrow?G=e.default.cloneElement(this.props.nextArrow,c(c({},q),Y)):G=e.default.createElement("button",a({key:"1",type:"button"},q)," ","Next"),G}}]),k}(e.default.PureComponent),bh}var ND=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(s,a){return s[0]===t?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),s=this.__entries__[i];return s&&s[1]},e.prototype.set=function(t,i){var s=n(this.__entries__,t);~s?this.__entries__[s][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,s=n(i,t);~s&&i.splice(s,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var s=0,a=this.__entries__;s<a.length;s++){var o=a[s];t.call(i,o[1],o[0])}},e}()}(),dE=typeof window<"u"&&typeof document<"u"&&window.document===document,D1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vF=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(D1):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),bF=2;function wF(n,e){var t=!1,i=!1,s=0;function a(){t&&(t=!1,n()),i&&c()}function o(){vF(a)}function c(){var d=Date.now();if(t){if(d-s<bF)return;i=!0}else t=!0,i=!1,setTimeout(o,e);s=d}return c}var SF=20,AF=["top","right","bottom","left","width","height","size","weight"],_F=typeof MutationObserver<"u",EF=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wF(this.refresh.bind(this),SF)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!dE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_F?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!dE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,s=AF.some(function(a){return!!~i.indexOf(a)});s&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),jD=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var s=i[t];Object.defineProperty(n,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return n},wm=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||D1},RD=e2(0,0,0,0);function O1(n){return parseFloat(n)||0}function dj(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,s){var a=n["border-"+s+"-width"];return i+O1(a)},0)}function CF(n){for(var e=["top","right","bottom","left"],t={},i=0,s=e;i<s.length;i++){var a=s[i],o=n["padding-"+a];t[a]=O1(o)}return t}function MF(n){var e=n.getBBox();return e2(0,0,e.width,e.height)}function TF(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return RD;var i=wm(n).getComputedStyle(n),s=CF(i),a=s.left+s.right,o=s.top+s.bottom,c=O1(i.width),d=O1(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+a)!==e&&(c-=dj(i,"left","right")+a),Math.round(d+o)!==t&&(d-=dj(i,"top","bottom")+o)),!jF(n)){var h=Math.round(c+a)-e,m=Math.round(d+o)-t;Math.abs(h)!==1&&(c-=h),Math.abs(m)!==1&&(d-=m)}return e2(s.left,s.top,c,d)}var NF=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof wm(n).SVGGraphicsElement}:function(n){return n instanceof wm(n).SVGElement&&typeof n.getBBox=="function"}}();function jF(n){return n===wm(n).document.documentElement}function RF(n){return dE?NF(n)?MF(n):TF(n):RD}function BF(n){var e=n.x,t=n.y,i=n.width,s=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return jD(o,{x:e,y:t,width:i,height:s,top:t,right:e+i,bottom:s+t,left:e}),o}function e2(n,e,t,i){return{x:n,y:e,width:t,height:i}}var DF=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=e2(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=RF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),OF=function(){function n(e,t){var i=BF(t);jD(this,{target:e,contentRect:i})}return n}(),PF=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new ND,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof wm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new DF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof wm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new OF(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),BD=typeof WeakMap<"u"?new WeakMap:new ND,DD=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=EF.getInstance(),i=new PF(e,t,this);BD.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){DD.prototype[n]=function(){var e;return(e=BD.get(this))[n].apply(e,arguments)}});var LF=function(){return typeof D1.ResizeObserver<"u"?D1.ResizeObserver:DD}();const IF=Object.freeze(Object.defineProperty({__proto__:null,default:LF},Symbol.toStringTag,{value:"Module"})),UF=XU(IF);var hj;function kF(){if(hj)return A0;hj=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.InnerSlider=void 0;var n=h(Er()),e=h(pF()),t=h(mF()),i=h($w()),s=Hx(),a=gF(),o=xF(),c=yF(),d=h(UF);function h(G){return G&&G.__esModule?G:{default:G}}function m(G){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},m(G)}function x(){return x=Object.assign?Object.assign.bind():function(G){for(var W=1;W<arguments.length;W++){var $=arguments[W];for(var z in $)Object.prototype.hasOwnProperty.call($,z)&&(G[z]=$[z])}return G},x.apply(this,arguments)}function y(G,W){if(G==null)return{};var $=b(G,W),z,I;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(G);for(I=0;I<Q.length;I++)z=Q[I],!(W.indexOf(z)>=0)&&Object.prototype.propertyIsEnumerable.call(G,z)&&($[z]=G[z])}return $}function b(G,W){if(G==null)return{};var $={},z=Object.keys(G),I,Q;for(Q=0;Q<z.length;Q++)I=z[Q],!(W.indexOf(I)>=0)&&($[I]=G[I]);return $}function S(G,W){var $=Object.keys(G);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(G);W&&(z=z.filter(function(I){return Object.getOwnPropertyDescriptor(G,I).enumerable})),$.push.apply($,z)}return $}function _(G){for(var W=1;W<arguments.length;W++){var $=arguments[W]!=null?arguments[W]:{};W%2?S(Object($),!0).forEach(function(z){B(G,z,$[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors($)):S(Object($)).forEach(function(z){Object.defineProperty(G,z,Object.getOwnPropertyDescriptor($,z))})}return G}function E(G,W){if(!(G instanceof W))throw new TypeError("Cannot call a class as a function")}function A(G,W){for(var $=0;$<W.length;$++){var z=W[$];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(G,q(z.key),z)}}function P(G,W,$){return W&&A(G.prototype,W),Object.defineProperty(G,"prototype",{writable:!1}),G}function N(G,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(W&&W.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),W&&L(G,W)}function L(G,W){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,I){return z.__proto__=I,z},L(G,W)}function j(G){var W=F();return function(){var z=D(G),I;if(W){var Q=D(this).constructor;I=Reflect.construct(z,arguments,Q)}else I=z.apply(this,arguments);return R(this,I)}}function R(G,W){if(W&&(m(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(G)}function k(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function F(){try{var G=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!G})()}function D(G){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},D(G)}function B(G,W,$){return W=q(W),W in G?Object.defineProperty(G,W,{value:$,enumerable:!0,configurable:!0,writable:!0}):G[W]=$,G}function q(G){var W=Y(G,"string");return m(W)=="symbol"?W:String(W)}function Y(G,W){if(m(G)!="object"||!G)return G;var $=G[Symbol.toPrimitive];if($!==void 0){var z=$.call(G,W);if(m(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(G)}return A0.InnerSlider=function(G){N($,G);var W=j($);function $(z){var I;E(this,$),I=W.call(this,z),B(k(I),"listRefHandler",function(K){return I.list=K}),B(k(I),"trackRefHandler",function(K){return I.track=K}),B(k(I),"adaptHeight",function(){if(I.props.adaptiveHeight&&I.list){var K=I.list.querySelector('[data-index="'.concat(I.state.currentSlide,'"]'));I.list.style.height=(0,s.getHeight)(K)+"px"}}),B(k(I),"componentDidMount",function(){if(I.props.onInit&&I.props.onInit(),I.props.lazyLoad){var K=(0,s.getOnDemandLazySlides)(_(_({},I.props),I.state));K.length>0&&(I.setState(function(X){return{lazyLoadedList:X.lazyLoadedList.concat(K)}}),I.props.onLazyLoad&&I.props.onLazyLoad(K))}var T=_({listRef:I.list,trackRef:I.track},I.props);I.updateState(T,!0,function(){I.adaptHeight(),I.props.autoplay&&I.autoPlay("update")}),I.props.lazyLoad==="progressive"&&(I.lazyLoadTimer=setInterval(I.progressiveLazyLoad,1e3)),I.ro=new d.default(function(){I.state.animating?(I.onWindowResized(!1),I.callbackTimers.push(setTimeout(function(){return I.onWindowResized()},I.props.speed))):I.onWindowResized()}),I.ro.observe(I.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(X){X.onfocus=I.props.pauseOnFocus?I.onSlideFocus:null,X.onblur=I.props.pauseOnFocus?I.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",I.onWindowResized):window.attachEvent("onresize",I.onWindowResized)}),B(k(I),"componentWillUnmount",function(){I.animationEndCallback&&clearTimeout(I.animationEndCallback),I.lazyLoadTimer&&clearInterval(I.lazyLoadTimer),I.callbackTimers.length&&(I.callbackTimers.forEach(function(K){return clearTimeout(K)}),I.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",I.onWindowResized):window.detachEvent("onresize",I.onWindowResized),I.autoplayTimer&&clearInterval(I.autoplayTimer),I.ro.disconnect()}),B(k(I),"componentDidUpdate",function(K){if(I.checkImagesLoad(),I.props.onReInit&&I.props.onReInit(),I.props.lazyLoad){var T=(0,s.getOnDemandLazySlides)(_(_({},I.props),I.state));T.length>0&&(I.setState(function(oe){return{lazyLoadedList:oe.lazyLoadedList.concat(T)}}),I.props.onLazyLoad&&I.props.onLazyLoad(T))}I.adaptHeight();var X=_(_({listRef:I.list,trackRef:I.track},I.props),I.state),ee=I.didPropsChange(K);ee&&I.updateState(X,ee,function(){I.state.currentSlide>=n.default.Children.count(I.props.children)&&I.changeSlide({message:"index",index:n.default.Children.count(I.props.children)-I.props.slidesToShow,currentSlide:I.state.currentSlide}),I.props.autoplay?I.autoPlay("update"):I.pause("paused")})}),B(k(I),"onWindowResized",function(K){I.debouncedResize&&I.debouncedResize.cancel(),I.debouncedResize=(0,t.default)(function(){return I.resizeWindow(K)},50),I.debouncedResize()}),B(k(I),"resizeWindow",function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,T=!!(I.track&&I.track.node);if(T){var X=_(_({listRef:I.list,trackRef:I.track},I.props),I.state);I.updateState(X,K,function(){I.props.autoplay?I.autoPlay("update"):I.pause("paused")}),I.setState({animating:!1}),clearTimeout(I.animationEndCallback),delete I.animationEndCallback}}),B(k(I),"updateState",function(K,T,X){var ee=(0,s.initializedState)(K);K=_(_(_({},K),ee),{},{slideIndex:ee.currentSlide});var oe=(0,s.getTrackLeft)(K);K=_(_({},K),{},{left:oe});var ce=(0,s.getTrackCSS)(K);(T||n.default.Children.count(I.props.children)!==n.default.Children.count(K.children))&&(ee.trackStyle=ce),I.setState(ee,X)}),B(k(I),"ssrInit",function(){if(I.props.variableWidth){var K=0,T=0,X=[],ee=(0,s.getPreClones)(_(_(_({},I.props),I.state),{},{slideCount:I.props.children.length})),oe=(0,s.getPostClones)(_(_(_({},I.props),I.state),{},{slideCount:I.props.children.length}));I.props.children.forEach(function(we){X.push(we.props.style.width),K+=we.props.style.width});for(var ce=0;ce<ee;ce++)T+=X[X.length-1-ce],K+=X[X.length-1-ce];for(var re=0;re<oe;re++)K+=X[re];for(var ue=0;ue<I.state.currentSlide;ue++)T+=X[ue];var ye={width:K+"px",left:-T+"px"};if(I.props.centerMode){var Ve="".concat(X[I.state.currentSlide],"px");ye.left="calc(".concat(ye.left," + (100% - ").concat(Ve,") / 2 ) ")}return{trackStyle:ye}}var Qe=n.default.Children.count(I.props.children),We=_(_(_({},I.props),I.state),{},{slideCount:Qe}),mt=(0,s.getPreClones)(We)+(0,s.getPostClones)(We)+Qe,ut=100/I.props.slidesToShow*mt,le=100/mt,Me=-le*((0,s.getPreClones)(We)+I.state.currentSlide)*ut/100;I.props.centerMode&&(Me+=(100-le*ut/100)/2);var Ae={width:ut+"%",left:Me+"%"};return{slideWidth:le+"%",trackStyle:Ae}}),B(k(I),"checkImagesLoad",function(){var K=I.list&&I.list.querySelectorAll&&I.list.querySelectorAll(".slick-slide img")||[],T=K.length,X=0;Array.prototype.forEach.call(K,function(ee){var oe=function(){return++X&&X>=T&&I.onWindowResized()};if(!ee.onclick)ee.onclick=function(){return ee.parentNode.focus()};else{var ce=ee.onclick;ee.onclick=function(re){ce(re),ee.parentNode.focus()}}ee.onload||(I.props.lazyLoad?ee.onload=function(){I.adaptHeight(),I.callbackTimers.push(setTimeout(I.onWindowResized,I.props.speed))}:(ee.onload=oe,ee.onerror=function(){oe(),I.props.onLazyLoadError&&I.props.onLazyLoadError()}))})}),B(k(I),"progressiveLazyLoad",function(){for(var K=[],T=_(_({},I.props),I.state),X=I.state.currentSlide;X<I.state.slideCount+(0,s.getPostClones)(T);X++)if(I.state.lazyLoadedList.indexOf(X)<0){K.push(X);break}for(var ee=I.state.currentSlide-1;ee>=-(0,s.getPreClones)(T);ee--)if(I.state.lazyLoadedList.indexOf(ee)<0){K.push(ee);break}K.length>0?(I.setState(function(oe){return{lazyLoadedList:oe.lazyLoadedList.concat(K)}}),I.props.onLazyLoad&&I.props.onLazyLoad(K)):I.lazyLoadTimer&&(clearInterval(I.lazyLoadTimer),delete I.lazyLoadTimer)}),B(k(I),"slideHandler",function(K){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X=I.props,ee=X.asNavFor,oe=X.beforeChange,ce=X.onLazyLoad,re=X.speed,ue=X.afterChange,ye=I.state.currentSlide,Ve=(0,s.slideHandler)(_(_(_({index:K},I.props),I.state),{},{trackRef:I.track,useCSS:I.props.useCSS&&!T})),Qe=Ve.state,We=Ve.nextState;if(Qe){oe&&oe(ye,Qe.currentSlide);var mt=Qe.lazyLoadedList.filter(function(ut){return I.state.lazyLoadedList.indexOf(ut)<0});ce&&mt.length>0&&ce(mt),!I.props.waitForAnimate&&I.animationEndCallback&&(clearTimeout(I.animationEndCallback),ue&&ue(ye),delete I.animationEndCallback),I.setState(Qe,function(){ee&&I.asNavForIndex!==K&&(I.asNavForIndex=K,ee.innerSlider.slideHandler(K)),We&&(I.animationEndCallback=setTimeout(function(){var ut=We.animating,le=y(We,["animating"]);I.setState(le,function(){I.callbackTimers.push(setTimeout(function(){return I.setState({animating:ut})},10)),ue&&ue(Qe.currentSlide),delete I.animationEndCallback})},re))})}}),B(k(I),"changeSlide",function(K){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X=_(_({},I.props),I.state),ee=(0,s.changeSlide)(X,K);if(!(ee!==0&&!ee)&&(T===!0?I.slideHandler(ee,T):I.slideHandler(ee),I.props.autoplay&&I.autoPlay("update"),I.props.focusOnSelect)){var oe=I.list.querySelectorAll(".slick-current");oe[0]&&oe[0].focus()}}),B(k(I),"clickHandler",function(K){I.clickable===!1&&(K.stopPropagation(),K.preventDefault()),I.clickable=!0}),B(k(I),"keyHandler",function(K){var T=(0,s.keyHandler)(K,I.props.accessibility,I.props.rtl);T!==""&&I.changeSlide({message:T})}),B(k(I),"selectHandler",function(K){I.changeSlide(K)}),B(k(I),"disableBodyScroll",function(){var K=function(X){X=X||window.event,X.preventDefault&&X.preventDefault(),X.returnValue=!1};window.ontouchmove=K}),B(k(I),"enableBodyScroll",function(){window.ontouchmove=null}),B(k(I),"swipeStart",function(K){I.props.verticalSwiping&&I.disableBodyScroll();var T=(0,s.swipeStart)(K,I.props.swipe,I.props.draggable);T!==""&&I.setState(T)}),B(k(I),"swipeMove",function(K){var T=(0,s.swipeMove)(K,_(_(_({},I.props),I.state),{},{trackRef:I.track,listRef:I.list,slideIndex:I.state.currentSlide}));T&&(T.swiping&&(I.clickable=!1),I.setState(T))}),B(k(I),"swipeEnd",function(K){var T=(0,s.swipeEnd)(K,_(_(_({},I.props),I.state),{},{trackRef:I.track,listRef:I.list,slideIndex:I.state.currentSlide}));if(T){var X=T.triggerSlideHandler;delete T.triggerSlideHandler,I.setState(T),X!==void 0&&(I.slideHandler(X),I.props.verticalSwiping&&I.enableBodyScroll())}}),B(k(I),"touchEnd",function(K){I.swipeEnd(K),I.clickable=!0}),B(k(I),"slickPrev",function(){I.callbackTimers.push(setTimeout(function(){return I.changeSlide({message:"previous"})},0))}),B(k(I),"slickNext",function(){I.callbackTimers.push(setTimeout(function(){return I.changeSlide({message:"next"})},0))}),B(k(I),"slickGoTo",function(K){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(K=Number(K),isNaN(K))return"";I.callbackTimers.push(setTimeout(function(){return I.changeSlide({message:"index",index:K,currentSlide:I.state.currentSlide},T)},0))}),B(k(I),"play",function(){var K;if(I.props.rtl)K=I.state.currentSlide-I.props.slidesToScroll;else if((0,s.canGoNext)(_(_({},I.props),I.state)))K=I.state.currentSlide+I.props.slidesToScroll;else return!1;I.slideHandler(K)}),B(k(I),"autoPlay",function(K){I.autoplayTimer&&clearInterval(I.autoplayTimer);var T=I.state.autoplaying;if(K==="update"){if(T==="hovered"||T==="focused"||T==="paused")return}else if(K==="leave"){if(T==="paused"||T==="focused")return}else if(K==="blur"&&(T==="paused"||T==="hovered"))return;I.autoplayTimer=setInterval(I.play,I.props.autoplaySpeed+50),I.setState({autoplaying:"playing"})}),B(k(I),"pause",function(K){I.autoplayTimer&&(clearInterval(I.autoplayTimer),I.autoplayTimer=null);var T=I.state.autoplaying;K==="paused"?I.setState({autoplaying:"paused"}):K==="focused"?(T==="hovered"||T==="playing")&&I.setState({autoplaying:"focused"}):T==="playing"&&I.setState({autoplaying:"hovered"})}),B(k(I),"onDotsOver",function(){return I.props.autoplay&&I.pause("hovered")}),B(k(I),"onDotsLeave",function(){return I.props.autoplay&&I.state.autoplaying==="hovered"&&I.autoPlay("leave")}),B(k(I),"onTrackOver",function(){return I.props.autoplay&&I.pause("hovered")}),B(k(I),"onTrackLeave",function(){return I.props.autoplay&&I.state.autoplaying==="hovered"&&I.autoPlay("leave")}),B(k(I),"onSlideFocus",function(){return I.props.autoplay&&I.pause("focused")}),B(k(I),"onSlideBlur",function(){return I.props.autoplay&&I.state.autoplaying==="focused"&&I.autoPlay("blur")}),B(k(I),"render",function(){var K=(0,i.default)("slick-slider",I.props.className,{"slick-vertical":I.props.vertical,"slick-initialized":!0}),T=_(_({},I.props),I.state),X=(0,s.extractObject)(T,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),ee=I.props.pauseOnHover;X=_(_({},X),{},{onMouseEnter:ee?I.onTrackOver:null,onMouseLeave:ee?I.onTrackLeave:null,onMouseOver:ee?I.onTrackOver:null,focusOnSelect:I.props.focusOnSelect&&I.clickable?I.selectHandler:null});var oe;if(I.props.dots===!0&&I.state.slideCount>=I.props.slidesToShow){var ce=(0,s.extractObject)(T,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),re=I.props.pauseOnDotsHover;ce=_(_({},ce),{},{clickHandler:I.changeSlide,onMouseEnter:re?I.onDotsLeave:null,onMouseOver:re?I.onDotsOver:null,onMouseLeave:re?I.onDotsLeave:null}),oe=n.default.createElement(o.Dots,ce)}var ue,ye,Ve=(0,s.extractObject)(T,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Ve.clickHandler=I.changeSlide,I.props.arrows&&(ue=n.default.createElement(c.PrevArrow,Ve),ye=n.default.createElement(c.NextArrow,Ve));var Qe=null;I.props.vertical&&(Qe={height:I.state.listHeight});var We=null;I.props.vertical===!1?I.props.centerMode===!0&&(We={padding:"0px "+I.props.centerPadding}):I.props.centerMode===!0&&(We={padding:I.props.centerPadding+" 0px"});var mt=_(_({},Qe),We),ut=I.props.touchMove,le={className:"slick-list",style:mt,onClick:I.clickHandler,onMouseDown:ut?I.swipeStart:null,onMouseMove:I.state.dragging&&ut?I.swipeMove:null,onMouseUp:ut?I.swipeEnd:null,onMouseLeave:I.state.dragging&&ut?I.swipeEnd:null,onTouchStart:ut?I.swipeStart:null,onTouchMove:I.state.dragging&&ut?I.swipeMove:null,onTouchEnd:ut?I.touchEnd:null,onTouchCancel:I.state.dragging&&ut?I.swipeEnd:null,onKeyDown:I.props.accessibility?I.keyHandler:null},Me={className:K,dir:"ltr",style:I.props.style};return I.props.unslick&&(le={className:"slick-list"},Me={className:K}),n.default.createElement("div",Me,I.props.unslick?"":ue,n.default.createElement("div",x({ref:I.listRefHandler},le),n.default.createElement(a.Track,x({ref:I.trackRefHandler},X),I.props.children)),I.props.unslick?"":ye,I.props.unslick?"":oe)}),I.list=null,I.track=null,I.state=_(_({},e.default),{},{currentSlide:I.props.initialSlide,targetSlide:I.props.initialSlide?I.props.initialSlide:0,slideCount:n.default.Children.count(I.props.children)}),I.callbackTimers=[],I.clickable=!0,I.debouncedResize=null;var Q=I.ssrInit();return I.state=_(_({},I.state),Q),I}return P($,[{key:"didPropsChange",value:function(I){for(var Q=!1,K=0,T=Object.keys(this.props);K<T.length;K++){var X=T[K];if(!I.hasOwnProperty(X)){Q=!0;break}if(!(m(I[X])==="object"||typeof I[X]=="function"||isNaN(I[X]))&&I[X]!==this.props[X]){Q=!0;break}}return Q||n.default.Children.count(this.props.children)!==n.default.Children.count(I.children)}}]),$}(n.default.Component),A0}var aA,fj;function FF(){if(fj)return aA;fj=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return aA=n,aA}var oA,pj;function zF(){if(pj)return oA;pj=1;var n=FF(),e=function(s){var a=/[height|width]$/;return a.test(s)},t=function(s){var a="",o=Object.keys(s);return o.forEach(function(c,d){var h=s[c];c=n(c),e(c)&&typeof h=="number"&&(h=h+"px"),h===!0?a+=c:h===!1?a+="not "+c:a+="("+c+": "+h+")",d<o.length-1&&(a+=" and ")}),a},i=function(s){var a="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(o,c){a+=t(o),c<s.length-1&&(a+=", ")}),a):t(s)};return oA=i,oA}var lA,mj;function HF(){if(mj)return lA;mj=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},lA=n,lA}var cA,gj;function OD(){if(gj)return cA;gj=1;function n(i,s){var a=0,o=i.length,c;for(a;a<o&&(c=s(i[a],a),c!==!1);a++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return cA={isFunction:t,isArray:e,each:n},cA}var uA,xj;function VF(){if(xj)return uA;xj=1;var n=HF(),e=OD().each;function t(i,s){this.query=i,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(i);var a=this;this.listener=function(o){a.mql=o.currentTarget||o,a.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var s=new n(i);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(i){var s=this.handlers;e(s,function(a,o){if(a.equals(i))return a.destroy(),!s.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(s){s[i]()})}},uA=t,uA}var dA,yj;function GF(){if(yj)return dA;yj=1;var n=VF(),e=OD(),t=e.each,i=e.isFunction,s=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(o,c,d){var h=this.queries,m=d&&this.browserIsIncapable;return h[o]||(h[o]=new n(o,m)),i(c)&&(c={match:c}),s(c)||(c=[c]),t(c,function(x){i(x)&&(x={match:x}),h[o].addHandler(x)}),this},unregister:function(o,c){var d=this.queries[o];return d&&(c?d.removeHandler(c):(d.clear(),delete this.queries[o])),this}},dA=a,dA}var hA,vj;function qF(){if(vj)return hA;vj=1;var n=GF();return hA=new n,hA}var bj;function WF(){return bj||(bj=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(Er()),t=kF(),i=o(zF()),s=o(TD()),a=Hx();function o(D){return D&&D.__esModule?D:{default:D}}function c(D){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(D)}function d(){return d=Object.assign?Object.assign.bind():function(D){for(var B=1;B<arguments.length;B++){var q=arguments[B];for(var Y in q)Object.prototype.hasOwnProperty.call(q,Y)&&(D[Y]=q[Y])}return D},d.apply(this,arguments)}function h(D,B){var q=Object.keys(D);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(D);B&&(Y=Y.filter(function(G){return Object.getOwnPropertyDescriptor(D,G).enumerable})),q.push.apply(q,Y)}return q}function m(D){for(var B=1;B<arguments.length;B++){var q=arguments[B]!=null?arguments[B]:{};B%2?h(Object(q),!0).forEach(function(Y){j(D,Y,q[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(q)):h(Object(q)).forEach(function(Y){Object.defineProperty(D,Y,Object.getOwnPropertyDescriptor(q,Y))})}return D}function x(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function y(D,B){for(var q=0;q<B.length;q++){var Y=B[q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(D,R(Y.key),Y)}}function b(D,B,q){return B&&y(D.prototype,B),Object.defineProperty(D,"prototype",{writable:!1}),D}function S(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),B&&_(D,B)}function _(D,B){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,G){return Y.__proto__=G,Y},_(D,B)}function E(D){var B=N();return function(){var Y=L(D),G;if(B){var W=L(this).constructor;G=Reflect.construct(Y,arguments,W)}else G=Y.apply(this,arguments);return A(this,G)}}function A(D,B){if(B&&(c(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(D)}function P(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function N(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!D})()}function L(D){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},L(D)}function j(D,B,q){return B=R(B),B in D?Object.defineProperty(D,B,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[B]=q,D}function R(D){var B=k(D,"string");return c(B)=="symbol"?B:String(B)}function k(D,B){if(c(D)!="object"||!D)return D;var q=D[Symbol.toPrimitive];if(q!==void 0){var Y=q.call(D,B);if(c(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(D)}var F=(0,a.canUseDOM)()&&qF();n.default=function(D){S(q,D);var B=E(q);function q(Y){var G;return x(this,q),G=B.call(this,Y),j(P(G),"innerSliderRefHandler",function(W){return G.innerSlider=W}),j(P(G),"slickPrev",function(){return G.innerSlider.slickPrev()}),j(P(G),"slickNext",function(){return G.innerSlider.slickNext()}),j(P(G),"slickGoTo",function(W){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return G.innerSlider.slickGoTo(W,$)}),j(P(G),"slickPause",function(){return G.innerSlider.pause("paused")}),j(P(G),"slickPlay",function(){return G.innerSlider.autoPlay("play")}),G.state={breakpoint:null},G._responsiveMediaHandlers=[],G}return b(q,[{key:"media",value:function(G,W){F.register(G,W),this._responsiveMediaHandlers.push({query:G,handler:W})}},{key:"componentDidMount",value:function(){var G=this;if(this.props.responsive){var W=this.props.responsive.map(function(z){return z.breakpoint});W.sort(function(z,I){return z-I}),W.forEach(function(z,I){var Q;I===0?Q=(0,i.default)({minWidth:0,maxWidth:z}):Q=(0,i.default)({minWidth:W[I-1]+1,maxWidth:z}),(0,a.canUseDOM)()&&G.media(Q,function(){G.setState({breakpoint:z})})});var $=(0,i.default)({minWidth:W.slice(-1)[0]});(0,a.canUseDOM)()&&this.media($,function(){G.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(G){F.unregister(G.query,G.handler)})}},{key:"render",value:function(){var G=this,W,$;this.state.breakpoint?($=this.props.responsive.filter(function(re){return re.breakpoint===G.state.breakpoint}),W=$[0].settings==="unslick"?"unslick":m(m(m({},s.default),this.props),$[0].settings)):W=m(m({},s.default),this.props),W.centerMode&&(W.slidesToScroll>1,W.slidesToScroll=1),W.fade&&(W.slidesToShow>1,W.slidesToScroll>1,W.slidesToShow=1,W.slidesToScroll=1);var z=e.default.Children.toArray(this.props.children);z=z.filter(function(re){return typeof re=="string"?!!re.trim():!!re}),W.variableWidth&&(W.rows>1||W.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),W.variableWidth=!1);for(var I=[],Q=null,K=0;K<z.length;K+=W.rows*W.slidesPerRow){for(var T=[],X=K;X<K+W.rows*W.slidesPerRow;X+=W.slidesPerRow){for(var ee=[],oe=X;oe<X+W.slidesPerRow&&(W.variableWidth&&z[oe].props.style&&(Q=z[oe].props.style.width),!(oe>=z.length));oe+=1)ee.push(e.default.cloneElement(z[oe],{key:100*K+10*X+oe,tabIndex:-1,style:{width:"".concat(100/W.slidesPerRow,"%"),display:"inline-block"}}));T.push(e.default.createElement("div",{key:10*K+X},ee))}W.variableWidth?I.push(e.default.createElement("div",{key:K,style:{width:Q}},T)):I.push(e.default.createElement("div",{key:K},T))}if(W==="unslick"){var ce="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ce},z)}else I.length<=W.slidesToShow&&!W.infinite&&(W.unslick=!0);return e.default.createElement(t.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(W)),I)}}]),q}(e.default.Component)}(tA)),tA}var wj;function XF(){return wj||(wj=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(WF());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(eA)),eA}var YF=XF();const LC=Af(YF),KF="/assets/ban11-Bu3wPLf9.jpeg",JF="/assets/ban22-LtPn8Dl7.jpeg",QF="/assets/ban33-BYzljG_X.jpeg",ZF="/assets/ban44-BmufIyOe.jpeg",$F=[{img:JF,buttonText:"Shop Eyeglasses",buttonLink:"/allproduct/glasses/69157332eeb23fa59c7d5326",buttonColor:"#ffffff",textColor:"#1f1f20",buttonPosition:"left"},{img:KF,buttonText:"Upgrade Your Look",buttonLink:"/allproduct/sunglasses/6915705d9ceac0cdda41c83f",buttonColor:"#beaf9aff",textColor:"#000000",buttonPosition:"center"},{img:QF,title:"Find Your Style",subtitle:"Comfort  Clarity  Confidence",description:"Choose from our best-selling glasses designed for everyday comfort.",buttonText:"Find Your Style",buttonLink:"/allproduct/contact_lenses/6915735feeb23fa59c7d532b",buttonColor:"#ff5252",textColor:"#ffffff",buttonPosition:"left1"},{img:ZF,buttonText:"Explore Lenses",buttonLink:"/allproduct/contact_lenses/6915735feeb23fa59c7d532b",buttonColor:"#0d5648",textColor:"#ffffff",buttonPosition:"center1"}];function e9(){const n={dots:!0,arrows:!1,infinite:!0,autoplay:!0,speed:3e3,autoplaySpeed:3e3,pauseOnHover:!1},e=t=>{window.location.href=t};return r.jsx("div",{className:"h-full",children:r.jsx("div",{className:"relative banner-container",children:r.jsx(LC,{...n,children:$F.map((t,i)=>r.jsxs("div",{className:"relative banner-slide",children:[r.jsx("img",{src:t.img,loading:"lazy",decoding:"async",className:"w-full h-auto object-cover",alt:`slider-${i}`}),r.jsx("div",{className:"banner-overlay"}),r.jsx("div",{className:"banner-content",children:r.jsxs("div",{className:"banner-text-wrapper",children:[r.jsx("h3",{className:"banner-subtitle",children:t.subtitle}),r.jsx("h1",{className:"banner-title",children:t.title}),r.jsx("p",{className:"banner-description",children:t.description}),r.jsx("button",{className:`banner-button position-${t.buttonPosition}`,style:{backgroundColor:t.buttonColor,color:t.textColor},onClick:()=>e(t.buttonLink),children:t.buttonText})]})})]},i))})})})}const t9="/assets/about-us-BU6XdCOB.jpg",n9="/assets/bgimage-BcHqSrur.png";var PD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sj=Mi.createContext&&Mi.createContext(PD),i9=["attr","size","title"];function s9(n,e){if(n==null)return{};var t=r9(n,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function r9(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function P1(){return P1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},P1.apply(this,arguments)}function Aj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function L1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(t),!0).forEach(function(i){a9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Aj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function a9(n,e,t){return e=o9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o9(n){var e=l9(n,"string");return typeof e=="symbol"?e:e+""}function l9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LD(n){return n&&n.map((e,t)=>Mi.createElement(e.tag,L1({key:t},e.attr),LD(e.child)))}function jn(n){return e=>Mi.createElement(c9,P1({attr:L1({},n.attr)},e),LD(n.child))}function c9(n){var e=t=>{var{attr:i,size:s,title:a}=n,o=s9(n,i9),c=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Mi.createElement("svg",P1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:d,style:L1(L1({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Mi.createElement("title",null,a),n.children)};return Sj!==void 0?Mi.createElement(Sj.Consumer,null,t=>e(t)):e(PD)}function ID(n){return jn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function UD(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function kD(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function FD(n){return jn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}function vx(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function u9(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function d9(n){return jn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(n)}function h9(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function Kv(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function zD(n){return jn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function HD(n){return jn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function f9(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function p9(n){return jn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"},child:[]}]})(n)}function m9(n){return jn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function g9(n){return jn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M574.1 280.37L528.75 98.66c-5.91-23.7-21.59-44.05-43-55.81-21.44-11.73-46.97-14.11-70.19-6.33l-15.25 5.08c-8.39 2.79-12.92 11.86-10.12 20.24l5.06 15.18c2.79 8.38 11.85 12.91 20.23 10.12l13.18-4.39c10.87-3.62 23-3.57 33.16 1.73 10.29 5.37 17.57 14.56 20.37 25.82l38.46 153.82c-22.19-6.81-49.79-12.46-81.2-12.46-34.77 0-73.98 7.02-114.85 26.74h-73.18c-40.87-19.74-80.08-26.75-114.86-26.75-31.42 0-59.02 5.65-81.21 12.46l38.46-153.83c2.79-11.25 10.09-20.45 20.38-25.81 10.16-5.3 22.28-5.35 33.15-1.73l13.17 4.39c8.38 2.79 17.44-1.74 20.23-10.12l5.06-15.18c2.8-8.38-1.73-17.45-10.12-20.24l-15.25-5.08c-23.22-7.78-48.75-5.41-70.19 6.33-21.41 11.77-37.09 32.11-43 55.8L1.9 280.37A64.218 64.218 0 0 0 0 295.86v70.25C0 429.01 51.58 480 115.2 480h37.12c60.28 0 110.37-45.94 114.88-105.37l2.93-38.63h35.75l2.93 38.63C313.31 434.06 363.4 480 423.68 480h37.12c63.62 0 115.2-50.99 115.2-113.88v-70.25c0-5.23-.64-10.43-1.9-15.5zm-370.72 89.42c-1.97 25.91-24.4 46.21-51.06 46.21H115.2C86.97 416 64 393.62 64 366.11v-37.54c18.12-6.49 43.42-12.92 72.58-12.92 23.86 0 47.26 4.33 69.93 12.92l-3.13 41.22zM512 366.12c0 27.51-22.97 49.88-51.2 49.88h-37.12c-26.67 0-49.1-20.3-51.06-46.21l-3.13-41.22c22.67-8.59 46.08-12.92 69.95-12.92 29.12 0 54.43 6.44 72.55 12.93v37.54z"},child:[]}]})(n)}function VD(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(n)}function x9(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function y9(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"},child:[]}]})(n)}function v9(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"},child:[]}]})(n)}function b9(n){return jn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function w9(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-16 328c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160zm112 0c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160z"},child:[]}]})(n)}function hE(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function GD(n){return jn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(n)}function S9(n){return jn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function _j(n){return jn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function A9(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function qD(n){return jn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(n)}function Jv(n){return jn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const _9=()=>r.jsx("div",{className:"bg-cover bg-center w-full min-h-[100vh] py-10",style:{backgroundImage:`url(${n9})`,backgroundSize:"cover",backgroundPosition:"center"},children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-10 px-6 md:px-10 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"relative w-full lg:w-1/2 flex justify-center pt-10",children:[r.jsx("img",{src:t9,alt:"Eye Checkup",className:"max-w-[300px] sm:max-w-[350px] md:max-w-[400px] rounded-md",loading:"lazy",decoding:"async"}),r.jsxs("div",{className:`absolute top-6 right-20 bg-[#f00000] text-white text-center rounded-full \r
            w-28 h-28 sm:w-32 sm:h-32 flex flex-col items-center justify-center shadow-xl`,children:[r.jsx("span",{className:"text-xl sm:text-2xl font-bold",children:"Clear"}),r.jsx("span",{className:"text-xl sm:text-2xl",children:"Vision"})]})]}),r.jsxs("div",{className:"lg:w-1/2 text-center lg:text-left",children:[r.jsx("h2",{className:"text-[#f00000] text-3xl font-semibold mb-2",children:"Welcome To ATAL Optical"}),r.jsx("hr",{className:"w-90 border-red-500 mx-auto lg:mx-0 mb-6"}),r.jsxs("h1",{className:"text-2xl md:text-4xl font-light leading-snug mb-4",children:["ATAL Optical has been providing"," ",r.jsx("strong",{className:"font-semibold",children:"luxury eye wear for clients"})," ","in Toronto and the GTA since 2024."]}),r.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Since 2024, Atal Optical has been proudly serving Toronto and the GTA with premium eye care and luxury eyewear. With a focus on quality, style, and precision, we have built a reputation for offering high-end frames, advanced lenses, and personalized eye care solutions that cater to both fashion and function. Our commitment to excellence ensures that every client not only sees better but also looks their best, making Atal Optical a trusted destination for luxury eyewear for nearly two decades."}),r.jsx("p",{className:"text-gray-600 text-base leading-relaxed mt-6 mb-6",children:"Over the years, Atal Optical has grown into a trusted name by combining professional expertise with a curated selection of world-class eyewear brands. Our team of experienced opticians and eye care specialists takes pride in delivering a personalized experience, ensuring each client finds the perfect balance of comfort, vision, and style. From trendsetting luxury frames to advanced prescription solutions, we are dedicated to meeting the diverse needs of our Toronto and GTA community with the highest standards of care."}),r.jsx("div",{className:"flex justify-center lg:justify-start",children:r.jsx(xt,{to:"/about-us",children:r.jsxs("button",{className:"flex items-center bg-[#f00000] text-white px-5 py-3 rounded-sm mt-6 hover:bg-black transition",children:["About Us"," ",r.jsx("span",{className:"ml-4 bg-white p-2 rounded-lg",children:r.jsx(vx,{className:"text-black transition duration-200 hover:-rotate-45"})})]})})})]})]})});function WD(n,e){return function(){return n.apply(e,arguments)}}const{toString:E9}=Object.prototype,{getPrototypeOf:IC}=Object,{iterator:t2,toStringTag:XD}=Symbol,n2=(n=>e=>{const t=E9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ul=n=>(n=n.toLowerCase(),e=>n2(e)===n),i2=n=>e=>typeof e===n,{isArray:Hm}=Array,bx=i2("undefined");function Vx(n){return n!==null&&!bx(n)&&n.constructor!==null&&!bx(n.constructor)&&ya(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const YD=ul("ArrayBuffer");function C9(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&YD(n.buffer),e}const M9=i2("string"),ya=i2("function"),KD=i2("number"),Gx=n=>n!==null&&typeof n=="object",T9=n=>n===!0||n===!1,l1=n=>{if(n2(n)!=="object")return!1;const e=IC(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XD in n)&&!(t2 in n)},N9=n=>{if(!Gx(n)||Vx(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},j9=ul("Date"),R9=ul("File"),B9=ul("Blob"),D9=ul("FileList"),O9=n=>Gx(n)&&ya(n.pipe),P9=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ya(n.append)&&((e=n2(n))==="formdata"||e==="object"&&ya(n.toString)&&n.toString()==="[object FormData]"))},L9=ul("URLSearchParams"),[I9,U9,k9,F9]=["ReadableStream","Request","Response","Headers"].map(ul),z9=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qx(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),Hm(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{if(Vx(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),o=a.length;let c;for(i=0;i<o;i++)c=a[i],e.call(null,n[c],c,n)}}function JD(n,e){if(Vx(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Xh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QD=n=>!bx(n)&&n!==Xh;function fE(){const{caseless:n}=QD(this)&&this||{},e={},t=(i,s)=>{const a=n&&JD(e,s)||s;l1(e[a])&&l1(i)?e[a]=fE(e[a],i):l1(i)?e[a]=fE({},i):Hm(i)?e[a]=i.slice():e[a]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&qx(arguments[i],t);return e}const H9=(n,e,t,{allOwnKeys:i}={})=>(qx(e,(s,a)=>{t&&ya(s)?n[a]=WD(s,t):n[a]=s},{allOwnKeys:i}),n),V9=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),G9=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},q9=(n,e,t,i)=>{let s,a,o;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)o=s[a],(!i||i(o,n,e))&&!c[o]&&(e[o]=n[o],c[o]=!0);n=t!==!1&&IC(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},W9=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},X9=n=>{if(!n)return null;if(Hm(n))return n;let e=n.length;if(!KD(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Y9=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&IC(Uint8Array)),K9=(n,e)=>{const i=(n&&n[t2]).call(n);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},J9=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Q9=ul("HTMLFormElement"),Z9=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),Ej=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),$9=ul("RegExp"),ZD=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};qx(t,(s,a)=>{let o;(o=e(s,a,n))!==!1&&(i[a]=o||s)}),Object.defineProperties(n,i)},ez=n=>{ZD(n,(e,t)=>{if(ya(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ya(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},tz=(n,e)=>{const t={},i=s=>{s.forEach(a=>{t[a]=!0})};return Hm(n)?i(n):i(String(n).split(e)),t},nz=()=>{},iz=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function sz(n){return!!(n&&ya(n.append)&&n[XD]==="FormData"&&n[t2])}const rz=n=>{const e=new Array(10),t=(i,s)=>{if(Gx(i)){if(e.indexOf(i)>=0)return;if(Vx(i))return i;if(!("toJSON"in i)){e[s]=i;const a=Hm(i)?[]:{};return qx(i,(o,c)=>{const d=t(o,s+1);!bx(d)&&(a[c]=d)}),e[s]=void 0,a}}return i};return t(n,0)},az=ul("AsyncFunction"),oz=n=>n&&(Gx(n)||ya(n))&&ya(n.then)&&ya(n.catch),$D=((n,e)=>n?setImmediate:e?((t,i)=>(Xh.addEventListener("message",({source:s,data:a})=>{s===Xh&&a===t&&i.length&&i.shift()()},!1),s=>{i.push(s),Xh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ya(Xh.postMessage)),lz=typeof queueMicrotask<"u"?queueMicrotask.bind(Xh):typeof process<"u"&&process.nextTick||$D,cz=n=>n!=null&&ya(n[t2]),Ye={isArray:Hm,isArrayBuffer:YD,isBuffer:Vx,isFormData:P9,isArrayBufferView:C9,isString:M9,isNumber:KD,isBoolean:T9,isObject:Gx,isPlainObject:l1,isEmptyObject:N9,isReadableStream:I9,isRequest:U9,isResponse:k9,isHeaders:F9,isUndefined:bx,isDate:j9,isFile:R9,isBlob:B9,isRegExp:$9,isFunction:ya,isStream:O9,isURLSearchParams:L9,isTypedArray:Y9,isFileList:D9,forEach:qx,merge:fE,extend:H9,trim:z9,stripBOM:V9,inherits:G9,toFlatObject:q9,kindOf:n2,kindOfTest:ul,endsWith:W9,toArray:X9,forEachEntry:K9,matchAll:J9,isHTMLForm:Q9,hasOwnProperty:Ej,hasOwnProp:Ej,reduceDescriptors:ZD,freezeMethods:ez,toObjectSet:tz,toCamelCase:Z9,noop:nz,toFiniteNumber:iz,findKey:JD,global:Xh,isContextDefined:QD,isSpecCompliantForm:sz,toJSONObject:rz,isAsyncFn:az,isThenable:oz,setImmediate:$D,asap:lz,isIterable:cz};function Mn(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}Ye.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const eO=Mn.prototype,tO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{tO[n]={value:n}});Object.defineProperties(Mn,tO);Object.defineProperty(eO,"isAxiosError",{value:!0});Mn.from=(n,e,t,i,s,a)=>{const o=Object.create(eO);return Ye.toFlatObject(n,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Mn.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,a&&Object.assign(o,a),o};const uz=null;function pE(n){return Ye.isPlainObject(n)||Ye.isArray(n)}function nO(n){return Ye.endsWith(n,"[]")?n.slice(0,-2):n}function Cj(n,e,t){return n?n.concat(e).map(function(s,a){return s=nO(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function dz(n){return Ye.isArray(n)&&!n.some(pE)}const hz=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function s2(n,e,t){if(!Ye.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ye.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!Ye.isUndefined(E[_])});const i=t.metaTokens,s=t.visitor||m,a=t.dots,o=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(s))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(Ye.isDate(S))return S.toISOString();if(Ye.isBoolean(S))return S.toString();if(!d&&Ye.isBlob(S))throw new Mn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(S)||Ye.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,_,E){let A=S;if(S&&!E&&typeof S=="object"){if(Ye.endsWith(_,"{}"))_=i?_:_.slice(0,-2),S=JSON.stringify(S);else if(Ye.isArray(S)&&dz(S)||(Ye.isFileList(S)||Ye.endsWith(_,"[]"))&&(A=Ye.toArray(S)))return _=nO(_),A.forEach(function(N,L){!(Ye.isUndefined(N)||N===null)&&e.append(o===!0?Cj([_],L,a):o===null?_:_+"[]",h(N))}),!1}return pE(S)?!0:(e.append(Cj(E,_,a),h(S)),!1)}const x=[],y=Object.assign(hz,{defaultVisitor:m,convertValue:h,isVisitable:pE});function b(S,_){if(!Ye.isUndefined(S)){if(x.indexOf(S)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(S),Ye.forEach(S,function(A,P){(!(Ye.isUndefined(A)||A===null)&&s.call(e,A,Ye.isString(P)?P.trim():P,_,y))===!0&&b(A,_?_.concat(P):[P])}),x.pop()}}if(!Ye.isObject(n))throw new TypeError("data must be an object");return b(n),e}function Mj(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function UC(n,e){this._pairs=[],n&&s2(n,this,e)}const iO=UC.prototype;iO.append=function(e,t){this._pairs.push([e,t])};iO.toString=function(e){const t=e?function(i){return e.call(this,i,Mj)}:Mj;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function fz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sO(n,e,t){if(!e)return n;const i=t&&t.encode||fz;Ye.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=Ye.isURLSearchParams(e)?e.toString():new UC(e,t).toString(i),a){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Tj{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(i){i!==null&&e(i)})}}const rO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pz=typeof URLSearchParams<"u"?URLSearchParams:UC,mz=typeof FormData<"u"?FormData:null,gz=typeof Blob<"u"?Blob:null,xz={isBrowser:!0,classes:{URLSearchParams:pz,FormData:mz,Blob:gz},protocols:["http","https","file","blob","url","data"]},kC=typeof window<"u"&&typeof document<"u",mE=typeof navigator=="object"&&navigator||void 0,yz=kC&&(!mE||["ReactNative","NativeScript","NS"].indexOf(mE.product)<0),vz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bz=kC&&window.location.href||"http://localhost",wz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kC,hasStandardBrowserEnv:yz,hasStandardBrowserWebWorkerEnv:vz,navigator:mE,origin:bz},Symbol.toStringTag,{value:"Module"})),wr={...wz,...xz};function Sz(n,e){return s2(n,new wr.classes.URLSearchParams,{visitor:function(t,i,s,a){return wr.isNode&&Ye.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Az(n){return Ye.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _z(n){const e={},t=Object.keys(n);let i;const s=t.length;let a;for(i=0;i<s;i++)a=t[i],e[a]=n[a];return e}function aO(n){function e(t,i,s,a){let o=t[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=a>=t.length;return o=!o&&Ye.isArray(s)?s.length:o,d?(Ye.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!c):((!s[o]||!Ye.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],a)&&Ye.isArray(s[o])&&(s[o]=_z(s[o])),!c)}if(Ye.isFormData(n)&&Ye.isFunction(n.entries)){const t={};return Ye.forEachEntry(n,(i,s)=>{e(Az(i),s,t,0)}),t}return null}function Ez(n,e,t){if(Ye.isString(n))try{return(e||JSON.parse)(n),Ye.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Wx={transitional:rO,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,a=Ye.isObject(e);if(a&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return s?JSON.stringify(aO(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Sz(e,this.formSerializer).toString();if((c=Ye.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return s2(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),Ez(e)):e}],transformResponse:[function(e){const t=this.transitional||Wx.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?Mn.from(c,Mn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wr.classes.FormData,Blob:wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],n=>{Wx.headers[n]={}});const Cz=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mz=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&Cz[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Nj=Symbol("internals");function C0(n){return n&&String(n).trim().toLowerCase()}function c1(n){return n===!1||n==null?n:Ye.isArray(n)?n.map(c1):String(n)}function Tz(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const Nz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function fA(n,e,t,i,s){if(Ye.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!Ye.isString(e)){if(Ye.isString(i))return e.indexOf(i)!==-1;if(Ye.isRegExp(i))return i.test(e)}}function jz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Rz(n,e){const t=Ye.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,a,o){return this[i].call(this,e,s,a,o)},configurable:!0})})}let va=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function a(c,d,h){const m=C0(d);if(!m)throw new Error("header name must be a non-empty string");const x=Ye.findKey(s,m);(!x||s[x]===void 0||h===!0||h===void 0&&s[x]!==!1)&&(s[x||d]=c1(c))}const o=(c,d)=>Ye.forEach(c,(h,m)=>a(h,m,d));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ye.isString(e)&&(e=e.trim())&&!Nz(e))o(Mz(e),t);else if(Ye.isObject(e)&&Ye.isIterable(e)){let c={},d,h;for(const m of e){if(!Ye.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?Ye.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,t)}else e!=null&&a(t,e,i);return this}get(e,t){if(e=C0(e),e){const i=Ye.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return Tz(s);if(Ye.isFunction(t))return t.call(this,s,i);if(Ye.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=C0(e),e){const i=Ye.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||fA(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function a(o){if(o=C0(o),o){const c=Ye.findKey(i,o);c&&(!t||fA(i,i[c],c,t))&&(delete i[c],s=!0)}}return Ye.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const a=t[i];(!e||fA(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,i={};return Ye.forEach(this,(s,a)=>{const o=Ye.findKey(i,a);if(o){t[o]=c1(s),delete t[a];return}const c=e?jz(a):String(a).trim();c!==a&&delete t[a],t[c]=c1(s),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ye.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&Ye.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Nj]=this[Nj]={accessors:{}}).accessors,s=this.prototype;function a(o){const c=C0(o);i[c]||(Rz(s,o),i[c]=!0)}return Ye.isArray(e)?e.forEach(a):a(e),this}};va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(va.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Ye.freezeMethods(va);function pA(n,e){const t=this||Wx,i=e||t,s=va.from(i.headers);let a=i.data;return Ye.forEach(n,function(c){a=c.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function oO(n){return!!(n&&n.__CANCEL__)}function Vm(n,e,t){Mn.call(this,n??"canceled",Mn.ERR_CANCELED,e,t),this.name="CanceledError"}Ye.inherits(Vm,Mn,{__CANCEL__:!0});function lO(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Mn("Request failed with status code "+t.status,[Mn.ERR_BAD_REQUEST,Mn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Bz(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Dz(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=i[a];o||(o=h),t[s]=d,i[s]=h;let x=a,y=0;for(;x!==s;)y+=t[x++],x=x%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),h-o<e)return;const b=m&&h-m;return b?Math.round(y*1e3/b):void 0}}function Oz(n,e){let t=0,i=1e3/e,s,a;const o=(h,m=Date.now())=>{t=m,s=null,a&&(clearTimeout(a),a=null),n(...h)};return[(...h)=>{const m=Date.now(),x=m-t;x>=i?o(h,m):(s=h,a||(a=setTimeout(()=>{a=null,o(s)},i-x)))},()=>s&&o(s)]}const I1=(n,e,t=3)=>{let i=0;const s=Dz(50,250);return Oz(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,d=o-i,h=s(d),m=o<=c;i=o;const x={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(x)},t)},jj=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Rj=n=>(...e)=>Ye.asap(()=>n(...e)),Pz=wr.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,wr.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(wr.origin),wr.navigator&&/(msie|trident)/i.test(wr.navigator.userAgent)):()=>!0,Lz=wr.hasStandardBrowserEnv?{write(n,e,t,i,s,a){const o=[n+"="+encodeURIComponent(e)];Ye.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Ye.isString(i)&&o.push("path="+i),Ye.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Iz(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Uz(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function cO(n,e,t){let i=!Iz(e);return n&&(i||t==!1)?Uz(n,e):e}const Bj=n=>n instanceof va?{...n}:n;function df(n,e){e=e||{};const t={};function i(h,m,x,y){return Ye.isPlainObject(h)&&Ye.isPlainObject(m)?Ye.merge.call({caseless:y},h,m):Ye.isPlainObject(m)?Ye.merge({},m):Ye.isArray(m)?m.slice():m}function s(h,m,x,y){if(Ye.isUndefined(m)){if(!Ye.isUndefined(h))return i(void 0,h,x,y)}else return i(h,m,x,y)}function a(h,m){if(!Ye.isUndefined(m))return i(void 0,m)}function o(h,m){if(Ye.isUndefined(m)){if(!Ye.isUndefined(h))return i(void 0,h)}else return i(void 0,m)}function c(h,m,x){if(x in e)return i(h,m);if(x in n)return i(void 0,h)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,x)=>s(Bj(h),Bj(m),x,!0)};return Ye.forEach(Object.keys({...n,...e}),function(m){const x=d[m]||s,y=x(n[m],e[m],m);Ye.isUndefined(y)&&x!==c||(t[m]=y)}),t}const uO=n=>{const e=df({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:c}=e;e.headers=o=va.from(o),e.url=sO(cO(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Ye.isFormData(t)){if(wr.hasStandardBrowserEnv||wr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[h,...m]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...m].join("; "))}}if(wr.hasStandardBrowserEnv&&(i&&Ye.isFunction(i)&&(i=i(e)),i||i!==!1&&Pz(e.url))){const h=s&&a&&Lz.read(a);h&&o.set(s,h)}return e},kz=typeof XMLHttpRequest<"u",Fz=kz&&function(n){return new Promise(function(t,i){const s=uO(n);let a=s.data;const o=va.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,m,x,y,b,S;function _(){b&&b(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function A(){if(!E)return;const N=va.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:N,config:n,request:E};lO(function(k){t(k),_()},function(k){i(k),_()},j),E=null}"onloadend"in E?E.onloadend=A:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(A)},E.onabort=function(){E&&(i(new Mn("Request aborted",Mn.ECONNABORTED,n,E)),E=null)},E.onerror=function(){i(new Mn("Network Error",Mn.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||rO;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),i(new Mn(L,j.clarifyTimeoutError?Mn.ETIMEDOUT:Mn.ECONNABORTED,n,E)),E=null},a===void 0&&o.setContentType(null),"setRequestHeader"in E&&Ye.forEach(o.toJSON(),function(L,j){E.setRequestHeader(j,L)}),Ye.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),c&&c!=="json"&&(E.responseType=s.responseType),h&&([y,S]=I1(h,!0),E.addEventListener("progress",y)),d&&E.upload&&([x,b]=I1(d),E.upload.addEventListener("progress",x),E.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(m=N=>{E&&(i(!N||N.type?new Vm(null,n,E):N),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const P=Bz(s.url);if(P&&wr.protocols.indexOf(P)===-1){i(new Mn("Unsupported protocol "+P+":",Mn.ERR_BAD_REQUEST,n));return}E.send(a||null)})},zz=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const a=function(h){if(!s){s=!0,c();const m=h instanceof Error?h:this.reason;i.abort(m instanceof Mn?m:new Vm(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,a(new Mn(`timeout ${e} of ms exceeded`,Mn.ETIMEDOUT))},e);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:d}=i;return d.unsubscribe=()=>Ye.asap(c),d}},Hz=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},Vz=async function*(n,e){for await(const t of Gz(n))yield*Hz(t,e)},Gz=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Dj=(n,e,t,i)=>{const s=Vz(n,e);let a=0,o,c=d=>{o||(o=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await s.next();if(h){c(),d.close();return}let x=m.byteLength;if(t){let y=a+=x;t(y)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},r2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dO=r2&&typeof ReadableStream=="function",qz=r2&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),hO=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Wz=dO&&hO(()=>{let n=!1;const e=new Request(wr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Oj=64*1024,gE=dO&&hO(()=>Ye.isReadableStream(new Response("").body)),U1={stream:gE&&(n=>n.body)};r2&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!U1[e]&&(U1[e]=Ye.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Mn(`Response type '${e}' is not supported`,Mn.ERR_NOT_SUPPORT,i)})})})(new Response);const Xz=async n=>{if(n==null)return 0;if(Ye.isBlob(n))return n.size;if(Ye.isSpecCompliantForm(n))return(await new Request(wr.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(n)||Ye.isArrayBuffer(n))return n.byteLength;if(Ye.isURLSearchParams(n)&&(n=n+""),Ye.isString(n))return(await qz(n)).byteLength},Yz=async(n,e)=>{const t=Ye.toFiniteNumber(n.getContentLength());return t??Xz(e)},Kz=r2&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:a,timeout:o,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:m,withCredentials:x="same-origin",fetchOptions:y}=uO(n);h=h?(h+"").toLowerCase():"text";let b=zz([s,a&&a.toAbortSignal()],o),S;const _=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let E;try{if(d&&Wz&&t!=="get"&&t!=="head"&&(E=await Yz(m,i))!==0){let j=new Request(e,{method:"POST",body:i,duplex:"half"}),R;if(Ye.isFormData(i)&&(R=j.headers.get("content-type"))&&m.setContentType(R),j.body){const[k,F]=jj(E,I1(Rj(d)));i=Dj(j.body,Oj,k,F)}}Ye.isString(x)||(x=x?"include":"omit");const A="credentials"in Request.prototype;S=new Request(e,{...y,signal:b,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:A?x:void 0});let P=await fetch(S,y);const N=gE&&(h==="stream"||h==="response");if(gE&&(c||N&&_)){const j={};["status","statusText","headers"].forEach(D=>{j[D]=P[D]});const R=Ye.toFiniteNumber(P.headers.get("content-length")),[k,F]=c&&jj(R,I1(Rj(c),!0))||[];P=new Response(Dj(P.body,Oj,k,()=>{F&&F(),_&&_()}),j)}h=h||"text";let L=await U1[Ye.findKey(U1,h)||"text"](P,n);return!N&&_&&_(),await new Promise((j,R)=>{lO(j,R,{data:L,headers:va.from(P.headers),status:P.status,statusText:P.statusText,config:n,request:S})})}catch(A){throw _&&_(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Mn("Network Error",Mn.ERR_NETWORK,n,S),{cause:A.cause||A}):Mn.from(A,A&&A.code,n,S)}}),xE={http:uz,xhr:Fz,fetch:Kz};Ye.forEach(xE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Pj=n=>`- ${n}`,Jz=n=>Ye.isFunction(n)||n===null||n===!1,fO={getAdapter:n=>{n=Ye.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let a=0;a<e;a++){t=n[a];let o;if(i=t,!Jz(t)&&(i=xE[(o=String(t)).toLowerCase()],i===void 0))throw new Mn(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(Pj).join(`
`):" "+Pj(a[0]):"as no adapter specified";throw new Mn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:xE};function mA(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Vm(null,n)}function Lj(n){return mA(n),n.headers=va.from(n.headers),n.data=pA.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),fO.getAdapter(n.adapter||Wx.adapter)(n).then(function(i){return mA(n),i.data=pA.call(n,n.transformResponse,i),i.headers=va.from(i.headers),i},function(i){return oO(i)||(mA(n),i&&i.response&&(i.response.data=pA.call(n,n.transformResponse,i.response),i.response.headers=va.from(i.response.headers))),Promise.reject(i)})}const pO="1.11.0",a2={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{a2[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Ij={};a2.transitional=function(e,t,i){function s(a,o){return"[Axios v"+pO+"] Transitional option '"+a+"'"+o+(i?". "+i:"")}return(a,o,c)=>{if(e===!1)throw new Mn(s(o," has been removed"+(t?" in "+t:"")),Mn.ERR_DEPRECATED);return t&&!Ij[o]&&(Ij[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,c):!0}};a2.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Qz(n,e,t){if(typeof n!="object")throw new Mn("options must be an object",Mn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const a=i[s],o=e[a];if(o){const c=n[a],d=c===void 0||o(c,a,n);if(d!==!0)throw new Mn("option "+a+" must be "+d,Mn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Mn("Unknown option "+a,Mn.ERR_BAD_OPTION)}}const u1={assertOptions:Qz,validators:a2},Xl=u1.validators;let sf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Tj,response:new Tj}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=df(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:a}=t;i!==void 0&&u1.assertOptions(i,{silentJSONParsing:Xl.transitional(Xl.boolean),forcedJSONParsing:Xl.transitional(Xl.boolean),clarifyTimeoutError:Xl.transitional(Xl.boolean)},!1),s!=null&&(Ye.isFunction(s)?t.paramsSerializer={serialize:s}:u1.assertOptions(s,{encode:Xl.function,serialize:Xl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),u1.assertOptions(t,{baseUrl:Xl.spelling("baseURL"),withXsrfToken:Xl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&Ye.merge(a.common,a[t.method]);a&&Ye.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=va.concat(o,a);const c=[];let d=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(d=d&&_.synchronous,c.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let m,x=0,y;if(!d){const S=[Lj.bind(this),void 0];for(S.unshift(...c),S.push(...h),y=S.length,m=Promise.resolve(t);x<y;)m=m.then(S[x++],S[x++]);return m}y=c.length;let b=t;for(x=0;x<y;){const S=c[x++],_=c[x++];try{b=S(b)}catch(E){_.call(this,E);break}}try{m=Lj.call(this,b)}catch(S){return Promise.reject(S)}for(x=0,y=h.length;x<y;)m=m.then(h[x++],h[x++]);return m}getUri(e){e=df(this.defaults,e);const t=cO(e.baseURL,e.url,e.allowAbsoluteUrls);return sO(t,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){sf.prototype[e]=function(t,i){return this.request(df(i||{},{method:e,url:t,data:(i||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function t(i){return function(a,o,c){return this.request(df(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}sf.prototype[e]=t(),sf.prototype[e+"Form"]=t(!0)});let Zz=class mO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(c=>{i.subscribe(c),a=c}).then(s);return o.cancel=function(){i.unsubscribe(a)},o},e(function(a,o,c){i.reason||(i.reason=new Vm(a,o,c),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new mO(function(s){e=s}),cancel:e}}};function $z(n){return function(t){return n.apply(null,t)}}function eH(n){return Ye.isObject(n)&&n.isAxiosError===!0}const yE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yE).forEach(([n,e])=>{yE[e]=n});function gO(n){const e=new sf(n),t=WD(sf.prototype.request,e);return Ye.extend(t,sf.prototype,e,{allOwnKeys:!0}),Ye.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return gO(df(n,s))},t}const ds=gO(Wx);ds.Axios=sf;ds.CanceledError=Vm;ds.CancelToken=Zz;ds.isCancel=oO;ds.VERSION=pO;ds.toFormData=s2;ds.AxiosError=Mn;ds.Cancel=ds.CanceledError;ds.all=function(e){return Promise.all(e)};ds.spread=$z;ds.isAxiosError=eH;ds.mergeConfig=df;ds.AxiosHeaders=va;ds.formToJSON=n=>aO(Ye.isHTMLForm(n)?new FormData(n):n);ds.getAdapter=fO.getAdapter;ds.HttpStatusCode=yE;ds.default=ds;const{Axios:rde,AxiosError:ade,CanceledError:ode,isCancel:lde,CancelToken:cde,VERSION:ude,all:dde,Cancel:hde,isAxiosError:fde,spread:pde,toFormData:mde,AxiosHeaders:gde,HttpStatusCode:xde,formToJSON:yde,getAdapter:vde,mergeConfig:bde}=ds;let Yh;const tH=n=>{Yh=n},d1="https://api.ataloptical.org/api",nH="https://api.ataloptical.org",Pn="https://api.ataloptical.org/uploads/",iH="https://api.ataloptical.org/api",St=ds.create({baseURL:d1,withCredentials:!0});St.interceptors.request.use(n=>(Yh&&Yh(!0),n));St.interceptors.response.use(n=>(Yh&&Yh(!1),n),n=>(Yh&&Yh(!1),Promise.reject(n)));const sH="/assets/contactlens-DMuZ-_1T.jpg",rH="/assets/menframe-Bzkt1s8B.jpg",aH="/assets/woman-Cj-ouCdb.jpg",xO=()=>{const[n,e]=V.useState([]),[t,i]=V.useState([]),s=async()=>{try{const o=(await St.get("/getAllProduct")).data.products||[];e(o);const c=o.filter(x=>x.gender?.toLowerCase()==="men"||x.gender?.toLowerCase()==="unisex"),d=o.filter(x=>x.gender?.toLowerCase()==="women"||x.gender?.toLowerCase()==="unisex"),h=o.filter(x=>x.cat_id==="6915735feeb23fa59c7d532b");i([{name:"Men's Frames",slug:"men",description:"Men's Frames are designed to combine durability, comfort, and style, making them a perfect fit for everyday wear. At Atal Optical, we offer a wide selection of men's eyeglass framesfrom classic and professional styles to bold, modern designs. Crafted with high-quality materials such as titanium, stainless steel, and lightweight acetate, our frames ensure both strength and comfort for long-lasting use.",image:rH,products:c},{name:"Women's Frames",slug:"women",description:"Women's Frames bring together elegance, comfort, and individuality, offering styles that enhance both vision and personal expression. At Atal Optical, our collection of womens eyeglass frames ranges from sleek, minimalist designs to bold, fashion-forward statements. Crafted with high-quality materials like lightweight acetate, titanium, and stainless steel, these frames ensure durability without compromising on comfort.",image:aH,products:d},{name:"Contact Lenses",slug:"contact-lens",description:"Contact Lenses are a convenient and effective alternative to traditional eyeglasses, offering clear vision without the need for frames. They sit directly on the eye's surface and are available in a wide range of types, including daily disposables, extended wear, toric lenses for astigmatism, and multifocal lenses for presbyopia.",image:sH,products:h}])}catch(a){console.log(a)}};return V.useEffect(()=>{s()},[]),r.jsxs("div",{className:"py-16 md:pl-12 mb-14 mx-6 md:mx-0",children:[r.jsxs("h1",{className:"text-3xl font-bold text-center",children:[r.jsx("span",{children:"Shop by"}),r.jsx("span",{className:"text-[#f00000]",children:" Category"})]}),r.jsx("hr",{className:"w-72 mx-auto mb-10 mt-2 border-black"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:t.map((a,o)=>r.jsx(xt,{to:`/categoryProducts/${a.slug}`,state:{products:a.products},className:"hover:cursor-pointer",children:r.jsxs("div",{className:"flip-card",children:[r.jsxs("div",{className:"flip-card-inner",children:[r.jsx("div",{className:"flip-card-front overflow-hidden",children:r.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover rounded-xl"})}),r.jsx("div",{className:"flip-card-back bg-[#f00000] text-white p-6 rounded-xl flex items-center justify-center font-medium",children:a.description})]}),r.jsx("div",{className:"flex justify-center mb-10 font-semibold text-3xl",children:a.name})]})},o))})]})},oH="/assets/eye-video-Bhc8zWMj.mp4";function lH(){return r.jsx("div",{className:"md:mx-20",children:r.jsx("video",{className:"shadow-md ",autoPlay:!0,muted:!0,loop:!0,loading:"lazy",children:r.jsx("source",{src:oH,type:"video/mp4"})})})}function o2(n){return jn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(n)}function cH(n){return jn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(n)}function uH(n){return jn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(n)}const yO=V.createContext(),FC=()=>V.useContext(yO),dH=({user:n,children:e})=>{const t=n?._id||"guest",[i,s]=V.useState([]),[a,o]=V.useState({});V.useEffect(()=>{const d=localStorage.getItem(`recentlyViewed_${t}`);d&&s(JSON.parse(d))},[t]);const c=d=>{o(h=>{const m=(h[d._id]||0)+1;return m>=2&&s(x=>{if(x.find(S=>S._id===d._id))return x;const b=[...x,{...d,custId:t}];return localStorage.setItem(`recentlyViewed_${t}`,JSON.stringify(b)),b}),{...h,[d._id]:m}})};return r.jsx(yO.Provider,{value:{recentlyViewed:i,handleProductClick:c},children:e})},vO=({data:n})=>r.jsx("div",{children:n>0?r.jsx("span",{className:"text-green-600 font-semibold",children:"In stock"}):r.jsx("span",{className:"text-[#f00000] font-semibold",children:"Out of Stock"})}),bO=()=>{const[n,e]=V.useState([]),{handleProductClick:t}=FC(),i=async()=>{try{const o=await St.get("/getTrendingProduct");e(o.data.products||[])}catch(o){console.error("Failed to fetch trending products:",o)}};V.useEffect(()=>{i()},[]);const s={dots:!0,arrows:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,customPaging:()=>r.jsx("button",{}),appendDots:o=>r.jsx("ul",{children:o.slice(0,5)}),responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},a=o=>o?o.startsWith("http")?o:`${Pn}${o}`:null;return r.jsxs("section",{className:"py-12 md:px-24 px-6 bg-white",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-black ml-2",children:"Currently Trending"}),n.length>0&&r.jsx(xt,{to:"/products/collection/trending",children:r.jsxs("button",{className:"flex items-center gap-4 text-white font-medium bg-[#f00000] px-4 py-2 rounded mr-1 hover:bg-black transition-colors duration-300 hover:cursor-pointer",children:["FIND MORE",r.jsx("span",{className:"bg-white text-black p-1 rounded-full",children:r.jsx(o2,{size:16})})]})})]}),n.length===0?r.jsx("p",{className:"text-center text-gray-500 text-lg py-10",children:"No Trending Products Available Right Now"}):r.jsx(LC,{...s,children:n.map((o,c)=>r.jsx("div",{className:"px-2 mb-4",onClick:()=>t(o),children:r.jsx(xt,{to:`/product/${o._id}/${o.subCategoryName}/${o.subCat_id}`,children:r.jsxs("div",{className:"border border-red-600 rounded-lg shadow-2xl hover:shadow-red-500 transition-all text-center p-4 h-full hover:cursor-pointer shadow-white relative",children:[r.jsx("div",{className:"absolute top-4 left-6 z-20",children:r.jsx(vO,{data:o.stockAvailability})}),(()=>{const d=o.product_variants?.[0]?.images?.[0]||null,h=o.product_image_collection?.[0]||null,m=d||h;if(!m)return r.jsx("div",{className:"w-full h-36 flex items-center justify-center text-gray-400",children:"No Images"});const x=a(m);return r.jsx("img",{src:x,alt:o.product_name,className:"w-full h-36 object-contain mb-4 hover:scale-105 transition-transform duration-200",loading:"lazy"})})(),r.jsx("p",{className:"text-lg font-semibold tracking-wide text-[#f00000] capitalize line-clamp-1",children:o.product_name})]})})},c))})]})},hH=({product:n,onClick:e,children:t})=>{const[i,s]=V.useState(n?.product_variants?.[0]?.images?.[0]||""),[a,o]=V.useState(null),c=m=>m?m.startsWith("http")?m:`${Pn.replace(/\/+$/,"")}/${m.replace(/^\/+/,"")}`:"",d=Array.isArray(n?.product_variants)?n.product_variants:[],h=n?.product_variants?.[0]?.images?.[0]||"";return V.useEffect(()=>{s(h||""),o(null)},[n?._id]),r.jsxs("div",{className:"relative bg-white border border-red-600 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 p-4 text-center cursor-pointer",onClick:e,children:[n.discountValue>0&&r.jsxs("div",{className:"absolute top-2 left-2 bg-[#f00000] text-[#f00000] text-xs font-semibold px-2 py-1 rounded-full z-10",children:[n.discountValue,"% OFF"]}),r.jsx("div",{className:"w-full flex justify-center items-center mb-3",children:r.jsx("img",{src:c(i),alt:n.product_name,className:"w-65 h-32 object-cover transition-transform duration-300 hover:scale-105",loading:"lazy",decoding:"async"})}),!!n.gender&&r.jsx("p",{className:"text-sm text-gray-400",children:n.gender}),r.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize mb-1 line-clamp-1",children:n.product_name}),r.jsxs("div",{className:"flex justify-center items-center gap-2 mb-1",children:[n.product_price>n.product_sale_price&&r.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["$",Number(n.product_price).toFixed(2)]}),r.jsxs("span",{className:"text-gray-900 font-bold",children:["$",Number(n.product_sale_price??n.product_price??0).toFixed(2)]})]}),t,d.length>0&&r.jsx("div",{className:"flex justify-center gap-2 mt-3",role:"radiogroup","aria-label":"Choose color",children:d.map((m,x)=>{const y=(m.colorName||"").toLowerCase().trim()||"gray",b=c(m.images?.[0]),S=a===y;return r.jsx("button",{type:"button",title:m.colorName,"aria-label":m.colorName,role:"radio","aria-checked":S,onClick:_=>{_.stopPropagation(),o(y),b&&s(b)},onMouseEnter:_=>{_.stopPropagation(),b&&s(b)},onMouseLeave:_=>{if(_.stopPropagation(),a){const E=d.find(P=>(P.colorName||"").toLowerCase().trim()===a),A=c(E?.images?.[0]);s(A||c(h))}else s(c(h))},className:`w-5 h-5 rounded-full border-2 transition-all duration-200 ${S?"border-blue-600 scale-110":"border-gray-300 hover:scale-110"}`,style:{backgroundColor:y}},x)})})]})},fH=()=>{const[n,e]=V.useState([]),{handleProductClick:t}=FC(),i=async()=>{try{const a=await St.get("/getBestSellerProduct"),c=(Array.isArray(a.data)?a.data:a.data?.products||[]).filter(d=>d.productStatus==="Approved");e(c.reverse())}catch(a){console.error("Error Fetching Best Seller Product",a)}};V.useEffect(()=>{i()},[]);const s=n.slice(0,4);return r.jsxs("section",{className:"py-12 md:px-24 px-6 bg-white",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-black ml-2",children:"Best Seller"}),n.length>4&&r.jsx(xt,{to:"/products/collection/best-seller",children:r.jsxs("button",{className:"flex items-center gap-4 text-white font-medium bg-[#f00000] px-4 py-2 rounded mr-1 hover:bg-black transition-colors duration-300 cursor-pointer",children:["FIND MORE",r.jsx("span",{className:"bg-white text-black p-1 rounded-full",children:r.jsx(o2,{size:16,className:"hover:rotate-[-40deg] transition-transform"})})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((a,o)=>r.jsx(xt,{to:`/product/${a._id}/${a.subCategoryName}/${a.subCat_id}`,children:r.jsx(hH,{product:a,onClick:()=>t(a),children:r.jsx(vO,{data:a.stockAvailability})})},a._id||o))})]})},pH=n=>r.jsx(r.Fragment,{children:r.jsxs("div",{className:"relative bg-white rounded-[20px] p-[23px] shadow-white transition-all duration-300 ease-in-out hover:-translate-y-[10px] hover:shadow-xl hover:bg-[#f00000] hover:text-white group hover:cursor-pointer border-red-600 border-2",children:[r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("div",{className:"inline-block mb-[10px]",children:r.jsx("img",{src:n.icon,alt:n.headText,className:"w-16 h-16 object-contain"})}),r.jsx("h3",{className:"text-[#f00000] text-[20px] font-medium tracking-[1px] ml-[3px] group-hover:text-white transition-colors duration-300 mb-3",children:n.headText}),r.jsx("p",{className:"text-md mb-[15px] leading-[1.4] ",children:n.content})]}),r.jsx("div",{className:"absolute text-[20px] bottom-[2px] right-[5px] bg-[#f00000] text-black rounded-full p-[10px] shadow-xl hover:translate-x-[3px] hover:-translate-y-[3px] transition-all duration-300 ease-in-out hover:bg-black hover:text-white hover:rotate-[-45deg] mb-1",children:n.arrow})]})}),mH=()=>{const[n,e]=V.useState([]),t=Bi(),i={"Eye Wear Glasses":"/eye-services/eye-wear-glass","Contact Lens":"/eye-services/contact-lens","Eye Exam":"/eye-services/eye-exam",Promotions:"/eye-services/promotions",Brands:"/eye-services/brands",Optometrists:"/eye-services/optometrists","Insurance Claims":"/eye-services/insurance-claims","Blue Light Technology":"/eye-services/blue-light-technology"},s=async()=>{try{const a=await St.get("/getEyeService");e(a.data.EyeServiceData||[])}catch(a){console.log(a)}};return V.useEffect(()=>{s()},[]),r.jsx(r.Fragment,{children:n.map((a,o)=>r.jsx(pH,{icon:Pn+a.image,headText:a.heading,content:a.description,arrow:r.jsx(vx,{className:"cursor-pointer hover:text-white transition",onClick:()=>t(i[a.heading]||"/eye-services")})},o))})},gH=()=>r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-black md:px-10 py-20",children:[r.jsx("div",{className:"text-white text-3xl font-semibold md:ml-20 ml-6",children:"Our Eye Services"}),r.jsx("hr",{className:"w-42 md:ml-20 text-white mt-2 ml-6"}),r.jsx("div",{className:"flex mt-4 mb-6 md:ml-20 items-center md:flex-row flex-col",children:r.jsxs("div",{className:"text-3xl md:mr-90 text-white mx-6 md:mx-0 md:mb-0 mb-6",children:[r.jsx("strong",{className:"text-[#f00000] font-bold",children:"Give Best Care For Your"})," Eyes Our Eye Services"]})}),r.jsx("div",{className:"grid md:grid-cols-4 gap-4 md:ml-16 md:mr-10 mx-6",children:r.jsx(mH,{})})]})});var gA={exports:{}},Oc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj;function xH(){return Uj||(Uj=1,Oc.ConcurrentRoot=1,Oc.ContinuousEventPriority=8,Oc.DefaultEventPriority=32,Oc.DiscreteEventPriority=2,Oc.IdleEventPriority=268435456,Oc.LegacyRoot=0,Oc.NoEventPriority=0),Oc}var kj;function yH(){return kj||(kj=1,gA.exports=xH()),gA.exports}var h1=yH();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Xx="179",Uh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},wO=0,vE=1,SO=2,vH=3,AO=0,l2=1,$0=2,nl=3,sc=0,Yr=1,rl=2,Wc=0,rf=1,bE=2,wE=3,SE=4,_O=5,ld=100,EO=101,CO=102,MO=103,TO=104,NO=200,jO=201,RO=202,BO=203,k1=204,F1=205,DO=206,OO=207,PO=208,LO=209,IO=210,UO=211,kO=212,FO=213,zO=214,z1=0,H1=1,V1=2,hf=3,G1=4,q1=5,W1=6,X1=7,Yx=0,HO=1,VO=2,$l=0,GO=1,qO=2,WO=3,zC=4,XO=5,YO=6,KO=7,AE="attached",JO="detached",c2=300,Zc=301,gd=302,wx=303,Sx=304,Gm=306,xd=1e3,Ia=1001,Sm=1002,Gs=1003,u2=1004,bH=1004,Kh=1005,wH=1005,cs=1006,fm=1007,SH=1007,vo=1008,AH=1008,So=1009,HC=1010,VC=1011,Am=1012,d2=1013,$c=1014,ga=1015,qm=1016,h2=1017,f2=1018,_m=1020,GC=35902,qC=1021,WC=1022,Sr=1023,Em=1026,Cm=1027,p2=1028,Kx=1029,XC=1030,m2=1031,_H=1032,g2=1033,ex=33776,tx=33777,nx=33778,ix=33779,Y1=35840,K1=35841,J1=35842,Q1=35843,Z1=36196,$1=37492,ew=37496,tw=37808,nw=37809,iw=37810,sw=37811,rw=37812,aw=37813,ow=37814,lw=37815,cw=37816,uw=37817,dw=37818,hw=37819,fw=37820,pw=37821,sx=36492,mw=36494,gw=36495,YC=36283,xw=36284,yw=36285,vw=36286,QO=2200,ZO=2201,$O=2202,Mm=2300,Tm=2301,f1=2302,Jh=2400,Qh=2401,Ax=2402,x2=2500,KC=2501,eP=0,JC=1,bw=2,tP=3200,nP=3201,EH=3202,CH=3203,_d=0,iP=1,Vc="",br="srgb",yd="srgb-linear",_x="linear",mi="srgb",MH=0,Fh=7680,TH=7681,NH=7682,jH=7683,RH=34055,BH=34056,DH=5386,OH=512,PH=513,LH=514,IH=515,UH=516,kH=517,FH=518,_E=519,sP=512,rP=513,aP=514,QC=515,oP=516,lP=517,cP=518,uP=519,Ex=35044,zH=35048,HH=35040,VH=35045,GH=35049,qH=35041,WH=35046,XH=35050,YH=35042,KH="100",EE="300 es",Ua=2e3,Nm=2001,JH={COMPUTE:"compute",RENDER:"render"},QH={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},ZH={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let lc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}};const xr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Fj=1234567;const af=Math.PI/180,jm=180/Math.PI;function Fa(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(xr[n&255]+xr[n>>8&255]+xr[n>>16&255]+xr[n>>24&255]+"-"+xr[e&255]+xr[e>>8&255]+"-"+xr[e>>16&15|64]+xr[e>>24&255]+"-"+xr[t&63|128]+xr[t>>8&255]+"-"+xr[t>>16&255]+xr[t>>24&255]+xr[i&255]+xr[i>>8&255]+xr[i>>16&255]+xr[i>>24&255]).toLowerCase()}function dn(n,e,t){return Math.max(e,Math.min(t,n))}function ZC(n,e){return(n%e+e)%e}function $H(n,e,t,i,s){return i+(n-e)*(s-i)/(t-e)}function e7(n,e,t){return n!==e?(t-n)/(e-n):0}function rx(n,e,t){return(1-t)*n+t*e}function t7(n,e,t,i){return rx(n,e,1-Math.exp(-t*i))}function n7(n,e=1){return e-Math.abs(ZC(n,e*2)-e)}function i7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function s7(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function r7(n,e){return n+Math.floor(Math.random()*(e-n+1))}function a7(n,e){return n+Math.random()*(e-n)}function o7(n){return n*(.5-Math.random())}function l7(n){n!==void 0&&(Fj=n);let e=Fj+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function c7(n){return n*af}function u7(n){return n*jm}function d7(n){return(n&n-1)===0&&n!==0}function h7(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function f7(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function p7(n,e,t,i,s){const a=Math.cos,o=Math.sin,c=a(t/2),d=o(t/2),h=a((e+i)/2),m=o((e+i)/2),x=a((e-i)/2),y=o((e-i)/2),b=a((i-e)/2),S=o((i-e)/2);switch(s){case"XYX":n.set(c*m,d*x,d*y,c*h);break;case"YZY":n.set(d*y,c*m,d*x,c*h);break;case"ZXZ":n.set(d*x,d*y,c*m,c*h);break;case"XZX":n.set(c*m,d*S,d*b,c*h);break;case"YXY":n.set(d*b,c*m,d*S,c*h);break;case"ZYZ":n.set(d*S,d*b,c*m,c*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Wr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Cn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const dP={DEG2RAD:af,RAD2DEG:jm,generateUUID:Fa,clamp:dn,euclideanModulo:ZC,mapLinear:$H,inverseLerp:e7,lerp:rx,damp:t7,pingpong:n7,smoothstep:i7,smootherstep:s7,randInt:r7,randFloat:a7,randFloatSpread:o7,seededRandom:l7,degToRad:c7,radToDeg:u7,isPowerOfTwo:d7,ceilPowerOfTwo:h7,floorPowerOfTwo:f7,setQuaternionFromProperEuler:p7,normalize:Cn,denormalize:Wr};class st{constructor(e=0,t=0){st.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=dn(this.x,e.x,t.x),this.y=dn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=dn(this.x,e,t),this.y=dn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(dn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*s+e.x,this.y=a*s+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qs{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,a,o,c){let d=i[s+0],h=i[s+1],m=i[s+2],x=i[s+3];const y=a[o+0],b=a[o+1],S=a[o+2],_=a[o+3];if(c===0){e[t+0]=d,e[t+1]=h,e[t+2]=m,e[t+3]=x;return}if(c===1){e[t+0]=y,e[t+1]=b,e[t+2]=S,e[t+3]=_;return}if(x!==_||d!==y||h!==b||m!==S){let E=1-c;const A=d*y+h*b+m*S+x*_,P=A>=0?1:-1,N=1-A*A;if(N>Number.EPSILON){const j=Math.sqrt(N),R=Math.atan2(j,A*P);E=Math.sin(E*R)/j,c=Math.sin(c*R)/j}const L=c*P;if(d=d*E+y*L,h=h*E+b*L,m=m*E+S*L,x=x*E+_*L,E===1-c){const j=1/Math.sqrt(d*d+h*h+m*m+x*x);d*=j,h*=j,m*=j,x*=j}}e[t]=d,e[t+1]=h,e[t+2]=m,e[t+3]=x}static multiplyQuaternionsFlat(e,t,i,s,a,o){const c=i[s],d=i[s+1],h=i[s+2],m=i[s+3],x=a[o],y=a[o+1],b=a[o+2],S=a[o+3];return e[t]=c*S+m*x+d*b-h*y,e[t+1]=d*S+m*y+h*x-c*b,e[t+2]=h*S+m*b+c*y-d*x,e[t+3]=m*S-c*x-d*y-h*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,a=e._z,o=e._order,c=Math.cos,d=Math.sin,h=c(i/2),m=c(s/2),x=c(a/2),y=d(i/2),b=d(s/2),S=d(a/2);switch(o){case"XYZ":this._x=y*m*x+h*b*S,this._y=h*b*x-y*m*S,this._z=h*m*S+y*b*x,this._w=h*m*x-y*b*S;break;case"YXZ":this._x=y*m*x+h*b*S,this._y=h*b*x-y*m*S,this._z=h*m*S-y*b*x,this._w=h*m*x+y*b*S;break;case"ZXY":this._x=y*m*x-h*b*S,this._y=h*b*x+y*m*S,this._z=h*m*S+y*b*x,this._w=h*m*x-y*b*S;break;case"ZYX":this._x=y*m*x-h*b*S,this._y=h*b*x+y*m*S,this._z=h*m*S-y*b*x,this._w=h*m*x+y*b*S;break;case"YZX":this._x=y*m*x+h*b*S,this._y=h*b*x+y*m*S,this._z=h*m*S-y*b*x,this._w=h*m*x-y*b*S;break;case"XZY":this._x=y*m*x-h*b*S,this._y=h*b*x-y*m*S,this._z=h*m*S+y*b*x,this._w=h*m*x+y*b*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],a=t[8],o=t[1],c=t[5],d=t[9],h=t[2],m=t[6],x=t[10],y=i+c+x;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-d)*b,this._y=(a-h)*b,this._z=(o-s)*b}else if(i>c&&i>x){const b=2*Math.sqrt(1+i-c-x);this._w=(m-d)/b,this._x=.25*b,this._y=(s+o)/b,this._z=(a+h)/b}else if(c>x){const b=2*Math.sqrt(1+c-i-x);this._w=(a-h)/b,this._x=(s+o)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+x-i-c);this._w=(o-s)/b,this._x=(a+h)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,a=e._z,o=e._w,c=t._x,d=t._y,h=t._z,m=t._w;return this._x=i*m+o*c+s*h-a*d,this._y=s*m+o*d+a*c-i*h,this._z=a*m+o*h+i*d-s*c,this._w=o*m-i*c-s*d-a*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,s=this._y,a=this._z,o=this._w;let c=o*e._w+i*e._x+s*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=i,this._y=s,this._z=a,this;const d=1-c*c;if(d<=Number.EPSILON){const b=1-t;return this._w=b*o+t*this._w,this._x=b*i+t*this._x,this._y=b*s+t*this._y,this._z=b*a+t*this._z,this.normalize(),this}const h=Math.sqrt(d),m=Math.atan2(h,c),x=Math.sin((1-t)*m)/h,y=Math.sin(t*m)/h;return this._w=o*x+this._w*y,this._x=i*x+this._x*y,this._y=s*x+this._y*y,this._z=a*x+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(e=0,t=0,i=0){ae.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(zj.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zj.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*s,this.y=a[1]*t+a[4]*i+a[7]*s,this.z=a[2]*t+a[5]*i+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*s+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*s+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*s+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*s+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,a=e.x,o=e.y,c=e.z,d=e.w,h=2*(o*s-c*i),m=2*(c*t-a*s),x=2*(a*i-o*t);return this.x=t+d*h+o*x-c*m,this.y=i+d*m+c*h-a*x,this.z=s+d*x+a*m-o*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*s,this.y=a[1]*t+a[5]*i+a[9]*s,this.z=a[2]*t+a[6]*i+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=dn(this.x,e.x,t.x),this.y=dn(this.y,e.y,t.y),this.z=dn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=dn(this.x,e,t),this.y=dn(this.y,e,t),this.z=dn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,a=e.z,o=t.x,c=t.y,d=t.z;return this.x=s*d-a*c,this.y=a*o-i*d,this.z=i*c-s*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return xA.copy(this).projectOnVector(e),this.sub(xA)}reflect(e){return this.sub(xA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(dn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xA=new ae,zj=new qs;class _n{constructor(e,t,i,s,a,o,c,d,h){_n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,s,a,o,c,d,h)}set(e,t,i,s,a,o,c,d,h){const m=this.elements;return m[0]=e,m[1]=s,m[2]=c,m[3]=t,m[4]=a,m[5]=d,m[6]=i,m[7]=o,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,a=this.elements,o=i[0],c=i[3],d=i[6],h=i[1],m=i[4],x=i[7],y=i[2],b=i[5],S=i[8],_=s[0],E=s[3],A=s[6],P=s[1],N=s[4],L=s[7],j=s[2],R=s[5],k=s[8];return a[0]=o*_+c*P+d*j,a[3]=o*E+c*N+d*R,a[6]=o*A+c*L+d*k,a[1]=h*_+m*P+x*j,a[4]=h*E+m*N+x*R,a[7]=h*A+m*L+x*k,a[2]=y*_+b*P+S*j,a[5]=y*E+b*N+S*R,a[8]=y*A+b*L+S*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],o=e[4],c=e[5],d=e[6],h=e[7],m=e[8];return t*o*m-t*c*h-i*a*m+i*c*d+s*a*h-s*o*d}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],o=e[4],c=e[5],d=e[6],h=e[7],m=e[8],x=m*o-c*h,y=c*d-m*a,b=h*a-o*d,S=t*x+i*y+s*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/S;return e[0]=x*_,e[1]=(s*h-m*i)*_,e[2]=(c*i-s*o)*_,e[3]=y*_,e[4]=(m*t-s*d)*_,e[5]=(s*a-c*t)*_,e[6]=b*_,e[7]=(i*d-h*t)*_,e[8]=(o*t-i*a)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,a,o,c){const d=Math.cos(a),h=Math.sin(a);return this.set(i*d,i*h,-i*(d*o+h*c)+o+e,-s*h,s*d,-s*(-h*o+d*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(yA.makeScale(e,t)),this}rotate(e){return this.premultiply(yA.makeRotation(-e)),this}translate(e,t){return this.premultiply(yA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const yA=new _n;function hP(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const m7={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function rm(n,e){return new m7[n](e)}function Cx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function fP(){const n=Cx("canvas");return n.style.display="block",n}const Hj={};function pm(n){n in Hj||(Hj[n]=!0,console.warn(n))}function g7(n,e,t){return new Promise(function(i,s){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}const Vj=new _n().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Gj=new _n().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function x7(){const n={enabled:!0,workingColorSpace:yd,spaces:{},convert:function(s,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===mi&&(s.r=Xc(s.r),s.g=Xc(s.g),s.b=Xc(s.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===mi&&(s.r=mm(s.r),s.g=mm(s.g),s.b=mm(s.b))),s},workingToColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},colorSpaceToWorking:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Vc?_x:this.spaces[s].transfer},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,o){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,a){return pm("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(s,a)},toWorkingColorSpace:function(s,a){return pm("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(s,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[yd]:{primaries:e,whitePoint:i,transfer:_x,toXYZ:Vj,fromXYZ:Gj,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:br},outputColorSpaceConfig:{drawingBufferColorSpace:br}},[br]:{primaries:e,whitePoint:i,transfer:mi,toXYZ:Vj,fromXYZ:Gj,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:br}}}),n}const Wn=x7();function Xc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function mm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Dp;class pP{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Dp===void 0&&(Dp=Cx("canvas")),Dp.width=e.width,Dp.height=e.height;const s=Dp.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=Dp}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Cx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0;o<a.length;o++)a[o]=Xc(a[o]/255)*255;return i.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Xc(t[i]/255)*255):t[i]=Xc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let y7=0;class ud{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:y7++}),this.uuid=Fa(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let o=0,c=s.length;o<c;o++)s[o].isDataTexture?a.push(vA(s[o].image)):a.push(vA(s[o]))}else a=vA(s);i.url=a}return t||(e.images[this.uuid]=i),i}}function vA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?pP.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let v7=0;const bA=new ae;class ki extends lc{constructor(e=ki.DEFAULT_IMAGE,t=ki.DEFAULT_MAPPING,i=Ia,s=Ia,a=cs,o=vo,c=Sr,d=So,h=ki.DEFAULT_ANISOTROPY,m=Vc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:v7++}),this.uuid=Fa(),this.name="",this.source=new ud(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=h,this.format=c,this.internalFormat=null,this.type=d,this.offset=new st(0,0),this.repeat=new st(1,1),this.center=new st(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(bA).x}get height(){return this.source.getSize(bA).y}get depth(){return this.source.getSize(bA).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}s&&i&&s.isVector2&&i.isVector2||s&&i&&s.isVector3&&i.isVector3||s&&i&&s.isMatrix3&&i.isMatrix3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==c2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xd:e.x=e.x-Math.floor(e.x);break;case Ia:e.x=e.x<0?0:1;break;case Sm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xd:e.y=e.y-Math.floor(e.y);break;case Ia:e.y=e.y<0?0:1;break;case Sm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ki.DEFAULT_IMAGE=null;ki.DEFAULT_MAPPING=c2;ki.DEFAULT_ANISOTROPY=1;class $n{constructor(e=0,t=0,i=0,s=1){$n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*s+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*s+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*s+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*s+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,a;const d=e.elements,h=d[0],m=d[4],x=d[8],y=d[1],b=d[5],S=d[9],_=d[2],E=d[6],A=d[10];if(Math.abs(m-y)<.01&&Math.abs(x-_)<.01&&Math.abs(S-E)<.01){if(Math.abs(m+y)<.1&&Math.abs(x+_)<.1&&Math.abs(S+E)<.1&&Math.abs(h+b+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const N=(h+1)/2,L=(b+1)/2,j=(A+1)/2,R=(m+y)/4,k=(x+_)/4,F=(S+E)/4;return N>L&&N>j?N<.01?(i=0,s=.707106781,a=.707106781):(i=Math.sqrt(N),s=R/i,a=k/i):L>j?L<.01?(i=.707106781,s=0,a=.707106781):(s=Math.sqrt(L),i=R/s,a=F/s):j<.01?(i=.707106781,s=.707106781,a=0):(a=Math.sqrt(j),i=k/a,s=F/a),this.set(i,s,a,t),this}let P=Math.sqrt((E-S)*(E-S)+(x-_)*(x-_)+(y-m)*(y-m));return Math.abs(P)<.001&&(P=1),this.x=(E-S)/P,this.y=(x-_)/P,this.z=(y-m)/P,this.w=Math.acos((h+b+A-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=dn(this.x,e.x,t.x),this.y=dn(this.y,e.y,t.y),this.z=dn(this.z,e.z,t.z),this.w=dn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=dn(this.x,e,t),this.y=dn(this.y,e,t),this.z=dn(this.z,e,t),this.w=dn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $C extends lc{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new $n(0,0,e,t),this.scissorTest=!1,this.viewport=new $n(0,0,e,t);const s={width:e,height:t,depth:i.depth},a=new ki(s);this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:cs,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i,this.textures[s].isArrayTexture=this.textures[s].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new ud(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class rc extends $C{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class y2 extends ki{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=Gs,this.minFilter=Gs,this.wrapR=Ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class b7 extends rc{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new y2(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class v2 extends ki{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=Gs,this.minFilter=Gs,this.wrapR=Ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class w7 extends rc{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new v2(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class ar{constructor(e=new ae(1/0,1/0,1/0),t=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Qo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Qo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Qo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,Qo):Qo.fromBufferAttribute(a,o),Qo.applyMatrix4(e.matrixWorld),this.expandByPoint(Qo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Qv.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Qv.copy(i.boundingBox)),Qv.applyMatrix4(e.matrixWorld),this.union(Qv)}const s=e.children;for(let a=0,o=s.length;a<o;a++)this.expandByObject(s[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Qo),Qo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(M0),Zv.subVectors(this.max,M0),Op.subVectors(e.a,M0),Pp.subVectors(e.b,M0),Lp.subVectors(e.c,M0),Ku.subVectors(Pp,Op),Ju.subVectors(Lp,Pp),wh.subVectors(Op,Lp);let t=[0,-Ku.z,Ku.y,0,-Ju.z,Ju.y,0,-wh.z,wh.y,Ku.z,0,-Ku.x,Ju.z,0,-Ju.x,wh.z,0,-wh.x,-Ku.y,Ku.x,0,-Ju.y,Ju.x,0,-wh.y,wh.x,0];return!wA(t,Op,Pp,Lp,Zv)||(t=[1,0,0,0,1,0,0,0,1],!wA(t,Op,Pp,Lp,Zv))?!1:($v.crossVectors(Ku,Ju),t=[$v.x,$v.y,$v.z],wA(t,Op,Pp,Lp,Zv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Pc=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],Qo=new ae,Qv=new ar,Op=new ae,Pp=new ae,Lp=new ae,Ku=new ae,Ju=new ae,wh=new ae,M0=new ae,Zv=new ae,$v=new ae,Sh=new ae;function wA(n,e,t,i,s){for(let a=0,o=n.length-3;a<=o;a+=3){Sh.fromArray(n,a);const c=s.x*Math.abs(Sh.x)+s.y*Math.abs(Sh.y)+s.z*Math.abs(Sh.z),d=e.dot(Sh),h=t.dot(Sh),m=i.dot(Sh);if(Math.max(-Math.max(d,h,m),Math.min(d,h,m))>c)return!1}return!0}const S7=new ar,T0=new ae,SA=new ae;class Ws{constructor(e=new ae,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):S7.setFromPoints(e).getCenter(i);let s=0;for(let a=0,o=e.length;a<o;a++)s=Math.max(s,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;T0.subVectors(e,this.center);const t=T0.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=(i-this.radius)*.5;this.center.addScaledVector(T0,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(SA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(T0.copy(e.center).add(SA)),this.expandByPoint(T0.copy(e.center).sub(SA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Lc=new ae,AA=new ae,eb=new ae,Qu=new ae,_A=new ae,tb=new ae,EA=new ae;class Cf{constructor(e=new ae,t=new ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lc.copy(this.origin).addScaledVector(this.direction,t),Lc.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){AA.copy(e).add(t).multiplyScalar(.5),eb.copy(t).sub(e).normalize(),Qu.copy(this.origin).sub(AA);const a=e.distanceTo(t)*.5,o=-this.direction.dot(eb),c=Qu.dot(this.direction),d=-Qu.dot(eb),h=Qu.lengthSq(),m=Math.abs(1-o*o);let x,y,b,S;if(m>0)if(x=o*d-c,y=o*c-d,S=a*m,x>=0)if(y>=-S)if(y<=S){const _=1/m;x*=_,y*=_,b=x*(x+o*y+2*c)+y*(o*x+y+2*d)+h}else y=a,x=Math.max(0,-(o*y+c)),b=-x*x+y*(y+2*d)+h;else y=-a,x=Math.max(0,-(o*y+c)),b=-x*x+y*(y+2*d)+h;else y<=-S?(x=Math.max(0,-(-o*a+c)),y=x>0?-a:Math.min(Math.max(-a,-d),a),b=-x*x+y*(y+2*d)+h):y<=S?(x=0,y=Math.min(Math.max(-a,-d),a),b=y*(y+2*d)+h):(x=Math.max(0,-(o*a+c)),y=x>0?a:Math.min(Math.max(-a,-d),a),b=-x*x+y*(y+2*d)+h);else y=o>0?-a:a,x=Math.max(0,-(o*y+c)),b=-x*x+y*(y+2*d)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,x),s&&s.copy(AA).addScaledVector(eb,y),b}intersectSphere(e,t){Lc.subVectors(e.center,this.origin);const i=Lc.dot(this.direction),s=Lc.dot(Lc)-i*i,a=e.radius*e.radius;if(s>a)return null;const o=Math.sqrt(a-s),c=i-o,d=i+o;return d<0?null:c<0?this.at(d,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,a,o,c,d;const h=1/this.direction.x,m=1/this.direction.y,x=1/this.direction.z,y=this.origin;return h>=0?(i=(e.min.x-y.x)*h,s=(e.max.x-y.x)*h):(i=(e.max.x-y.x)*h,s=(e.min.x-y.x)*h),m>=0?(a=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(a=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),i>o||a>s||((a>i||isNaN(i))&&(i=a),(o<s||isNaN(s))&&(s=o),x>=0?(c=(e.min.z-y.z)*x,d=(e.max.z-y.z)*x):(c=(e.max.z-y.z)*x,d=(e.min.z-y.z)*x),i>d||c>s)||((c>i||i!==i)&&(i=c),(d<s||s!==s)&&(s=d),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return this.intersectBox(e,Lc)!==null}intersectTriangle(e,t,i,s,a){_A.subVectors(t,e),tb.subVectors(i,e),EA.crossVectors(_A,tb);let o=this.direction.dot(EA),c;if(o>0){if(s)return null;c=1}else if(o<0)c=-1,o=-o;else return null;Qu.subVectors(this.origin,e);const d=c*this.direction.dot(tb.crossVectors(Qu,tb));if(d<0)return null;const h=c*this.direction.dot(_A.cross(Qu));if(h<0||d+h>o)return null;const m=-c*Qu.dot(EA);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,i,s,a,o,c,d,h,m,x,y,b,S,_,E){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,s,a,o,c,d,h,m,x,y,b,S,_,E)}set(e,t,i,s,a,o,c,d,h,m,x,y,b,S,_,E){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=s,A[1]=a,A[5]=o,A[9]=c,A[13]=d,A[2]=h,A[6]=m,A[10]=x,A[14]=y,A[3]=b,A[7]=S,A[11]=_,A[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,s=1/Ip.setFromMatrixColumn(e,0).length(),a=1/Ip.setFromMatrixColumn(e,1).length(),o=1/Ip.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,a=e.z,o=Math.cos(i),c=Math.sin(i),d=Math.cos(s),h=Math.sin(s),m=Math.cos(a),x=Math.sin(a);if(e.order==="XYZ"){const y=o*m,b=o*x,S=c*m,_=c*x;t[0]=d*m,t[4]=-d*x,t[8]=h,t[1]=b+S*h,t[5]=y-_*h,t[9]=-c*d,t[2]=_-y*h,t[6]=S+b*h,t[10]=o*d}else if(e.order==="YXZ"){const y=d*m,b=d*x,S=h*m,_=h*x;t[0]=y+_*c,t[4]=S*c-b,t[8]=o*h,t[1]=o*x,t[5]=o*m,t[9]=-c,t[2]=b*c-S,t[6]=_+y*c,t[10]=o*d}else if(e.order==="ZXY"){const y=d*m,b=d*x,S=h*m,_=h*x;t[0]=y-_*c,t[4]=-o*x,t[8]=S+b*c,t[1]=b+S*c,t[5]=o*m,t[9]=_-y*c,t[2]=-o*h,t[6]=c,t[10]=o*d}else if(e.order==="ZYX"){const y=o*m,b=o*x,S=c*m,_=c*x;t[0]=d*m,t[4]=S*h-b,t[8]=y*h+_,t[1]=d*x,t[5]=_*h+y,t[9]=b*h-S,t[2]=-h,t[6]=c*d,t[10]=o*d}else if(e.order==="YZX"){const y=o*d,b=o*h,S=c*d,_=c*h;t[0]=d*m,t[4]=_-y*x,t[8]=S*x+b,t[1]=x,t[5]=o*m,t[9]=-c*m,t[2]=-h*m,t[6]=b*x+S,t[10]=y-_*x}else if(e.order==="XZY"){const y=o*d,b=o*h,S=c*d,_=c*h;t[0]=d*m,t[4]=-x,t[8]=h*m,t[1]=y*x+_,t[5]=o*m,t[9]=b*x-S,t[2]=S*x-b,t[6]=c*m,t[10]=_*x+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(A7,e,_7)}lookAt(e,t,i){const s=this.elements;return Da.subVectors(e,t),Da.lengthSq()===0&&(Da.z=1),Da.normalize(),Zu.crossVectors(i,Da),Zu.lengthSq()===0&&(Math.abs(i.z)===1?Da.x+=1e-4:Da.z+=1e-4,Da.normalize(),Zu.crossVectors(i,Da)),Zu.normalize(),nb.crossVectors(Da,Zu),s[0]=Zu.x,s[4]=nb.x,s[8]=Da.x,s[1]=Zu.y,s[5]=nb.y,s[9]=Da.y,s[2]=Zu.z,s[6]=nb.z,s[10]=Da.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,a=this.elements,o=i[0],c=i[4],d=i[8],h=i[12],m=i[1],x=i[5],y=i[9],b=i[13],S=i[2],_=i[6],E=i[10],A=i[14],P=i[3],N=i[7],L=i[11],j=i[15],R=s[0],k=s[4],F=s[8],D=s[12],B=s[1],q=s[5],Y=s[9],G=s[13],W=s[2],$=s[6],z=s[10],I=s[14],Q=s[3],K=s[7],T=s[11],X=s[15];return a[0]=o*R+c*B+d*W+h*Q,a[4]=o*k+c*q+d*$+h*K,a[8]=o*F+c*Y+d*z+h*T,a[12]=o*D+c*G+d*I+h*X,a[1]=m*R+x*B+y*W+b*Q,a[5]=m*k+x*q+y*$+b*K,a[9]=m*F+x*Y+y*z+b*T,a[13]=m*D+x*G+y*I+b*X,a[2]=S*R+_*B+E*W+A*Q,a[6]=S*k+_*q+E*$+A*K,a[10]=S*F+_*Y+E*z+A*T,a[14]=S*D+_*G+E*I+A*X,a[3]=P*R+N*B+L*W+j*Q,a[7]=P*k+N*q+L*$+j*K,a[11]=P*F+N*Y+L*z+j*T,a[15]=P*D+N*G+L*I+j*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],a=e[12],o=e[1],c=e[5],d=e[9],h=e[13],m=e[2],x=e[6],y=e[10],b=e[14],S=e[3],_=e[7],E=e[11],A=e[15];return S*(+a*d*x-s*h*x-a*c*y+i*h*y+s*c*b-i*d*b)+_*(+t*d*b-t*h*y+a*o*y-s*o*b+s*h*m-a*d*m)+E*(+t*h*x-t*c*b-a*o*x+i*o*b+a*c*m-i*h*m)+A*(-s*c*m-t*d*x+t*c*y+s*o*x-i*o*y+i*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],o=e[4],c=e[5],d=e[6],h=e[7],m=e[8],x=e[9],y=e[10],b=e[11],S=e[12],_=e[13],E=e[14],A=e[15],P=x*E*h-_*y*h+_*d*b-c*E*b-x*d*A+c*y*A,N=S*y*h-m*E*h-S*d*b+o*E*b+m*d*A-o*y*A,L=m*_*h-S*x*h+S*c*b-o*_*b-m*c*A+o*x*A,j=S*x*d-m*_*d-S*c*y+o*_*y+m*c*E-o*x*E,R=t*P+i*N+s*L+a*j;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/R;return e[0]=P*k,e[1]=(_*y*a-x*E*a-_*s*b+i*E*b+x*s*A-i*y*A)*k,e[2]=(c*E*a-_*d*a+_*s*h-i*E*h-c*s*A+i*d*A)*k,e[3]=(x*d*a-c*y*a-x*s*h+i*y*h+c*s*b-i*d*b)*k,e[4]=N*k,e[5]=(m*E*a-S*y*a+S*s*b-t*E*b-m*s*A+t*y*A)*k,e[6]=(S*d*a-o*E*a-S*s*h+t*E*h+o*s*A-t*d*A)*k,e[7]=(o*y*a-m*d*a+m*s*h-t*y*h-o*s*b+t*d*b)*k,e[8]=L*k,e[9]=(S*x*a-m*_*a-S*i*b+t*_*b+m*i*A-t*x*A)*k,e[10]=(o*_*a-S*c*a+S*i*h-t*_*h-o*i*A+t*c*A)*k,e[11]=(m*c*a-o*x*a-m*i*h+t*x*h+o*i*b-t*c*b)*k,e[12]=j*k,e[13]=(m*_*s-S*x*s+S*i*y-t*_*y-m*i*E+t*x*E)*k,e[14]=(S*c*s-o*_*s-S*i*d+t*_*d+o*i*E-t*c*E)*k,e[15]=(o*x*s-m*c*s+m*i*d-t*x*d-o*i*y+t*c*y)*k,this}scale(e){const t=this.elements,i=e.x,s=e.y,a=e.z;return t[0]*=i,t[4]*=s,t[8]*=a,t[1]*=i,t[5]*=s,t[9]*=a,t[2]*=i,t[6]*=s,t[10]*=a,t[3]*=i,t[7]*=s,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,s))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),a=1-i,o=e.x,c=e.y,d=e.z,h=a*o,m=a*c;return this.set(h*o+i,h*c-s*d,h*d+s*c,0,h*c+s*d,m*c+i,m*d-s*o,0,h*d-s*c,m*d+s*o,a*d*d+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,a,o){return this.set(1,i,a,0,e,1,o,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,a=t._x,o=t._y,c=t._z,d=t._w,h=a+a,m=o+o,x=c+c,y=a*h,b=a*m,S=a*x,_=o*m,E=o*x,A=c*x,P=d*h,N=d*m,L=d*x,j=i.x,R=i.y,k=i.z;return s[0]=(1-(_+A))*j,s[1]=(b+L)*j,s[2]=(S-N)*j,s[3]=0,s[4]=(b-L)*R,s[5]=(1-(y+A))*R,s[6]=(E+P)*R,s[7]=0,s[8]=(S+N)*k,s[9]=(E-P)*k,s[10]=(1-(y+_))*k,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;let a=Ip.set(s[0],s[1],s[2]).length();const o=Ip.set(s[4],s[5],s[6]).length(),c=Ip.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],Zo.copy(this);const h=1/a,m=1/o,x=1/c;return Zo.elements[0]*=h,Zo.elements[1]*=h,Zo.elements[2]*=h,Zo.elements[4]*=m,Zo.elements[5]*=m,Zo.elements[6]*=m,Zo.elements[8]*=x,Zo.elements[9]*=x,Zo.elements[10]*=x,t.setFromRotationMatrix(Zo),i.x=a,i.y=o,i.z=c,this}makePerspective(e,t,i,s,a,o,c=Ua,d=!1){const h=this.elements,m=2*a/(t-e),x=2*a/(i-s),y=(t+e)/(t-e),b=(i+s)/(i-s);let S,_;if(d)S=a/(o-a),_=o*a/(o-a);else if(c===Ua)S=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(c===Nm)S=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return h[0]=m,h[4]=0,h[8]=y,h[12]=0,h[1]=0,h[5]=x,h[9]=b,h[13]=0,h[2]=0,h[6]=0,h[10]=S,h[14]=_,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,i,s,a,o,c=Ua,d=!1){const h=this.elements,m=2/(t-e),x=2/(i-s),y=-(t+e)/(t-e),b=-(i+s)/(i-s);let S,_;if(d)S=1/(o-a),_=o/(o-a);else if(c===Ua)S=-2/(o-a),_=-(o+a)/(o-a);else if(c===Nm)S=-1/(o-a),_=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return h[0]=m,h[4]=0,h[8]=0,h[12]=y,h[1]=0,h[5]=x,h[9]=0,h[13]=b,h[2]=0,h[6]=0,h[10]=S,h[14]=_,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ip=new ae,Zo=new an,A7=new ae(0,0,0),_7=new ae(1,1,1),Zu=new ae,nb=new ae,Da=new ae,qj=new an,Wj=new qs;class za{constructor(e=0,t=0,i=0,s=za.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,s=this._order){return this._x=e,this._y=t,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const s=e.elements,a=s[0],o=s[4],c=s[8],d=s[1],h=s[5],m=s[9],x=s[2],y=s[6],b=s[10];switch(t){case"XYZ":this._y=Math.asin(dn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,h),this._z=0);break;case"YXZ":this._x=Math.asin(-dn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(d,h)):(this._y=Math.atan2(-x,a),this._z=0);break;case"ZXY":this._x=Math.asin(dn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-x,b),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(d,a));break;case"ZYX":this._y=Math.asin(-dn(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(d,a)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(dn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-x,a)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,h),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return qj.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qj,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Wj.setFromEuler(this),this.setFromQuaternion(Wj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}za.DEFAULT_ORDER="XYZ";class Rm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let E7=0;const Xj=new ae,Up=new qs,Ic=new an,ib=new ae,N0=new ae,C7=new ae,M7=new qs,Yj=new ae(1,0,0),Kj=new ae(0,1,0),Jj=new ae(0,0,1),Qj={type:"added"},T7={type:"removed"},kp={type:"childadded",child:null},CA={type:"childremoved",child:null};class Xn extends lc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:E7++}),this.uuid=Fa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xn.DEFAULT_UP.clone();const e=new ae,t=new za,i=new qs,s=new ae(1,1,1);function a(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new an},normalMatrix:{value:new _n}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=Xn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Rm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Up.setFromAxisAngle(e,t),this.quaternion.multiply(Up),this}rotateOnWorldAxis(e,t){return Up.setFromAxisAngle(e,t),this.quaternion.premultiply(Up),this}rotateX(e){return this.rotateOnAxis(Yj,e)}rotateY(e){return this.rotateOnAxis(Kj,e)}rotateZ(e){return this.rotateOnAxis(Jj,e)}translateOnAxis(e,t){return Xj.copy(e).applyQuaternion(this.quaternion),this.position.add(Xj.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Yj,e)}translateY(e){return this.translateOnAxis(Kj,e)}translateZ(e){return this.translateOnAxis(Jj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ic.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?ib.copy(e):ib.set(e,t,i);const s=this.parent;this.updateWorldMatrix(!0,!1),N0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ic.lookAt(N0,ib,this.up):Ic.lookAt(ib,N0,this.up),this.quaternion.setFromRotationMatrix(Ic),s&&(Ic.extractRotation(s.matrixWorld),Up.setFromRotationMatrix(Ic),this.quaternion.premultiply(Up.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Qj),kp.child=e,this.dispatchEvent(kp),kp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(T7),CA.child=e,this.dispatchEvent(CA),CA.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ic.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ic.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ic),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Qj),kp.child=e,this.dispatchEvent(kp),kp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(N0,e,C7),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(N0,M7,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(c=>({...c})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function a(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let h=0,m=d.length;h<m;h++){const x=d[h];a(e.shapes,x)}else a(e.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,h=this.material.length;d<h;d++)c.push(a(e.materials,this.material[d]));s.material=c}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];s.animations.push(a(e.animations,d))}}if(t){const c=o(e.geometries),d=o(e.materials),h=o(e.textures),m=o(e.images),x=o(e.shapes),y=o(e.skeletons),b=o(e.animations),S=o(e.nodes);c.length>0&&(i.geometries=c),d.length>0&&(i.materials=d),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),x.length>0&&(i.shapes=x),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),S.length>0&&(i.nodes=S)}return i.object=s,i;function o(c){const d=[];for(const h in c){const m=c[h];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}Xn.DEFAULT_UP=new ae(0,1,0);Xn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $o=new ae,Uc=new ae,MA=new ae,kc=new ae,Fp=new ae,zp=new ae,Zj=new ae,TA=new ae,NA=new ae,jA=new ae,RA=new $n,BA=new $n,DA=new $n;class ma{constructor(e=new ae,t=new ae,i=new ae){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),$o.subVectors(e,t),s.cross($o);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,t,i,s,a){$o.subVectors(s,t),Uc.subVectors(i,t),MA.subVectors(e,t);const o=$o.dot($o),c=$o.dot(Uc),d=$o.dot(MA),h=Uc.dot(Uc),m=Uc.dot(MA),x=o*h-c*c;if(x===0)return a.set(0,0,0),null;const y=1/x,b=(h*d-c*m)*y,S=(o*m-c*d)*y;return a.set(1-b-S,S,b)}static containsPoint(e,t,i,s){return this.getBarycoord(e,t,i,s,kc)===null?!1:kc.x>=0&&kc.y>=0&&kc.x+kc.y<=1}static getInterpolation(e,t,i,s,a,o,c,d){return this.getBarycoord(e,t,i,s,kc)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(a,kc.x),d.addScaledVector(o,kc.y),d.addScaledVector(c,kc.z),d)}static getInterpolatedAttribute(e,t,i,s,a,o){return RA.setScalar(0),BA.setScalar(0),DA.setScalar(0),RA.fromBufferAttribute(e,t),BA.fromBufferAttribute(e,i),DA.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(RA,a.x),o.addScaledVector(BA,a.y),o.addScaledVector(DA,a.z),o}static isFrontFacing(e,t,i,s){return $o.subVectors(i,t),Uc.subVectors(e,t),$o.cross(Uc).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $o.subVectors(this.c,this.b),Uc.subVectors(this.a,this.b),$o.cross(Uc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ma.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ma.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,a){return ma.getInterpolation(e,this.a,this.b,this.c,t,i,s,a)}containsPoint(e){return ma.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ma.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,a=this.c;let o,c;Fp.subVectors(s,i),zp.subVectors(a,i),TA.subVectors(e,i);const d=Fp.dot(TA),h=zp.dot(TA);if(d<=0&&h<=0)return t.copy(i);NA.subVectors(e,s);const m=Fp.dot(NA),x=zp.dot(NA);if(m>=0&&x<=m)return t.copy(s);const y=d*x-m*h;if(y<=0&&d>=0&&m<=0)return o=d/(d-m),t.copy(i).addScaledVector(Fp,o);jA.subVectors(e,a);const b=Fp.dot(jA),S=zp.dot(jA);if(S>=0&&b<=S)return t.copy(a);const _=b*h-d*S;if(_<=0&&h>=0&&S<=0)return c=h/(h-S),t.copy(i).addScaledVector(zp,c);const E=m*S-b*x;if(E<=0&&x-m>=0&&b-S>=0)return Zj.subVectors(a,s),c=(x-m)/(x-m+(b-S)),t.copy(s).addScaledVector(Zj,c);const A=1/(E+_+y);return o=_*A,c=y*A,t.copy(i).addScaledVector(Fp,o).addScaledVector(zp,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$u={h:0,s:0,l:0},sb={h:0,s:0,l:0};function OA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Nt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=br){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,s=Wn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Wn.colorSpaceToWorking(this,s),this}setHSL(e,t,i,s=Wn.workingColorSpace){if(e=ZC(e,1),t=dn(t,0,1),i=dn(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,o=2*i-a;this.r=OA(o,a,e+1/3),this.g=OA(o,a,e),this.b=OA(o,a,e-1/3)}return Wn.colorSpaceToWorking(this,s),this}setStyle(e,t=br){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=s[1],c=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=br){const i=mP[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Xc(e.r),this.g=Xc(e.g),this.b=Xc(e.b),this}copyLinearToSRGB(e){return this.r=mm(e.r),this.g=mm(e.g),this.b=mm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=br){return Wn.workingToColorSpace(yr.copy(this),e),Math.round(dn(yr.r*255,0,255))*65536+Math.round(dn(yr.g*255,0,255))*256+Math.round(dn(yr.b*255,0,255))}getHexString(e=br){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wn.workingColorSpace){Wn.workingToColorSpace(yr.copy(this),t);const i=yr.r,s=yr.g,a=yr.b,o=Math.max(i,s,a),c=Math.min(i,s,a);let d,h;const m=(c+o)/2;if(c===o)d=0,h=0;else{const x=o-c;switch(h=m<=.5?x/(o+c):x/(2-o-c),o){case i:d=(s-a)/x+(s<a?6:0);break;case s:d=(a-i)/x+2;break;case a:d=(i-s)/x+4;break}d/=6}return e.h=d,e.s=h,e.l=m,e}getRGB(e,t=Wn.workingColorSpace){return Wn.workingToColorSpace(yr.copy(this),t),e.r=yr.r,e.g=yr.g,e.b=yr.b,e}getStyle(e=br){Wn.workingToColorSpace(yr.copy(this),e);const t=yr.r,i=yr.g,s=yr.b;return e!==br?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,t,i){return this.getHSL($u),this.setHSL($u.h+e,$u.s+t,$u.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL($u),e.getHSL(sb);const i=rx($u.h,sb.h,t),s=rx($u.s,sb.s,t),a=rx($u.l,sb.l,t);return this.setHSL(i,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*s,this.g=a[1]*t+a[4]*i+a[7]*s,this.b=a[2]*t+a[5]*i+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const yr=new Nt;Nt.NAMES=mP;let N7=0;class Os extends lc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:N7++}),this.uuid=Fa(),this.name="",this.type="Material",this.blending=rf,this.side=sc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=k1,this.blendDst=F1,this.blendEquation=ld,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Nt(0,0,0),this.blendAlpha=0,this.depthFunc=hf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_E,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fh,this.stencilZFail=Fh,this.stencilZPass=Fh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==rf&&(i.blending=this.blending),this.side!==sc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==k1&&(i.blendSrc=this.blendSrc),this.blendDst!==F1&&(i.blendDst=this.blendDst),this.blendEquation!==ld&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==hf&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_E&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Fh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Fh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(a){const o=[];for(const c in a){const d=a[c];delete d.metadata,o.push(d)}return o}if(t){const a=s(e.textures),o=s(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const s=t.length;i=new Array(s);for(let a=0;a!==s;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ka extends Os{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new za,this.combine=Yx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gc=j7();function j7(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let d=0;d<256;++d){const h=d-127;h<-27?(i[d]=0,i[d|256]=32768,s[d]=24,s[d|256]=24):h<-14?(i[d]=1024>>-h-14,i[d|256]=1024>>-h-14|32768,s[d]=-h-1,s[d|256]=-h-1):h<=15?(i[d]=h+15<<10,i[d|256]=h+15<<10|32768,s[d]=13,s[d|256]=13):h<128?(i[d]=31744,i[d|256]=64512,s[d]=24,s[d|256]=24):(i[d]=31744,i[d|256]=64512,s[d]=13,s[d|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let d=1;d<1024;++d){let h=d<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,a[d]=h|m}for(let d=1024;d<2048;++d)a[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)o[d]=d<<23;o[31]=1199570944,o[32]=2147483648;for(let d=33;d<63;++d)o[d]=2147483648+(d-32<<23);o[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(c[d]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:s,mantissaTable:a,exponentTable:o,offsetTable:c}}function fa(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=dn(n,-65504,65504),Gc.floatView[0]=n;const e=Gc.uint32View[0],t=e>>23&511;return Gc.baseTable[t]+((e&8388607)>>Gc.shiftTable[t])}function W0(n){const e=n>>10;return Gc.uint32View[0]=Gc.mantissaTable[Gc.offsetTable[e]+(n&1023)]+Gc.exponentTable[e],Gc.floatView[0]}class R7{static toHalfFloat(e){return fa(e)}static fromHalfFloat(e){return W0(e)}}const ys=new ae,rb=new st;let B7=0;class ei{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:B7++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ex,this.updateRanges=[],this.gpuType=ga,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)rb.fromBufferAttribute(this,t),rb.applyMatrix3(e),this.setXY(t,rb.x,rb.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ys.fromBufferAttribute(this,t),ys.applyMatrix3(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ys.fromBufferAttribute(this,t),ys.applyMatrix4(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ys.fromBufferAttribute(this,t),ys.applyNormalMatrix(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ys.fromBufferAttribute(this,t),ys.transformDirection(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Wr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Cn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Wr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Wr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Wr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Wr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array),s=Cn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,a){return e*=this.itemSize,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array),s=Cn(s,this.array),a=Cn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ex&&(e.usage=this.usage),e}}class D7 extends ei{constructor(e,t,i){super(new Int8Array(e),t,i)}}class O7 extends ei{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class P7 extends ei{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class L7 extends ei{constructor(e,t,i){super(new Int16Array(e),t,i)}}class eM extends ei{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class I7 extends ei{constructor(e,t,i){super(new Int32Array(e),t,i)}}class tM extends ei{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class U7 extends ei{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=W0(this.array[e*this.itemSize]);return this.normalized&&(t=Wr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize]=fa(t),this}getY(e){let t=W0(this.array[e*this.itemSize+1]);return this.normalized&&(t=Wr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize+1]=fa(t),this}getZ(e){let t=W0(this.array[e*this.itemSize+2]);return this.normalized&&(t=Wr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize+2]=fa(t),this}getW(e){let t=W0(this.array[e*this.itemSize+3]);return this.normalized&&(t=Wr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Cn(t,this.array)),this.array[e*this.itemSize+3]=fa(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array)),this.array[e+0]=fa(t),this.array[e+1]=fa(i),this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array),s=Cn(s,this.array)),this.array[e+0]=fa(t),this.array[e+1]=fa(i),this.array[e+2]=fa(s),this}setXYZW(e,t,i,s,a){return e*=this.itemSize,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array),s=Cn(s,this.array),a=Cn(a,this.array)),this.array[e+0]=fa(t),this.array[e+1]=fa(i),this.array[e+2]=fa(s),this.array[e+3]=fa(a),this}}class Xt extends ei{constructor(e,t,i){super(new Float32Array(e),t,i)}}let k7=0;const fo=new an,PA=new Xn,Hp=new ae,Oa=new ar,j0=new ar,Vs=new ae;class Sn extends lc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:k7++}),this.uuid=Fa(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hP(e)?tM:eM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new _n().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fo.makeRotationFromQuaternion(e),this.applyMatrix4(fo),this}rotateX(e){return fo.makeRotationX(e),this.applyMatrix4(fo),this}rotateY(e){return fo.makeRotationY(e),this.applyMatrix4(fo),this}rotateZ(e){return fo.makeRotationZ(e),this.applyMatrix4(fo),this}translate(e,t,i){return fo.makeTranslation(e,t,i),this.applyMatrix4(fo),this}scale(e,t,i){return fo.makeScale(e,t,i),this.applyMatrix4(fo),this}lookAt(e){return PA.lookAt(e),PA.updateMatrix(),this.applyMatrix4(PA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hp).negate(),this.translate(Hp.x,Hp.y,Hp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Xt(i,3))}else{const i=Math.min(e.length,t.count);for(let s=0;s<i;s++){const a=e[s];t.setXYZ(s,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ar);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const a=t[i];Oa.setFromBufferAttribute(a),this.morphTargetsRelative?(Vs.addVectors(this.boundingBox.min,Oa.min),this.boundingBox.expandByPoint(Vs),Vs.addVectors(this.boundingBox.max,Oa.max),this.boundingBox.expandByPoint(Vs)):(this.boundingBox.expandByPoint(Oa.min),this.boundingBox.expandByPoint(Oa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ws);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){const i=this.boundingSphere.center;if(Oa.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];j0.setFromBufferAttribute(c),this.morphTargetsRelative?(Vs.addVectors(Oa.min,j0.min),Oa.expandByPoint(Vs),Vs.addVectors(Oa.max,j0.max),Oa.expandByPoint(Vs)):(Oa.expandByPoint(j0.min),Oa.expandByPoint(j0.max))}Oa.getCenter(i);let s=0;for(let a=0,o=e.count;a<o;a++)Vs.fromBufferAttribute(e,a),s=Math.max(s,i.distanceToSquared(Vs));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],d=this.morphTargetsRelative;for(let h=0,m=c.count;h<m;h++)Vs.fromBufferAttribute(c,h),d&&(Hp.fromBufferAttribute(e,h),Vs.add(Hp)),s=Math.max(s,i.distanceToSquared(Vs))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,s=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],d=[];for(let F=0;F<i.count;F++)c[F]=new ae,d[F]=new ae;const h=new ae,m=new ae,x=new ae,y=new st,b=new st,S=new st,_=new ae,E=new ae;function A(F,D,B){h.fromBufferAttribute(i,F),m.fromBufferAttribute(i,D),x.fromBufferAttribute(i,B),y.fromBufferAttribute(a,F),b.fromBufferAttribute(a,D),S.fromBufferAttribute(a,B),m.sub(h),x.sub(h),b.sub(y),S.sub(y);const q=1/(b.x*S.y-S.x*b.y);isFinite(q)&&(_.copy(m).multiplyScalar(S.y).addScaledVector(x,-b.y).multiplyScalar(q),E.copy(x).multiplyScalar(b.x).addScaledVector(m,-S.x).multiplyScalar(q),c[F].add(_),c[D].add(_),c[B].add(_),d[F].add(E),d[D].add(E),d[B].add(E))}let P=this.groups;P.length===0&&(P=[{start:0,count:e.count}]);for(let F=0,D=P.length;F<D;++F){const B=P[F],q=B.start,Y=B.count;for(let G=q,W=q+Y;G<W;G+=3)A(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const N=new ae,L=new ae,j=new ae,R=new ae;function k(F){j.fromBufferAttribute(s,F),R.copy(j);const D=c[F];N.copy(D),N.sub(j.multiplyScalar(j.dot(D))).normalize(),L.crossVectors(R,D);const q=L.dot(d[F])<0?-1:1;o.setXYZW(F,N.x,N.y,N.z,q)}for(let F=0,D=P.length;F<D;++F){const B=P[F],q=B.start,Y=B.count;for(let G=q,W=q+Y;G<W;G+=3)k(e.getX(G+0)),k(e.getX(G+1)),k(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ei(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const s=new ae,a=new ae,o=new ae,c=new ae,d=new ae,h=new ae,m=new ae,x=new ae;if(e)for(let y=0,b=e.count;y<b;y+=3){const S=e.getX(y+0),_=e.getX(y+1),E=e.getX(y+2);s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,_),o.fromBufferAttribute(t,E),m.subVectors(o,a),x.subVectors(s,a),m.cross(x),c.fromBufferAttribute(i,S),d.fromBufferAttribute(i,_),h.fromBufferAttribute(i,E),c.add(m),d.add(m),h.add(m),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(_,d.x,d.y,d.z),i.setXYZ(E,h.x,h.y,h.z)}else for(let y=0,b=t.count;y<b;y+=3)s.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),m.subVectors(o,a),x.subVectors(s,a),m.cross(x),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Vs.fromBufferAttribute(e,t),Vs.normalize(),e.setXYZ(t,Vs.x,Vs.y,Vs.z)}toNonIndexed(){function e(c,d){const h=c.array,m=c.itemSize,x=c.normalized,y=new h.constructor(d.length*m);let b=0,S=0;for(let _=0,E=d.length;_<E;_++){c.isInterleavedBufferAttribute?b=d[_]*c.data.stride+c.offset:b=d[_]*m;for(let A=0;A<m;A++)y[S++]=h[b++]}return new ei(y,m,x)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Sn,i=this.index.array,s=this.attributes;for(const c in s){const d=s[c],h=e(d,i);t.setAttribute(c,h)}const a=this.morphAttributes;for(const c in a){const d=[],h=a[c];for(let m=0,x=h.length;m<x;m++){const y=h[m],b=e(y,i);d.push(b)}t.morphAttributes[c]=d}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const h in d)d[h]!==void 0&&(e[h]=d[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const d in i){const h=i[d];e.data.attributes[d]=h.toJSON(e.data)}const s={};let a=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],m=[];for(let x=0,y=h.length;x<y;x++){const b=h[x];m.push(b.toJSON(e.data))}m.length>0&&(s[d]=m,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const s=e.attributes;for(const h in s){const m=s[h];this.setAttribute(h,m.clone(t))}const a=e.morphAttributes;for(const h in a){const m=[],x=a[h];for(let y=0,b=x.length;y<b;y++)m.push(x[y].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,m=o.length;h<m;h++){const x=o[h];this.addGroup(x.start,x.count,x.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const $j=new an,Ah=new Cf,ab=new Ws,e3=new ae,ob=new ae,lb=new ae,cb=new ae,LA=new ae,ub=new ae,t3=new ae,db=new ae;class us extends Xn{constructor(e=new Sn,t=new ka){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const i=this.geometry,s=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(s,e);const c=this.morphTargetInfluences;if(a&&c){ub.set(0,0,0);for(let d=0,h=a.length;d<h;d++){const m=c[d],x=a[d];m!==0&&(LA.fromBufferAttribute(x,e),o?ub.addScaledVector(LA,m):ub.addScaledVector(LA.sub(t),m))}t.add(ub)}return t}raycast(e,t){const i=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ab.copy(i.boundingSphere),ab.applyMatrix4(a),Ah.copy(e.ray).recast(e.near),!(ab.containsPoint(Ah.origin)===!1&&(Ah.intersectSphere(ab,e3)===null||Ah.origin.distanceToSquared(e3)>(e.far-e.near)**2))&&($j.copy(a).invert(),Ah.copy(e.ray).applyMatrix4($j),!(i.boundingBox!==null&&Ah.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Ah)))}_computeIntersections(e,t,i){let s;const a=this.geometry,o=this.material,c=a.index,d=a.attributes.position,h=a.attributes.uv,m=a.attributes.uv1,x=a.attributes.normal,y=a.groups,b=a.drawRange;if(c!==null)if(Array.isArray(o))for(let S=0,_=y.length;S<_;S++){const E=y[S],A=o[E.materialIndex],P=Math.max(E.start,b.start),N=Math.min(c.count,Math.min(E.start+E.count,b.start+b.count));for(let L=P,j=N;L<j;L+=3){const R=c.getX(L),k=c.getX(L+1),F=c.getX(L+2);s=hb(this,A,e,i,h,m,x,R,k,F),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=E.materialIndex,t.push(s))}}else{const S=Math.max(0,b.start),_=Math.min(c.count,b.start+b.count);for(let E=S,A=_;E<A;E+=3){const P=c.getX(E),N=c.getX(E+1),L=c.getX(E+2);s=hb(this,o,e,i,h,m,x,P,N,L),s&&(s.faceIndex=Math.floor(E/3),t.push(s))}}else if(d!==void 0)if(Array.isArray(o))for(let S=0,_=y.length;S<_;S++){const E=y[S],A=o[E.materialIndex],P=Math.max(E.start,b.start),N=Math.min(d.count,Math.min(E.start+E.count,b.start+b.count));for(let L=P,j=N;L<j;L+=3){const R=L,k=L+1,F=L+2;s=hb(this,A,e,i,h,m,x,R,k,F),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=E.materialIndex,t.push(s))}}else{const S=Math.max(0,b.start),_=Math.min(d.count,b.start+b.count);for(let E=S,A=_;E<A;E+=3){const P=E,N=E+1,L=E+2;s=hb(this,o,e,i,h,m,x,P,N,L),s&&(s.faceIndex=Math.floor(E/3),t.push(s))}}}}function F7(n,e,t,i,s,a,o,c){let d;if(e.side===Yr?d=i.intersectTriangle(o,a,s,!0,c):d=i.intersectTriangle(s,a,o,e.side===sc,c),d===null)return null;db.copy(c),db.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(db);return h<t.near||h>t.far?null:{distance:h,point:db.clone(),object:n}}function hb(n,e,t,i,s,a,o,c,d,h){n.getVertexPosition(c,ob),n.getVertexPosition(d,lb),n.getVertexPosition(h,cb);const m=F7(n,e,t,i,ob,lb,cb,t3);if(m){const x=new ae;ma.getBarycoord(t3,ob,lb,cb,x),s&&(m.uv=ma.getInterpolatedAttribute(s,c,d,h,x,new st)),a&&(m.uv1=ma.getInterpolatedAttribute(a,c,d,h,x,new st)),o&&(m.normal=ma.getInterpolatedAttribute(o,c,d,h,x,new ae),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:c,b:d,c:h,normal:new ae,materialIndex:0};ma.getNormal(ob,lb,cb,y.normal),m.face=y,m.barycoord=x}return m}class Mf extends Sn{constructor(e=1,t=1,i=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:a,depthSegments:o};const c=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const d=[],h=[],m=[],x=[];let y=0,b=0;S("z","y","x",-1,-1,i,t,e,o,a,0),S("z","y","x",1,-1,i,t,-e,o,a,1),S("x","z","y",1,1,e,i,t,s,o,2),S("x","z","y",1,-1,e,i,-t,s,o,3),S("x","y","z",1,-1,e,t,i,s,a,4),S("x","y","z",-1,-1,e,t,-i,s,a,5),this.setIndex(d),this.setAttribute("position",new Xt(h,3)),this.setAttribute("normal",new Xt(m,3)),this.setAttribute("uv",new Xt(x,2));function S(_,E,A,P,N,L,j,R,k,F,D){const B=L/k,q=j/F,Y=L/2,G=j/2,W=R/2,$=k+1,z=F+1;let I=0,Q=0;const K=new ae;for(let T=0;T<z;T++){const X=T*q-G;for(let ee=0;ee<$;ee++){const oe=ee*B-Y;K[_]=oe*P,K[E]=X*N,K[A]=W,h.push(K.x,K.y,K.z),K[_]=0,K[E]=0,K[A]=R>0?1:-1,m.push(K.x,K.y,K.z),x.push(ee/k),x.push(1-T/F),I+=1}}for(let T=0;T<F;T++)for(let X=0;X<k;X++){const ee=y+X+$*T,oe=y+X+$*(T+1),ce=y+(X+1)+$*(T+1),re=y+(X+1)+$*T;d.push(ee,oe,re),d.push(oe,ce,re),Q+=6}c.addGroup(b,Q,D),b+=Q,y+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bm(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const s=n[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():Array.isArray(s)?e[t][i]=s.slice():e[t][i]=s}}return e}function Gr(n){const e={};for(let t=0;t<n.length;t++){const i=Bm(n[t]);for(const s in i)e[s]=i[s]}return e}function z7(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function gP(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Wn.workingColorSpace}const xP={clone:Bm,merge:Gr};var H7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,V7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ll extends Os{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=H7,this.fragmentShader=V7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bm(e.uniforms),this.uniformsGroups=z7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?t.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[s]={type:"m4",value:o.toArray()}:t.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class b2 extends Xn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Ua,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ed=new ae,n3=new st,i3=new st;class Zi extends b2{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=jm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(af*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return jm*2*Math.atan(Math.tan(af*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ed.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ed.x,ed.y).multiplyScalar(-e/ed.z),ed.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ed.x,ed.y).multiplyScalar(-e/ed.z)}getViewSize(e,t){return this.getViewBounds(e,n3,i3),t.subVectors(i3,n3)}setViewOffset(e,t,i,s,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(af*.5*this.fov)/this.zoom,i=2*t,s=this.aspect*i,a=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const d=o.fullWidth,h=o.fullHeight;a+=o.offsetX*s/d,t-=o.offsetY*i/h,s*=o.width/d,i*=o.height/h}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vp=-90,Gp=1;class yP extends Xn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Zi(Vp,Gp,e,t);s.layers=this.layers,this.add(s);const a=new Zi(Vp,Gp,e,t);a.layers=this.layers,this.add(a);const o=new Zi(Vp,Gp,e,t);o.layers=this.layers,this.add(o);const c=new Zi(Vp,Gp,e,t);c.layers=this.layers,this.add(c);const d=new Zi(Vp,Gp,e,t);d.layers=this.layers,this.add(d);const h=new Zi(Vp,Gp,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,a,o,c,d]=t;for(const h of t)this.remove(h);if(e===Ua)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Nm)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,d,h,m]=this.children,x=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,a),e.setRenderTarget(i,1,s),e.render(t,o),e.setRenderTarget(i,2,s),e.render(t,c),e.setRenderTarget(i,3,s),e.render(t,d),e.setRenderTarget(i,4,s),e.render(t,h),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,s),e.render(t,m),e.setRenderTarget(x,y,b),e.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class Jx extends ki{constructor(e=[],t=Zc,i,s,a,o,c,d,h,m){super(e,t,i,s,a,o,c,d,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class vP extends rc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new Jx(s),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Mf(5,5,5),a=new ll({name:"CubemapFromEquirect",uniforms:Bm(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Yr,blending:Wc});a.uniforms.tEquirect.value=t;const o=new us(s,a),c=t.minFilter;return t.minFilter===vo&&(t.minFilter=cs),new yP(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,s=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,s);e.setRenderTarget(a)}}class qc extends Xn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const G7={type:"move"};class p1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let s=null,a=null,o=null;const c=this._targetRay,d=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){o=!0;for(const _ of e.hand.values()){const E=t.getJointPose(_,i),A=this._getHandJoint(h,_);E!==null&&(A.matrix.fromArray(E.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=E.radius),A.visible=E!==null}const m=h.joints["index-finger-tip"],x=h.joints["thumb-tip"],y=m.position.distanceTo(x.position),b=.02,S=.005;h.inputState.pinching&&y>b+S?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&y<=b-S&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(d.matrix.fromArray(a.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,a.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(a.linearVelocity)):d.hasLinearVelocity=!1,a.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(a.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(s=t.getPose(e.targetRaySpace,i),s===null&&a!==null&&(s=a),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(G7)))}return c!==null&&(c.visible=s!==null),d!==null&&(d.visible=a!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new qc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class w2{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Nt(e),this.density=t}clone(){return new w2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class S2{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Nt(e),this.near=t,this.far=i}clone(){return new S2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class nM extends Xn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new za,this.environmentIntensity=1,this.environmentRotation=new za,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Qx{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ex,this.updateRanges=[],this.version=0,this.uuid=Fa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Vr=new ae;class vd{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Vr.fromBufferAttribute(this,t),Vr.applyMatrix4(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Vr.fromBufferAttribute(this,t),Vr.applyNormalMatrix(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Vr.fromBufferAttribute(this,t),Vr.transformDirection(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Wr(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Cn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Cn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Cn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Cn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Cn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Wr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Wr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Wr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Wr(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array),s=Cn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Cn(t,this.array),i=Cn(i,this.array),s=Cn(s,this.array),a=Cn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return new ei(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class iM extends Os{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qp;const R0=new ae,Wp=new ae,Xp=new ae,Yp=new st,B0=new st,bP=new an,fb=new ae,D0=new ae,pb=new ae,s3=new st,IA=new st,r3=new st;class wP extends Xn{constructor(e=new iM){if(super(),this.isSprite=!0,this.type="Sprite",qp===void 0){qp=new Sn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Qx(t,5);qp.setIndex([0,1,2,0,2,3]),qp.setAttribute("position",new vd(i,3,0,!1)),qp.setAttribute("uv",new vd(i,2,3,!1))}this.geometry=qp,this.material=e,this.center=new st(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wp.setFromMatrixScale(this.matrixWorld),bP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Xp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wp.multiplyScalar(-Xp.z);const i=this.material.rotation;let s,a;i!==0&&(a=Math.cos(i),s=Math.sin(i));const o=this.center;mb(fb.set(-.5,-.5,0),Xp,o,Wp,s,a),mb(D0.set(.5,-.5,0),Xp,o,Wp,s,a),mb(pb.set(.5,.5,0),Xp,o,Wp,s,a),s3.set(0,0),IA.set(1,0),r3.set(1,1);let c=e.ray.intersectTriangle(fb,D0,pb,!1,R0);if(c===null&&(mb(D0.set(-.5,.5,0),Xp,o,Wp,s,a),IA.set(0,1),c=e.ray.intersectTriangle(fb,pb,D0,!1,R0),c===null))return;const d=e.ray.origin.distanceTo(R0);d<e.near||d>e.far||t.push({distance:d,point:R0.clone(),uv:ma.getInterpolation(R0,fb,D0,pb,s3,IA,r3,new st),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function mb(n,e,t,i,s,a){Yp.subVectors(n,t).addScalar(.5).multiply(i),s!==void 0?(B0.x=a*Yp.x-s*Yp.y,B0.y=s*Yp.x+a*Yp.y):B0.copy(Yp),n.copy(e),n.x+=B0.x,n.y+=B0.y,n.applyMatrix4(bP)}const gb=new ae,a3=new ae;class SP extends Xn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,s=t.length;i<s;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const s=this.levels;let a;for(a=0;a<s.length&&!(t<s[a].distance);a++);return s.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const s=t.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){gb.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(gb);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){gb.setFromMatrixPosition(e.matrixWorld),a3.setFromMatrixPosition(this.matrixWorld);const i=gb.distanceTo(a3)/e.zoom;t[0].object.visible=!0;let s,a;for(s=1,a=t.length;s<a;s++){let o=t[s].distance;if(t[s].object.visible&&(o-=o*t[s].hysteresis),i>=o)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let s=0,a=i.length;s<a;s++){const o=i[s];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const o3=new ae,l3=new $n,c3=new $n,q7=new ae,u3=new an,xb=new ae,UA=new Ws,d3=new an,kA=new Cf;class sM extends us{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AE,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ar),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xb),this.boundingBox.expandByPoint(xb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ws),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xb),this.boundingSphere.expandByPoint(xb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),UA.copy(this.boundingSphere),UA.applyMatrix4(s),e.ray.intersectsSphere(UA)!==!1&&(d3.copy(s).invert(),kA.copy(e.ray).applyMatrix4(d3),!(this.boundingBox!==null&&kA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,kA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $n,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===JO?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;l3.fromBufferAttribute(s.attributes.skinIndex,e),c3.fromBufferAttribute(s.attributes.skinWeight,e),o3.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=c3.getComponent(a);if(o!==0){const c=l3.getComponent(a);u3.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(q7.copy(o3).applyMatrix4(u3),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class A2 extends Xn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ec extends ki{constructor(e=null,t=1,i=1,s,a,o,c,d,h=Gs,m=Gs,x,y){super(null,o,c,d,h,m,s,a,x,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const h3=new an,W7=new an;class Zx{constructor(e=[],t=[]){this.uuid=Fa(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new an;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:W7;h3.multiplyMatrices(c,t[a]),h3.toArray(i,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Zx(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ec(t,e,e,Sr,ga);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const a=e.bones[i];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new A2),this.bones.push(o),this.boneInverses.push(new an().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,a=t.length;s<a;s++){const o=t[s];e.bones.push(o.uuid);const c=i[s];e.boneInverses.push(c.toArray())}return e}}class ff extends ei{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Kp=new an,f3=new an,yb=[],p3=new ar,X7=new an,O0=new us,P0=new Ws;class rM extends us{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ff(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,X7)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ar),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Kp),p3.copy(e.boundingBox).applyMatrix4(Kp),this.boundingBox.union(p3)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ws),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Kp),P0.copy(e.boundingSphere).applyMatrix4(Kp),this.boundingSphere.union(P0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let c=0;c<i.length;c++)i[c]=s[o+c]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(O0.geometry=this.geometry,O0.material=this.material,O0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),P0.copy(this.boundingSphere),P0.applyMatrix4(i),e.ray.intersectsSphere(P0)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,Kp),f3.multiplyMatrices(i,Kp),O0.matrixWorld=f3,O0.raycast(e,yb);for(let o=0,c=yb.length;o<c;o++){const d=yb[o];d.instanceId=a,d.object=this,t.push(d)}yb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ff(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new ec(new Float32Array(s*this.count),s,this.count,p2,ga));const a=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const c=this.geometry.morphTargetsRelative?1:1-o,d=s*e;a[d]=c,a.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const FA=new ae,Y7=new ae,K7=new _n;class Hc{constructor(e=new ae(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=FA.subVectors(i,t).cross(Y7.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(FA),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||K7.getNormalMatrix(e),s=this.coplanarPoint(FA).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _h=new Ws,J7=new st(.5,.5),vb=new ae;class Wm{constructor(e=new Hc,t=new Hc,i=new Hc,s=new Hc,a=new Hc,o=new Hc){this.planes=[e,t,i,s,a,o]}set(e,t,i,s,a,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(s),c[4].copy(a),c[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ua,i=!1){const s=this.planes,a=e.elements,o=a[0],c=a[1],d=a[2],h=a[3],m=a[4],x=a[5],y=a[6],b=a[7],S=a[8],_=a[9],E=a[10],A=a[11],P=a[12],N=a[13],L=a[14],j=a[15];if(s[0].setComponents(h-o,b-m,A-S,j-P).normalize(),s[1].setComponents(h+o,b+m,A+S,j+P).normalize(),s[2].setComponents(h+c,b+x,A+_,j+N).normalize(),s[3].setComponents(h-c,b-x,A-_,j-N).normalize(),i)s[4].setComponents(d,y,E,L).normalize(),s[5].setComponents(h-d,b-y,A-E,j-L).normalize();else if(s[4].setComponents(h-d,b-y,A-E,j-L).normalize(),t===Ua)s[5].setComponents(h+d,b+y,A+E,j+L).normalize();else if(t===Nm)s[5].setComponents(d,y,E,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_h.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),_h.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_h)}intersectsSprite(e){_h.center.set(0,0,0);const t=J7.distanceTo(e.center);return _h.radius=.7071067811865476+t,_h.applyMatrix4(e.matrixWorld),this.intersectsSphere(_h)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(vb.x=s.normal.x>0?e.max.x:e.min.x,vb.y=s.normal.y>0?e.max.y:e.min.y,vb.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(vb)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Yl=new an,Kl=new Wm;class _2{constructor(){this.coordinateSystem=Ua}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(Yl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Kl.setFromProjectionMatrix(Yl,s.coordinateSystem,s.reversedDepth),Kl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(Yl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Kl.setFromProjectionMatrix(Yl,s.coordinateSystem,s.reversedDepth),Kl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(Yl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Kl.setFromProjectionMatrix(Yl,s.coordinateSystem,s.reversedDepth),Kl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(Yl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Kl.setFromProjectionMatrix(Yl,s.coordinateSystem,s.reversedDepth),Kl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(Yl.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Kl.setFromProjectionMatrix(Yl,s.coordinateSystem,s.reversedDepth),Kl.containsPoint(e))return!0}return!1}clone(){return new _2}}function zA(n,e){return n-e}function Q7(n,e){return n.z-e.z}function Z7(n,e){return e.z-n.z}class $7{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,s){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=i,c.index=s}reset(){this.list.length=0,this.index=0}}const da=new an,eV=new Nt(1,1,1),m3=new Wm,tV=new _2,bb=new ar,Eh=new Ws,L0=new ae,g3=new ae,nV=new ae,HA=new $7,vr=new us,wb=[];function iV(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const s=n.count;for(let a=0;a<s;a++)for(let o=0;o<i;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Ch(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class AP extends us{constructor(e,t,i=t*2,s){super(new Sn,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new ec(t,e,e,Sr,ga);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new ec(t,e,e,Kx,$c);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new ec(t,e,e,Sr,ga);i.colorSpace=Wn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:c,itemSize:d,normalized:h}=o,m=new c.constructor(i*d),x=new ei(m,d,h);t.setAttribute(a,x)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new ei(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),a=t.getAttribute(i);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ar);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,da),this.getBoundingBoxAt(a,bb).applyMatrix4(da),e.union(bb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ws);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,da),this.getBoundingSphereAt(a,Eh).applyMatrix4(da),e.union(Eh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(zA),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;da.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(eV.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?o.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(zA),d=this._availableGeometryIds.shift(),a[d]=s):(d=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(d,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,s=i.getIndex()!==null,a=i.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(s&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=c.vertexStart,h=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const x=t.getAttribute(m),y=i.getAttribute(m);iV(x,y,d);const b=x.itemSize;for(let S=x.count,_=h;S<_;S++){const E=d+S;for(let A=0;A<b;A++)y.setComponent(E,A,0)}y.needsUpdate=!0,y.addUpdateRange(d*b,h*b)}if(s){const m=c.indexStart,x=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let y=0;y<o.count;y++)a.setX(m+y,d+o.getX(y));for(let y=o.count,b=x;y<b;y++)a.setX(m+y,d);a.needsUpdate=!0,a.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,a=i.length;s<a;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,s=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),a=this.geometry;for(let o=0,c=i.length;o<c;o++){const d=s[o],h=i[d];if(h.active!==!1){if(a.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:x,reservedIndexCount:y}=h,b=a.index,S=b.array,_=e-x;for(let E=m;E<m+y;E++)S[E]=S[E]+_;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:x}=h,y=a.attributes;for(const b in y){const S=y[b],{array:_,itemSize:E}=S;_.copyWithin(e*E,m*E,(m+x)*E),S.addUpdateRange(e*E,x*E)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=a.index?h.indexStart:h.vertexStart,this._nextIndexStart=a.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const a=new ar,o=i.index,c=i.attributes.position;for(let d=s.start,h=s.start+s.count;d<h;d++){let m=d;o&&(m=o.getX(m)),a.expandByPoint(L0.fromBufferAttribute(c,m))}s.boundingBox=a}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const a=new Ws;this.getBoundingBoxAt(e,bb),bb.getCenter(a.center);const o=i.index,c=i.attributes.position;let d=0;for(let h=s.start,m=s.start+s.count;h<m;h++){let x=h;o&&(x=o.getX(x)),L0.fromBufferAttribute(c,x),d=Math.max(d,a.center.distanceToSquared(L0))}a.radius=Math.sqrt(d),s.boundingSphere=a}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(zA);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),a=new Int32Array(e);Ch(this._multiDrawCounts,s),Ch(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,d=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Ch(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Ch(c.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Ch(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Sn,this._initializeGeometry(a));const o=this.geometry;a.index&&Ch(a.index.array,o.index.array);for(const c in a.attributes)Ch(a.attributes[c].array,o.attributes[c].array)}raycast(e,t){const i=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,o=this.geometry;vr.material=this.material,vr.geometry.index=o.index,vr.geometry.attributes=o.attributes,vr.geometry.boundingBox===null&&(vr.geometry.boundingBox=new ar),vr.geometry.boundingSphere===null&&(vr.geometry.boundingSphere=new Ws);for(let c=0,d=i.length;c<d;c++){if(!i[c].visible||!i[c].active)continue;const h=i[c].geometryIndex,m=s[h];vr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,vr.matrixWorld).premultiply(a),this.getBoundingBoxAt(h,vr.geometry.boundingBox),this.getBoundingSphereAt(h,vr.geometry.boundingSphere),vr.raycast(e,wb);for(let x=0,y=wb.length;x<y;x++){const b=wb[x];b.object=this,b.batchId=c,t.push(b)}wb.length=0}vr.material=null,vr.geometry.index=null,vr.geometry.attributes={},vr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,d=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,x=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,S=b.image.data,_=i.isArrayCamera?tV:m3;y&&!i.isArrayCamera&&(da.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),m3.setFromProjectionMatrix(da,i.coordinateSystem,i.reversedDepth));let E=0;if(this.sortObjects){da.copy(this.matrixWorld).invert(),L0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(da),g3.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(da);for(let N=0,L=d.length;N<L;N++)if(d[N].visible&&d[N].active){const j=d[N].geometryIndex;this.getMatrixAt(N,da),this.getBoundingSphereAt(j,Eh).applyMatrix4(da);let R=!1;if(y&&(R=!_.intersectsSphere(Eh,i)),!R){const k=x[j],F=nV.subVectors(Eh.center,L0).dot(g3);HA.push(k.start,k.count,F,N)}}const A=HA.list,P=this.customSort;P===null?A.sort(a.transparent?Z7:Q7):P.call(this,A,i);for(let N=0,L=A.length;N<L;N++){const j=A[N];h[E]=j.start*c,m[E]=j.count,S[E]=j.index,E++}HA.reset()}else for(let A=0,P=d.length;A<P;A++)if(d[A].visible&&d[A].active){const N=d[A].geometryIndex;let L=!1;if(y&&(this.getMatrixAt(A,da),this.getBoundingSphereAt(N,Eh).applyMatrix4(da),L=!_.intersectsSphere(Eh,i)),!L){const j=x[N];h[E]=j.start*c,m[E]=j.count,S[E]=A,E++}}b.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,s,a,o){this.onBeforeRender(e,null,s,a,o)}}class Cr extends Os{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ww=new ae,Sw=new ae,x3=new an,I0=new Cf,Sb=new Ws,VA=new ae,y3=new ae;class eu extends Xn{constructor(e=new Sn,t=new Cr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let s=1,a=t.count;s<a;s++)ww.fromBufferAttribute(t,s-1),Sw.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=ww.distanceTo(Sw);e.setAttribute("lineDistance",new Xt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Sb.copy(i.boundingSphere),Sb.applyMatrix4(s),Sb.radius+=a,e.ray.intersectsSphere(Sb)===!1)return;x3.copy(s).invert(),I0.copy(e.ray).applyMatrix4(x3);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let _=b,E=S-1;_<E;_+=h){const A=m.getX(_),P=m.getX(_+1),N=Ab(this,e,I0,d,A,P,_);N&&t.push(N)}if(this.isLineLoop){const _=m.getX(S-1),E=m.getX(b),A=Ab(this,e,I0,d,_,E,S-1);A&&t.push(A)}}else{const b=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let _=b,E=S-1;_<E;_+=h){const A=Ab(this,e,I0,d,_,_+1,_);A&&t.push(A)}if(this.isLineLoop){const _=Ab(this,e,I0,d,S-1,b,S-1);_&&t.push(_)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function Ab(n,e,t,i,s,a,o){const c=n.geometry.attributes.position;if(ww.fromBufferAttribute(c,s),Sw.fromBufferAttribute(c,a),t.distanceSqToSegment(ww,Sw,VA,y3)>i)return;VA.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(VA);if(!(h<e.near||h>e.far))return{distance:h,point:y3.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const v3=new ae,b3=new ae;class dl extends eu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let s=0,a=t.count;s<a;s+=2)v3.fromBufferAttribute(t,s),b3.fromBufferAttribute(t,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+v3.distanceTo(b3);e.setAttribute("lineDistance",new Xt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class aM extends eu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class E2 extends Os{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const w3=new an,CE=new Cf,_b=new Ws,Eb=new ae;class oM extends Xn{constructor(e=new Sn,t=new E2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),_b.copy(i.boundingSphere),_b.applyMatrix4(s),_b.radius+=a,e.ray.intersectsSphere(_b)===!1)return;w3.copy(s).invert(),CE.copy(e.ray).applyMatrix4(w3);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=i.index,x=i.attributes.position;if(h!==null){const y=Math.max(0,o.start),b=Math.min(h.count,o.start+o.count);for(let S=y,_=b;S<_;S++){const E=h.getX(S);Eb.fromBufferAttribute(x,E),S3(Eb,E,d,s,e,t,this)}}else{const y=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let S=y,_=b;S<_;S++)Eb.fromBufferAttribute(x,S),S3(Eb,S,d,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const c=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function S3(n,e,t,i,s,a,o){const c=CE.distanceSqToPoint(n);if(c<t){const d=new ae;CE.closestPointToPoint(n,d),d.applyMatrix4(i);const h=s.ray.origin.distanceTo(d);if(h<s.near||h>s.far)return;a.push({distance:h,distanceToRay:Math.sqrt(c),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class _P extends ki{constructor(e,t,i,s,a=cs,o=cs,c,d,h){super(e,t,i,s,a,o,c,d,h),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function x(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(x)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(x))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class sV extends _P{constructor(e,t,i,s,a,o,c,d){super({},e,t,i,s,a,o,c,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class rV extends ki{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Gs,this.minFilter=Gs,this.generateMipmaps=!1,this.needsUpdate=!0}}class C2 extends ki{constructor(e,t,i,s,a,o,c,d,h,m,x,y){super(null,o,c,d,h,m,s,a,x,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class aV extends C2{constructor(e,t,i,s,a,o){super(e,t,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Ia,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class oV extends C2{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Zc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class lV extends ki{constructor(e,t,i,s,a,o,c,d,h){super(e,t,i,s,a,o,c,d,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class lM extends ki{constructor(e,t,i=$c,s,a,o,c=Gs,d=Gs,h,m=Em,x=1){if(m!==Em&&m!==Cm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:x};super(y,s,a,o,c,d,m,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ud(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class M2 extends Sn{constructor(e=1,t=1,i=4,s=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:s,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),a=Math.max(1,Math.floor(a));const o=[],c=[],d=[],h=[],m=t/2,x=Math.PI/2*e,y=t,b=2*x+y,S=i*2+a,_=s+1,E=new ae,A=new ae;for(let P=0;P<=S;P++){let N=0,L=0,j=0,R=0;if(P<=i){const D=P/i,B=D*Math.PI/2;L=-m-e*Math.cos(B),j=e*Math.sin(B),R=-e*Math.cos(B),N=D*x}else if(P<=i+a){const D=(P-i)/a;L=-m+D*t,j=e,R=0,N=x+D*y}else{const D=(P-i-a)/i,B=D*Math.PI/2;L=m+e*Math.sin(B),j=e*Math.cos(B),R=e*Math.sin(B),N=x+y+D*x}const k=Math.max(0,Math.min(1,N/b));let F=0;P===0?F=.5/s:P===S&&(F=-.5/s);for(let D=0;D<=s;D++){const B=D/s,q=B*Math.PI*2,Y=Math.sin(q),G=Math.cos(q);A.x=-j*G,A.y=L,A.z=j*Y,c.push(A.x,A.y,A.z),E.set(-j*G,R,j*Y),E.normalize(),d.push(E.x,E.y,E.z),h.push(B+F,k)}if(P>0){const D=(P-1)*_;for(let B=0;B<s;B++){const q=D+B,Y=D+B+1,G=P*_+B,W=P*_+B+1;o.push(q,Y,G),o.push(Y,W,G)}}}this.setIndex(o),this.setAttribute("position",new Xt(c,3)),this.setAttribute("normal",new Xt(d,3)),this.setAttribute("uv",new Xt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M2(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class T2 extends Sn{constructor(e=1,t=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:s},t=Math.max(3,t);const a=[],o=[],c=[],d=[],h=new ae,m=new st;o.push(0,0,0),c.push(0,0,1),d.push(.5,.5);for(let x=0,y=3;x<=t;x++,y+=3){const b=i+x/t*s;h.x=e*Math.cos(b),h.y=e*Math.sin(b),o.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,d.push(m.x,m.y)}for(let x=1;x<=t;x++)a.push(x,x+1,0);this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("normal",new Xt(c,3)),this.setAttribute("uv",new Xt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T2(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $x extends Sn{constructor(e=1,t=1,i=1,s=32,a=1,o=!1,c=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:s,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:d};const h=this;s=Math.floor(s),a=Math.floor(a);const m=[],x=[],y=[],b=[];let S=0;const _=[],E=i/2;let A=0;P(),o===!1&&(e>0&&N(!0),t>0&&N(!1)),this.setIndex(m),this.setAttribute("position",new Xt(x,3)),this.setAttribute("normal",new Xt(y,3)),this.setAttribute("uv",new Xt(b,2));function P(){const L=new ae,j=new ae;let R=0;const k=(t-e)/i;for(let F=0;F<=a;F++){const D=[],B=F/a,q=B*(t-e)+e;for(let Y=0;Y<=s;Y++){const G=Y/s,W=G*d+c,$=Math.sin(W),z=Math.cos(W);j.x=q*$,j.y=-B*i+E,j.z=q*z,x.push(j.x,j.y,j.z),L.set($,k,z).normalize(),y.push(L.x,L.y,L.z),b.push(G,1-B),D.push(S++)}_.push(D)}for(let F=0;F<s;F++)for(let D=0;D<a;D++){const B=_[D][F],q=_[D+1][F],Y=_[D+1][F+1],G=_[D][F+1];(e>0||D!==0)&&(m.push(B,q,G),R+=3),(t>0||D!==a-1)&&(m.push(q,Y,G),R+=3)}h.addGroup(A,R,0),A+=R}function N(L){const j=S,R=new st,k=new ae;let F=0;const D=L===!0?e:t,B=L===!0?1:-1;for(let Y=1;Y<=s;Y++)x.push(0,E*B,0),y.push(0,B,0),b.push(.5,.5),S++;const q=S;for(let Y=0;Y<=s;Y++){const W=Y/s*d+c,$=Math.cos(W),z=Math.sin(W);k.x=D*z,k.y=E*B,k.z=D*$,x.push(k.x,k.y,k.z),y.push(0,B,0),R.x=$*.5+.5,R.y=z*.5*B+.5,b.push(R.x,R.y),S++}for(let Y=0;Y<s;Y++){const G=j+Y,W=q+Y;L===!0?m.push(W,W+1,G):m.push(W+1,W,G),F+=3}h.addGroup(A,F,L===!0?1:2),A+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $x(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ey extends $x{constructor(e=1,t=1,i=32,s=1,a=!1,o=0,c=Math.PI*2){super(0,e,t,i,s,a,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(e){return new ey(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ed extends Sn{constructor(e=[],t=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:s};const a=[],o=[];c(s),h(i),m(),this.setAttribute("position",new Xt(a,3)),this.setAttribute("normal",new Xt(a.slice(),3)),this.setAttribute("uv",new Xt(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(P){const N=new ae,L=new ae,j=new ae;for(let R=0;R<t.length;R+=3)b(t[R+0],N),b(t[R+1],L),b(t[R+2],j),d(N,L,j,P)}function d(P,N,L,j){const R=j+1,k=[];for(let F=0;F<=R;F++){k[F]=[];const D=P.clone().lerp(L,F/R),B=N.clone().lerp(L,F/R),q=R-F;for(let Y=0;Y<=q;Y++)Y===0&&F===R?k[F][Y]=D:k[F][Y]=D.clone().lerp(B,Y/q)}for(let F=0;F<R;F++)for(let D=0;D<2*(R-F)-1;D++){const B=Math.floor(D/2);D%2===0?(y(k[F][B+1]),y(k[F+1][B]),y(k[F][B])):(y(k[F][B+1]),y(k[F+1][B+1]),y(k[F+1][B]))}}function h(P){const N=new ae;for(let L=0;L<a.length;L+=3)N.x=a[L+0],N.y=a[L+1],N.z=a[L+2],N.normalize().multiplyScalar(P),a[L+0]=N.x,a[L+1]=N.y,a[L+2]=N.z}function m(){const P=new ae;for(let N=0;N<a.length;N+=3){P.x=a[N+0],P.y=a[N+1],P.z=a[N+2];const L=E(P)/2/Math.PI+.5,j=A(P)/Math.PI+.5;o.push(L,1-j)}S(),x()}function x(){for(let P=0;P<o.length;P+=6){const N=o[P+0],L=o[P+2],j=o[P+4],R=Math.max(N,L,j),k=Math.min(N,L,j);R>.9&&k<.1&&(N<.2&&(o[P+0]+=1),L<.2&&(o[P+2]+=1),j<.2&&(o[P+4]+=1))}}function y(P){a.push(P.x,P.y,P.z)}function b(P,N){const L=P*3;N.x=e[L+0],N.y=e[L+1],N.z=e[L+2]}function S(){const P=new ae,N=new ae,L=new ae,j=new ae,R=new st,k=new st,F=new st;for(let D=0,B=0;D<a.length;D+=9,B+=6){P.set(a[D+0],a[D+1],a[D+2]),N.set(a[D+3],a[D+4],a[D+5]),L.set(a[D+6],a[D+7],a[D+8]),R.set(o[B+0],o[B+1]),k.set(o[B+2],o[B+3]),F.set(o[B+4],o[B+5]),j.copy(P).add(N).add(L).divideScalar(3);const q=E(j);_(R,B+0,P,q),_(k,B+2,N,q),_(F,B+4,L,q)}}function _(P,N,L,j){j<0&&P.x===1&&(o[N]=P.x-1),L.x===0&&L.z===0&&(o[N]=j/2/Math.PI+.5)}function E(P){return Math.atan2(P.z,-P.x)}function A(P){return Math.atan2(-P.y,Math.sqrt(P.x*P.x+P.z*P.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ed(e.vertices,e.indices,e.radius,e.details)}}class N2 extends Ed{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new N2(e.radius,e.detail)}}const Cb=new ae,Mb=new ae,GA=new ae,Tb=new ma;class EP extends Sn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),a=Math.cos(af*t),o=e.getIndex(),c=e.getAttribute("position"),d=o?o.count:c.count,h=[0,0,0],m=["a","b","c"],x=new Array(3),y={},b=[];for(let S=0;S<d;S+=3){o?(h[0]=o.getX(S),h[1]=o.getX(S+1),h[2]=o.getX(S+2)):(h[0]=S,h[1]=S+1,h[2]=S+2);const{a:_,b:E,c:A}=Tb;if(_.fromBufferAttribute(c,h[0]),E.fromBufferAttribute(c,h[1]),A.fromBufferAttribute(c,h[2]),Tb.getNormal(GA),x[0]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,x[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,x[2]=`${Math.round(A.x*s)},${Math.round(A.y*s)},${Math.round(A.z*s)}`,!(x[0]===x[1]||x[1]===x[2]||x[2]===x[0]))for(let P=0;P<3;P++){const N=(P+1)%3,L=x[P],j=x[N],R=Tb[m[P]],k=Tb[m[N]],F=`${L}_${j}`,D=`${j}_${L}`;D in y&&y[D]?(GA.dot(y[D].normal)<=a&&(b.push(R.x,R.y,R.z),b.push(k.x,k.y,k.z)),y[D]=null):F in y||(y[F]={index0:h[P],index1:h[N],normal:GA.clone()})}}for(const S in y)if(y[S]){const{index0:_,index1:E}=y[S];Cb.fromBufferAttribute(c,_),Mb.fromBufferAttribute(c,E),b.push(Cb.x,Cb.y,Cb.z),b.push(Mb.x,Mb.y,Mb.z)}this.setAttribute("position",new Xt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class hl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,s=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(s),t.push(a),s=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let s=0;const a=i.length;let o;t?o=t:o=e*i[a-1];let c=0,d=a-1,h;for(;c<=d;)if(s=Math.floor(c+(d-c)/2),h=i[s]-o,h<0)c=s+1;else if(h>0)d=s-1;else{d=s;break}if(s=d,i[s]===o)return s/(a-1);const m=i[s],y=i[s+1]-m,b=(o-m)/y;return(s+b)/(a-1)}getTangent(e,t){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),c=this.getPoint(a),d=t||(o.isVector2?new st:new ae);return d.copy(c).sub(o).normalize(),d}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new ae,s=[],a=[],o=[],c=new ae,d=new an;for(let b=0;b<=e;b++){const S=b/e;s[b]=this.getTangentAt(S,new ae)}a[0]=new ae,o[0]=new ae;let h=Number.MAX_VALUE;const m=Math.abs(s[0].x),x=Math.abs(s[0].y),y=Math.abs(s[0].z);m<=h&&(h=m,i.set(1,0,0)),x<=h&&(h=x,i.set(0,1,0)),y<=h&&i.set(0,0,1),c.crossVectors(s[0],i).normalize(),a[0].crossVectors(s[0],c),o[0].crossVectors(s[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),o[b]=o[b-1].clone(),c.crossVectors(s[b-1],s[b]),c.length()>Number.EPSILON){c.normalize();const S=Math.acos(dn(s[b-1].dot(s[b]),-1,1));a[b].applyMatrix4(d.makeRotationAxis(c,S))}o[b].crossVectors(s[b],a[b])}if(t===!0){let b=Math.acos(dn(a[0].dot(a[e]),-1,1));b/=e,s[0].dot(c.crossVectors(a[0],a[e]))>0&&(b=-b);for(let S=1;S<=e;S++)a[S].applyMatrix4(d.makeRotationAxis(s[S],b*S)),o[S].crossVectors(s[S],a[S])}return{tangents:s,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class j2 extends hl{constructor(e=0,t=0,i=1,s=1,a=0,o=Math.PI*2,c=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=d}getPoint(e,t=new st){const i=t,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(o?a=0:a=s),this.aClockwise===!0&&!o&&(a===s?a=-s:a=a-s);const c=this.aStartAngle+e*a;let d=this.aX+this.xRadius*Math.cos(c),h=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),x=Math.sin(this.aRotation),y=d-this.aX,b=h-this.aY;d=y*m-b*x+this.aX,h=y*x+b*m+this.aY}return i.set(d,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class CP extends j2{constructor(e,t,i,s,a,o){super(e,t,i,i,s,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function cM(){let n=0,e=0,t=0,i=0;function s(a,o,c,d){n=a,e=c,t=-3*a+3*o-2*c-d,i=2*a-2*o+c+d}return{initCatmullRom:function(a,o,c,d,h){s(o,c,h*(c-a),h*(d-o))},initNonuniformCatmullRom:function(a,o,c,d,h,m,x){let y=(o-a)/h-(c-a)/(h+m)+(c-o)/m,b=(c-o)/m-(d-o)/(m+x)+(d-c)/x;y*=m,b*=m,s(o,c,y,b)},calc:function(a){const o=a*a,c=o*a;return n+e*a+t*o+i*c}}}const Nb=new ae,qA=new cM,WA=new cM,XA=new cM;class MP extends hl{constructor(e=[],t=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=s}getPoint(e,t=new ae){const i=t,s=this.points,a=s.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),d=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:d===0&&c===a-1&&(c=a-2,d=1);let h,m;this.closed||c>0?h=s[(c-1)%a]:(Nb.subVectors(s[0],s[1]).add(s[0]),h=Nb);const x=s[c%a],y=s[(c+1)%a];if(this.closed||c+2<a?m=s[(c+2)%a]:(Nb.subVectors(s[a-1],s[a-2]).add(s[a-1]),m=Nb),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let S=Math.pow(h.distanceToSquared(x),b),_=Math.pow(x.distanceToSquared(y),b),E=Math.pow(y.distanceToSquared(m),b);_<1e-4&&(_=1),S<1e-4&&(S=_),E<1e-4&&(E=_),qA.initNonuniformCatmullRom(h.x,x.x,y.x,m.x,S,_,E),WA.initNonuniformCatmullRom(h.y,x.y,y.y,m.y,S,_,E),XA.initNonuniformCatmullRom(h.z,x.z,y.z,m.z,S,_,E)}else this.curveType==="catmullrom"&&(qA.initCatmullRom(h.x,x.x,y.x,m.x,this.tension),WA.initCatmullRom(h.y,x.y,y.y,m.y,this.tension),XA.initCatmullRom(h.z,x.z,y.z,m.z,this.tension));return i.set(qA.calc(d),WA.calc(d),XA.calc(d)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new ae().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function A3(n,e,t,i,s){const a=(i-e)*.5,o=(s-t)*.5,c=n*n,d=n*c;return(2*t-2*i+a+o)*d+(-3*t+3*i-2*a-o)*c+a*n+t}function cV(n,e){const t=1-n;return t*t*e}function uV(n,e){return 2*(1-n)*n*e}function dV(n,e){return n*n*e}function ax(n,e,t,i){return cV(n,e)+uV(n,t)+dV(n,i)}function hV(n,e){const t=1-n;return t*t*t*e}function fV(n,e){const t=1-n;return 3*t*t*n*e}function pV(n,e){return 3*(1-n)*n*n*e}function mV(n,e){return n*n*n*e}function ox(n,e,t,i,s){return hV(n,e)+fV(n,t)+pV(n,i)+mV(n,s)}class uM extends hl{constructor(e=new st,t=new st,i=new st,s=new st){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new st){const i=t,s=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(ox(e,s.x,a.x,o.x,c.x),ox(e,s.y,a.y,o.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TP extends hl{constructor(e=new ae,t=new ae,i=new ae,s=new ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new ae){const i=t,s=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(ox(e,s.x,a.x,o.x,c.x),ox(e,s.y,a.y,o.y,c.y),ox(e,s.z,a.z,o.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class dM extends hl{constructor(e=new st,t=new st){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new st){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new st){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NP extends hl{constructor(e=new ae,t=new ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ae){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ae){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hM extends hl{constructor(e=new st,t=new st,i=new st){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new st){const i=t,s=this.v0,a=this.v1,o=this.v2;return i.set(ax(e,s.x,a.x,o.x),ax(e,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fM extends hl{constructor(e=new ae,t=new ae,i=new ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ae){const i=t,s=this.v0,a=this.v1,o=this.v2;return i.set(ax(e,s.x,a.x,o.x),ax(e,s.y,a.y,o.y),ax(e,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pM extends hl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new st){const i=t,s=this.points,a=(s.length-1)*e,o=Math.floor(a),c=a-o,d=s[o===0?o:o-1],h=s[o],m=s[o>s.length-2?s.length-1:o+1],x=s[o>s.length-3?s.length-1:o+2];return i.set(A3(c,d.x,h.x,m.x,x.x),A3(c,d.y,h.y,m.y,x.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new st().fromArray(s))}return this}}var Aw=Object.freeze({__proto__:null,ArcCurve:CP,CatmullRomCurve3:MP,CubicBezierCurve:uM,CubicBezierCurve3:TP,EllipseCurve:j2,LineCurve:dM,LineCurve3:NP,QuadraticBezierCurve:hM,QuadraticBezierCurve3:fM,SplineCurve:pM});class jP extends hl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Aw[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=i){const o=s[a]-i,c=this.curves[a],d=c.getLength(),h=d===0?0:1-o/d;return c.getPointAt(h,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,s=this.curves.length;i<s;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let s=0,a=this.curves;s<a.length;s++){const o=a[s],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,d=o.getPoints(c);for(let h=0;h<d.length;h++){const m=d[h];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(new Aw[s.type]().fromJSON(s))}return this}}class _w extends jP{constructor(e){super(),this.type="Path",this.currentPoint=new st,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new dM(this.currentPoint.clone(),new st(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,s){const a=new hM(this.currentPoint.clone(),new st(e,t),new st(i,s));return this.curves.push(a),this.currentPoint.set(i,s),this}bezierCurveTo(e,t,i,s,a,o){const c=new uM(this.currentPoint.clone(),new st(e,t),new st(i,s),new st(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new pM(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,s,a,o){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+c,t+d,i,s,a,o),this}absarc(e,t,i,s,a,o){return this.absellipse(e,t,i,i,s,a,o),this}ellipse(e,t,i,s,a,o,c,d){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,i,s,a,o,c,d),this}absellipse(e,t,i,s,a,o,c,d){const h=new j2(e,t,i,s,a,o,c,d);if(this.curves.length>0){const x=h.getPoint(0);x.equals(this.currentPoint)||this.lineTo(x.x,x.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class of extends _w{constructor(e){super(e),this.uuid=Fa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,s=this.holes.length;i<s;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(new _w().fromJSON(s))}return this}}function gV(n,e,t=2){const i=e&&e.length,s=i?e[0]*t:n.length;let a=RP(n,0,s,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,d,h;if(i&&(a=wV(n,e,a,t)),n.length>80*t){c=1/0,d=1/0;let m=-1/0,x=-1/0;for(let y=t;y<s;y+=t){const b=n[y],S=n[y+1];b<c&&(c=b),S<d&&(d=S),b>m&&(m=b),S>x&&(x=S)}h=Math.max(m-c,x-d),h=h!==0?32767/h:0}return Mx(a,o,t,c,d,h,0),o}function RP(n,e,t,i,s){let a;if(s===BV(n,e,t,i)>0)for(let o=e;o<t;o+=i)a=_3(o/i|0,n[o],n[o+1],a);else for(let o=t-i;o>=e;o-=i)a=_3(o/i|0,n[o],n[o+1],a);return a&&Dm(a,a.next)&&(Nx(a),a=a.next),a}function pf(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Dm(t,t.next)||qi(t.prev,t,t.next)===0)){if(Nx(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Mx(n,e,t,i,s,a,o){if(!n)return;!o&&a&&CV(n,i,s,a);let c=n;for(;n.prev!==n.next;){const d=n.prev,h=n.next;if(a?yV(n,i,s,a):xV(n)){e.push(d.i,n.i,h.i),Nx(n),n=h.next,c=h.next;continue}if(n=h,n===c){o?o===1?(n=vV(pf(n),e),Mx(n,e,t,i,s,a,2)):o===2&&bV(n,e,t,i,s,a):Mx(pf(n),e,t,i,s,a,1);break}}}function xV(n){const e=n.prev,t=n,i=n.next;if(qi(e,t,i)>=0)return!1;const s=e.x,a=t.x,o=i.x,c=e.y,d=t.y,h=i.y,m=Math.min(s,a,o),x=Math.min(c,d,h),y=Math.max(s,a,o),b=Math.max(c,d,h);let S=i.next;for(;S!==e;){if(S.x>=m&&S.x<=y&&S.y>=x&&S.y<=b&&X0(s,c,a,d,o,h,S.x,S.y)&&qi(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function yV(n,e,t,i){const s=n.prev,a=n,o=n.next;if(qi(s,a,o)>=0)return!1;const c=s.x,d=a.x,h=o.x,m=s.y,x=a.y,y=o.y,b=Math.min(c,d,h),S=Math.min(m,x,y),_=Math.max(c,d,h),E=Math.max(m,x,y),A=ME(b,S,e,t,i),P=ME(_,E,e,t,i);let N=n.prevZ,L=n.nextZ;for(;N&&N.z>=A&&L&&L.z<=P;){if(N.x>=b&&N.x<=_&&N.y>=S&&N.y<=E&&N!==s&&N!==o&&X0(c,m,d,x,h,y,N.x,N.y)&&qi(N.prev,N,N.next)>=0||(N=N.prevZ,L.x>=b&&L.x<=_&&L.y>=S&&L.y<=E&&L!==s&&L!==o&&X0(c,m,d,x,h,y,L.x,L.y)&&qi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;N&&N.z>=A;){if(N.x>=b&&N.x<=_&&N.y>=S&&N.y<=E&&N!==s&&N!==o&&X0(c,m,d,x,h,y,N.x,N.y)&&qi(N.prev,N,N.next)>=0)return!1;N=N.prevZ}for(;L&&L.z<=P;){if(L.x>=b&&L.x<=_&&L.y>=S&&L.y<=E&&L!==s&&L!==o&&X0(c,m,d,x,h,y,L.x,L.y)&&qi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function vV(n,e){let t=n;do{const i=t.prev,s=t.next.next;!Dm(i,s)&&DP(i,t,t.next,s)&&Tx(i,s)&&Tx(s,i)&&(e.push(i.i,t.i,s.i),Nx(t),Nx(t.next),t=n=s),t=t.next}while(t!==n);return pf(t)}function bV(n,e,t,i,s,a){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&NV(o,c)){let d=OP(o,c);o=pf(o,o.next),d=pf(d,d.next),Mx(o,e,t,i,s,a,0),Mx(d,e,t,i,s,a,0);return}c=c.next}o=o.next}while(o!==n)}function wV(n,e,t,i){const s=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*i,d=a<o-1?e[a+1]*i:n.length,h=RP(n,c,d,i,!1);h===h.next&&(h.steiner=!0),s.push(TV(h))}s.sort(SV);for(let a=0;a<s.length;a++)t=AV(s[a],t);return t}function SV(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=i-s}return t}function AV(n,e){const t=_V(n,e);if(!t)return e;const i=OP(t,n);return pf(i,i.next),pf(t,t.next)}function _V(n,e){let t=e;const i=n.x,s=n.y;let a=-1/0,o;if(Dm(n,t))return t;do{if(Dm(n,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const x=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(x<=i&&x>a&&(a=x,o=t.x<t.next.x?t:t.next,x===i))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,d=o.x,h=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=d&&i!==t.x&&BP(s<h?i:a,s,d,h,s<h?a:i,s,t.x,t.y)){const x=Math.abs(s-t.y)/(i-t.x);Tx(t,n)&&(x<m||x===m&&(t.x>o.x||t.x===o.x&&EV(o,t)))&&(o=t,m=x)}t=t.next}while(t!==c);return o}function EV(n,e){return qi(n.prev,n,e.prev)<0&&qi(e.next,n,n.next)<0}function CV(n,e,t,i){let s=n;do s.z===0&&(s.z=ME(s.x,s.y,e,t,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,MV(s)}function MV(n){let e,t=1;do{let i=n,s;n=null;let a=null;for(e=0;i;){e++;let o=i,c=0;for(let h=0;h<t&&(c++,o=o.nextZ,!!o);h++);let d=t;for(;c>0||d>0&&o;)c!==0&&(d===0||!o||i.z<=o.z)?(s=i,i=i.nextZ,c--):(s=o,o=o.nextZ,d--),a?a.nextZ=s:n=s,s.prevZ=a,a=s;i=o}a.nextZ=null,t*=2}while(e>1);return n}function ME(n,e,t,i,s){return n=(n-t)*s|0,e=(e-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function TV(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function BP(n,e,t,i,s,a,o,c){return(s-o)*(e-c)>=(n-o)*(a-c)&&(n-o)*(i-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(s-o)*(i-c)}function X0(n,e,t,i,s,a,o,c){return!(n===o&&e===c)&&BP(n,e,t,i,s,a,o,c)}function NV(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!jV(n,e)&&(Tx(n,e)&&Tx(e,n)&&RV(n,e)&&(qi(n.prev,n,e.prev)||qi(n,e.prev,e))||Dm(n,e)&&qi(n.prev,n,n.next)>0&&qi(e.prev,e,e.next)>0)}function qi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Dm(n,e){return n.x===e.x&&n.y===e.y}function DP(n,e,t,i){const s=Rb(qi(n,e,t)),a=Rb(qi(n,e,i)),o=Rb(qi(t,i,n)),c=Rb(qi(t,i,e));return!!(s!==a&&o!==c||s===0&&jb(n,t,e)||a===0&&jb(n,i,e)||o===0&&jb(t,n,i)||c===0&&jb(t,e,i))}function jb(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Rb(n){return n>0?1:n<0?-1:0}function jV(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&DP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Tx(n,e){return qi(n.prev,n,n.next)<0?qi(n,e,n.next)>=0&&qi(n,n.prev,e)>=0:qi(n,e,n.prev)<0||qi(n,n.next,e)<0}function RV(n,e){let t=n,i=!1;const s=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&s<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function OP(n,e){const t=TE(n.i,n.x,n.y),i=TE(e.i,e.x,e.y),s=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=s,s.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function _3(n,e,t,i){const s=TE(n,e,t);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Nx(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function TE(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function BV(n,e,t,i){let s=0;for(let a=e,o=t-i;a<t;a+=i)s+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return s}class DV{static triangulate(e,t,i=2){return gV(e,t,i)}}class ol{static area(e){const t=e.length;let i=0;for(let s=t-1,a=0;a<t;s=a++)i+=e[s].x*e[a].y-e[a].x*e[s].y;return i*.5}static isClockWise(e){return ol.area(e)<0}static triangulateShape(e,t){const i=[],s=[],a=[];E3(e),C3(i,e);let o=e.length;t.forEach(E3);for(let d=0;d<t.length;d++)s.push(o),o+=t[d].length,C3(i,t[d]);const c=DV.triangulate(i,s);for(let d=0;d<c.length;d+=3)a.push(c.slice(d,d+3));return a}}function E3(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function C3(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class R2 extends Sn{constructor(e=new of([new st(.5,.5),new st(-.5,.5),new st(-.5,-.5),new st(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,s=[],a=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];o(h)}this.setAttribute("position",new Xt(s,3)),this.setAttribute("uv",new Xt(a,2)),this.computeVertexNormals();function o(c){const d=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,x=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:b-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,P=t.UVGenerator!==void 0?t.UVGenerator:OV;let N,L=!1,j,R,k,F;A&&(N=A.getSpacedPoints(m),L=!0,y=!1,j=A.computeFrenetFrames(m,!1),R=new ae,k=new ae,F=new ae),y||(E=0,b=0,S=0,_=0);const D=c.extractPoints(h);let B=D.shape;const q=D.holes;if(!ol.isClockWise(B)){B=B.reverse();for(let Me=0,Ae=q.length;Me<Ae;Me++){const we=q[Me];ol.isClockWise(we)&&(q[Me]=we.reverse())}}function G(Me){const we=10000000000000001e-36;let ge=Me[0];for(let Be=1;Be<=Me.length;Be++){const Ue=Be%Me.length,_e=Me[Ue],$e=_e.x-ge.x,et=_e.y-ge.y,te=$e*$e+et*et,Z=Math.max(Math.abs(_e.x),Math.abs(_e.y),Math.abs(ge.x),Math.abs(ge.y)),xe=we*Z*Z;if(te<=xe){Me.splice(Ue,1),Be--;continue}ge=_e}}G(B),q.forEach(G);const W=q.length,$=B;for(let Me=0;Me<W;Me++){const Ae=q[Me];B=B.concat(Ae)}function z(Me,Ae,we){return Ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),Me.clone().addScaledVector(Ae,we)}const I=B.length;function Q(Me,Ae,we){let ge,Be,Ue;const _e=Me.x-Ae.x,$e=Me.y-Ae.y,et=we.x-Me.x,te=we.y-Me.y,Z=_e*_e+$e*$e,xe=_e*te-$e*et;if(Math.abs(xe)>Number.EPSILON){const Oe=Math.sqrt(Z),Xe=Math.sqrt(et*et+te*te),He=Ae.x-$e/Oe,_t=Ae.y+_e/Oe,yt=we.x-te/Xe,Tt=we.y+et/Xe,Ot=((yt-He)*te-(Tt-_t)*et)/(_e*te-$e*et);ge=He+_e*Ot-Me.x,Be=_t+$e*Ot-Me.y;const Pe=ge*ge+Be*Be;if(Pe<=2)return new st(ge,Be);Ue=Math.sqrt(Pe/2)}else{let Oe=!1;_e>Number.EPSILON?et>Number.EPSILON&&(Oe=!0):_e<-Number.EPSILON?et<-Number.EPSILON&&(Oe=!0):Math.sign($e)===Math.sign(te)&&(Oe=!0),Oe?(ge=-$e,Be=_e,Ue=Math.sqrt(Z)):(ge=_e,Be=$e,Ue=Math.sqrt(Z/2))}return new st(ge/Ue,Be/Ue)}const K=[];for(let Me=0,Ae=$.length,we=Ae-1,ge=Me+1;Me<Ae;Me++,we++,ge++)we===Ae&&(we=0),ge===Ae&&(ge=0),K[Me]=Q($[Me],$[we],$[ge]);const T=[];let X,ee=K.concat();for(let Me=0,Ae=W;Me<Ae;Me++){const we=q[Me];X=[];for(let ge=0,Be=we.length,Ue=Be-1,_e=ge+1;ge<Be;ge++,Ue++,_e++)Ue===Be&&(Ue=0),_e===Be&&(_e=0),X[ge]=Q(we[ge],we[Ue],we[_e]);T.push(X),ee=ee.concat(X)}let oe;if(E===0)oe=ol.triangulateShape($,q);else{const Me=[],Ae=[];for(let we=0;we<E;we++){const ge=we/E,Be=b*Math.cos(ge*Math.PI/2),Ue=S*Math.sin(ge*Math.PI/2)+_;for(let _e=0,$e=$.length;_e<$e;_e++){const et=z($[_e],K[_e],Ue);Qe(et.x,et.y,-Be),ge===0&&Me.push(et)}for(let _e=0,$e=W;_e<$e;_e++){const et=q[_e];X=T[_e];const te=[];for(let Z=0,xe=et.length;Z<xe;Z++){const Oe=z(et[Z],X[Z],Ue);Qe(Oe.x,Oe.y,-Be),ge===0&&te.push(Oe)}ge===0&&Ae.push(te)}}oe=ol.triangulateShape(Me,Ae)}const ce=oe.length,re=S+_;for(let Me=0;Me<I;Me++){const Ae=y?z(B[Me],ee[Me],re):B[Me];L?(k.copy(j.normals[0]).multiplyScalar(Ae.x),R.copy(j.binormals[0]).multiplyScalar(Ae.y),F.copy(N[0]).add(k).add(R),Qe(F.x,F.y,F.z)):Qe(Ae.x,Ae.y,0)}for(let Me=1;Me<=m;Me++)for(let Ae=0;Ae<I;Ae++){const we=y?z(B[Ae],ee[Ae],re):B[Ae];L?(k.copy(j.normals[Me]).multiplyScalar(we.x),R.copy(j.binormals[Me]).multiplyScalar(we.y),F.copy(N[Me]).add(k).add(R),Qe(F.x,F.y,F.z)):Qe(we.x,we.y,x/m*Me)}for(let Me=E-1;Me>=0;Me--){const Ae=Me/E,we=b*Math.cos(Ae*Math.PI/2),ge=S*Math.sin(Ae*Math.PI/2)+_;for(let Be=0,Ue=$.length;Be<Ue;Be++){const _e=z($[Be],K[Be],ge);Qe(_e.x,_e.y,x+we)}for(let Be=0,Ue=q.length;Be<Ue;Be++){const _e=q[Be];X=T[Be];for(let $e=0,et=_e.length;$e<et;$e++){const te=z(_e[$e],X[$e],ge);L?Qe(te.x,te.y+N[m-1].y,N[m-1].x+we):Qe(te.x,te.y,x+we)}}}ue(),ye();function ue(){const Me=s.length/3;if(y){let Ae=0,we=I*Ae;for(let ge=0;ge<ce;ge++){const Be=oe[ge];We(Be[2]+we,Be[1]+we,Be[0]+we)}Ae=m+E*2,we=I*Ae;for(let ge=0;ge<ce;ge++){const Be=oe[ge];We(Be[0]+we,Be[1]+we,Be[2]+we)}}else{for(let Ae=0;Ae<ce;Ae++){const we=oe[Ae];We(we[2],we[1],we[0])}for(let Ae=0;Ae<ce;Ae++){const we=oe[Ae];We(we[0]+I*m,we[1]+I*m,we[2]+I*m)}}i.addGroup(Me,s.length/3-Me,0)}function ye(){const Me=s.length/3;let Ae=0;Ve($,Ae),Ae+=$.length;for(let we=0,ge=q.length;we<ge;we++){const Be=q[we];Ve(Be,Ae),Ae+=Be.length}i.addGroup(Me,s.length/3-Me,1)}function Ve(Me,Ae){let we=Me.length;for(;--we>=0;){const ge=we;let Be=we-1;Be<0&&(Be=Me.length-1);for(let Ue=0,_e=m+E*2;Ue<_e;Ue++){const $e=I*Ue,et=I*(Ue+1),te=Ae+ge+$e,Z=Ae+Be+$e,xe=Ae+Be+et,Oe=Ae+ge+et;mt(te,Z,xe,Oe)}}}function Qe(Me,Ae,we){d.push(Me),d.push(Ae),d.push(we)}function We(Me,Ae,we){ut(Me),ut(Ae),ut(we);const ge=s.length/3,Be=P.generateTopUV(i,s,ge-3,ge-2,ge-1);le(Be[0]),le(Be[1]),le(Be[2])}function mt(Me,Ae,we,ge){ut(Me),ut(Ae),ut(ge),ut(Ae),ut(we),ut(ge);const Be=s.length/3,Ue=P.generateSideWallUV(i,s,Be-6,Be-3,Be-2,Be-1);le(Ue[0]),le(Ue[1]),le(Ue[3]),le(Ue[1]),le(Ue[2]),le(Ue[3])}function ut(Me){s.push(d[Me*3+0]),s.push(d[Me*3+1]),s.push(d[Me*3+2])}function le(Me){a.push(Me.x),a.push(Me.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return PV(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const c=t[e.shapes[a]];i.push(c)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new Aw[s.type]().fromJSON(s)),new R2(i,e.options)}}const OV={generateTopUV:function(n,e,t,i,s){const a=e[t*3],o=e[t*3+1],c=e[i*3],d=e[i*3+1],h=e[s*3],m=e[s*3+1];return[new st(a,o),new st(c,d),new st(h,m)]},generateSideWallUV:function(n,e,t,i,s,a){const o=e[t*3],c=e[t*3+1],d=e[t*3+2],h=e[i*3],m=e[i*3+1],x=e[i*3+2],y=e[s*3],b=e[s*3+1],S=e[s*3+2],_=e[a*3],E=e[a*3+1],A=e[a*3+2];return Math.abs(c-m)<Math.abs(o-h)?[new st(o,1-d),new st(h,1-x),new st(y,1-S),new st(_,1-A)]:[new st(c,1-d),new st(m,1-x),new st(b,1-S),new st(E,1-A)]}};function PV(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class B2 extends Ed{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new B2(e.radius,e.detail)}}class D2 extends Sn{constructor(e=[new st(0,-.5),new st(.5,0),new st(0,.5)],t=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:s},t=Math.floor(t),s=dn(s,0,Math.PI*2);const a=[],o=[],c=[],d=[],h=[],m=1/t,x=new ae,y=new st,b=new ae,S=new ae,_=new ae;let E=0,A=0;for(let P=0;P<=e.length-1;P++)switch(P){case 0:E=e[P+1].x-e[P].x,A=e[P+1].y-e[P].y,b.x=A*1,b.y=-E,b.z=A*0,_.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case e.length-1:d.push(_.x,_.y,_.z);break;default:E=e[P+1].x-e[P].x,A=e[P+1].y-e[P].y,b.x=A*1,b.y=-E,b.z=A*0,S.copy(b),b.x+=_.x,b.y+=_.y,b.z+=_.z,b.normalize(),d.push(b.x,b.y,b.z),_.copy(S)}for(let P=0;P<=t;P++){const N=i+P*m*s,L=Math.sin(N),j=Math.cos(N);for(let R=0;R<=e.length-1;R++){x.x=e[R].x*L,x.y=e[R].y,x.z=e[R].x*j,o.push(x.x,x.y,x.z),y.x=P/t,y.y=R/(e.length-1),c.push(y.x,y.y);const k=d[3*R+0]*L,F=d[3*R+1],D=d[3*R+0]*j;h.push(k,F,D)}}for(let P=0;P<t;P++)for(let N=0;N<e.length-1;N++){const L=N+P*e.length,j=L,R=L+e.length,k=L+e.length+1,F=L+1;a.push(j,R,F),a.push(k,F,R)}this.setIndex(a),this.setAttribute("position",new Xt(o,3)),this.setAttribute("uv",new Xt(c,2)),this.setAttribute("normal",new Xt(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D2(e.points,e.segments,e.phiStart,e.phiLength)}}class ty extends Ed{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ty(e.radius,e.detail)}}class Xm extends Sn{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const a=e/2,o=t/2,c=Math.floor(i),d=Math.floor(s),h=c+1,m=d+1,x=e/c,y=t/d,b=[],S=[],_=[],E=[];for(let A=0;A<m;A++){const P=A*y-o;for(let N=0;N<h;N++){const L=N*x-a;S.push(L,-P,0),_.push(0,0,1),E.push(N/c),E.push(1-A/d)}}for(let A=0;A<d;A++)for(let P=0;P<c;P++){const N=P+h*A,L=P+h*(A+1),j=P+1+h*(A+1),R=P+1+h*A;b.push(N,L,R),b.push(L,j,R)}this.setIndex(b),this.setAttribute("position",new Xt(S,3)),this.setAttribute("normal",new Xt(_,3)),this.setAttribute("uv",new Xt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xm(e.width,e.height,e.widthSegments,e.heightSegments)}}class O2 extends Sn{constructor(e=.5,t=1,i=32,s=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:s,thetaStart:a,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const c=[],d=[],h=[],m=[];let x=e;const y=(t-e)/s,b=new ae,S=new st;for(let _=0;_<=s;_++){for(let E=0;E<=i;E++){const A=a+E/i*o;b.x=x*Math.cos(A),b.y=x*Math.sin(A),d.push(b.x,b.y,b.z),h.push(0,0,1),S.x=(b.x/t+1)/2,S.y=(b.y/t+1)/2,m.push(S.x,S.y)}x+=y}for(let _=0;_<s;_++){const E=_*(i+1);for(let A=0;A<i;A++){const P=A+E,N=P,L=P+i+1,j=P+i+2,R=P+1;c.push(N,L,R),c.push(L,j,R)}}this.setIndex(c),this.setAttribute("position",new Xt(d,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class P2 extends Sn{constructor(e=new of([new st(0,.5),new st(-.5,-.5),new st(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],s=[],a=[],o=[];let c=0,d=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(c,d,m),c+=d,d=0;this.setIndex(i),this.setAttribute("position",new Xt(s,3)),this.setAttribute("normal",new Xt(a,3)),this.setAttribute("uv",new Xt(o,2));function h(m){const x=s.length/3,y=m.extractPoints(t);let b=y.shape;const S=y.holes;ol.isClockWise(b)===!1&&(b=b.reverse());for(let E=0,A=S.length;E<A;E++){const P=S[E];ol.isClockWise(P)===!0&&(S[E]=P.reverse())}const _=ol.triangulateShape(b,S);for(let E=0,A=S.length;E<A;E++){const P=S[E];b=b.concat(P)}for(let E=0,A=b.length;E<A;E++){const P=b[E];s.push(P.x,P.y,0),a.push(0,0,1),o.push(P.x,P.y)}for(let E=0,A=_.length;E<A;E++){const P=_[E],N=P[0]+x,L=P[1]+x,j=P[2]+x;i.push(N,L,j),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return LV(t,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}return new P2(i,e.curveSegments)}}function LV(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const s=n[t];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return e}class ny extends Sn{constructor(e=1,t=32,i=16,s=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:s,phiLength:a,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const d=Math.min(o+c,Math.PI);let h=0;const m=[],x=new ae,y=new ae,b=[],S=[],_=[],E=[];for(let A=0;A<=i;A++){const P=[],N=A/i;let L=0;A===0&&o===0?L=.5/t:A===i&&d===Math.PI&&(L=-.5/t);for(let j=0;j<=t;j++){const R=j/t;x.x=-e*Math.cos(s+R*a)*Math.sin(o+N*c),x.y=e*Math.cos(o+N*c),x.z=e*Math.sin(s+R*a)*Math.sin(o+N*c),S.push(x.x,x.y,x.z),y.copy(x).normalize(),_.push(y.x,y.y,y.z),E.push(R+L,1-N),P.push(h++)}m.push(P)}for(let A=0;A<i;A++)for(let P=0;P<t;P++){const N=m[A][P+1],L=m[A][P],j=m[A+1][P],R=m[A+1][P+1];(A!==0||o>0)&&b.push(N,L,R),(A!==i-1||d<Math.PI)&&b.push(L,j,R)}this.setIndex(b),this.setAttribute("position",new Xt(S,3)),this.setAttribute("normal",new Xt(_,3)),this.setAttribute("uv",new Xt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ny(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class L2 extends Ed{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new L2(e.radius,e.detail)}}class I2 extends Sn{constructor(e=1,t=.4,i=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:s,arc:a},i=Math.floor(i),s=Math.floor(s);const o=[],c=[],d=[],h=[],m=new ae,x=new ae,y=new ae;for(let b=0;b<=i;b++)for(let S=0;S<=s;S++){const _=S/s*a,E=b/i*Math.PI*2;x.x=(e+t*Math.cos(E))*Math.cos(_),x.y=(e+t*Math.cos(E))*Math.sin(_),x.z=t*Math.sin(E),c.push(x.x,x.y,x.z),m.x=e*Math.cos(_),m.y=e*Math.sin(_),y.subVectors(x,m).normalize(),d.push(y.x,y.y,y.z),h.push(S/s),h.push(b/i)}for(let b=1;b<=i;b++)for(let S=1;S<=s;S++){const _=(s+1)*b+S-1,E=(s+1)*(b-1)+S-1,A=(s+1)*(b-1)+S,P=(s+1)*b+S;o.push(_,E,P),o.push(E,A,P)}this.setIndex(o),this.setAttribute("position",new Xt(c,3)),this.setAttribute("normal",new Xt(d,3)),this.setAttribute("uv",new Xt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new I2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class U2 extends Sn{constructor(e=1,t=.4,i=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:s,p:a,q:o},i=Math.floor(i),s=Math.floor(s);const c=[],d=[],h=[],m=[],x=new ae,y=new ae,b=new ae,S=new ae,_=new ae,E=new ae,A=new ae;for(let N=0;N<=i;++N){const L=N/i*a*Math.PI*2;P(L,a,o,e,b),P(L+.01,a,o,e,S),E.subVectors(S,b),A.addVectors(S,b),_.crossVectors(E,A),A.crossVectors(_,E),_.normalize(),A.normalize();for(let j=0;j<=s;++j){const R=j/s*Math.PI*2,k=-t*Math.cos(R),F=t*Math.sin(R);x.x=b.x+(k*A.x+F*_.x),x.y=b.y+(k*A.y+F*_.y),x.z=b.z+(k*A.z+F*_.z),d.push(x.x,x.y,x.z),y.subVectors(x,b).normalize(),h.push(y.x,y.y,y.z),m.push(N/i),m.push(j/s)}}for(let N=1;N<=i;N++)for(let L=1;L<=s;L++){const j=(s+1)*(N-1)+(L-1),R=(s+1)*N+(L-1),k=(s+1)*N+L,F=(s+1)*(N-1)+L;c.push(j,R,F),c.push(R,k,F)}this.setIndex(c),this.setAttribute("position",new Xt(d,3)),this.setAttribute("normal",new Xt(h,3)),this.setAttribute("uv",new Xt(m,2));function P(N,L,j,R,k){const F=Math.cos(N),D=Math.sin(N),B=j/L*N,q=Math.cos(B);k.x=R*(2+q)*.5*F,k.y=R*(2+q)*D*.5,k.z=R*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class k2 extends Sn{constructor(e=new fM(new ae(-1,-1,0),new ae(-1,1,0),new ae(1,1,0)),t=64,i=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:s,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new ae,d=new ae,h=new st;let m=new ae;const x=[],y=[],b=[],S=[];_(),this.setIndex(S),this.setAttribute("position",new Xt(x,3)),this.setAttribute("normal",new Xt(y,3)),this.setAttribute("uv",new Xt(b,2));function _(){for(let N=0;N<t;N++)E(N);E(a===!1?t:0),P(),A()}function E(N){m=e.getPointAt(N/t,m);const L=o.normals[N],j=o.binormals[N];for(let R=0;R<=s;R++){const k=R/s*Math.PI*2,F=Math.sin(k),D=-Math.cos(k);d.x=D*L.x+F*j.x,d.y=D*L.y+F*j.y,d.z=D*L.z+F*j.z,d.normalize(),y.push(d.x,d.y,d.z),c.x=m.x+i*d.x,c.y=m.y+i*d.y,c.z=m.z+i*d.z,x.push(c.x,c.y,c.z)}}function A(){for(let N=1;N<=t;N++)for(let L=1;L<=s;L++){const j=(s+1)*(N-1)+(L-1),R=(s+1)*N+(L-1),k=(s+1)*N+L,F=(s+1)*(N-1)+L;S.push(j,R,F),S.push(R,k,F)}}function P(){for(let N=0;N<=t;N++)for(let L=0;L<=s;L++)h.x=N/t,h.y=L/s,b.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new k2(new Aw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class PP extends Sn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,s=new ae,a=new ae;if(e.index!==null){const o=e.attributes.position,c=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:c.count,materialIndex:0}]);for(let h=0,m=d.length;h<m;++h){const x=d[h],y=x.start,b=x.count;for(let S=y,_=y+b;S<_;S+=3)for(let E=0;E<3;E++){const A=c.getX(S+E),P=c.getX(S+(E+1)%3);s.fromBufferAttribute(o,A),a.fromBufferAttribute(o,P),M3(s,a,i)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let c=0,d=o.count/3;c<d;c++)for(let h=0;h<3;h++){const m=3*c+h,x=3*c+(h+1)%3;s.fromBufferAttribute(o,m),a.fromBufferAttribute(o,x),M3(s,a,i)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Xt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function M3(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(s)===!0?!1:(t.add(i),t.add(s),!0)}var T3=Object.freeze({__proto__:null,BoxGeometry:Mf,CapsuleGeometry:M2,CircleGeometry:T2,ConeGeometry:ey,CylinderGeometry:$x,DodecahedronGeometry:N2,EdgesGeometry:EP,ExtrudeGeometry:R2,IcosahedronGeometry:B2,LatheGeometry:D2,OctahedronGeometry:ty,PlaneGeometry:Xm,PolyhedronGeometry:Ed,RingGeometry:O2,ShapeGeometry:P2,SphereGeometry:ny,TetrahedronGeometry:L2,TorusGeometry:I2,TorusKnotGeometry:U2,TubeGeometry:k2,WireframeGeometry:PP});class LP extends Os{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class IP extends ll{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class iy extends Os{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new za,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Eo extends iy{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new st(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Nt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class UP extends Os{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Nt(16777215),this.specular=new Nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new za,this.combine=Yx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kP extends Os{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class FP extends Os{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class zP extends Os{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new za,this.combine=Yx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mM extends Os{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=tP,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gM extends Os{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class HP extends Os{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_d,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VP extends Cr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function GP(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function qP(n){function e(s,a){return n[s]-n[a]}const t=n.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(e),i}function NE(n,e,t){const i=n.length,s=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const c=t[a]*e;for(let d=0;d!==e;++d)s[o++]=n[c+d]}return s}function xM(n,e,t,i){let s=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[s++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[s++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[s++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),t.push(o)),a=n[s++];while(a!==void 0)}function IV(n,e,t,i,s=30){const a=n.clone();a.name=e;const o=[];for(let d=0;d<a.tracks.length;++d){const h=a.tracks[d],m=h.getValueSize(),x=[],y=[];for(let b=0;b<h.times.length;++b){const S=h.times[b]*s;if(!(S<t||S>=i)){x.push(h.times[b]);for(let _=0;_<m;++_)y.push(h.values[b*m+_])}}x.length!==0&&(h.times=Zh(x,h.times.constructor),h.values=Zh(y,h.values.constructor),o.push(h))}a.tracks=o;let c=1/0;for(let d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(let d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);return a.resetDuration(),a}function UV(n,e=0,t=n,i=30){i<=0&&(i=30);const s=t.tracks.length,a=e/i;for(let o=0;o<s;++o){const c=t.tracks[o],d=c.ValueTypeName;if(d==="bool"||d==="string")continue;const h=n.tracks.find(function(A){return A.name===c.name&&A.ValueTypeName===d});if(h===void 0)continue;let m=0;const x=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=x/3);let y=0;const b=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const S=c.times.length-1;let _;if(a<=c.times[0]){const A=m,P=x-m;_=c.values.slice(A,P)}else if(a>=c.times[S]){const A=S*x+m,P=A+x-m;_=c.values.slice(A,P)}else{const A=c.createInterpolant(),P=m,N=x-m;A.evaluate(a),_=A.resultBuffer.slice(P,N)}d==="quaternion"&&new qs().fromArray(_).normalize().conjugate().toArray(_);const E=h.times.length;for(let A=0;A<E;++A){const P=A*b+y;if(d==="quaternion")qs.multiplyQuaternionsFlat(h.values,P,_,0,h.values,P);else{const N=b-y*2;for(let L=0;L<N;++L)h.values[P+L]-=_[L]}}}return n.blendMode=KC,n}class kV{static convertArray(e,t){return Zh(e,t)}static isTypedArray(e){return GP(e)}static getKeyframeOrder(e){return qP(e)}static sortedArray(e,t,i){return NE(e,t,i)}static flattenJSON(e,t,i,s){xM(e,t,i,s)}static subclip(e,t,i,s,a=30){return IV(e,t,i,s,a)}static makeClipAdditive(e,t=0,i=e,s=30){return UV(e,t,i,s)}}class Ym{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<s)){for(let c=i+2;;){if(s===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(a=s,s=t[++i],e<s)break t}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(i=2,a=c);for(let d=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(s=a,a=t[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const c=i+o>>>1;e<t[c]?o=c:i=c+1}if(s=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,s)}return this.interpolate_(i,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=e*s;for(let o=0;o!==s;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class WP extends Ym{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Jh,endingEnd:Jh}}intervalChanged_(e,t,i){const s=this.parameterPositions;let a=e-2,o=e+1,c=s[a],d=s[o];if(c===void 0)switch(this.getSettings_().endingStart){case Qh:a=e,c=2*t-i;break;case Ax:a=s.length-2,c=t+s[a]-s[a+1];break;default:a=e,c=i}if(d===void 0)switch(this.getSettings_().endingEnd){case Qh:o=e,d=2*i-t;break;case Ax:o=1,d=i+s[1]-s[0];break;default:o=e-1,d=t}const h=(i-t)*.5,m=this.valueSize;this._weightPrev=h/(t-c),this._weightNext=h/(d-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=e*c,h=d-c,m=this._offsetPrev,x=this._offsetNext,y=this._weightPrev,b=this._weightNext,S=(i-t)/(s-t),_=S*S,E=_*S,A=-y*E+2*y*_-y*S,P=(1+y)*E+(-1.5-2*y)*_+(-.5+y)*S+1,N=(-1-b)*E+(1.5+b)*_+.5*S,L=b*E-b*_;for(let j=0;j!==c;++j)a[j]=A*o[m+j]+P*o[h+j]+N*o[d+j]+L*o[x+j];return a}}class yM extends Ym{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=e*c,h=d-c,m=(i-t)/(s-t),x=1-m;for(let y=0;y!==c;++y)a[y]=o[h+y]*x+o[d+y]*m;return a}}class XP extends Ym{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Co{constructor(e,t,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zh(t,this.TimeBufferType),this.values=Zh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Zh(e.times,Array),values:Zh(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new XP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new yM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new WP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Mm:t=this.InterpolantFactoryMethodDiscrete;break;case Tm:t=this.InterpolantFactoryMethodLinear;break;case f1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Mm;case this.InterpolantFactoryMethodLinear:return Tm;case this.InterpolantFactoryMethodSmooth:return f1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let a=0,o=s-1;for(;a!==s&&i[a]<e;)++a;for(;o!==-1&&i[o]>t;)--o;if(++o,a!==0||o!==s){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const d=i[c];if(typeof d=="number"&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,d),e=!1;break}if(o!==null&&o>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,d,o),e=!1;break}o=d}if(s!==void 0&&GP(s))for(let c=0,d=s.length;c!==d;++c){const h=s[c];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===f1,a=e.length-1;let o=1;for(let c=1;c<a;++c){let d=!1;const h=e[c],m=e[c+1];if(h!==m&&(c!==1||h!==e[0]))if(s)d=!0;else{const x=c*i,y=x-i,b=x+i;for(let S=0;S!==i;++S){const _=t[x+S];if(_!==t[y+S]||_!==t[b+S]){d=!0;break}}}if(d){if(c!==o){e[o]=e[c];const x=c*i,y=o*i;for(let b=0;b!==i;++b)t[y+b]=t[x+b]}++o}}if(a>0){e[o]=e[a];for(let c=a*i,d=o*i,h=0;h!==i;++h)t[d+h]=t[c+h];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,s=new i(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Co.prototype.ValueTypeName="";Co.prototype.TimeBufferType=Float32Array;Co.prototype.ValueBufferType=Float32Array;Co.prototype.DefaultInterpolation=Tm;class Tf extends Co{constructor(e,t,i){super(e,t,i)}}Tf.prototype.ValueTypeName="bool";Tf.prototype.ValueBufferType=Array;Tf.prototype.DefaultInterpolation=Mm;Tf.prototype.InterpolantFactoryMethodLinear=void 0;Tf.prototype.InterpolantFactoryMethodSmooth=void 0;class vM extends Co{constructor(e,t,i,s){super(e,t,i,s)}}vM.prototype.ValueTypeName="color";class mf extends Co{constructor(e,t,i,s){super(e,t,i,s)}}mf.prototype.ValueTypeName="number";class YP extends Ym{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=(i-t)/(s-t);let h=e*c;for(let m=h+c;h!==m;h+=4)qs.slerpFlat(a,0,o,h-c,o,h,d);return a}}class gf extends Co{constructor(e,t,i,s){super(e,t,i,s)}InterpolantFactoryMethodLinear(e){return new YP(this.times,this.values,this.getValueSize(),e)}}gf.prototype.ValueTypeName="quaternion";gf.prototype.InterpolantFactoryMethodSmooth=void 0;class Nf extends Co{constructor(e,t,i){super(e,t,i)}}Nf.prototype.ValueTypeName="string";Nf.prototype.ValueBufferType=Array;Nf.prototype.DefaultInterpolation=Mm;Nf.prototype.InterpolantFactoryMethodLinear=void 0;Nf.prototype.InterpolantFactoryMethodSmooth=void 0;class xf extends Co{constructor(e,t,i,s){super(e,t,i,s)}}xf.prototype.ValueTypeName="vector";class Om{constructor(e="",t=-1,i=[],s=x2){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=Fa(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let o=0,c=i.length;o!==c;++o)t.push(zV(i[o]).scale(s));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=i.length;a!==o;++a)t.push(Co.toJSON(i[a]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const a=t.length,o=[];for(let c=0;c<a;c++){let d=[],h=[];d.push((c+a-1)%a,c,(c+1)%a),h.push(0,1,0);const m=qP(d);d=NE(d,1,m),h=NE(h,1,m),!s&&d[0]===0&&(d.push(a),h.push(h[0])),o.push(new mf(".morphTargetInfluences["+t[c].name+"]",d,h).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,d=e.length;c<d;c++){const h=e[c],m=h.name.match(a);if(m&&m.length>1){const x=m[1];let y=s[x];y||(s[x]=y=[]),y.push(h)}}const o=[];for(const c in s)o.push(this.CreateFromMorphTargetSequence(c,s[c],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(x,y,b,S,_){if(b.length!==0){const E=[],A=[];xM(b,E,A,S),E.length!==0&&_.push(new x(y,E,A))}},s=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let d=e.length||-1;const h=e.hierarchy||[];for(let x=0;x<h.length;x++){const y=h[x].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let S;for(S=0;S<y.length;S++)if(y[S].morphTargets)for(let _=0;_<y[S].morphTargets.length;_++)b[y[S].morphTargets[_]]=-1;for(const _ in b){const E=[],A=[];for(let P=0;P!==y[S].morphTargets.length;++P){const N=y[S];E.push(N.time),A.push(N.morphTarget===_?1:0)}s.push(new mf(".morphTargetInfluence["+_+"]",E,A))}d=b.length*o}else{const b=".bones["+t[x].name+"]";i(xf,b+".position",y,"pos",s),i(gf,b+".quaternion",y,"rot",s),i(xf,b+".scale",y,"scl",s)}}return s.length===0?null:new this(a,d,s,c)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,s=e.length;i!==s;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function FV(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mf;case"vector":case"vector2":case"vector3":case"vector4":return xf;case"color":return vM;case"quaternion":return gf;case"bool":case"boolean":return Tf;case"string":return Nf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function zV(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=FV(n.type);if(n.times===void 0){const t=[],i=[];xM(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ql={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class bM{constructor(e,t,i){const s=this;let a=!1,o=0,c=0,d;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.abortController=new AbortController,this.itemStart=function(m){c++,a===!1&&s.onStart!==void 0&&s.onStart(m,o,c),a=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,c),o===c&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,x){return h.push(m,x),this},this.removeHandler=function(m){const x=h.indexOf(m);return x!==-1&&h.splice(x,2),this},this.getHandler=function(m){for(let x=0,y=h.length;x<y;x+=2){const b=h[x],S=h[x+1];if(b.global&&(b.lastIndex=0),b.test(m))return S}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const KP=new bM;let Mr=class{constructor(e){this.manager=e!==void 0?e:KP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(s,a){i.load(e,s,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};Mr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fc={};class HV extends Error{constructor(e,t){super(e),this.response=t}}class Ha extends Mr{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ql.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Fc[e]!==void 0){Fc[e].push({onLoad:t,onProgress:i,onError:s});return}Fc[e]=[],Fc[e].push({onLoad:t,onProgress:i,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,d=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=Fc[e],x=h.body.getReader(),y=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),b=y?parseInt(y):0,S=b!==0;let _=0;const E=new ReadableStream({start(A){P();function P(){x.read().then(({done:N,value:L})=>{if(N)A.close();else{_+=L.byteLength;const j=new ProgressEvent("progress",{lengthComputable:S,loaded:_,total:b});for(let R=0,k=m.length;R<k;R++){const F=m[R];F.onProgress&&F.onProgress(j)}A.enqueue(L),P()}},N=>{A.error(N)})}}});return new Response(E)}else throw new HV(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(d){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return h.json();default:if(c==="")return h.text();{const x=/charset="?([^;"\s]*)"?/i.exec(c),y=x&&x[1]?x[1].toLowerCase():void 0,b=new TextDecoder(y);return h.arrayBuffer().then(S=>b.decode(S))}}}).then(h=>{Ql.add(`file:${e}`,h);const m=Fc[e];delete Fc[e];for(let x=0,y=m.length;x<y;x++){const b=m[x];b.onLoad&&b.onLoad(h)}}).catch(h=>{const m=Fc[e];if(m===void 0)throw this.manager.itemError(e),h;delete Fc[e];for(let x=0,y=m.length;x<y;x++){const b=m[x];b.onError&&b.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class VV extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=this,o=new Ha(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),a.manager.itemError(e)}},i,s)}parse(e){const t=[];for(let i=0;i<e.length;i++){const s=Om.parse(e[i]);t.push(s)}return t}}class GV extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=this,o=[],c=new C2,d=new Ha(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(a.withCredentials);let h=0;function m(x){d.load(e[x],function(y){const b=a.parse(y,!0);o[x]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},h+=1,h===6&&(b.mipmapCount===1&&(c.minFilter=cs),c.image=o,c.format=b.format,c.needsUpdate=!0,t&&t(c))},i,s)}if(Array.isArray(e))for(let x=0,y=e.length;x<y;++x)m(x);else d.load(e,function(x){const y=a.parse(x,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let S=0;S<b;S++){o[S]={mipmaps:[]};for(let _=0;_<y.mipmapCount;_++)o[S].mipmaps.push(y.mipmaps[S*y.mipmapCount+_]),o[S].format=y.format,o[S].width=y.width,o[S].height=y.height}c.image=o}else c.image.width=y.width,c.image.height=y.height,c.mipmaps=y.mipmaps;y.mipmapCount===1&&(c.minFilter=cs),c.format=y.format,c.needsUpdate=!0,t&&t(c)},i,s);return c}}const Jp=new WeakMap;class jx extends Mr{constructor(e){super(e)}load(e,t,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Ql.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let x=Jp.get(o);x===void 0&&(x=[],Jp.set(o,x)),x.push({onLoad:t,onError:s})}return o}const c=Cx("img");function d(){m(),t&&t(this);const x=Jp.get(this)||[];for(let y=0;y<x.length;y++){const b=x[y];b.onLoad&&b.onLoad(this)}Jp.delete(this),a.manager.itemEnd(e)}function h(x){m(),s&&s(x),Ql.remove(`image:${e}`);const y=Jp.get(this)||[];for(let b=0;b<y.length;b++){const S=y[b];S.onError&&S.onError(x)}Jp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){c.removeEventListener("load",d,!1),c.removeEventListener("error",h,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),Ql.add(`image:${e}`,c),a.manager.itemStart(e),c.src=e,c}}class qV extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=new Jx;a.colorSpace=br;const o=new jx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function d(h){o.load(e[h],function(m){a.images[h]=m,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,s)}for(let h=0;h<e.length;++h)d(h);return a}}class WV extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=this,o=new ec,c=new Ha(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(d){let h;try{h=a.parse(d)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:Ia,o.wrapT=h.wrapT!==void 0?h.wrapT:Ia,o.magFilter=h.magFilter!==void 0?h.magFilter:cs,o.minFilter=h.minFilter!==void 0?h.minFilter:cs,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=vo),h.mipmapCount===1&&(o.minFilter=cs),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,t&&t(o,h)},i,s),o}}class JP extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=new ki,o=new jx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},i,s),a}}class Cd extends Xn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Nt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class QP extends Cd{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Xn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Nt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const YA=new an,N3=new ae,j3=new ae;class wM{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new st(512,512),this.mapType=So,this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wm,this._frameExtents=new st(1,1),this._viewportCount=1,this._viewports=[new $n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;N3.setFromMatrixPosition(e.matrixWorld),t.position.copy(N3),j3.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(j3),t.updateMatrixWorld(),YA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(YA,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(YA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class XV extends wM{constructor(){super(new Zi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=jm*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||s!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=s,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SM extends Cd{constructor(e,t,i=0,s=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Xn.DEFAULT_UP),this.updateMatrix(),this.target=new Xn,this.distance=i,this.angle=s,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new XV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const R3=new an,U0=new ae,KA=new ae;class YV extends wM{constructor(){super(new Zi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new st(4,2),this._viewportCount=6,this._viewports=[new $n(2,1,1,1),new $n(0,1,1,1),new $n(3,1,1,1),new $n(1,1,1,1),new $n(3,0,1,1),new $n(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,s=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),U0.setFromMatrixPosition(e.matrixWorld),i.position.copy(U0),KA.copy(i.position),KA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(KA),i.updateMatrixWorld(),s.makeTranslation(-U0.x,-U0.y,-U0.z),R3.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R3,i.coordinateSystem,i.reversedDepth)}}class AM extends Cd{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new YV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Yc extends b2{constructor(e=-1,t=1,i=1,s=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=i-e,o=i+e,c=s+t,d=s-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=h*this.view.offsetX,o=a+h*this.view.width,c-=m*this.view.offsetY,d=c-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class KV extends wM{constructor(){super(new Yc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _M extends Cd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Xn.DEFAULT_UP),this.updateMatrix(),this.target=new Xn,this.shadow=new KV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ZP extends Cd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class $P extends Cd{constructor(e,t,i=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class eL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ae)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,s=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*s),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*s)),t.addScaledVector(o[5],1.092548*(s*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(i*a)),t.addScaledVector(o[8],.546274*(i*i-s*s)),t}getIrradianceAt(e,t){const i=e.x,s=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*s),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*s),t.addScaledVector(o[5],2*.429043*s*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*i*a),t.addScaledVector(o[8],.429043*(i*i-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const i=e.x,s=e.y,a=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*s,t[5]=1.092548*s*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-s*s)}}class tL extends Cd{constructor(e=new eL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class F2 extends Mr{constructor(e){super(e),this.textures={}}load(e,t,i,s){const a=this,o=new Ha(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),a.manager.itemError(e)}},i,s)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Nt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(s.uniforms[a]={},o.type){case"t":s.uniforms[a].value=i(o.value);break;case"c":s.uniforms[a].value=new Nt().setHex(o.value);break;case"v2":s.uniforms[a].value=new st().fromArray(o.value);break;case"v3":s.uniforms[a].value=new ae().fromArray(o.value);break;case"v4":s.uniforms[a].value=new $n().fromArray(o.value);break;case"m3":s.uniforms[a].value=new _n().fromArray(o.value);break;case"m4":s.uniforms[a].value=new an().fromArray(o.value);break;default:s.uniforms[a].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new st().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new st().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return F2.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:LP,SpriteMaterial:iM,RawShaderMaterial:IP,ShaderMaterial:ll,PointsMaterial:E2,MeshPhysicalMaterial:Eo,MeshStandardMaterial:iy,MeshPhongMaterial:UP,MeshToonMaterial:kP,MeshNormalMaterial:FP,MeshLambertMaterial:zP,MeshDepthMaterial:mM,MeshDistanceMaterial:gM,MeshBasicMaterial:ka,MeshMatcapMaterial:HP,LineDashedMaterial:VP,LineBasicMaterial:Cr,Material:Os};return new t[e]}}class fd{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class nL extends Sn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class iL extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=this,o=new Ha(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){s?s(d):console.error(d),a.manager.itemError(e)}},i,s)}parse(e){const t={},i={};function s(b,S){if(t[S]!==void 0)return t[S];const E=b.interleavedBuffers[S],A=a(b,E.buffer),P=rm(E.type,A),N=new Qx(P,E.stride);return N.uuid=E.uuid,t[S]=N,N}function a(b,S){if(i[S]!==void 0)return i[S];const E=b.arrayBuffers[S],A=new Uint32Array(E).buffer;return i[S]=A,A}const o=e.isInstancedBufferGeometry?new nL:new Sn,c=e.data.index;if(c!==void 0){const b=rm(c.type,c.array);o.setIndex(new ei(b,1))}const d=e.data.attributes;for(const b in d){const S=d[b];let _;if(S.isInterleavedBufferAttribute){const E=s(e.data,S.data);_=new vd(E,S.itemSize,S.offset,S.normalized)}else{const E=rm(S.type,S.array),A=S.isInstancedBufferAttribute?ff:ei;_=new A(E,S.itemSize,S.normalized)}S.name!==void 0&&(_.name=S.name),S.usage!==void 0&&_.setUsage(S.usage),o.setAttribute(b,_)}const h=e.data.morphAttributes;if(h)for(const b in h){const S=h[b],_=[];for(let E=0,A=S.length;E<A;E++){const P=S[E];let N;if(P.isInterleavedBufferAttribute){const L=s(e.data,P.data);N=new vd(L,P.itemSize,P.offset,P.normalized)}else{const L=rm(P.type,P.array);N=new ei(L,P.itemSize,P.normalized)}P.name!==void 0&&(N.name=P.name),_.push(N)}o.morphAttributes[b]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const x=e.data.groups||e.data.drawcalls||e.data.offsets;if(x!==void 0)for(let b=0,S=x.length;b!==S;++b){const _=x[b];o.addGroup(_.start,_.count,_.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new Ws().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class JV extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=this,o=this.path===""?fd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new Ha(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){let h=null;try{h=JSON.parse(d)}catch(x){s!==void 0&&s(x),console.error("THREE:ObjectLoader: Can't parse "+e+".",x.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(h,t)},i,s)}async loadAsync(e,t){const i=this,s=this.path===""?fd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Ha(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),c=JSON.parse(o),d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(c)}parse(e,t){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){t!==void 0&&t(h)}),c=this.parseTextures(e.textures,o),d=this.parseMaterials(e.materials,c),h=this.parseObject(e.object,a,d,c,i),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let x=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){x=!0;break}x===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),d=this.parseObject(e.object,s,c,o,t),h=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,h),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const a=new of().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},s={};if(t.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=new Zx().fromJSON(e[a],s);i[c.uuid]=c}return i}parseGeometries(e,t){const i={};if(e!==void 0){const s=new iL;for(let a=0,o=e.length;a<o;a++){let c;const d=e[a];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(d);break;default:d.type in T3?c=T3[d.type].fromJSON(d,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${d.type}"`)}c.uuid=d.uuid,d.name!==void 0&&(c.name=d.name),d.userData!==void 0&&(c.userData=d.userData),i[d.uuid]=c}}return i}parseMaterials(e,t){const i={},s={};if(e!==void 0){const a=new F2;a.setTextures(t);for(let o=0,c=e.length;o<c;o++){const d=e[o];i[d.uuid]===void 0&&(i[d.uuid]=a.parse(d)),s[d.uuid]=i[d.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],a=Om.parse(s);t[a.uuid]=a}return t}parseImages(e,t){const i=this,s={};let a;function o(d){return i.manager.itemStart(d),a.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function c(d){if(typeof d=="string"){const h=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(m)}else return d.data?{data:rm(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new bM(t);a=new jx(d),a.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const x=e[h],y=x.url;if(Array.isArray(y)){const b=[];for(let S=0,_=y.length;S<_;S++){const E=y[S],A=c(E);A!==null&&(A instanceof HTMLImageElement?b.push(A):b.push(new ec(A.data,A.width,A.height)))}s[x.uuid]=new ud(b)}else{const b=c(x.url);s[x.uuid]=new ud(b)}}}return s}async parseImagesAsync(e){const t=this,i={};let s;async function a(o){if(typeof o=="string"){const c=o,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await s.loadAsync(d)}else return o.data?{data:rm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new jx(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const d=e[o],h=d.url;if(Array.isArray(h)){const m=[];for(let x=0,y=h.length;x<y;x++){const b=h[x],S=await a(b);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new ec(S.data,S.width,S.height)))}i[d.uuid]=new ud(m)}else{const m=await a(d.url);i[d.uuid]=new ud(m)}}}return i}parseTextures(e,t){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const s={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const d=t[c.image],h=d.data;let m;Array.isArray(h)?(m=new Jx,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new ec:m=new ki,h&&(m.needsUpdate=!0)),m.source=d,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,QV)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],B3),m.wrapT=i(c.wrap[1],B3)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,D3)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,D3)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(e,t,i,s,a){let o;function c(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let S=0,_=y.length;S<_;S++){const E=y[S];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),b.push(i[E])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function h(y){return s[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),s[y]}let m,x;switch(e.type){case"Scene":o=new nM,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Nt(e.background):o.background=h(e.background)),e.environment!==void 0&&(o.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new S2(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new w2(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Zi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Yc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new ZP(e.color,e.intensity);break;case"DirectionalLight":o=new _M(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new AM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new $P(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new SM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new QP(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new tL().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),x=d(e.material),o=new sM(m,x),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),x=d(e.material),o=new us(m,x);break;case"InstancedMesh":m=c(e.geometry),x=d(e.material);const y=e.count,b=e.instanceMatrix,S=e.instanceColor;o=new rM(m,x,y),o.instanceMatrix=new ff(new Float32Array(b.array),16),S!==void 0&&(o.instanceColor=new ff(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=c(e.geometry),x=d(e.material),o=new AP(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,x),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(_=>{let E=null,A=null;return _.boundingBox!==void 0&&(E=new ar().fromJSON(_.boundingBox)),_.boundingSphere!==void 0&&(A=new Ws().fromJSON(_.boundingSphere)),{..._,boundingBox:E,boundingSphere:A}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=h(e.matricesTexture.uuid),o._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Ws().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ar().fromJSON(e.boundingBox));break;case"LOD":o=new SP;break;case"Line":o=new eu(c(e.geometry),d(e.material));break;case"LineLoop":o=new aM(c(e.geometry),d(e.material));break;case"LineSegments":o=new dl(c(e.geometry),d(e.material));break;case"PointCloud":case"Points":o=new oM(c(e.geometry),d(e.material));break;case"Sprite":o=new wP(d(e.material));break;case"Group":o=new qc;break;case"Bone":o=new A2;break;default:o=new Xn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],t,i,s,a))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const S=y[b];o.animations.push(a[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const S=y[b],_=o.getObjectByProperty("uuid",S.object);_!==void 0&&o.addLevel(_,S.distance,S.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=t[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,s=e.getObjectByProperty("uuid",i);s!==void 0?t.target=s:t.target=new Xn}})}}const QV={UVMapping:c2,CubeReflectionMapping:Zc,CubeRefractionMapping:gd,EquirectangularReflectionMapping:wx,EquirectangularRefractionMapping:Sx,CubeUVReflectionMapping:Gm},B3={RepeatWrapping:xd,ClampToEdgeWrapping:Ia,MirroredRepeatWrapping:Sm},D3={NearestFilter:Gs,NearestMipmapNearestFilter:u2,NearestMipmapLinearFilter:Kh,LinearFilter:cs,LinearMipmapNearestFilter:fm,LinearMipmapLinearFilter:vo},JA=new WeakMap;class sL extends Mr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Ql.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(h=>{if(JA.has(o)===!0)s&&s(JA.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(h),a.manager.itemEnd(e),h});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,c).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(h){return Ql.add(`image-bitmap:${e}`,h),t&&t(h),a.manager.itemEnd(e),h}).catch(function(h){s&&s(h),JA.set(d,h),Ql.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Ql.add(`image-bitmap:${e}`,d),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Bb;class EM{static getContext(){return Bb===void 0&&(Bb=new(window.AudioContext||window.webkitAudioContext)),Bb}static setContext(e){Bb=e}}class ZV extends Mr{constructor(e){super(e)}load(e,t,i,s){const a=this,o=new Ha(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(d){try{const h=d.slice(0);EM.getContext().decodeAudioData(h,function(x){t(x)}).catch(c)}catch(h){c(h)}},i,s);function c(d){s?s(d):console.error(d),a.manager.itemError(e)}}}const O3=new an,P3=new an,Mh=new an;class $V{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Zi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Zi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Mh.copy(e.projectionMatrix);const s=t.eyeSep/2,a=s*t.near/t.focus,o=t.near*Math.tan(af*t.fov*.5)/t.zoom;let c,d;P3.elements[12]=-s,O3.elements[12]=s,c=-o*t.aspect+a,d=o*t.aspect+a,Mh.elements[0]=2*t.near/(d-c),Mh.elements[8]=(d+c)/(d-c),this.cameraL.projectionMatrix.copy(Mh),c=-o*t.aspect-a,d=o*t.aspect-a,Mh.elements[0]=2*t.near/(d-c),Mh.elements[8]=(d+c)/(d-c),this.cameraR.projectionMatrix.copy(Mh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(P3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(O3)}}class rL extends Zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}let CM=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};const Th=new ae,QA=new qs,eG=new ae,Nh=new ae,jh=new ae;class tG extends Xn{constructor(){super(),this.type="AudioListener",this.context=EM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new CM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Th,QA,eG),Nh.set(0,0,-1).applyQuaternion(QA),jh.set(0,1,0).applyQuaternion(QA),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Th.x,i),t.positionY.linearRampToValueAtTime(Th.y,i),t.positionZ.linearRampToValueAtTime(Th.z,i),t.forwardX.linearRampToValueAtTime(Nh.x,i),t.forwardY.linearRampToValueAtTime(Nh.y,i),t.forwardZ.linearRampToValueAtTime(Nh.z,i),t.upX.linearRampToValueAtTime(jh.x,i),t.upY.linearRampToValueAtTime(jh.y,i),t.upZ.linearRampToValueAtTime(jh.z,i)}else t.setPosition(Th.x,Th.y,Th.z),t.setOrientation(Nh.x,Nh.y,Nh.z,jh.x,jh.y,jh.z)}}class aL extends Xn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Rh=new ae,L3=new qs,nG=new ae,Bh=new ae;class iG extends aL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rh,L3,nG),Bh.set(0,0,1).applyQuaternion(L3);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rh.x,i),t.positionY.linearRampToValueAtTime(Rh.y,i),t.positionZ.linearRampToValueAtTime(Rh.z,i),t.orientationX.linearRampToValueAtTime(Bh.x,i),t.orientationY.linearRampToValueAtTime(Bh.y,i),t.orientationZ.linearRampToValueAtTime(Bh.z,i)}else t.setPosition(Rh.x,Rh.y,Rh.z),t.setOrientation(Bh.x,Bh.y,Bh.z)}}class sG{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class oL{constructor(e,t,i){this.binding=e,this.valueSize=i;let s,a,o;switch(t){case"quaternion":s=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,s=this.valueSize,a=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==s;++c)i[a+c]=i[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(i,a,0,c,s)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,s=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const d=t*this._origIndex;this._mixBufferRegion(i,s,d,1-a,t)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*t,1,t);for(let d=t,h=t+t;d!==h;++d)if(i[d]!==i[d+t]){c.setValue(i,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(t,s);for(let a=i,o=s;a!==o;++a)t[a]=t[s+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,s,a){if(s>=.5)for(let o=0;o!==a;++o)e[t+o]=e[i+o]}_slerp(e,t,i,s){qs.slerpFlat(e,t,e,t,e,i,s)}_slerpAdditive(e,t,i,s,a){const o=this._workIndex*a;qs.multiplyQuaternionsFlat(e,o,e,t,e,i),qs.slerpFlat(e,t,e,t,e,o,s)}_lerp(e,t,i,s,a){const o=1-s;for(let c=0;c!==a;++c){const d=t+c;e[d]=e[d]*o+e[i+c]*s}}_lerpAdditive(e,t,i,s,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[i+o]*s}}}const MM="\\[\\]\\.:\\/",rG=new RegExp("["+MM+"]","g"),TM="[^"+MM+"]",aG="[^"+MM.replace("\\.","")+"]",oG=/((?:WC+[\/:])*)/.source.replace("WC",TM),lG=/(WCOD+)?/.source.replace("WCOD",aG),cG=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TM),uG=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TM),dG=new RegExp("^"+oG+lG+cG+uG+"$"),hG=["material","materials","bones","map"];class fG{constructor(e,t,i){const s=i||Qn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=i.length;s!==a;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Qn{constructor(e,t,i){this.path=t,this.parsedPath=i||Qn.parseTrackName(t),this.node=Qn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Qn.Composite(e,t,i):new Qn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(rG,"")}static parseTrackName(e){const t=dG.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=i.nodeName.substring(s+1);hG.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const d=i(c.children);if(d)return d}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)e[t++]=i[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,s=t.propertyName;let a=t.propertyIndex;if(e||(e=Qn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[s];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+s+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}d=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(d=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qn.Composite=fG;Qn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Qn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Qn.prototype.GetterByBindingType=[Qn.prototype._getValue_direct,Qn.prototype._getValue_array,Qn.prototype._getValue_arrayElement,Qn.prototype._getValue_toArray];Qn.prototype.SetterByBindingTypeAndVersioning=[[Qn.prototype._setValue_direct,Qn.prototype._setValue_direct_setNeedsUpdate,Qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qn.prototype._setValue_array,Qn.prototype._setValue_array_setNeedsUpdate,Qn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qn.prototype._setValue_arrayElement,Qn.prototype._setValue_arrayElement_setNeedsUpdate,Qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qn.prototype._setValue_fromArray,Qn.prototype._setValue_fromArray_setNeedsUpdate,Qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class pG{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length;let c,d=e.length,h=this.nCachedObjects_;for(let m=0,x=arguments.length;m!==x;++m){const y=arguments[m],b=y.uuid;let S=t[b];if(S===void 0){S=d++,t[b]=S,e.push(y);for(let _=0,E=o;_!==E;++_)a[_].push(new Qn(y,i[_],s[_]))}else if(S<h){c=e[S];const _=--h,E=e[_];t[E.uuid]=S,e[S]=E,t[b]=_,e[_]=y;for(let A=0,P=o;A!==P;++A){const N=a[A],L=N[_];let j=N[S];N[S]=L,j===void 0&&(j=new Qn(y,i[A],s[A])),N[_]=j}}else e[S]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const d=arguments[o],h=d.uuid,m=t[h];if(m!==void 0&&m>=a){const x=a++,y=e[x];t[y.uuid]=m,e[m]=y,t[h]=x,e[x]=d;for(let b=0,S=s;b!==S;++b){const _=i[b],E=_[x],A=_[m];_[m]=E,_[x]=A}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,d=arguments.length;c!==d;++c){const h=arguments[c],m=h.uuid,x=t[m];if(x!==void 0)if(delete t[m],x<a){const y=--a,b=e[y],S=--o,_=e[S];t[b.uuid]=x,e[x]=b,t[_.uuid]=y,e[y]=_,e.pop();for(let E=0,A=s;E!==A;++E){const P=i[E],N=P[y],L=P[S];P[x]=N,P[y]=L,P.pop()}}else{const y=--o,b=e[y];y>0&&(t[b.uuid]=x),e[x]=b,e.pop();for(let S=0,_=s;S!==_;++S){const E=i[S];E[x]=E[y],E.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let s=i[e];const a=this._bindings;if(s!==void 0)return a[s];const o=this._paths,c=this._parsedPaths,d=this._objects,h=d.length,m=this.nCachedObjects_,x=new Array(h);s=a.length,i[e]=s,o.push(e),c.push(t),a.push(x);for(let y=m,b=d.length;y!==b;++y){const S=d[y];x[y]=new Qn(S,e,t)}return x}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const s=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,d=o[c],h=e[c];t[h]=i,o[i]=d,o.pop(),a[i]=a[c],a.pop(),s[i]=s[c],s.pop()}}}class lL{constructor(e,t,i=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=s;const a=t.tracks,o=a.length,c=new Array(o),d={endingStart:Jh,endingEnd:Jh};for(let h=0;h!==o;++h){const m=a[h].createInterpolant(null);c[h]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ZO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const s=this._clip.duration,a=e._clip.duration,o=a/s,c=s/a;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const s=this._mixer,a=s.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,h=c.sampleValues;return d[0]=a,d[1]=a+i,h[0]=e/o,h[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const d=(e-a)*i;d<0||i===0?t=0:(this._startTime=null,t=i*d)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const d=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case KC:for(let m=0,x=d.length;m!==x;++m)d[m].evaluate(o),h[m].accumulateAdditive(c);break;case x2:default:for(let m=0,x=d.length;m!==x;++m)d[m].evaluate(o),h[m].accumulate(s,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let s=this.time+e,a=this._loopCount;const o=i===$O;if(e===0)return a===-1?s:o&&(a&1)===1?t-s:s;if(i===QO){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=t||s<0){const c=Math.floor(s/t);s-=t*c,a+=Math.abs(c);const d=this.repetitions-a;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(o&&(a&1)===1)return t-s}return s}_setEndings(e,t,i){const s=this._interpolantSettings;i?(s.endingStart=Qh,s.endingEnd=Qh):(e?s.endingStart=this.zeroSlopeAtStart?Qh:Jh:s.endingStart=Ax,t?s.endingEnd=this.zeroSlopeAtEnd?Qh:Jh:s.endingEnd=Ax)}_scheduleFading(e,t,i){const s=this._mixer,a=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,d=o.sampleValues;return c[0]=a,d[0]=t,c[1]=a+e,d[1]=i,this}}const mG=new Float32Array(1);class gG extends lc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,s=e._clip.tracks,a=s.length,o=e._propertyBindings,c=e._interpolants,d=i.uuid,h=this._bindingsByRootAndName;let m=h[d];m===void 0&&(m={},h[d]=m);for(let x=0;x!==a;++x){const y=s[x],b=y.name;let S=m[b];if(S!==void 0)++S.referenceCount,o[x]=S;else{if(S=o[x],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,d,b));continue}const _=t&&t._propertyBindings[x].binding.parsedPath;S=new oL(Qn.create(i,b,_),y.ValueTypeName,y.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,d,b),o[x]=S}c[x].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,i)}const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const s=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],s=e._cacheIndex;i._cacheIndex=s,t[s]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],d=c.knownActions,h=d[d.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,d[m]=h,d.pop(),e._byClipCacheIndex=null;const x=c.actionByRoot,y=(e._localRoot||this._root).uuid;delete x[y],d.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,s=this._nActiveActions++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,s=--this._nActiveActions,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const s=this._bindingsByRootAndName,a=this._bindings;let o=s[t];o===void 0&&(o={},s[t]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,s=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,c=o[s],d=t[t.length-1],h=e._cacheIndex;d._cacheIndex=h,t[h]=d,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[s]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new yM(new Float32Array(2),new Float32Array(2),1,mG),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=t[s];e.__cacheIndex=s,t[s]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const s=t||this._root,a=s.uuid;let o=typeof e=="string"?Om.findByName(s,e):e;const c=o!==null?o.uuid:e,d=this._actionsByClip[c];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=x2),d!==void 0){const x=d.actionByRoot[a];if(x!==void 0&&x.blendMode===i)return x;h=d.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const m=new lL(this,o,t,i);return this._bindAction(m,h),this._addInactiveAction(m,c,a),m}existingAction(e,t){const i=t||this._root,s=i.uuid,a=typeof e=="string"?Om.findByName(i,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,s=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(s,e,a,o);const c=this._bindings,d=this._nActiveBindings;for(let h=0;h!==d;++h)c[h].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,s=this._actionsByClip,a=s[i];if(a!==void 0){const o=a.knownActions;for(let c=0,d=o.length;c!==d;++c){const h=o[c];this._deactivateAction(h);const m=h._cacheIndex,x=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,x._cacheIndex=m,t[m]=x,t.pop(),this._removeInactiveBindingsForAction(h)}delete s[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,d=c[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const s=this._bindingsByRootAndName,a=s[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class xG extends $C{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new v2(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class NM{constructor(e){this.value=e}clone(){return new NM(this.value.clone===void 0?this.value:this.value.clone())}}let yG=0;class vG extends lc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:yG++}),this.name="",this.usage=Ex,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,s=t.length;i<s;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class bG extends Qx{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class wG{constructor(e,t,i,s,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=s,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const I3=new an;class cL{constructor(e,t,i=0,s=1/0){this.ray=new Cf(e,t),this.near=i,this.far=s,this.camera=null,this.layers=new Rm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return I3.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(I3),this}intersectObject(e,t=!0,i=[]){return jE(e,this,i,t),i.sort(U3),i}intersectObjects(e,t=!0,i=[]){for(let s=0,a=e.length;s<a;s++)jE(e[s],this,i,t);return i.sort(U3),i}}function U3(n,e){return n.distance-e.distance}function jE(n,e,t,i){let s=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(s=!1),s===!0&&i===!0){const a=n.children;for(let o=0,c=a.length;o<c;o++)jE(a[o],e,t,!0)}}let SG=class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=AG.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}};function AG(){this._document.hidden===!1&&this.reset()}class RE{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=dn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(dn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class _G{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class jM{constructor(e,t,i,s){jM.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,s){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=s,this}}const k3=new st;class EG{constructor(e=new st(1/0,1/0),t=new st(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=k3.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,k3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const F3=new ae,Db=new ae,Qp=new ae,Zp=new ae,ZA=new ae,CG=new ae,MG=new ae;class TG{constructor(e=new ae,t=new ae){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){F3.subVectors(e,this.start),Db.subVectors(this.end,this.start);const i=Db.dot(Db);let a=Db.dot(F3)/i;return t&&(a=dn(a,0,1)),a}closestPointToPoint(e,t,i){const s=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(s).add(this.start)}distanceSqToLine3(e,t=CG,i=MG){const s=10000000000000001e-32;let a,o;const c=this.start,d=e.start,h=this.end,m=e.end;Qp.subVectors(h,c),Zp.subVectors(m,d),ZA.subVectors(c,d);const x=Qp.dot(Qp),y=Zp.dot(Zp),b=Zp.dot(ZA);if(x<=s&&y<=s)return t.copy(c),i.copy(d),t.sub(i),t.dot(t);if(x<=s)a=0,o=b/y,o=dn(o,0,1);else{const S=Qp.dot(ZA);if(y<=s)o=0,a=dn(-S/x,0,1);else{const _=Qp.dot(Zp),E=x*y-_*_;E!==0?a=dn((_*b-S*y)/E,0,1):a=0,o=(_*a+b)/y,o<0?(o=0,a=dn(-S/x,0,1)):o>1&&(o=1,a=dn((_-S)/x,0,1))}}return t.copy(c).add(Qp.multiplyScalar(a)),i.copy(d).add(Zp.multiplyScalar(o)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const z3=new ae;class NG extends Xn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Sn,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,d=32;o<d;o++,c++){const h=o/d*Math.PI*2,m=c/d*Math.PI*2;s.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Xt(s,3));const a=new Cr({fog:!1,toneMapped:!1});this.cone=new dl(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),z3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(z3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const td=new ae,Ob=new an,$A=new an;class jG extends dl{constructor(e){const t=uL(e),i=new Sn,s=[],a=[];for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Xt(s,3)),i.setAttribute("color",new Xt(a,3));const o=new Cr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new Nt(255),d=new Nt(65280);this.setColors(c,d)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,s=i.getAttribute("position");$A.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(Ob.multiplyMatrices($A,c.matrixWorld),td.setFromMatrixPosition(Ob),s.setXYZ(o,td.x,td.y,td.z),Ob.multiplyMatrices($A,c.parent.matrixWorld),td.setFromMatrixPosition(Ob),s.setXYZ(o+1,td.x,td.y,td.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const s=this.geometry.getAttribute("color");for(let a=0;a<s.count;a+=2)s.setXYZ(a,e.r,e.g,e.b),s.setXYZ(a+1,t.r,t.g,t.b);return s.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function uL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...uL(n.children[t]));return e}class RG extends us{constructor(e,t,i){const s=new ny(t,4,2),a=new ka({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const BG=new ae,H3=new Nt,V3=new Nt;class DG extends Xn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new ty(t);s.rotateY(Math.PI*.5),this.material=new ka({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),o=new Float32Array(a.count*3);s.setAttribute("color",new ei(o,3)),this.add(new us(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");H3.copy(this.light.color),V3.copy(this.light.groundColor);for(let i=0,s=t.count;i<s;i++){const a=i<s/2?H3:V3;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(BG.setFromMatrixPosition(this.light.matrixWorld).negate())}}class OG extends dl{constructor(e=10,t=10,i=4473924,s=8947848){i=new Nt(i),s=new Nt(s);const a=t/2,o=e/t,c=e/2,d=[],h=[];for(let y=0,b=0,S=-c;y<=t;y++,S+=o){d.push(-c,0,S,c,0,S),d.push(S,0,-c,S,0,c);const _=y===a?i:s;_.toArray(h,b),b+=3,_.toArray(h,b),b+=3,_.toArray(h,b),b+=3,_.toArray(h,b),b+=3}const m=new Sn;m.setAttribute("position",new Xt(d,3)),m.setAttribute("color",new Xt(h,3));const x=new Cr({vertexColors:!0,toneMapped:!1});super(m,x),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PG extends dl{constructor(e=10,t=16,i=8,s=64,a=4473924,o=8947848){a=new Nt(a),o=new Nt(o);const c=[],d=[];if(t>1)for(let x=0;x<t;x++){const y=x/t*(Math.PI*2),b=Math.sin(y)*e,S=Math.cos(y)*e;c.push(0,0,0),c.push(b,0,S);const _=x&1?a:o;d.push(_.r,_.g,_.b),d.push(_.r,_.g,_.b)}for(let x=0;x<i;x++){const y=x&1?a:o,b=e-e/i*x;for(let S=0;S<s;S++){let _=S/s*(Math.PI*2),E=Math.sin(_)*b,A=Math.cos(_)*b;c.push(E,0,A),d.push(y.r,y.g,y.b),_=(S+1)/s*(Math.PI*2),E=Math.sin(_)*b,A=Math.cos(_)*b,c.push(E,0,A),d.push(y.r,y.g,y.b)}}const h=new Sn;h.setAttribute("position",new Xt(c,3)),h.setAttribute("color",new Xt(d,3));const m=new Cr({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const G3=new ae,Pb=new ae,q3=new ae;class LG extends Xn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new Sn;s.setAttribute("position",new Xt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Cr({fog:!1,toneMapped:!1});this.lightPlane=new eu(s,a),this.add(this.lightPlane),s=new Sn,s.setAttribute("position",new Xt([0,0,0,0,0,1],3)),this.targetLine=new eu(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),G3.setFromMatrixPosition(this.light.matrixWorld),Pb.setFromMatrixPosition(this.light.target.matrixWorld),q3.subVectors(Pb,G3),this.lightPlane.lookAt(Pb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Pb),this.targetLine.scale.z=q3.length()}}const Lb=new ae,Ji=new b2;class IG extends dl{constructor(e){const t=new Sn,i=new Cr({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(S,_){d(S),d(_)}function d(S){s.push(0,0,0),a.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(s.length/3-1)}t.setAttribute("position",new Xt(s,3)),t.setAttribute("color",new Xt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new Nt(16755200),m=new Nt(16711680),x=new Nt(43775),y=new Nt(16777215),b=new Nt(3355443);this.setColors(h,m,x,y,b)}setColors(e,t,i,s,a){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,s.r,s.g,s.b),c.setXYZ(39,s.r,s.g,s.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,s=1;let a,o;if(Ji.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Ua)a=-1,o=1;else if(this.camera.coordinateSystem===Nm)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);as("c",t,e,Ji,0,0,a),as("t",t,e,Ji,0,0,o),as("n1",t,e,Ji,-i,-s,a),as("n2",t,e,Ji,i,-s,a),as("n3",t,e,Ji,-i,s,a),as("n4",t,e,Ji,i,s,a),as("f1",t,e,Ji,-i,-s,o),as("f2",t,e,Ji,i,-s,o),as("f3",t,e,Ji,-i,s,o),as("f4",t,e,Ji,i,s,o),as("u1",t,e,Ji,i*.7,s*1.1,a),as("u2",t,e,Ji,-i*.7,s*1.1,a),as("u3",t,e,Ji,0,s*2,a),as("cf1",t,e,Ji,-i,0,o),as("cf2",t,e,Ji,i,0,o),as("cf3",t,e,Ji,0,-s,o),as("cf4",t,e,Ji,0,s,o),as("cn1",t,e,Ji,-i,0,a),as("cn2",t,e,Ji,i,0,a),as("cn3",t,e,Ji,0,-s,a),as("cn4",t,e,Ji,0,s,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function as(n,e,t,i,s,a,o){Lb.set(s,a,o).unproject(i);const c=e[n];if(c!==void 0){const d=t.getAttribute("position");for(let h=0,m=c.length;h<m;h++)d.setXYZ(c[h],Lb.x,Lb.y,Lb.z)}}const Ib=new ar;class UG extends dl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),a=new Sn;a.setIndex(new ei(i,1)),a.setAttribute("position",new ei(s,3)),super(a,new Cr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Ib.setFromObject(this.object),Ib.isEmpty())return;const e=Ib.min,t=Ib.max,i=this.geometry.attributes.position,s=i.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kG extends dl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Sn;a.setIndex(new ei(i,1)),a.setAttribute("position",new Xt(s,3)),super(a,new Cr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class FG extends eu{constructor(e,t=1,i=16776960){const s=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Sn;o.setAttribute("position",new Xt(a,3)),o.computeBoundingSphere(),super(o,new Cr({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new Sn;d.setAttribute("position",new Xt(c,3)),d.computeBoundingSphere(),this.add(new us(d,new ka({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const W3=new ae;let Ub,e_;class zG extends Xn{constructor(e=new ae(0,0,1),t=new ae(0,0,0),i=1,s=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",Ub===void 0&&(Ub=new Sn,Ub.setAttribute("position",new Xt([0,0,0,0,1,0],3)),e_=new ey(.5,1,5,1),e_.translate(0,-.5,0)),this.position.copy(t),this.line=new eu(Ub,new Cr({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new us(e_,new ka({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{W3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(W3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class HG extends dl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Sn;s.setAttribute("position",new Xt(t,3)),s.setAttribute("color",new Xt(i,3));const a=new Cr({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,t,i){const s=new Nt,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(t),s.toArray(a,6),s.toArray(a,9),s.set(i),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VG{constructor(){this.type="ShapePath",this.color=new Nt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new _w,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,s){return this.currentPath.quadraticCurveTo(e,t,i,s),this}bezierCurveTo(e,t,i,s,a,o){return this.currentPath.bezierCurveTo(e,t,i,s,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const P=[];for(let N=0,L=A.length;N<L;N++){const j=A[N],R=new of;R.curves=j.curves,P.push(R)}return P}function i(A,P){const N=P.length;let L=!1;for(let j=N-1,R=0;R<N;j=R++){let k=P[j],F=P[R],D=F.x-k.x,B=F.y-k.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(k=P[R],D=-D,F=P[j],B=-B),A.y<k.y||A.y>F.y)continue;if(A.y===k.y){if(A.x===k.x)return!0}else{const q=B*(A.x-k.x)-D*(A.y-k.y);if(q===0)return!0;if(q<0)continue;L=!L}}else{if(A.y!==k.y)continue;if(F.x<=A.x&&A.x<=k.x||k.x<=A.x&&A.x<=F.x)return!0}}return L}const s=ol.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,d;const h=[];if(a.length===1)return c=a[0],d=new of,d.curves=c.curves,h.push(d),h;let m=!s(a[0].getPoints());m=e?!m:m;const x=[],y=[];let b=[],S=0,_;y[S]=void 0,b[S]=[];for(let A=0,P=a.length;A<P;A++)c=a[A],_=c.getPoints(),o=s(_),o=e?!o:o,o?(!m&&y[S]&&S++,y[S]={s:new of,p:_},y[S].s.curves=c.curves,m&&S++,b[S]=[]):b[S].push({h:c,p:_[0]});if(!y[0])return t(a);if(y.length>1){let A=!1,P=0;for(let N=0,L=y.length;N<L;N++)x[N]=[];for(let N=0,L=y.length;N<L;N++){const j=b[N];for(let R=0;R<j.length;R++){const k=j[R];let F=!0;for(let D=0;D<y.length;D++)i(k.p,y[D].p)&&(N!==D&&P++,F?(F=!1,x[D].push(k)):A=!0);F&&x[N].push(k)}}P>0&&A===!1&&(b=x)}let E;for(let A=0,P=y.length;A<P;A++){d=y[A].s,h.push(d),E=b[A];for(let N=0,L=E.length;N<L;N++)d.holes.push(E[N].h)}return h}}class GG extends lc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function qG(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function WG(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function XG(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function BE(n,e,t,i){const s=YG(i);switch(t){case qC:return n*e;case p2:return n*e/s.components*s.byteLength;case Kx:return n*e/s.components*s.byteLength;case XC:return n*e*2/s.components*s.byteLength;case m2:return n*e*2/s.components*s.byteLength;case WC:return n*e*3/s.components*s.byteLength;case Sr:return n*e*4/s.components*s.byteLength;case g2:return n*e*4/s.components*s.byteLength;case ex:case tx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case nx:case ix:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case K1:case Q1:return Math.max(n,16)*Math.max(e,8)/4;case Y1:case J1:return Math.max(n,8)*Math.max(e,8)/2;case Z1:case $1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ew:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case tw:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case nw:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case iw:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case sw:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case rw:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case aw:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ow:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case lw:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case cw:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case uw:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case dw:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case hw:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case fw:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case pw:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case sx:case mw:case gw:return Math.ceil(n/4)*Math.ceil(e/4)*16;case YC:case xw:return Math.ceil(n/4)*Math.ceil(e/4)*8;case yw:case vw:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function YG(n){switch(n){case So:case HC:return{byteLength:1,components:1};case Am:case VC:case qm:return{byteLength:2,components:1};case h2:case f2:return{byteLength:2,components:4};case $c:case d2:case ga:return{byteLength:4,components:1};case GC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class KG{static contain(e,t){return qG(e,t)}static cover(e,t){return WG(e,t)}static fill(e){return XG(e)}static getByteLength(e,t,i,s){return BE(e,t,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Xx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Xx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function dL(){let n=null,e=!1,t=null,i=null;function s(a,o){t(a,o),i=n.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(s),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function JG(n){const e=new WeakMap;function t(c,d){const h=c.array,m=c.usage,x=h.byteLength,y=n.createBuffer();n.bindBuffer(d,y),n.bufferData(d,h,m),c.onUploadCallback();let b;if(h instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&h instanceof Float16Array)b=n.HALF_FLOAT;else if(h instanceof Uint16Array)c.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)b=n.SHORT;else if(h instanceof Uint32Array)b=n.UNSIGNED_INT;else if(h instanceof Int32Array)b=n.INT;else if(h instanceof Int8Array)b=n.BYTE;else if(h instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:b,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:x}}function i(c,d,h){const m=d.array,x=d.updateRanges;if(n.bindBuffer(h,c),x.length===0)n.bufferSubData(h,0,m);else{x.sort((b,S)=>b.start-S.start);let y=0;for(let b=1;b<x.length;b++){const S=x[y],_=x[b];_.start<=S.start+S.count+1?S.count=Math.max(S.count,_.start+_.count-S.start):(++y,x[y]=_)}x.length=y+1;for(let b=0,S=x.length;b<S;b++){const _=x[b];n.bufferSubData(h,_.start*m.BYTES_PER_ELEMENT,m,_.start,_.count)}d.clearUpdateRanges()}d.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=e.get(c);d&&(n.deleteBuffer(d.buffer),e.delete(c))}function o(c,d){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const h=e.get(c);if(h===void 0)e.set(c,t(c,d));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,c,d),h.version=c.version}}return{get:s,remove:a,update:o}}var QG=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ZG=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$G=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,eq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,iq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,sq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,aq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,oq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,hq=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,fq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,yq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,vq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,bq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,wq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Sq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Aq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_q=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Eq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Cq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Mq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Tq=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Nq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Rq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Bq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Dq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Oq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Pq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Lq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Iq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Uq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Fq=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,zq=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Hq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Vq=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Gq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Wq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Xq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Yq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Kq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Jq=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Qq=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Zq=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$q=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,eW=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tW=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nW=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,iW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,sW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,rW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,cW=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,uW=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hW=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,fW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,mW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,vW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,wW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,SW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,AW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_W=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,EW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,CW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,MW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,TW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,NW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,RW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,BW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,DW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,PW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,LW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,IW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,UW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,kW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,FW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,HW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,GW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,WW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,XW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,KW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const JW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,QW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$W=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tX=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,iX=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,sX=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,rX=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,aX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,oX=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lX=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cX=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dX=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hX=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fX=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pX=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mX=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,yX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_X=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,EX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,TX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nn={alphahash_fragment:QG,alphahash_pars_fragment:ZG,alphamap_fragment:$G,alphamap_pars_fragment:eq,alphatest_fragment:tq,alphatest_pars_fragment:nq,aomap_fragment:iq,aomap_pars_fragment:sq,batching_pars_vertex:rq,batching_vertex:aq,begin_vertex:oq,beginnormal_vertex:lq,bsdfs:cq,iridescence_fragment:uq,bumpmap_pars_fragment:dq,clipping_planes_fragment:hq,clipping_planes_pars_fragment:fq,clipping_planes_pars_vertex:pq,clipping_planes_vertex:mq,color_fragment:gq,color_pars_fragment:xq,color_pars_vertex:yq,color_vertex:vq,common:bq,cube_uv_reflection_fragment:wq,defaultnormal_vertex:Sq,displacementmap_pars_vertex:Aq,displacementmap_vertex:_q,emissivemap_fragment:Eq,emissivemap_pars_fragment:Cq,colorspace_fragment:Mq,colorspace_pars_fragment:Tq,envmap_fragment:Nq,envmap_common_pars_fragment:jq,envmap_pars_fragment:Rq,envmap_pars_vertex:Bq,envmap_physical_pars_fragment:Vq,envmap_vertex:Dq,fog_vertex:Oq,fog_pars_vertex:Pq,fog_fragment:Lq,fog_pars_fragment:Iq,gradientmap_pars_fragment:Uq,lightmap_pars_fragment:kq,lights_lambert_fragment:Fq,lights_lambert_pars_fragment:zq,lights_pars_begin:Hq,lights_toon_fragment:Gq,lights_toon_pars_fragment:qq,lights_phong_fragment:Wq,lights_phong_pars_fragment:Xq,lights_physical_fragment:Yq,lights_physical_pars_fragment:Kq,lights_fragment_begin:Jq,lights_fragment_maps:Qq,lights_fragment_end:Zq,logdepthbuf_fragment:$q,logdepthbuf_pars_fragment:eW,logdepthbuf_pars_vertex:tW,logdepthbuf_vertex:nW,map_fragment:iW,map_pars_fragment:sW,map_particle_fragment:rW,map_particle_pars_fragment:aW,metalnessmap_fragment:oW,metalnessmap_pars_fragment:lW,morphinstance_vertex:cW,morphcolor_vertex:uW,morphnormal_vertex:dW,morphtarget_pars_vertex:hW,morphtarget_vertex:fW,normal_fragment_begin:pW,normal_fragment_maps:mW,normal_pars_fragment:gW,normal_pars_vertex:xW,normal_vertex:yW,normalmap_pars_fragment:vW,clearcoat_normal_fragment_begin:bW,clearcoat_normal_fragment_maps:wW,clearcoat_pars_fragment:SW,iridescence_pars_fragment:AW,opaque_fragment:_W,packing:EW,premultiplied_alpha_fragment:CW,project_vertex:MW,dithering_fragment:TW,dithering_pars_fragment:NW,roughnessmap_fragment:jW,roughnessmap_pars_fragment:RW,shadowmap_pars_fragment:BW,shadowmap_pars_vertex:DW,shadowmap_vertex:OW,shadowmask_pars_fragment:PW,skinbase_vertex:LW,skinning_pars_vertex:IW,skinning_vertex:UW,skinnormal_vertex:kW,specularmap_fragment:FW,specularmap_pars_fragment:zW,tonemapping_fragment:HW,tonemapping_pars_fragment:VW,transmission_fragment:GW,transmission_pars_fragment:qW,uv_pars_fragment:WW,uv_pars_vertex:XW,uv_vertex:YW,worldpos_vertex:KW,background_vert:JW,background_frag:QW,backgroundCube_vert:ZW,backgroundCube_frag:$W,cube_vert:eX,cube_frag:tX,depth_vert:nX,depth_frag:iX,distanceRGBA_vert:sX,distanceRGBA_frag:rX,equirect_vert:aX,equirect_frag:oX,linedashed_vert:lX,linedashed_frag:cX,meshbasic_vert:uX,meshbasic_frag:dX,meshlambert_vert:hX,meshlambert_frag:fX,meshmatcap_vert:pX,meshmatcap_frag:mX,meshnormal_vert:gX,meshnormal_frag:xX,meshphong_vert:yX,meshphong_frag:vX,meshphysical_vert:bX,meshphysical_frag:wX,meshtoon_vert:SX,meshtoon_frag:AX,points_vert:_X,points_frag:EX,shadow_vert:CX,shadow_frag:MX,sprite_vert:TX,sprite_frag:NX},Bt={common:{diffuse:{value:new Nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _n}},envmap:{envMap:{value:null},envMapRotation:{value:new _n},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _n}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _n}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _n},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _n},normalScale:{value:new st(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _n},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _n}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _n}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _n}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new Nt(16777215)},opacity:{value:1},center:{value:new st(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}}},sl={basic:{uniforms:Gr([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.fog]),vertexShader:Nn.meshbasic_vert,fragmentShader:Nn.meshbasic_frag},lambert:{uniforms:Gr([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Nn.meshlambert_vert,fragmentShader:Nn.meshlambert_frag},phong:{uniforms:Gr([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Nt(0)},specular:{value:new Nt(1118481)},shininess:{value:30}}]),vertexShader:Nn.meshphong_vert,fragmentShader:Nn.meshphong_frag},standard:{uniforms:Gr([Bt.common,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.roughnessmap,Bt.metalnessmap,Bt.fog,Bt.lights,{emissive:{value:new Nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Nn.meshphysical_vert,fragmentShader:Nn.meshphysical_frag},toon:{uniforms:Gr([Bt.common,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.gradientmap,Bt.fog,Bt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Nn.meshtoon_vert,fragmentShader:Nn.meshtoon_frag},matcap:{uniforms:Gr([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,{matcap:{value:null}}]),vertexShader:Nn.meshmatcap_vert,fragmentShader:Nn.meshmatcap_frag},points:{uniforms:Gr([Bt.points,Bt.fog]),vertexShader:Nn.points_vert,fragmentShader:Nn.points_frag},dashed:{uniforms:Gr([Bt.common,Bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nn.linedashed_vert,fragmentShader:Nn.linedashed_frag},depth:{uniforms:Gr([Bt.common,Bt.displacementmap]),vertexShader:Nn.depth_vert,fragmentShader:Nn.depth_frag},normal:{uniforms:Gr([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,{opacity:{value:1}}]),vertexShader:Nn.meshnormal_vert,fragmentShader:Nn.meshnormal_frag},sprite:{uniforms:Gr([Bt.sprite,Bt.fog]),vertexShader:Nn.sprite_vert,fragmentShader:Nn.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Nn.background_vert,fragmentShader:Nn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new _n}},vertexShader:Nn.backgroundCube_vert,fragmentShader:Nn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Nn.cube_vert,fragmentShader:Nn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nn.equirect_vert,fragmentShader:Nn.equirect_frag},distanceRGBA:{uniforms:Gr([Bt.common,Bt.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nn.distanceRGBA_vert,fragmentShader:Nn.distanceRGBA_frag},shadow:{uniforms:Gr([Bt.lights,Bt.fog,{color:{value:new Nt(0)},opacity:{value:1}}]),vertexShader:Nn.shadow_vert,fragmentShader:Nn.shadow_frag}};sl.physical={uniforms:Gr([sl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _n},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _n},clearcoatNormalScale:{value:new st(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _n},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _n},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _n},sheen:{value:0},sheenColor:{value:new Nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _n},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _n},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _n},transmissionSamplerSize:{value:new st},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _n},attenuationDistance:{value:0},attenuationColor:{value:new Nt(0)},specularColor:{value:new Nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _n},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _n},anisotropyVector:{value:new st},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _n}}]),vertexShader:Nn.meshphysical_vert,fragmentShader:Nn.meshphysical_frag};const kb={r:0,b:0,g:0},Dh=new za,jX=new an;function RX(n,e,t,i,s,a,o){const c=new Nt(0);let d=a===!0?0:1,h,m,x=null,y=0,b=null;function S(N){let L=N.isScene===!0?N.background:null;return L&&L.isTexture&&(L=(N.backgroundBlurriness>0?t:e).get(L)),L}function _(N){let L=!1;const j=S(N);j===null?A(c,d):j&&j.isColor&&(A(j,1),L=!0);const R=n.xr.getEnvironmentBlendMode();R==="additive"?i.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(N,L){const j=S(L);j&&(j.isCubeTexture||j.mapping===Gm)?(m===void 0&&(m=new us(new Mf(1,1,1),new ll({name:"BackgroundCubeMaterial",uniforms:Bm(sl.backgroundCube.uniforms),vertexShader:sl.backgroundCube.vertexShader,fragmentShader:sl.backgroundCube.fragmentShader,side:Yr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(R,k,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Dh.copy(L.backgroundRotation),Dh.x*=-1,Dh.y*=-1,Dh.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(Dh.y*=-1,Dh.z*=-1),m.material.uniforms.envMap.value=j,m.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(jX.makeRotationFromEuler(Dh)),m.material.toneMapped=Wn.getTransfer(j.colorSpace)!==mi,(x!==j||y!==j.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,x=j,y=j.version,b=n.toneMapping),m.layers.enableAll(),N.unshift(m,m.geometry,m.material,0,0,null)):j&&j.isTexture&&(h===void 0&&(h=new us(new Xm(2,2),new ll({name:"BackgroundMaterial",uniforms:Bm(sl.background.uniforms),vertexShader:sl.background.vertexShader,fragmentShader:sl.background.fragmentShader,side:sc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(h)),h.material.uniforms.t2D.value=j,h.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,h.material.toneMapped=Wn.getTransfer(j.colorSpace)!==mi,j.matrixAutoUpdate===!0&&j.updateMatrix(),h.material.uniforms.uvTransform.value.copy(j.matrix),(x!==j||y!==j.version||b!==n.toneMapping)&&(h.material.needsUpdate=!0,x=j,y=j.version,b=n.toneMapping),h.layers.enableAll(),N.unshift(h,h.geometry,h.material,0,0,null))}function A(N,L){N.getRGB(kb,gP(n)),i.buffers.color.setClear(kb.r,kb.g,kb.b,L,o)}function P(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return c},setClearColor:function(N,L=1){c.set(N),d=L,A(c,d)},getClearAlpha:function(){return d},setClearAlpha:function(N){d=N,A(c,d)},render:_,addToRenderList:E,dispose:P}}function BX(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=y(null);let a=s,o=!1;function c(B,q,Y,G,W){let $=!1;const z=x(G,Y,q);a!==z&&(a=z,h(a.object)),$=b(B,G,Y,W),$&&S(B,G,Y,W),W!==null&&e.update(W,n.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,L(B,q,Y,G),W!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(W).buffer))}function d(){return n.createVertexArray()}function h(B){return n.bindVertexArray(B)}function m(B){return n.deleteVertexArray(B)}function x(B,q,Y){const G=Y.wireframe===!0;let W=i[B.id];W===void 0&&(W={},i[B.id]=W);let $=W[q.id];$===void 0&&($={},W[q.id]=$);let z=$[G];return z===void 0&&(z=y(d()),$[G]=z),z}function y(B){const q=[],Y=[],G=[];for(let W=0;W<t;W++)q[W]=0,Y[W]=0,G[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:Y,attributeDivisors:G,object:B,attributes:{},index:null}}function b(B,q,Y,G){const W=a.attributes,$=q.attributes;let z=0;const I=Y.getAttributes();for(const Q in I)if(I[Q].location>=0){const T=W[Q];let X=$[Q];if(X===void 0&&(Q==="instanceMatrix"&&B.instanceMatrix&&(X=B.instanceMatrix),Q==="instanceColor"&&B.instanceColor&&(X=B.instanceColor)),T===void 0||T.attribute!==X||X&&T.data!==X.data)return!0;z++}return a.attributesNum!==z||a.index!==G}function S(B,q,Y,G){const W={},$=q.attributes;let z=0;const I=Y.getAttributes();for(const Q in I)if(I[Q].location>=0){let T=$[Q];T===void 0&&(Q==="instanceMatrix"&&B.instanceMatrix&&(T=B.instanceMatrix),Q==="instanceColor"&&B.instanceColor&&(T=B.instanceColor));const X={};X.attribute=T,T&&T.data&&(X.data=T.data),W[Q]=X,z++}a.attributes=W,a.attributesNum=z,a.index=G}function _(){const B=a.newAttributes;for(let q=0,Y=B.length;q<Y;q++)B[q]=0}function E(B){A(B,0)}function A(B,q){const Y=a.newAttributes,G=a.enabledAttributes,W=a.attributeDivisors;Y[B]=1,G[B]===0&&(n.enableVertexAttribArray(B),G[B]=1),W[B]!==q&&(n.vertexAttribDivisor(B,q),W[B]=q)}function P(){const B=a.newAttributes,q=a.enabledAttributes;for(let Y=0,G=q.length;Y<G;Y++)q[Y]!==B[Y]&&(n.disableVertexAttribArray(Y),q[Y]=0)}function N(B,q,Y,G,W,$,z){z===!0?n.vertexAttribIPointer(B,q,Y,W,$):n.vertexAttribPointer(B,q,Y,G,W,$)}function L(B,q,Y,G){_();const W=G.attributes,$=Y.getAttributes(),z=q.defaultAttributeValues;for(const I in $){const Q=$[I];if(Q.location>=0){let K=W[I];if(K===void 0&&(I==="instanceMatrix"&&B.instanceMatrix&&(K=B.instanceMatrix),I==="instanceColor"&&B.instanceColor&&(K=B.instanceColor)),K!==void 0){const T=K.normalized,X=K.itemSize,ee=e.get(K);if(ee===void 0)continue;const oe=ee.buffer,ce=ee.type,re=ee.bytesPerElement,ue=ce===n.INT||ce===n.UNSIGNED_INT||K.gpuType===d2;if(K.isInterleavedBufferAttribute){const ye=K.data,Ve=ye.stride,Qe=K.offset;if(ye.isInstancedInterleavedBuffer){for(let We=0;We<Q.locationSize;We++)A(Q.location+We,ye.meshPerAttribute);B.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let We=0;We<Q.locationSize;We++)E(Q.location+We);n.bindBuffer(n.ARRAY_BUFFER,oe);for(let We=0;We<Q.locationSize;We++)N(Q.location+We,X/Q.locationSize,ce,T,Ve*re,(Qe+X/Q.locationSize*We)*re,ue)}else{if(K.isInstancedBufferAttribute){for(let ye=0;ye<Q.locationSize;ye++)A(Q.location+ye,K.meshPerAttribute);B.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ye=0;ye<Q.locationSize;ye++)E(Q.location+ye);n.bindBuffer(n.ARRAY_BUFFER,oe);for(let ye=0;ye<Q.locationSize;ye++)N(Q.location+ye,X/Q.locationSize,ce,T,X*re,X/Q.locationSize*ye*re,ue)}}else if(z!==void 0){const T=z[I];if(T!==void 0)switch(T.length){case 2:n.vertexAttrib2fv(Q.location,T);break;case 3:n.vertexAttrib3fv(Q.location,T);break;case 4:n.vertexAttrib4fv(Q.location,T);break;default:n.vertexAttrib1fv(Q.location,T)}}}}P()}function j(){F();for(const B in i){const q=i[B];for(const Y in q){const G=q[Y];for(const W in G)m(G[W].object),delete G[W];delete q[Y]}delete i[B]}}function R(B){if(i[B.id]===void 0)return;const q=i[B.id];for(const Y in q){const G=q[Y];for(const W in G)m(G[W].object),delete G[W];delete q[Y]}delete i[B.id]}function k(B){for(const q in i){const Y=i[q];if(Y[B.id]===void 0)continue;const G=Y[B.id];for(const W in G)m(G[W].object),delete G[W];delete Y[B.id]}}function F(){D(),o=!0,a!==s&&(a=s,h(a.object))}function D(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:c,reset:F,resetDefaultState:D,dispose:j,releaseStatesOfGeometry:R,releaseStatesOfProgram:k,initAttributes:_,enableAttribute:E,disableUnusedAttributes:P}}function DX(n,e,t){let i;function s(h){i=h}function a(h,m){n.drawArrays(i,h,m),t.update(m,i,1)}function o(h,m,x){x!==0&&(n.drawArraysInstanced(i,h,m,x),t.update(m,i,x))}function c(h,m,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,x);let b=0;for(let S=0;S<x;S++)b+=m[S];t.update(b,i,1)}function d(h,m,x,y){if(x===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let S=0;S<h.length;S++)o(h[S],m[S],y[S]);else{b.multiDrawArraysInstancedWEBGL(i,h,0,m,0,y,0,x);let S=0;for(let _=0;_<x;_++)S+=m[_]*y[_];t.update(S,i,1)}}this.setMode=s,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function OX(n,e,t,i){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(k){return!(k!==Sr&&i.convert(k)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(k){const F=k===qm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==So&&i.convert(k)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==ga&&!F)}function d(k){if(k==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=d(h);m!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const x=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),A=n.getParameter(n.MAX_VERTEX_ATTRIBS),P=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),N=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),j=S>0,R=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:d,textureFormatReadable:o,textureTypeReadable:c,precision:h,logarithmicDepthBuffer:x,reversedDepthBuffer:y,maxTextures:b,maxVertexTextures:S,maxTextureSize:_,maxCubemapSize:E,maxAttributes:A,maxVertexUniforms:P,maxVaryings:N,maxFragmentUniforms:L,vertexTextures:j,maxSamples:R}}function PX(n){const e=this;let t=null,i=0,s=!1,a=!1;const o=new Hc,c=new _n,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(x,y){const b=x.length!==0||y||i!==0||s;return s=y,i=x.length,b},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(x,y){t=m(x,y,0)},this.setState=function(x,y,b){const S=x.clippingPlanes,_=x.clipIntersection,E=x.clipShadows,A=n.get(x);if(!s||S===null||S.length===0||a&&!E)a?m(null):h();else{const P=a?0:i,N=P*4;let L=A.clippingState||null;d.value=L,L=m(S,y,N,b);for(let j=0;j!==N;++j)L[j]=t[j];A.clippingState=L,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=P}};function h(){d.value!==t&&(d.value=t,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(x,y,b,S){const _=x!==null?x.length:0;let E=null;if(_!==0){if(E=d.value,S!==!0||E===null){const A=b+_*4,P=y.matrixWorldInverse;c.getNormalMatrix(P),(E===null||E.length<A)&&(E=new Float32Array(A));for(let N=0,L=b;N!==_;++N,L+=4)o.copy(x[N]).applyMatrix4(P,c),o.normal.toArray(E,L),E[L+3]=o.constant}d.value=E,d.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,E}}function LX(n){let e=new WeakMap;function t(o,c){return c===wx?o.mapping=Zc:c===Sx&&(o.mapping=gd),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===wx||c===Sx)if(e.has(o)){const d=e.get(o).texture;return t(d,o.mapping)}else{const d=o.image;if(d&&d.height>0){const h=new vP(d.height);return h.fromEquirectangularTexture(n,o),e.set(o,h),o.addEventListener("dispose",s),t(h.texture,o.mapping)}else return null}}return o}function s(o){const c=o.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const am=4,X3=[.125,.215,.35,.446,.526,.582],qh=20,t_=new Yc,Y3=new Nt;let n_=null,i_=0,s_=0,r_=!1;const zh=(1+Math.sqrt(5))/2,$p=1/zh,K3=[new ae(-zh,$p,0),new ae(zh,$p,0),new ae(-$p,0,zh),new ae($p,0,zh),new ae(0,zh,-$p),new ae(0,zh,$p),new ae(-1,1,-1),new ae(1,1,-1),new ae(-1,1,1),new ae(1,1,1)],IX=new ae;class DE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,s=100,a={}){const{size:o=256,position:c=IX}=a;n_=this._renderer.getRenderTarget(),i_=this._renderer.getActiveCubeFace(),s_=this._renderer.getActiveMipmapLevel(),r_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,i,s,d,c),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Z3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Q3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(n_,i_,s_),this._renderer.xr.enabled=r_,e.scissorTest=!1,Fb(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zc||e.mapping===gd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),n_=this._renderer.getRenderTarget(),i_=this._renderer.getActiveCubeFace(),s_=this._renderer.getActiveMipmapLevel(),r_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:cs,minFilter:cs,generateMipmaps:!1,type:qm,format:Sr,colorSpace:yd,depthBuffer:!1},s=J3(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=J3(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=UX(a)),this._blurMaterial=kX(a,e,t)}return s}_compileMaterial(e){const t=new us(this._lodPlanes[0],e);this._renderer.compile(t,t_)}_sceneToCubeUV(e,t,i,s,a){const d=new Zi(90,1,t,i),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],x=this._renderer,y=x.autoClear,b=x.toneMapping;x.getClearColor(Y3),x.toneMapping=$l,x.autoClear=!1,x.state.buffers.depth.getReversed()&&(x.setRenderTarget(s),x.clearDepth(),x.setRenderTarget(null));const _=new ka({name:"PMREM.Background",side:Yr,depthWrite:!1,depthTest:!1}),E=new us(new Mf,_);let A=!1;const P=e.background;P?P.isColor&&(_.color.copy(P),e.background=null,A=!0):(_.color.copy(Y3),A=!0);for(let N=0;N<6;N++){const L=N%3;L===0?(d.up.set(0,h[N],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x+m[N],a.y,a.z)):L===1?(d.up.set(0,0,h[N]),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y+m[N],a.z)):(d.up.set(0,h[N],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y,a.z+m[N]));const j=this._cubeSize;Fb(s,L*j,N>2?j:0,j,j),x.setRenderTarget(s),A&&x.render(E,d),x.render(e,d)}E.geometry.dispose(),E.material.dispose(),x.toneMapping=b,x.autoClear=y,e.background=P}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===Zc||e.mapping===gd;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=Z3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Q3());const a=s?this._cubemapMaterial:this._equirectMaterial,o=new us(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=e;const d=this._cubeSize;Fb(t,0,0,3*d,2*d),i.setRenderTarget(t),i.render(o,t_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=K3[(s-a-1)%K3.length];this._blur(e,a-1,a,o,c)}t.autoClear=i}_blur(e,t,i,s,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,s,"latitudinal",a),this._halfBlur(o,e,i,i,s,"longitudinal",a)}_halfBlur(e,t,i,s,a,o,c){const d=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,x=new us(this._lodPlanes[s],h),y=h.uniforms,b=this._sizeLods[i]-1,S=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*qh-1),_=a/S,E=isFinite(a)?1+Math.floor(m*_):qh;E>qh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${qh}`);const A=[];let P=0;for(let k=0;k<qh;++k){const F=k/_,D=Math.exp(-F*F/2);A.push(D),k===0?P+=D:k<E&&(P+=2*D)}for(let k=0;k<A.length;k++)A[k]=A[k]/P;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=A,y.latitudinal.value=o==="latitudinal",c&&(y.poleAxis.value=c);const{_lodMax:N}=this;y.dTheta.value=S,y.mipInt.value=N-i;const L=this._sizeLods[s],j=3*L*(s>N-am?s-N+am:0),R=4*(this._cubeSize-L);Fb(t,j,R,3*L,2*L),d.setRenderTarget(t),d.render(x,t_)}}function UX(n){const e=[],t=[],i=[];let s=n;const a=n-am+1+X3.length;for(let o=0;o<a;o++){const c=Math.pow(2,s);t.push(c);let d=1/c;o>n-am?d=X3[o-n+am-1]:o===0&&(d=0),i.push(d);const h=1/(c-2),m=-h,x=1+h,y=[m,m,x,m,x,x,m,m,x,x,m,x],b=6,S=6,_=3,E=2,A=1,P=new Float32Array(_*S*b),N=new Float32Array(E*S*b),L=new Float32Array(A*S*b);for(let R=0;R<b;R++){const k=R%3*2/3-1,F=R>2?0:-1,D=[k,F,0,k+2/3,F,0,k+2/3,F+1,0,k,F,0,k+2/3,F+1,0,k,F+1,0];P.set(D,_*S*R),N.set(y,E*S*R);const B=[R,R,R,R,R,R];L.set(B,A*S*R)}const j=new Sn;j.setAttribute("position",new ei(P,_)),j.setAttribute("uv",new ei(N,E)),j.setAttribute("faceIndex",new ei(L,A)),e.push(j),s>am&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function J3(n,e,t){const i=new rc(n,e,t);return i.texture.mapping=Gm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Fb(n,e,t,i,s){n.viewport.set(e,t,i,s),n.scissor.set(e,t,i,s)}function kX(n,e,t){const i=new Float32Array(qh),s=new ae(0,1,0);return new ll({name:"SphericalGaussianBlur",defines:{n:qh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:RM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wc,depthTest:!1,depthWrite:!1})}function Q3(){return new ll({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:RM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wc,depthTest:!1,depthWrite:!1})}function Z3(){return new ll({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:RM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wc,depthTest:!1,depthWrite:!1})}function RM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function FX(n){let e=new WeakMap,t=null;function i(c){if(c&&c.isTexture){const d=c.mapping,h=d===wx||d===Sx,m=d===Zc||d===gd;if(h||m){let x=e.get(c);const y=x!==void 0?x.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==y)return t===null&&(t=new DE(n)),x=h?t.fromEquirectangular(c,x):t.fromCubemap(c,x),x.texture.pmremVersion=c.pmremVersion,e.set(c,x),x.texture;if(x!==void 0)return x.texture;{const b=c.image;return h&&b&&b.height>0||m&&b&&s(b)?(t===null&&(t=new DE(n)),x=h?t.fromEquirectangular(c):t.fromCubemap(c),x.texture.pmremVersion=c.pmremVersion,e.set(c,x),c.addEventListener("dispose",a),x.texture):null}}}return c}function s(c){let d=0;const h=6;for(let m=0;m<h;m++)c[m]!==void 0&&d++;return d===h}function a(c){const d=c.target;d.removeEventListener("dispose",a);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function zX(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return e[i]=s,s}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return s===null&&pm("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function HX(n,e,t,i){const s={},a=new WeakMap;function o(x){const y=x.target;y.index!==null&&e.remove(y.index);for(const S in y.attributes)e.remove(y.attributes[S]);y.removeEventListener("dispose",o),delete s[y.id];const b=a.get(y);b&&(e.remove(b),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function c(x,y){return s[y.id]===!0||(y.addEventListener("dispose",o),s[y.id]=!0,t.memory.geometries++),y}function d(x){const y=x.attributes;for(const b in y)e.update(y[b],n.ARRAY_BUFFER)}function h(x){const y=[],b=x.index,S=x.attributes.position;let _=0;if(b!==null){const P=b.array;_=b.version;for(let N=0,L=P.length;N<L;N+=3){const j=P[N+0],R=P[N+1],k=P[N+2];y.push(j,R,R,k,k,j)}}else if(S!==void 0){const P=S.array;_=S.version;for(let N=0,L=P.length/3-1;N<L;N+=3){const j=N+0,R=N+1,k=N+2;y.push(j,R,R,k,k,j)}}else return;const E=new(hP(y)?tM:eM)(y,1);E.version=_;const A=a.get(x);A&&e.remove(A),a.set(x,E)}function m(x){const y=a.get(x);if(y){const b=x.index;b!==null&&y.version<b.version&&h(x)}else h(x);return a.get(x)}return{get:c,update:d,getWireframeAttribute:m}}function VX(n,e,t){let i;function s(y){i=y}let a,o;function c(y){a=y.type,o=y.bytesPerElement}function d(y,b){n.drawElements(i,b,a,y*o),t.update(b,i,1)}function h(y,b,S){S!==0&&(n.drawElementsInstanced(i,b,a,y*o,S),t.update(b,i,S))}function m(y,b,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,y,0,S);let E=0;for(let A=0;A<S;A++)E+=b[A];t.update(E,i,1)}function x(y,b,S,_){if(S===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let A=0;A<y.length;A++)h(y[A]/o,b[A],_[A]);else{E.multiDrawElementsInstancedWEBGL(i,b,0,a,y,0,_,0,S);let A=0;for(let P=0;P<S;P++)A+=b[P]*_[P];t.update(A,i,1)}}this.setMode=s,this.setIndex=c,this.render=d,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=x}function GX(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,c){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=c*(a/3);break;case n.LINES:t.lines+=c*(a/2);break;case n.LINE_STRIP:t.lines+=c*(a-1);break;case n.LINE_LOOP:t.lines+=c*a;break;case n.POINTS:t.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:i}}function qX(n,e,t){const i=new WeakMap,s=new $n;function a(o,c,d){const h=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,x=m!==void 0?m.length:0;let y=i.get(c);if(y===void 0||y.count!==x){let B=function(){F.dispose(),i.delete(c),c.removeEventListener("dispose",B)};var b=B;y!==void 0&&y.texture.dispose();const S=c.morphAttributes.position!==void 0,_=c.morphAttributes.normal!==void 0,E=c.morphAttributes.color!==void 0,A=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],N=c.morphAttributes.color||[];let L=0;S===!0&&(L=1),_===!0&&(L=2),E===!0&&(L=3);let j=c.attributes.position.count*L,R=1;j>e.maxTextureSize&&(R=Math.ceil(j/e.maxTextureSize),j=e.maxTextureSize);const k=new Float32Array(j*R*4*x),F=new y2(k,j,R,x);F.type=ga,F.needsUpdate=!0;const D=L*4;for(let q=0;q<x;q++){const Y=A[q],G=P[q],W=N[q],$=j*R*4*q;for(let z=0;z<Y.count;z++){const I=z*D;S===!0&&(s.fromBufferAttribute(Y,z),k[$+I+0]=s.x,k[$+I+1]=s.y,k[$+I+2]=s.z,k[$+I+3]=0),_===!0&&(s.fromBufferAttribute(G,z),k[$+I+4]=s.x,k[$+I+5]=s.y,k[$+I+6]=s.z,k[$+I+7]=0),E===!0&&(s.fromBufferAttribute(W,z),k[$+I+8]=s.x,k[$+I+9]=s.y,k[$+I+10]=s.z,k[$+I+11]=W.itemSize===4?s.w:1)}}y={count:x,texture:F,size:new st(j,R)},i.set(c,y),c.addEventListener("dispose",B)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)d.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let S=0;for(let E=0;E<h.length;E++)S+=h[E];const _=c.morphTargetsRelative?1:1-S;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",h)}d.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function WX(n,e,t,i){let s=new WeakMap;function a(d){const h=i.render.frame,m=d.geometry,x=e.get(d,m);if(s.get(x)!==h&&(e.update(x),s.set(x,h)),d.isInstancedMesh&&(d.hasEventListener("dispose",c)===!1&&d.addEventListener("dispose",c),s.get(d)!==h&&(t.update(d.instanceMatrix,n.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,n.ARRAY_BUFFER),s.set(d,h))),d.isSkinnedMesh){const y=d.skeleton;s.get(y)!==h&&(y.update(),s.set(y,h))}return x}function o(){s=new WeakMap}function c(d){const h=d.target;h.removeEventListener("dispose",c),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:a,dispose:o}}const hL=new ki,$3=new lM(1,1),fL=new y2,pL=new v2,mL=new Jx,eR=[],tR=[],nR=new Float32Array(16),iR=new Float32Array(9),sR=new Float32Array(4);function Km(n,e,t){const i=n[0];if(i<=0||i>0)return n;const s=e*t;let a=eR[s];if(a===void 0&&(a=new Float32Array(s),eR[s]=a),e!==0){i.toArray(a,0);for(let o=1,c=0;o!==e;++o)c+=t,n[o].toArray(a,c)}return a}function Ps(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ls(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function z2(n,e){let t=tR[e];t===void 0&&(t=new Int32Array(e),tR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function XX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function YX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ps(t,e))return;n.uniform2fv(this.addr,e),Ls(t,e)}}function KX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ps(t,e))return;n.uniform3fv(this.addr,e),Ls(t,e)}}function JX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ps(t,e))return;n.uniform4fv(this.addr,e),Ls(t,e)}}function QX(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ps(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ls(t,e)}else{if(Ps(t,i))return;sR.set(i),n.uniformMatrix2fv(this.addr,!1,sR),Ls(t,i)}}function ZX(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ps(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ls(t,e)}else{if(Ps(t,i))return;iR.set(i),n.uniformMatrix3fv(this.addr,!1,iR),Ls(t,i)}}function $X(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Ps(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ls(t,e)}else{if(Ps(t,i))return;nR.set(i),n.uniformMatrix4fv(this.addr,!1,nR),Ls(t,i)}}function eY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function tY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ps(t,e))return;n.uniform2iv(this.addr,e),Ls(t,e)}}function nY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ps(t,e))return;n.uniform3iv(this.addr,e),Ls(t,e)}}function iY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ps(t,e))return;n.uniform4iv(this.addr,e),Ls(t,e)}}function sY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function rY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ps(t,e))return;n.uniform2uiv(this.addr,e),Ls(t,e)}}function aY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ps(t,e))return;n.uniform3uiv(this.addr,e),Ls(t,e)}}function oY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ps(t,e))return;n.uniform4uiv(this.addr,e),Ls(t,e)}}function lY(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let a;this.type===n.SAMPLER_2D_SHADOW?($3.compareFunction=QC,a=$3):a=hL,t.setTexture2D(e||a,s)}function cY(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||pL,s)}function uY(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||mL,s)}function dY(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||fL,s)}function hY(n){switch(n){case 5126:return XX;case 35664:return YX;case 35665:return KX;case 35666:return JX;case 35674:return QX;case 35675:return ZX;case 35676:return $X;case 5124:case 35670:return eY;case 35667:case 35671:return tY;case 35668:case 35672:return nY;case 35669:case 35673:return iY;case 5125:return sY;case 36294:return rY;case 36295:return aY;case 36296:return oY;case 35678:case 36198:case 36298:case 36306:case 35682:return lY;case 35679:case 36299:case 36307:return cY;case 35680:case 36300:case 36308:case 36293:return uY;case 36289:case 36303:case 36311:case 36292:return dY}}function fY(n,e){n.uniform1fv(this.addr,e)}function pY(n,e){const t=Km(e,this.size,2);n.uniform2fv(this.addr,t)}function mY(n,e){const t=Km(e,this.size,3);n.uniform3fv(this.addr,t)}function gY(n,e){const t=Km(e,this.size,4);n.uniform4fv(this.addr,t)}function xY(n,e){const t=Km(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function yY(n,e){const t=Km(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function vY(n,e){const t=Km(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function bY(n,e){n.uniform1iv(this.addr,e)}function wY(n,e){n.uniform2iv(this.addr,e)}function SY(n,e){n.uniform3iv(this.addr,e)}function AY(n,e){n.uniform4iv(this.addr,e)}function _Y(n,e){n.uniform1uiv(this.addr,e)}function EY(n,e){n.uniform2uiv(this.addr,e)}function CY(n,e){n.uniform3uiv(this.addr,e)}function MY(n,e){n.uniform4uiv(this.addr,e)}function TY(n,e,t){const i=this.cache,s=e.length,a=z2(t,s);Ps(i,a)||(n.uniform1iv(this.addr,a),Ls(i,a));for(let o=0;o!==s;++o)t.setTexture2D(e[o]||hL,a[o])}function NY(n,e,t){const i=this.cache,s=e.length,a=z2(t,s);Ps(i,a)||(n.uniform1iv(this.addr,a),Ls(i,a));for(let o=0;o!==s;++o)t.setTexture3D(e[o]||pL,a[o])}function jY(n,e,t){const i=this.cache,s=e.length,a=z2(t,s);Ps(i,a)||(n.uniform1iv(this.addr,a),Ls(i,a));for(let o=0;o!==s;++o)t.setTextureCube(e[o]||mL,a[o])}function RY(n,e,t){const i=this.cache,s=e.length,a=z2(t,s);Ps(i,a)||(n.uniform1iv(this.addr,a),Ls(i,a));for(let o=0;o!==s;++o)t.setTexture2DArray(e[o]||fL,a[o])}function BY(n){switch(n){case 5126:return fY;case 35664:return pY;case 35665:return mY;case 35666:return gY;case 35674:return xY;case 35675:return yY;case 35676:return vY;case 5124:case 35670:return bY;case 35667:case 35671:return wY;case 35668:case 35672:return SY;case 35669:case 35673:return AY;case 5125:return _Y;case 36294:return EY;case 36295:return CY;case 36296:return MY;case 35678:case 36198:case 36298:case 36306:case 35682:return TY;case 35679:case 36299:case 36307:return NY;case 35680:case 36300:case 36308:case 36293:return jY;case 36289:case 36303:case 36311:case 36292:return RY}}class DY{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=hY(t.type)}}class OY{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=BY(t.type)}}class PY{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let a=0,o=s.length;a!==o;++a){const c=s[a];c.setValue(e,t[c.id],i)}}}const a_=/(\w+)(\])?(\[|\.)?/g;function rR(n,e){n.seq.push(e),n.map[e.id]=e}function LY(n,e,t){const i=n.name,s=i.length;for(a_.lastIndex=0;;){const a=a_.exec(i),o=a_.lastIndex;let c=a[1];const d=a[2]==="]",h=a[3];if(d&&(c=c|0),h===void 0||h==="["&&o+2===s){rR(t,h===void 0?new DY(c,n,e):new OY(c,n,e));break}else{let x=t.map[c];x===void 0&&(x=new PY(c),rR(t,x)),t=x}}}class m1{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const a=e.getActiveUniform(t,s),o=e.getUniformLocation(t,a.name);LY(a,o,this)}}setValue(e,t,i,s){const a=this.map[t];a!==void 0&&a.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let a=0,o=t.length;a!==o;++a){const c=t[a],d=i[c.id];d.needsUpdate!==!1&&c.setValue(e,d.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,a=e.length;s!==a;++s){const o=e[s];o.id in t&&i.push(o)}return i}}function aR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const IY=37297;let UY=0;function kY(n,e){const t=n.split(`
`),i=[],s=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=s;o<a;o++){const c=o+1;i.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return i.join(`
`)}const oR=new _n;function FY(n){Wn._getMatrix(oR,Wn.workingColorSpace,n);const e=`mat3( ${oR.elements.map(t=>t.toFixed(4))} )`;switch(Wn.getTransfer(n)){case _x:return[e,"LinearTransferOETF"];case mi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function lR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+kY(n.getShaderSource(e),c)}else return a}function zY(n,e){const t=FY(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function HY(n,e){let t;switch(e){case GO:t="Linear";break;case qO:t="Reinhard";break;case WO:t="Cineon";break;case zC:t="ACESFilmic";break;case YO:t="AgX";break;case KO:t="Neutral";break;case XO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const zb=new ae;function VY(){Wn.getLuminanceCoefficients(zb);const n=zb.x.toFixed(4),e=zb.y.toFixed(4),t=zb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function GY(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Y0).join(`
`)}function qY(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function WY(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const a=n.getActiveAttrib(e,s),o=a.name;let c=1;a.type===n.FLOAT_MAT2&&(c=2),a.type===n.FLOAT_MAT3&&(c=3),a.type===n.FLOAT_MAT4&&(c=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:c}}return t}function Y0(n){return n!==""}function cR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function uR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const XY=/^[ \t]*#include +<([\w\d./]+)>/gm;function OE(n){return n.replace(XY,KY)}const YY=new Map;function KY(n,e){let t=Nn[e];if(t===void 0){const i=YY.get(e);if(i!==void 0)t=Nn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return OE(t)}const JY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function dR(n){return n.replace(JY,QY)}function QY(n,e,t,i){let s="";for(let a=parseInt(e);a<parseInt(t);a++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function hR(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ZY(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===l2?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===$0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===nl&&(e="SHADOWMAP_TYPE_VSM"),e}function $Y(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Zc:case gd:e="ENVMAP_TYPE_CUBE";break;case Gm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function eK(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case gd:e="ENVMAP_MODE_REFRACTION";break}return e}function tK(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Yx:e="ENVMAP_BLENDING_MULTIPLY";break;case HO:e="ENVMAP_BLENDING_MIX";break;case VO:e="ENVMAP_BLENDING_ADD";break}return e}function nK(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function iK(n,e,t,i){const s=n.getContext(),a=t.defines;let o=t.vertexShader,c=t.fragmentShader;const d=ZY(t),h=$Y(t),m=eK(t),x=tK(t),y=nK(t),b=GY(t),S=qY(a),_=s.createProgram();let E,A,P=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Y0).join(`
`),E.length>0&&(E+=`
`),A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Y0).join(`
`),A.length>0&&(A+=`
`)):(E=[hR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Y0).join(`
`),A=[hR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+x:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$l?"#define TONE_MAPPING":"",t.toneMapping!==$l?Nn.tonemapping_pars_fragment:"",t.toneMapping!==$l?HY("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Nn.colorspace_pars_fragment,zY("linearToOutputTexel",t.outputColorSpace),VY(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Y0).join(`
`)),o=OE(o),o=cR(o,t),o=uR(o,t),c=OE(c),c=cR(c,t),c=uR(c,t),o=dR(o),c=dR(c),t.isRawShaderMaterial!==!0&&(P=`#version 300 es
`,E=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,A=["#define varying in",t.glslVersion===EE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===EE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const N=P+E+o,L=P+A+c,j=aR(s,s.VERTEX_SHADER,N),R=aR(s,s.FRAGMENT_SHADER,L);s.attachShader(_,j),s.attachShader(_,R),t.index0AttributeName!==void 0?s.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(_,0,"position"),s.linkProgram(_);function k(q){if(n.debug.checkShaderErrors){const Y=s.getProgramInfoLog(_)||"",G=s.getShaderInfoLog(j)||"",W=s.getShaderInfoLog(R)||"",$=Y.trim(),z=G.trim(),I=W.trim();let Q=!0,K=!0;if(s.getProgramParameter(_,s.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,_,j,R);else{const T=lR(s,j,"vertex"),X=lR(s,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(_,s.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+$+`
`+T+`
`+X)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(z===""||I==="")&&(K=!1);K&&(q.diagnostics={runnable:Q,programLog:$,vertexShader:{log:z,prefix:E},fragmentShader:{log:I,prefix:A}})}s.deleteShader(j),s.deleteShader(R),F=new m1(s,_),D=WY(s,_)}let F;this.getUniforms=function(){return F===void 0&&k(this),F};let D;this.getAttributes=function(){return D===void 0&&k(this),D};let B=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=s.getProgramParameter(_,IY)),B},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=UY++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=j,this.fragmentShader=R,this}let sK=0;class rK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(t),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new aK(e),t.set(e,i)),i}}class aK{constructor(e){this.id=sK++,this.code=e,this.usedTimes=0}}function oK(n,e,t,i,s,a,o){const c=new Rm,d=new rK,h=new Set,m=[],x=s.logarithmicDepthBuffer,y=s.vertexTextures;let b=s.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(D){return h.add(D),D===0?"uv":`uv${D}`}function E(D,B,q,Y,G){const W=Y.fog,$=G.geometry,z=D.isMeshStandardMaterial?Y.environment:null,I=(D.isMeshStandardMaterial?t:e).get(D.envMap||z),Q=I&&I.mapping===Gm?I.image.height:null,K=S[D.type];D.precision!==null&&(b=s.getMaxPrecision(D.precision),b!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",b,"instead."));const T=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,X=T!==void 0?T.length:0;let ee=0;$.morphAttributes.position!==void 0&&(ee=1),$.morphAttributes.normal!==void 0&&(ee=2),$.morphAttributes.color!==void 0&&(ee=3);let oe,ce,re,ue;if(K){const de=sl[K];oe=de.vertexShader,ce=de.fragmentShader}else oe=D.vertexShader,ce=D.fragmentShader,d.update(D),re=d.getVertexShaderID(D),ue=d.getFragmentShaderID(D);const ye=n.getRenderTarget(),Ve=n.state.buffers.depth.getReversed(),Qe=G.isInstancedMesh===!0,We=G.isBatchedMesh===!0,mt=!!D.map,ut=!!D.matcap,le=!!I,Me=!!D.aoMap,Ae=!!D.lightMap,we=!!D.bumpMap,ge=!!D.normalMap,Be=!!D.displacementMap,Ue=!!D.emissiveMap,_e=!!D.metalnessMap,$e=!!D.roughnessMap,et=D.anisotropy>0,te=D.clearcoat>0,Z=D.dispersion>0,xe=D.iridescence>0,Oe=D.sheen>0,Xe=D.transmission>0,He=et&&!!D.anisotropyMap,_t=te&&!!D.clearcoatMap,yt=te&&!!D.clearcoatNormalMap,Tt=te&&!!D.clearcoatRoughnessMap,Ot=xe&&!!D.iridescenceMap,Pe=xe&&!!D.iridescenceThicknessMap,Je=Oe&&!!D.sheenColorMap,Ct=Oe&&!!D.sheenRoughnessMap,he=!!D.specularMap,Ne=!!D.specularColorMap,ct=!!D.specularIntensityMap,fe=Xe&&!!D.transmissionMap,rt=Xe&&!!D.thicknessMap,ht=!!D.gradientMap,At=!!D.alphaMap,gt=D.alphaTest>0,tt=!!D.alphaHash,Mt=!!D.extensions;let Gt=$l;D.toneMapped&&(ye===null||ye.isXRRenderTarget===!0)&&(Gt=n.toneMapping);const yn={shaderID:K,shaderType:D.type,shaderName:D.name,vertexShader:oe,fragmentShader:ce,defines:D.defines,customVertexShaderID:re,customFragmentShaderID:ue,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:b,batching:We,batchingColor:We&&G._colorsTexture!==null,instancing:Qe,instancingColor:Qe&&G.instanceColor!==null,instancingMorph:Qe&&G.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:ye===null?n.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:yd,alphaToCoverage:!!D.alphaToCoverage,map:mt,matcap:ut,envMap:le,envMapMode:le&&I.mapping,envMapCubeUVHeight:Q,aoMap:Me,lightMap:Ae,bumpMap:we,normalMap:ge,displacementMap:y&&Be,emissiveMap:Ue,normalMapObjectSpace:ge&&D.normalMapType===iP,normalMapTangentSpace:ge&&D.normalMapType===_d,metalnessMap:_e,roughnessMap:$e,anisotropy:et,anisotropyMap:He,clearcoat:te,clearcoatMap:_t,clearcoatNormalMap:yt,clearcoatRoughnessMap:Tt,dispersion:Z,iridescence:xe,iridescenceMap:Ot,iridescenceThicknessMap:Pe,sheen:Oe,sheenColorMap:Je,sheenRoughnessMap:Ct,specularMap:he,specularColorMap:Ne,specularIntensityMap:ct,transmission:Xe,transmissionMap:fe,thicknessMap:rt,gradientMap:ht,opaque:D.transparent===!1&&D.blending===rf&&D.alphaToCoverage===!1,alphaMap:At,alphaTest:gt,alphaHash:tt,combine:D.combine,mapUv:mt&&_(D.map.channel),aoMapUv:Me&&_(D.aoMap.channel),lightMapUv:Ae&&_(D.lightMap.channel),bumpMapUv:we&&_(D.bumpMap.channel),normalMapUv:ge&&_(D.normalMap.channel),displacementMapUv:Be&&_(D.displacementMap.channel),emissiveMapUv:Ue&&_(D.emissiveMap.channel),metalnessMapUv:_e&&_(D.metalnessMap.channel),roughnessMapUv:$e&&_(D.roughnessMap.channel),anisotropyMapUv:He&&_(D.anisotropyMap.channel),clearcoatMapUv:_t&&_(D.clearcoatMap.channel),clearcoatNormalMapUv:yt&&_(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Tt&&_(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Ot&&_(D.iridescenceMap.channel),iridescenceThicknessMapUv:Pe&&_(D.iridescenceThicknessMap.channel),sheenColorMapUv:Je&&_(D.sheenColorMap.channel),sheenRoughnessMapUv:Ct&&_(D.sheenRoughnessMap.channel),specularMapUv:he&&_(D.specularMap.channel),specularColorMapUv:Ne&&_(D.specularColorMap.channel),specularIntensityMapUv:ct&&_(D.specularIntensityMap.channel),transmissionMapUv:fe&&_(D.transmissionMap.channel),thicknessMapUv:rt&&_(D.thicknessMap.channel),alphaMapUv:At&&_(D.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ge||et),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!$.attributes.uv&&(mt||At),fog:!!W,useFog:D.fog===!0,fogExp2:!!W&&W.isFogExp2,flatShading:D.flatShading===!0&&D.wireframe===!1,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:x,reversedDepthBuffer:Ve,skinning:G.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ee,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:D.dithering,shadowMapEnabled:n.shadowMap.enabled&&q.length>0,shadowMapType:n.shadowMap.type,toneMapping:Gt,decodeVideoTexture:mt&&D.map.isVideoTexture===!0&&Wn.getTransfer(D.map.colorSpace)===mi,decodeVideoTextureEmissive:Ue&&D.emissiveMap.isVideoTexture===!0&&Wn.getTransfer(D.emissiveMap.colorSpace)===mi,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===rl,flipSided:D.side===Yr,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:Mt&&D.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Mt&&D.extensions.multiDraw===!0||We)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return yn.vertexUv1s=h.has(1),yn.vertexUv2s=h.has(2),yn.vertexUv3s=h.has(3),h.clear(),yn}function A(D){const B=[];if(D.shaderID?B.push(D.shaderID):(B.push(D.customVertexShaderID),B.push(D.customFragmentShaderID)),D.defines!==void 0)for(const q in D.defines)B.push(q),B.push(D.defines[q]);return D.isRawShaderMaterial===!1&&(P(B,D),N(B,D),B.push(n.outputColorSpace)),B.push(D.customProgramCacheKey),B.join()}function P(D,B){D.push(B.precision),D.push(B.outputColorSpace),D.push(B.envMapMode),D.push(B.envMapCubeUVHeight),D.push(B.mapUv),D.push(B.alphaMapUv),D.push(B.lightMapUv),D.push(B.aoMapUv),D.push(B.bumpMapUv),D.push(B.normalMapUv),D.push(B.displacementMapUv),D.push(B.emissiveMapUv),D.push(B.metalnessMapUv),D.push(B.roughnessMapUv),D.push(B.anisotropyMapUv),D.push(B.clearcoatMapUv),D.push(B.clearcoatNormalMapUv),D.push(B.clearcoatRoughnessMapUv),D.push(B.iridescenceMapUv),D.push(B.iridescenceThicknessMapUv),D.push(B.sheenColorMapUv),D.push(B.sheenRoughnessMapUv),D.push(B.specularMapUv),D.push(B.specularColorMapUv),D.push(B.specularIntensityMapUv),D.push(B.transmissionMapUv),D.push(B.thicknessMapUv),D.push(B.combine),D.push(B.fogExp2),D.push(B.sizeAttenuation),D.push(B.morphTargetsCount),D.push(B.morphAttributeCount),D.push(B.numDirLights),D.push(B.numPointLights),D.push(B.numSpotLights),D.push(B.numSpotLightMaps),D.push(B.numHemiLights),D.push(B.numRectAreaLights),D.push(B.numDirLightShadows),D.push(B.numPointLightShadows),D.push(B.numSpotLightShadows),D.push(B.numSpotLightShadowsWithMaps),D.push(B.numLightProbes),D.push(B.shadowMapType),D.push(B.toneMapping),D.push(B.numClippingPlanes),D.push(B.numClipIntersection),D.push(B.depthPacking)}function N(D,B){c.disableAll(),B.supportsVertexTextures&&c.enable(0),B.instancing&&c.enable(1),B.instancingColor&&c.enable(2),B.instancingMorph&&c.enable(3),B.matcap&&c.enable(4),B.envMap&&c.enable(5),B.normalMapObjectSpace&&c.enable(6),B.normalMapTangentSpace&&c.enable(7),B.clearcoat&&c.enable(8),B.iridescence&&c.enable(9),B.alphaTest&&c.enable(10),B.vertexColors&&c.enable(11),B.vertexAlphas&&c.enable(12),B.vertexUv1s&&c.enable(13),B.vertexUv2s&&c.enable(14),B.vertexUv3s&&c.enable(15),B.vertexTangents&&c.enable(16),B.anisotropy&&c.enable(17),B.alphaHash&&c.enable(18),B.batching&&c.enable(19),B.dispersion&&c.enable(20),B.batchingColor&&c.enable(21),B.gradientMap&&c.enable(22),D.push(c.mask),c.disableAll(),B.fog&&c.enable(0),B.useFog&&c.enable(1),B.flatShading&&c.enable(2),B.logarithmicDepthBuffer&&c.enable(3),B.reversedDepthBuffer&&c.enable(4),B.skinning&&c.enable(5),B.morphTargets&&c.enable(6),B.morphNormals&&c.enable(7),B.morphColors&&c.enable(8),B.premultipliedAlpha&&c.enable(9),B.shadowMapEnabled&&c.enable(10),B.doubleSided&&c.enable(11),B.flipSided&&c.enable(12),B.useDepthPacking&&c.enable(13),B.dithering&&c.enable(14),B.transmission&&c.enable(15),B.sheen&&c.enable(16),B.opaque&&c.enable(17),B.pointsUvs&&c.enable(18),B.decodeVideoTexture&&c.enable(19),B.decodeVideoTextureEmissive&&c.enable(20),B.alphaToCoverage&&c.enable(21),D.push(c.mask)}function L(D){const B=S[D.type];let q;if(B){const Y=sl[B];q=xP.clone(Y.uniforms)}else q=D.uniforms;return q}function j(D,B){let q;for(let Y=0,G=m.length;Y<G;Y++){const W=m[Y];if(W.cacheKey===B){q=W,++q.usedTimes;break}}return q===void 0&&(q=new iK(n,B,D,a),m.push(q)),q}function R(D){if(--D.usedTimes===0){const B=m.indexOf(D);m[B]=m[m.length-1],m.pop(),D.destroy()}}function k(D){d.remove(D)}function F(){d.dispose()}return{getParameters:E,getProgramCacheKey:A,getUniforms:L,acquireProgram:j,releaseProgram:R,releaseShaderCache:k,programs:m,dispose:F}}function lK(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function s(o,c,d){n.get(o)[c]=d}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:s,dispose:a}}function cK(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function fR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function pR(){const n=[];let e=0;const t=[],i=[],s=[];function a(){e=0,t.length=0,i.length=0,s.length=0}function o(x,y,b,S,_,E){let A=n[e];return A===void 0?(A={id:x.id,object:x,geometry:y,material:b,groupOrder:S,renderOrder:x.renderOrder,z:_,group:E},n[e]=A):(A.id=x.id,A.object=x,A.geometry=y,A.material=b,A.groupOrder=S,A.renderOrder=x.renderOrder,A.z=_,A.group=E),e++,A}function c(x,y,b,S,_,E){const A=o(x,y,b,S,_,E);b.transmission>0?i.push(A):b.transparent===!0?s.push(A):t.push(A)}function d(x,y,b,S,_,E){const A=o(x,y,b,S,_,E);b.transmission>0?i.unshift(A):b.transparent===!0?s.unshift(A):t.unshift(A)}function h(x,y){t.length>1&&t.sort(x||cK),i.length>1&&i.sort(y||fR),s.length>1&&s.sort(y||fR)}function m(){for(let x=e,y=n.length;x<y;x++){const b=n[x];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:s,init:a,push:c,unshift:d,finish:m,sort:h}}function uK(){let n=new WeakMap;function e(i,s){const a=n.get(i);let o;return a===void 0?(o=new pR,n.set(i,[o])):s>=a.length?(o=new pR,a.push(o)):o=a[s],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function dK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ae,color:new Nt};break;case"SpotLight":t={position:new ae,direction:new ae,color:new Nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ae,color:new Nt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ae,skyColor:new Nt,groundColor:new Nt};break;case"RectAreaLight":t={color:new Nt,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return n[e.id]=t,t}}}function hK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let fK=0;function pK(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function mK(n){const e=new dK,t=hK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new ae);const s=new ae,a=new an,o=new an;function c(h){let m=0,x=0,y=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let b=0,S=0,_=0,E=0,A=0,P=0,N=0,L=0,j=0,R=0,k=0;h.sort(pK);for(let D=0,B=h.length;D<B;D++){const q=h[D],Y=q.color,G=q.intensity,W=q.distance,$=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)m+=Y.r*G,x+=Y.g*G,y+=Y.b*G;else if(q.isLightProbe){for(let z=0;z<9;z++)i.probe[z].addScaledVector(q.sh.coefficients[z],G);k++}else if(q.isDirectionalLight){const z=e.get(q);if(z.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const I=q.shadow,Q=t.get(q);Q.shadowIntensity=I.intensity,Q.shadowBias=I.bias,Q.shadowNormalBias=I.normalBias,Q.shadowRadius=I.radius,Q.shadowMapSize=I.mapSize,i.directionalShadow[b]=Q,i.directionalShadowMap[b]=$,i.directionalShadowMatrix[b]=q.shadow.matrix,P++}i.directional[b]=z,b++}else if(q.isSpotLight){const z=e.get(q);z.position.setFromMatrixPosition(q.matrixWorld),z.color.copy(Y).multiplyScalar(G),z.distance=W,z.coneCos=Math.cos(q.angle),z.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),z.decay=q.decay,i.spot[_]=z;const I=q.shadow;if(q.map&&(i.spotLightMap[j]=q.map,j++,I.updateMatrices(q),q.castShadow&&R++),i.spotLightMatrix[_]=I.matrix,q.castShadow){const Q=t.get(q);Q.shadowIntensity=I.intensity,Q.shadowBias=I.bias,Q.shadowNormalBias=I.normalBias,Q.shadowRadius=I.radius,Q.shadowMapSize=I.mapSize,i.spotShadow[_]=Q,i.spotShadowMap[_]=$,L++}_++}else if(q.isRectAreaLight){const z=e.get(q);z.color.copy(Y).multiplyScalar(G),z.halfWidth.set(q.width*.5,0,0),z.halfHeight.set(0,q.height*.5,0),i.rectArea[E]=z,E++}else if(q.isPointLight){const z=e.get(q);if(z.color.copy(q.color).multiplyScalar(q.intensity),z.distance=q.distance,z.decay=q.decay,q.castShadow){const I=q.shadow,Q=t.get(q);Q.shadowIntensity=I.intensity,Q.shadowBias=I.bias,Q.shadowNormalBias=I.normalBias,Q.shadowRadius=I.radius,Q.shadowMapSize=I.mapSize,Q.shadowCameraNear=I.camera.near,Q.shadowCameraFar=I.camera.far,i.pointShadow[S]=Q,i.pointShadowMap[S]=$,i.pointShadowMatrix[S]=q.shadow.matrix,N++}i.point[S]=z,S++}else if(q.isHemisphereLight){const z=e.get(q);z.skyColor.copy(q.color).multiplyScalar(G),z.groundColor.copy(q.groundColor).multiplyScalar(G),i.hemi[A]=z,A++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Bt.LTC_FLOAT_1,i.rectAreaLTC2=Bt.LTC_FLOAT_2):(i.rectAreaLTC1=Bt.LTC_HALF_1,i.rectAreaLTC2=Bt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=x,i.ambient[2]=y;const F=i.hash;(F.directionalLength!==b||F.pointLength!==S||F.spotLength!==_||F.rectAreaLength!==E||F.hemiLength!==A||F.numDirectionalShadows!==P||F.numPointShadows!==N||F.numSpotShadows!==L||F.numSpotMaps!==j||F.numLightProbes!==k)&&(i.directional.length=b,i.spot.length=_,i.rectArea.length=E,i.point.length=S,i.hemi.length=A,i.directionalShadow.length=P,i.directionalShadowMap.length=P,i.pointShadow.length=N,i.pointShadowMap.length=N,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=P,i.pointShadowMatrix.length=N,i.spotLightMatrix.length=L+j-R,i.spotLightMap.length=j,i.numSpotLightShadowsWithMaps=R,i.numLightProbes=k,F.directionalLength=b,F.pointLength=S,F.spotLength=_,F.rectAreaLength=E,F.hemiLength=A,F.numDirectionalShadows=P,F.numPointShadows=N,F.numSpotShadows=L,F.numSpotMaps=j,F.numLightProbes=k,i.version=fK++)}function d(h,m){let x=0,y=0,b=0,S=0,_=0;const E=m.matrixWorldInverse;for(let A=0,P=h.length;A<P;A++){const N=h[A];if(N.isDirectionalLight){const L=i.directional[x];L.direction.setFromMatrixPosition(N.matrixWorld),s.setFromMatrixPosition(N.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(E),x++}else if(N.isSpotLight){const L=i.spot[b];L.position.setFromMatrixPosition(N.matrixWorld),L.position.applyMatrix4(E),L.direction.setFromMatrixPosition(N.matrixWorld),s.setFromMatrixPosition(N.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(E),b++}else if(N.isRectAreaLight){const L=i.rectArea[S];L.position.setFromMatrixPosition(N.matrixWorld),L.position.applyMatrix4(E),o.identity(),a.copy(N.matrixWorld),a.premultiply(E),o.extractRotation(a),L.halfWidth.set(N.width*.5,0,0),L.halfHeight.set(0,N.height*.5,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),S++}else if(N.isPointLight){const L=i.point[y];L.position.setFromMatrixPosition(N.matrixWorld),L.position.applyMatrix4(E),y++}else if(N.isHemisphereLight){const L=i.hemi[_];L.direction.setFromMatrixPosition(N.matrixWorld),L.direction.transformDirection(E),_++}}}return{setup:c,setupView:d,state:i}}function mR(n){const e=new mK(n),t=[],i=[];function s(m){h.camera=m,t.length=0,i.length=0}function a(m){t.push(m)}function o(m){i.push(m)}function c(){e.setup(t)}function d(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:h,setupLights:c,setupLightsView:d,pushLight:a,pushShadow:o}}function gK(n){let e=new WeakMap;function t(s,a=0){const o=e.get(s);let c;return o===void 0?(c=new mR(n),e.set(s,[c])):a>=o.length?(c=new mR(n),o.push(c)):c=o[a],c}function i(){e=new WeakMap}return{get:t,dispose:i}}const xK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,yK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vK(n,e,t){let i=new Wm;const s=new st,a=new st,o=new $n,c=new mM({depthPacking:nP}),d=new gM,h={},m=t.maxTextureSize,x={[sc]:Yr,[Yr]:sc,[rl]:rl},y=new ll({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new st},radius:{value:4}},vertexShader:xK,fragmentShader:yK}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const S=new Sn;S.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new us(S,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l2;let A=this.type;this.render=function(R,k,F){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||R.length===0)return;const D=n.getRenderTarget(),B=n.getActiveCubeFace(),q=n.getActiveMipmapLevel(),Y=n.state;Y.setBlending(Wc),Y.buffers.depth.getReversed()?Y.buffers.color.setClear(0,0,0,0):Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const G=A!==nl&&this.type===nl,W=A===nl&&this.type!==nl;for(let $=0,z=R.length;$<z;$++){const I=R[$],Q=I.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",I,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;s.copy(Q.mapSize);const K=Q.getFrameExtents();if(s.multiply(K),a.copy(Q.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(a.x=Math.floor(m/K.x),s.x=a.x*K.x,Q.mapSize.x=a.x),s.y>m&&(a.y=Math.floor(m/K.y),s.y=a.y*K.y,Q.mapSize.y=a.y)),Q.map===null||G===!0||W===!0){const X=this.type!==nl?{minFilter:Gs,magFilter:Gs}:{};Q.map!==null&&Q.map.dispose(),Q.map=new rc(s.x,s.y,X),Q.map.texture.name=I.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const T=Q.getViewportCount();for(let X=0;X<T;X++){const ee=Q.getViewport(X);o.set(a.x*ee.x,a.y*ee.y,a.x*ee.z,a.y*ee.w),Y.viewport(o),Q.updateMatrices(I,X),i=Q.getFrustum(),L(k,F,Q.camera,I,this.type)}Q.isPointLightShadow!==!0&&this.type===nl&&P(Q,F),Q.needsUpdate=!1}A=this.type,E.needsUpdate=!1,n.setRenderTarget(D,B,q)};function P(R,k){const F=e.update(_);y.defines.VSM_SAMPLES!==R.blurSamples&&(y.defines.VSM_SAMPLES=R.blurSamples,b.defines.VSM_SAMPLES=R.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new rc(s.x,s.y)),y.uniforms.shadow_pass.value=R.map.texture,y.uniforms.resolution.value=R.mapSize,y.uniforms.radius.value=R.radius,n.setRenderTarget(R.mapPass),n.clear(),n.renderBufferDirect(k,null,F,y,_,null),b.uniforms.shadow_pass.value=R.mapPass.texture,b.uniforms.resolution.value=R.mapSize,b.uniforms.radius.value=R.radius,n.setRenderTarget(R.map),n.clear(),n.renderBufferDirect(k,null,F,b,_,null)}function N(R,k,F,D){let B=null;const q=F.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(q!==void 0)B=q;else if(B=F.isPointLight===!0?d:c,n.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0||k.alphaToCoverage===!0){const Y=B.uuid,G=k.uuid;let W=h[Y];W===void 0&&(W={},h[Y]=W);let $=W[G];$===void 0&&($=B.clone(),W[G]=$,k.addEventListener("dispose",j)),B=$}if(B.visible=k.visible,B.wireframe=k.wireframe,D===nl?B.side=k.shadowSide!==null?k.shadowSide:k.side:B.side=k.shadowSide!==null?k.shadowSide:x[k.side],B.alphaMap=k.alphaMap,B.alphaTest=k.alphaToCoverage===!0?.5:k.alphaTest,B.map=k.map,B.clipShadows=k.clipShadows,B.clippingPlanes=k.clippingPlanes,B.clipIntersection=k.clipIntersection,B.displacementMap=k.displacementMap,B.displacementScale=k.displacementScale,B.displacementBias=k.displacementBias,B.wireframeLinewidth=k.wireframeLinewidth,B.linewidth=k.linewidth,F.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const Y=n.properties.get(B);Y.light=F}return B}function L(R,k,F,D,B){if(R.visible===!1)return;if(R.layers.test(k.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&B===nl)&&(!R.frustumCulled||i.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,R.matrixWorld);const G=e.update(R),W=R.material;if(Array.isArray(W)){const $=G.groups;for(let z=0,I=$.length;z<I;z++){const Q=$[z],K=W[Q.materialIndex];if(K&&K.visible){const T=N(R,K,D,B);R.onBeforeShadow(n,R,k,F,G,T,Q),n.renderBufferDirect(F,null,G,T,R,Q),R.onAfterShadow(n,R,k,F,G,T,Q)}}}else if(W.visible){const $=N(R,W,D,B);R.onBeforeShadow(n,R,k,F,G,$,null),n.renderBufferDirect(F,null,G,$,R,null),R.onAfterShadow(n,R,k,F,G,$,null)}}const Y=R.children;for(let G=0,W=Y.length;G<W;G++)L(Y[G],k,F,D,B)}function j(R){R.target.removeEventListener("dispose",j);for(const F in h){const D=h[F],B=R.target.uuid;B in D&&(D[B].dispose(),delete D[B])}}}const bK={[z1]:H1,[V1]:W1,[G1]:X1,[hf]:q1,[H1]:z1,[W1]:V1,[X1]:G1,[q1]:hf};function wK(n,e){function t(){let fe=!1;const rt=new $n;let ht=null;const At=new $n(0,0,0,0);return{setMask:function(gt){ht!==gt&&!fe&&(n.colorMask(gt,gt,gt,gt),ht=gt)},setLocked:function(gt){fe=gt},setClear:function(gt,tt,Mt,Gt,yn){yn===!0&&(gt*=Gt,tt*=Gt,Mt*=Gt),rt.set(gt,tt,Mt,Gt),At.equals(rt)===!1&&(n.clearColor(gt,tt,Mt,Gt),At.copy(rt))},reset:function(){fe=!1,ht=null,At.set(-1,0,0,0)}}}function i(){let fe=!1,rt=!1,ht=null,At=null,gt=null;return{setReversed:function(tt){if(rt!==tt){const Mt=e.get("EXT_clip_control");tt?Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.ZERO_TO_ONE_EXT):Mt.clipControlEXT(Mt.LOWER_LEFT_EXT,Mt.NEGATIVE_ONE_TO_ONE_EXT),rt=tt;const Gt=gt;gt=null,this.setClear(Gt)}},getReversed:function(){return rt},setTest:function(tt){tt?ye(n.DEPTH_TEST):Ve(n.DEPTH_TEST)},setMask:function(tt){ht!==tt&&!fe&&(n.depthMask(tt),ht=tt)},setFunc:function(tt){if(rt&&(tt=bK[tt]),At!==tt){switch(tt){case z1:n.depthFunc(n.NEVER);break;case H1:n.depthFunc(n.ALWAYS);break;case V1:n.depthFunc(n.LESS);break;case hf:n.depthFunc(n.LEQUAL);break;case G1:n.depthFunc(n.EQUAL);break;case q1:n.depthFunc(n.GEQUAL);break;case W1:n.depthFunc(n.GREATER);break;case X1:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}At=tt}},setLocked:function(tt){fe=tt},setClear:function(tt){gt!==tt&&(rt&&(tt=1-tt),n.clearDepth(tt),gt=tt)},reset:function(){fe=!1,ht=null,At=null,gt=null,rt=!1}}}function s(){let fe=!1,rt=null,ht=null,At=null,gt=null,tt=null,Mt=null,Gt=null,yn=null;return{setTest:function(de){fe||(de?ye(n.STENCIL_TEST):Ve(n.STENCIL_TEST))},setMask:function(de){rt!==de&&!fe&&(n.stencilMask(de),rt=de)},setFunc:function(de,Ce,Le){(ht!==de||At!==Ce||gt!==Le)&&(n.stencilFunc(de,Ce,Le),ht=de,At=Ce,gt=Le)},setOp:function(de,Ce,Le){(tt!==de||Mt!==Ce||Gt!==Le)&&(n.stencilOp(de,Ce,Le),tt=de,Mt=Ce,Gt=Le)},setLocked:function(de){fe=de},setClear:function(de){yn!==de&&(n.clearStencil(de),yn=de)},reset:function(){fe=!1,rt=null,ht=null,At=null,gt=null,tt=null,Mt=null,Gt=null,yn=null}}}const a=new t,o=new i,c=new s,d=new WeakMap,h=new WeakMap;let m={},x={},y=new WeakMap,b=[],S=null,_=!1,E=null,A=null,P=null,N=null,L=null,j=null,R=null,k=new Nt(0,0,0),F=0,D=!1,B=null,q=null,Y=null,G=null,W=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,I=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(I=parseFloat(/^WebGL (\d)/.exec(Q)[1]),z=I>=1):Q.indexOf("OpenGL ES")!==-1&&(I=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),z=I>=2);let K=null,T={};const X=n.getParameter(n.SCISSOR_BOX),ee=n.getParameter(n.VIEWPORT),oe=new $n().fromArray(X),ce=new $n().fromArray(ee);function re(fe,rt,ht,At){const gt=new Uint8Array(4),tt=n.createTexture();n.bindTexture(fe,tt),n.texParameteri(fe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(fe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Mt=0;Mt<ht;Mt++)fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY?n.texImage3D(rt,0,n.RGBA,1,1,At,0,n.RGBA,n.UNSIGNED_BYTE,gt):n.texImage2D(rt+Mt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,gt);return tt}const ue={};ue[n.TEXTURE_2D]=re(n.TEXTURE_2D,n.TEXTURE_2D,1),ue[n.TEXTURE_CUBE_MAP]=re(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ue[n.TEXTURE_2D_ARRAY]=re(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ue[n.TEXTURE_3D]=re(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),ye(n.DEPTH_TEST),o.setFunc(hf),we(!1),ge(vE),ye(n.CULL_FACE),Me(Wc);function ye(fe){m[fe]!==!0&&(n.enable(fe),m[fe]=!0)}function Ve(fe){m[fe]!==!1&&(n.disable(fe),m[fe]=!1)}function Qe(fe,rt){return x[fe]!==rt?(n.bindFramebuffer(fe,rt),x[fe]=rt,fe===n.DRAW_FRAMEBUFFER&&(x[n.FRAMEBUFFER]=rt),fe===n.FRAMEBUFFER&&(x[n.DRAW_FRAMEBUFFER]=rt),!0):!1}function We(fe,rt){let ht=b,At=!1;if(fe){ht=y.get(rt),ht===void 0&&(ht=[],y.set(rt,ht));const gt=fe.textures;if(ht.length!==gt.length||ht[0]!==n.COLOR_ATTACHMENT0){for(let tt=0,Mt=gt.length;tt<Mt;tt++)ht[tt]=n.COLOR_ATTACHMENT0+tt;ht.length=gt.length,At=!0}}else ht[0]!==n.BACK&&(ht[0]=n.BACK,At=!0);At&&n.drawBuffers(ht)}function mt(fe){return S!==fe?(n.useProgram(fe),S=fe,!0):!1}const ut={[ld]:n.FUNC_ADD,[EO]:n.FUNC_SUBTRACT,[CO]:n.FUNC_REVERSE_SUBTRACT};ut[MO]=n.MIN,ut[TO]=n.MAX;const le={[NO]:n.ZERO,[jO]:n.ONE,[RO]:n.SRC_COLOR,[k1]:n.SRC_ALPHA,[IO]:n.SRC_ALPHA_SATURATE,[PO]:n.DST_COLOR,[DO]:n.DST_ALPHA,[BO]:n.ONE_MINUS_SRC_COLOR,[F1]:n.ONE_MINUS_SRC_ALPHA,[LO]:n.ONE_MINUS_DST_COLOR,[OO]:n.ONE_MINUS_DST_ALPHA,[UO]:n.CONSTANT_COLOR,[kO]:n.ONE_MINUS_CONSTANT_COLOR,[FO]:n.CONSTANT_ALPHA,[zO]:n.ONE_MINUS_CONSTANT_ALPHA};function Me(fe,rt,ht,At,gt,tt,Mt,Gt,yn,de){if(fe===Wc){_===!0&&(Ve(n.BLEND),_=!1);return}if(_===!1&&(ye(n.BLEND),_=!0),fe!==_O){if(fe!==E||de!==D){if((A!==ld||L!==ld)&&(n.blendEquation(n.FUNC_ADD),A=ld,L=ld),de)switch(fe){case rf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case bE:n.blendFunc(n.ONE,n.ONE);break;case wE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case SE:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case rf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case bE:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case wE:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case SE:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}P=null,N=null,j=null,R=null,k.set(0,0,0),F=0,E=fe,D=de}return}gt=gt||rt,tt=tt||ht,Mt=Mt||At,(rt!==A||gt!==L)&&(n.blendEquationSeparate(ut[rt],ut[gt]),A=rt,L=gt),(ht!==P||At!==N||tt!==j||Mt!==R)&&(n.blendFuncSeparate(le[ht],le[At],le[tt],le[Mt]),P=ht,N=At,j=tt,R=Mt),(Gt.equals(k)===!1||yn!==F)&&(n.blendColor(Gt.r,Gt.g,Gt.b,yn),k.copy(Gt),F=yn),E=fe,D=!1}function Ae(fe,rt){fe.side===rl?Ve(n.CULL_FACE):ye(n.CULL_FACE);let ht=fe.side===Yr;rt&&(ht=!ht),we(ht),fe.blending===rf&&fe.transparent===!1?Me(Wc):Me(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),o.setFunc(fe.depthFunc),o.setTest(fe.depthTest),o.setMask(fe.depthWrite),a.setMask(fe.colorWrite);const At=fe.stencilWrite;c.setTest(At),At&&(c.setMask(fe.stencilWriteMask),c.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),c.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Ue(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?ye(n.SAMPLE_ALPHA_TO_COVERAGE):Ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function we(fe){B!==fe&&(fe?n.frontFace(n.CW):n.frontFace(n.CCW),B=fe)}function ge(fe){fe!==wO?(ye(n.CULL_FACE),fe!==q&&(fe===vE?n.cullFace(n.BACK):fe===SO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ve(n.CULL_FACE),q=fe}function Be(fe){fe!==Y&&(z&&n.lineWidth(fe),Y=fe)}function Ue(fe,rt,ht){fe?(ye(n.POLYGON_OFFSET_FILL),(G!==rt||W!==ht)&&(n.polygonOffset(rt,ht),G=rt,W=ht)):Ve(n.POLYGON_OFFSET_FILL)}function _e(fe){fe?ye(n.SCISSOR_TEST):Ve(n.SCISSOR_TEST)}function $e(fe){fe===void 0&&(fe=n.TEXTURE0+$-1),K!==fe&&(n.activeTexture(fe),K=fe)}function et(fe,rt,ht){ht===void 0&&(K===null?ht=n.TEXTURE0+$-1:ht=K);let At=T[ht];At===void 0&&(At={type:void 0,texture:void 0},T[ht]=At),(At.type!==fe||At.texture!==rt)&&(K!==ht&&(n.activeTexture(ht),K=ht),n.bindTexture(fe,rt||ue[fe]),At.type=fe,At.texture=rt)}function te(){const fe=T[K];fe!==void 0&&fe.type!==void 0&&(n.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function Z(){try{n.compressedTexImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function xe(){try{n.compressedTexImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Oe(){try{n.texSubImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Xe(){try{n.texSubImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function He(){try{n.compressedTexSubImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function _t(){try{n.compressedTexSubImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function yt(){try{n.texStorage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Tt(){try{n.texStorage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ot(){try{n.texImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Pe(){try{n.texImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Je(fe){oe.equals(fe)===!1&&(n.scissor(fe.x,fe.y,fe.z,fe.w),oe.copy(fe))}function Ct(fe){ce.equals(fe)===!1&&(n.viewport(fe.x,fe.y,fe.z,fe.w),ce.copy(fe))}function he(fe,rt){let ht=h.get(rt);ht===void 0&&(ht=new WeakMap,h.set(rt,ht));let At=ht.get(fe);At===void 0&&(At=n.getUniformBlockIndex(rt,fe.name),ht.set(fe,At))}function Ne(fe,rt){const At=h.get(rt).get(fe);d.get(rt)!==At&&(n.uniformBlockBinding(rt,At,fe.__bindingPointIndex),d.set(rt,At))}function ct(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},K=null,T={},x={},y=new WeakMap,b=[],S=null,_=!1,E=null,A=null,P=null,N=null,L=null,j=null,R=null,k=new Nt(0,0,0),F=0,D=!1,B=null,q=null,Y=null,G=null,W=null,oe.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:ye,disable:Ve,bindFramebuffer:Qe,drawBuffers:We,useProgram:mt,setBlending:Me,setMaterial:Ae,setFlipSided:we,setCullFace:ge,setLineWidth:Be,setPolygonOffset:Ue,setScissorTest:_e,activeTexture:$e,bindTexture:et,unbindTexture:te,compressedTexImage2D:Z,compressedTexImage3D:xe,texImage2D:Ot,texImage3D:Pe,updateUBOMapping:he,uniformBlockBinding:Ne,texStorage2D:yt,texStorage3D:Tt,texSubImage2D:Oe,texSubImage3D:Xe,compressedTexSubImage2D:He,compressedTexSubImage3D:_t,scissor:Je,viewport:Ct,reset:ct}}function SK(n,e,t,i,s,a,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new st,m=new WeakMap;let x;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(te,Z){return b?new OffscreenCanvas(te,Z):Cx("canvas")}function _(te,Z,xe){let Oe=1;const Xe=et(te);if((Xe.width>xe||Xe.height>xe)&&(Oe=xe/Math.max(Xe.width,Xe.height)),Oe<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const He=Math.floor(Oe*Xe.width),_t=Math.floor(Oe*Xe.height);x===void 0&&(x=S(He,_t));const yt=Z?S(He,_t):x;return yt.width=He,yt.height=_t,yt.getContext("2d").drawImage(te,0,0,He,_t),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xe.width+"x"+Xe.height+") to ("+He+"x"+_t+")."),yt}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Xe.width+"x"+Xe.height+")."),te;return te}function E(te){return te.generateMipmaps}function A(te){n.generateMipmap(te)}function P(te){return te.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?n.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function N(te,Z,xe,Oe,Xe=!1){if(te!==null){if(n[te]!==void 0)return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let He=Z;if(Z===n.RED&&(xe===n.FLOAT&&(He=n.R32F),xe===n.HALF_FLOAT&&(He=n.R16F),xe===n.UNSIGNED_BYTE&&(He=n.R8)),Z===n.RED_INTEGER&&(xe===n.UNSIGNED_BYTE&&(He=n.R8UI),xe===n.UNSIGNED_SHORT&&(He=n.R16UI),xe===n.UNSIGNED_INT&&(He=n.R32UI),xe===n.BYTE&&(He=n.R8I),xe===n.SHORT&&(He=n.R16I),xe===n.INT&&(He=n.R32I)),Z===n.RG&&(xe===n.FLOAT&&(He=n.RG32F),xe===n.HALF_FLOAT&&(He=n.RG16F),xe===n.UNSIGNED_BYTE&&(He=n.RG8)),Z===n.RG_INTEGER&&(xe===n.UNSIGNED_BYTE&&(He=n.RG8UI),xe===n.UNSIGNED_SHORT&&(He=n.RG16UI),xe===n.UNSIGNED_INT&&(He=n.RG32UI),xe===n.BYTE&&(He=n.RG8I),xe===n.SHORT&&(He=n.RG16I),xe===n.INT&&(He=n.RG32I)),Z===n.RGB_INTEGER&&(xe===n.UNSIGNED_BYTE&&(He=n.RGB8UI),xe===n.UNSIGNED_SHORT&&(He=n.RGB16UI),xe===n.UNSIGNED_INT&&(He=n.RGB32UI),xe===n.BYTE&&(He=n.RGB8I),xe===n.SHORT&&(He=n.RGB16I),xe===n.INT&&(He=n.RGB32I)),Z===n.RGBA_INTEGER&&(xe===n.UNSIGNED_BYTE&&(He=n.RGBA8UI),xe===n.UNSIGNED_SHORT&&(He=n.RGBA16UI),xe===n.UNSIGNED_INT&&(He=n.RGBA32UI),xe===n.BYTE&&(He=n.RGBA8I),xe===n.SHORT&&(He=n.RGBA16I),xe===n.INT&&(He=n.RGBA32I)),Z===n.RGB&&xe===n.UNSIGNED_INT_5_9_9_9_REV&&(He=n.RGB9_E5),Z===n.RGBA){const _t=Xe?_x:Wn.getTransfer(Oe);xe===n.FLOAT&&(He=n.RGBA32F),xe===n.HALF_FLOAT&&(He=n.RGBA16F),xe===n.UNSIGNED_BYTE&&(He=_t===mi?n.SRGB8_ALPHA8:n.RGBA8),xe===n.UNSIGNED_SHORT_4_4_4_4&&(He=n.RGBA4),xe===n.UNSIGNED_SHORT_5_5_5_1&&(He=n.RGB5_A1)}return(He===n.R16F||He===n.R32F||He===n.RG16F||He===n.RG32F||He===n.RGBA16F||He===n.RGBA32F)&&e.get("EXT_color_buffer_float"),He}function L(te,Z){let xe;return te?Z===null||Z===$c||Z===_m?xe=n.DEPTH24_STENCIL8:Z===ga?xe=n.DEPTH32F_STENCIL8:Z===Am&&(xe=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===$c||Z===_m?xe=n.DEPTH_COMPONENT24:Z===ga?xe=n.DEPTH_COMPONENT32F:Z===Am&&(xe=n.DEPTH_COMPONENT16),xe}function j(te,Z){return E(te)===!0||te.isFramebufferTexture&&te.minFilter!==Gs&&te.minFilter!==cs?Math.log2(Math.max(Z.width,Z.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?Z.mipmaps.length:1}function R(te){const Z=te.target;Z.removeEventListener("dispose",R),F(Z),Z.isVideoTexture&&m.delete(Z)}function k(te){const Z=te.target;Z.removeEventListener("dispose",k),B(Z)}function F(te){const Z=i.get(te);if(Z.__webglInit===void 0)return;const xe=te.source,Oe=y.get(xe);if(Oe){const Xe=Oe[Z.__cacheKey];Xe.usedTimes--,Xe.usedTimes===0&&D(te),Object.keys(Oe).length===0&&y.delete(xe)}i.remove(te)}function D(te){const Z=i.get(te);n.deleteTexture(Z.__webglTexture);const xe=te.source,Oe=y.get(xe);delete Oe[Z.__cacheKey],o.memory.textures--}function B(te){const Z=i.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),i.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let Oe=0;Oe<6;Oe++){if(Array.isArray(Z.__webglFramebuffer[Oe]))for(let Xe=0;Xe<Z.__webglFramebuffer[Oe].length;Xe++)n.deleteFramebuffer(Z.__webglFramebuffer[Oe][Xe]);else n.deleteFramebuffer(Z.__webglFramebuffer[Oe]);Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Oe])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Oe=0;Oe<Z.__webglFramebuffer.length;Oe++)n.deleteFramebuffer(Z.__webglFramebuffer[Oe]);else n.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Oe=0;Oe<Z.__webglColorRenderbuffer.length;Oe++)Z.__webglColorRenderbuffer[Oe]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Oe]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const xe=te.textures;for(let Oe=0,Xe=xe.length;Oe<Xe;Oe++){const He=i.get(xe[Oe]);He.__webglTexture&&(n.deleteTexture(He.__webglTexture),o.memory.textures--),i.remove(xe[Oe])}i.remove(te)}let q=0;function Y(){q=0}function G(){const te=q;return te>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+s.maxTextures),q+=1,te}function W(te){const Z=[];return Z.push(te.wrapS),Z.push(te.wrapT),Z.push(te.wrapR||0),Z.push(te.magFilter),Z.push(te.minFilter),Z.push(te.anisotropy),Z.push(te.internalFormat),Z.push(te.format),Z.push(te.type),Z.push(te.generateMipmaps),Z.push(te.premultiplyAlpha),Z.push(te.flipY),Z.push(te.unpackAlignment),Z.push(te.colorSpace),Z.join()}function $(te,Z){const xe=i.get(te);if(te.isVideoTexture&&_e(te),te.isRenderTargetTexture===!1&&te.isExternalTexture!==!0&&te.version>0&&xe.__version!==te.version){const Oe=te.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(xe,te,Z);return}}else te.isExternalTexture&&(xe.__webglTexture=te.sourceTexture?te.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,xe.__webglTexture,n.TEXTURE0+Z)}function z(te,Z){const xe=i.get(te);if(te.isRenderTargetTexture===!1&&te.version>0&&xe.__version!==te.version){ue(xe,te,Z);return}t.bindTexture(n.TEXTURE_2D_ARRAY,xe.__webglTexture,n.TEXTURE0+Z)}function I(te,Z){const xe=i.get(te);if(te.isRenderTargetTexture===!1&&te.version>0&&xe.__version!==te.version){ue(xe,te,Z);return}t.bindTexture(n.TEXTURE_3D,xe.__webglTexture,n.TEXTURE0+Z)}function Q(te,Z){const xe=i.get(te);if(te.version>0&&xe.__version!==te.version){ye(xe,te,Z);return}t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture,n.TEXTURE0+Z)}const K={[xd]:n.REPEAT,[Ia]:n.CLAMP_TO_EDGE,[Sm]:n.MIRRORED_REPEAT},T={[Gs]:n.NEAREST,[u2]:n.NEAREST_MIPMAP_NEAREST,[Kh]:n.NEAREST_MIPMAP_LINEAR,[cs]:n.LINEAR,[fm]:n.LINEAR_MIPMAP_NEAREST,[vo]:n.LINEAR_MIPMAP_LINEAR},X={[sP]:n.NEVER,[uP]:n.ALWAYS,[rP]:n.LESS,[QC]:n.LEQUAL,[aP]:n.EQUAL,[cP]:n.GEQUAL,[oP]:n.GREATER,[lP]:n.NOTEQUAL};function ee(te,Z){if(Z.type===ga&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===cs||Z.magFilter===fm||Z.magFilter===Kh||Z.magFilter===vo||Z.minFilter===cs||Z.minFilter===fm||Z.minFilter===Kh||Z.minFilter===vo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(te,n.TEXTURE_WRAP_S,K[Z.wrapS]),n.texParameteri(te,n.TEXTURE_WRAP_T,K[Z.wrapT]),(te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY)&&n.texParameteri(te,n.TEXTURE_WRAP_R,K[Z.wrapR]),n.texParameteri(te,n.TEXTURE_MAG_FILTER,T[Z.magFilter]),n.texParameteri(te,n.TEXTURE_MIN_FILTER,T[Z.minFilter]),Z.compareFunction&&(n.texParameteri(te,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(te,n.TEXTURE_COMPARE_FUNC,X[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===Gs||Z.minFilter!==Kh&&Z.minFilter!==vo||Z.type===ga&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||i.get(Z).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(te,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,s.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy}}}function oe(te,Z){let xe=!1;te.__webglInit===void 0&&(te.__webglInit=!0,Z.addEventListener("dispose",R));const Oe=Z.source;let Xe=y.get(Oe);Xe===void 0&&(Xe={},y.set(Oe,Xe));const He=W(Z);if(He!==te.__cacheKey){Xe[He]===void 0&&(Xe[He]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,xe=!0),Xe[He].usedTimes++;const _t=Xe[te.__cacheKey];_t!==void 0&&(Xe[te.__cacheKey].usedTimes--,_t.usedTimes===0&&D(Z)),te.__cacheKey=He,te.__webglTexture=Xe[He].texture}return xe}function ce(te,Z,xe){return Math.floor(Math.floor(te/xe)/Z)}function re(te,Z,xe,Oe){const He=te.updateRanges;if(He.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Z.width,Z.height,xe,Oe,Z.data);else{He.sort((Pe,Je)=>Pe.start-Je.start);let _t=0;for(let Pe=1;Pe<He.length;Pe++){const Je=He[_t],Ct=He[Pe],he=Je.start+Je.count,Ne=ce(Ct.start,Z.width,4),ct=ce(Je.start,Z.width,4);Ct.start<=he+1&&Ne===ct&&ce(Ct.start+Ct.count-1,Z.width,4)===Ne?Je.count=Math.max(Je.count,Ct.start+Ct.count-Je.start):(++_t,He[_t]=Ct)}He.length=_t+1;const yt=n.getParameter(n.UNPACK_ROW_LENGTH),Tt=n.getParameter(n.UNPACK_SKIP_PIXELS),Ot=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Z.width);for(let Pe=0,Je=He.length;Pe<Je;Pe++){const Ct=He[Pe],he=Math.floor(Ct.start/4),Ne=Math.ceil(Ct.count/4),ct=he%Z.width,fe=Math.floor(he/Z.width),rt=Ne,ht=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ct),n.pixelStorei(n.UNPACK_SKIP_ROWS,fe),t.texSubImage2D(n.TEXTURE_2D,0,ct,fe,rt,ht,xe,Oe,Z.data)}te.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,yt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Tt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Ot)}}function ue(te,Z,xe){let Oe=n.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Oe=n.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Oe=n.TEXTURE_3D);const Xe=oe(te,Z),He=Z.source;t.bindTexture(Oe,te.__webglTexture,n.TEXTURE0+xe);const _t=i.get(He);if(He.version!==_t.__version||Xe===!0){t.activeTexture(n.TEXTURE0+xe);const yt=Wn.getPrimaries(Wn.workingColorSpace),Tt=Z.colorSpace===Vc?null:Wn.getPrimaries(Z.colorSpace),Ot=Z.colorSpace===Vc||yt===Tt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ot);let Pe=_(Z.image,!1,s.maxTextureSize);Pe=$e(Z,Pe);const Je=a.convert(Z.format,Z.colorSpace),Ct=a.convert(Z.type);let he=N(Z.internalFormat,Je,Ct,Z.colorSpace,Z.isVideoTexture);ee(Oe,Z);let Ne;const ct=Z.mipmaps,fe=Z.isVideoTexture!==!0,rt=_t.__version===void 0||Xe===!0,ht=He.dataReady,At=j(Z,Pe);if(Z.isDepthTexture)he=L(Z.format===Cm,Z.type),rt&&(fe?t.texStorage2D(n.TEXTURE_2D,1,he,Pe.width,Pe.height):t.texImage2D(n.TEXTURE_2D,0,he,Pe.width,Pe.height,0,Je,Ct,null));else if(Z.isDataTexture)if(ct.length>0){fe&&rt&&t.texStorage2D(n.TEXTURE_2D,At,he,ct[0].width,ct[0].height);for(let gt=0,tt=ct.length;gt<tt;gt++)Ne=ct[gt],fe?ht&&t.texSubImage2D(n.TEXTURE_2D,gt,0,0,Ne.width,Ne.height,Je,Ct,Ne.data):t.texImage2D(n.TEXTURE_2D,gt,he,Ne.width,Ne.height,0,Je,Ct,Ne.data);Z.generateMipmaps=!1}else fe?(rt&&t.texStorage2D(n.TEXTURE_2D,At,he,Pe.width,Pe.height),ht&&re(Z,Pe,Je,Ct)):t.texImage2D(n.TEXTURE_2D,0,he,Pe.width,Pe.height,0,Je,Ct,Pe.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){fe&&rt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,At,he,ct[0].width,ct[0].height,Pe.depth);for(let gt=0,tt=ct.length;gt<tt;gt++)if(Ne=ct[gt],Z.format!==Sr)if(Je!==null)if(fe){if(ht)if(Z.layerUpdates.size>0){const Mt=BE(Ne.width,Ne.height,Z.format,Z.type);for(const Gt of Z.layerUpdates){const yn=Ne.data.subarray(Gt*Mt/Ne.data.BYTES_PER_ELEMENT,(Gt+1)*Mt/Ne.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,gt,0,0,Gt,Ne.width,Ne.height,1,Je,yn)}Z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,gt,0,0,0,Ne.width,Ne.height,Pe.depth,Je,Ne.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,gt,he,Ne.width,Ne.height,Pe.depth,0,Ne.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else fe?ht&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,gt,0,0,0,Ne.width,Ne.height,Pe.depth,Je,Ct,Ne.data):t.texImage3D(n.TEXTURE_2D_ARRAY,gt,he,Ne.width,Ne.height,Pe.depth,0,Je,Ct,Ne.data)}else{fe&&rt&&t.texStorage2D(n.TEXTURE_2D,At,he,ct[0].width,ct[0].height);for(let gt=0,tt=ct.length;gt<tt;gt++)Ne=ct[gt],Z.format!==Sr?Je!==null?fe?ht&&t.compressedTexSubImage2D(n.TEXTURE_2D,gt,0,0,Ne.width,Ne.height,Je,Ne.data):t.compressedTexImage2D(n.TEXTURE_2D,gt,he,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):fe?ht&&t.texSubImage2D(n.TEXTURE_2D,gt,0,0,Ne.width,Ne.height,Je,Ct,Ne.data):t.texImage2D(n.TEXTURE_2D,gt,he,Ne.width,Ne.height,0,Je,Ct,Ne.data)}else if(Z.isDataArrayTexture)if(fe){if(rt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,At,he,Pe.width,Pe.height,Pe.depth),ht)if(Z.layerUpdates.size>0){const gt=BE(Pe.width,Pe.height,Z.format,Z.type);for(const tt of Z.layerUpdates){const Mt=Pe.data.subarray(tt*gt/Pe.data.BYTES_PER_ELEMENT,(tt+1)*gt/Pe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,tt,Pe.width,Pe.height,1,Je,Ct,Mt)}Z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,Je,Ct,Pe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,he,Pe.width,Pe.height,Pe.depth,0,Je,Ct,Pe.data);else if(Z.isData3DTexture)fe?(rt&&t.texStorage3D(n.TEXTURE_3D,At,he,Pe.width,Pe.height,Pe.depth),ht&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,Je,Ct,Pe.data)):t.texImage3D(n.TEXTURE_3D,0,he,Pe.width,Pe.height,Pe.depth,0,Je,Ct,Pe.data);else if(Z.isFramebufferTexture){if(rt)if(fe)t.texStorage2D(n.TEXTURE_2D,At,he,Pe.width,Pe.height);else{let gt=Pe.width,tt=Pe.height;for(let Mt=0;Mt<At;Mt++)t.texImage2D(n.TEXTURE_2D,Mt,he,gt,tt,0,Je,Ct,null),gt>>=1,tt>>=1}}else if(ct.length>0){if(fe&&rt){const gt=et(ct[0]);t.texStorage2D(n.TEXTURE_2D,At,he,gt.width,gt.height)}for(let gt=0,tt=ct.length;gt<tt;gt++)Ne=ct[gt],fe?ht&&t.texSubImage2D(n.TEXTURE_2D,gt,0,0,Je,Ct,Ne):t.texImage2D(n.TEXTURE_2D,gt,he,Je,Ct,Ne);Z.generateMipmaps=!1}else if(fe){if(rt){const gt=et(Pe);t.texStorage2D(n.TEXTURE_2D,At,he,gt.width,gt.height)}ht&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Je,Ct,Pe)}else t.texImage2D(n.TEXTURE_2D,0,he,Je,Ct,Pe);E(Z)&&A(Oe),_t.__version=He.version,Z.onUpdate&&Z.onUpdate(Z)}te.__version=Z.version}function ye(te,Z,xe){if(Z.image.length!==6)return;const Oe=oe(te,Z),Xe=Z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+xe);const He=i.get(Xe);if(Xe.version!==He.__version||Oe===!0){t.activeTexture(n.TEXTURE0+xe);const _t=Wn.getPrimaries(Wn.workingColorSpace),yt=Z.colorSpace===Vc?null:Wn.getPrimaries(Z.colorSpace),Tt=Z.colorSpace===Vc||_t===yt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const Ot=Z.isCompressedTexture||Z.image[0].isCompressedTexture,Pe=Z.image[0]&&Z.image[0].isDataTexture,Je=[];for(let tt=0;tt<6;tt++)!Ot&&!Pe?Je[tt]=_(Z.image[tt],!0,s.maxCubemapSize):Je[tt]=Pe?Z.image[tt].image:Z.image[tt],Je[tt]=$e(Z,Je[tt]);const Ct=Je[0],he=a.convert(Z.format,Z.colorSpace),Ne=a.convert(Z.type),ct=N(Z.internalFormat,he,Ne,Z.colorSpace),fe=Z.isVideoTexture!==!0,rt=He.__version===void 0||Oe===!0,ht=Xe.dataReady;let At=j(Z,Ct);ee(n.TEXTURE_CUBE_MAP,Z);let gt;if(Ot){fe&&rt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,At,ct,Ct.width,Ct.height);for(let tt=0;tt<6;tt++){gt=Je[tt].mipmaps;for(let Mt=0;Mt<gt.length;Mt++){const Gt=gt[Mt];Z.format!==Sr?he!==null?fe?ht&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt,0,0,Gt.width,Gt.height,he,Gt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt,ct,Gt.width,Gt.height,0,Gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fe?ht&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt,0,0,Gt.width,Gt.height,he,Ne,Gt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt,ct,Gt.width,Gt.height,0,he,Ne,Gt.data)}}}else{if(gt=Z.mipmaps,fe&&rt){gt.length>0&&At++;const tt=et(Je[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,At,ct,tt.width,tt.height)}for(let tt=0;tt<6;tt++)if(Pe){fe?ht&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,Je[tt].width,Je[tt].height,he,Ne,Je[tt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,ct,Je[tt].width,Je[tt].height,0,he,Ne,Je[tt].data);for(let Mt=0;Mt<gt.length;Mt++){const yn=gt[Mt].image[tt].image;fe?ht&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt+1,0,0,yn.width,yn.height,he,Ne,yn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt+1,ct,yn.width,yn.height,0,he,Ne,yn.data)}}else{fe?ht&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,he,Ne,Je[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,ct,he,Ne,Je[tt]);for(let Mt=0;Mt<gt.length;Mt++){const Gt=gt[Mt];fe?ht&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt+1,0,0,he,Ne,Gt.image[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Mt+1,ct,he,Ne,Gt.image[tt])}}}E(Z)&&A(n.TEXTURE_CUBE_MAP),He.__version=Xe.version,Z.onUpdate&&Z.onUpdate(Z)}te.__version=Z.version}function Ve(te,Z,xe,Oe,Xe,He){const _t=a.convert(xe.format,xe.colorSpace),yt=a.convert(xe.type),Tt=N(xe.internalFormat,_t,yt,xe.colorSpace),Ot=i.get(Z),Pe=i.get(xe);if(Pe.__renderTarget=Z,!Ot.__hasExternalTextures){const Je=Math.max(1,Z.width>>He),Ct=Math.max(1,Z.height>>He);Xe===n.TEXTURE_3D||Xe===n.TEXTURE_2D_ARRAY?t.texImage3D(Xe,He,Tt,Je,Ct,Z.depth,0,_t,yt,null):t.texImage2D(Xe,He,Tt,Je,Ct,0,_t,yt,null)}t.bindFramebuffer(n.FRAMEBUFFER,te),Ue(Z)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Oe,Xe,Pe.__webglTexture,0,Be(Z)):(Xe===n.TEXTURE_2D||Xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Oe,Xe,Pe.__webglTexture,He),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(te,Z,xe){if(n.bindRenderbuffer(n.RENDERBUFFER,te),Z.depthBuffer){const Oe=Z.depthTexture,Xe=Oe&&Oe.isDepthTexture?Oe.type:null,He=L(Z.stencilBuffer,Xe),_t=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,yt=Be(Z);Ue(Z)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yt,He,Z.width,Z.height):xe?n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,He,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,He,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,_t,n.RENDERBUFFER,te)}else{const Oe=Z.textures;for(let Xe=0;Xe<Oe.length;Xe++){const He=Oe[Xe],_t=a.convert(He.format,He.colorSpace),yt=a.convert(He.type),Tt=N(He.internalFormat,_t,yt,He.colorSpace),Ot=Be(Z);xe&&Ue(Z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ot,Tt,Z.width,Z.height):Ue(Z)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ot,Tt,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Tt,Z.width,Z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function We(te,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,te),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Oe=i.get(Z.depthTexture);Oe.__renderTarget=Z,(!Oe.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),$(Z.depthTexture,0);const Xe=Oe.__webglTexture,He=Be(Z);if(Z.depthTexture.format===Em)Ue(Z)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0);else if(Z.depthTexture.format===Cm)Ue(Z)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0);else throw new Error("Unknown depthTexture format")}function mt(te){const Z=i.get(te),xe=te.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==te.depthTexture){const Oe=te.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Oe){const Xe=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Oe.removeEventListener("dispose",Xe)};Oe.addEventListener("dispose",Xe),Z.__depthDisposeCallback=Xe}Z.__boundDepthTexture=Oe}if(te.depthTexture&&!Z.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const Oe=te.texture.mipmaps;Oe&&Oe.length>0?We(Z.__webglFramebuffer[0],te):We(Z.__webglFramebuffer,te)}else if(xe){Z.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)if(t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[Oe]),Z.__webglDepthbuffer[Oe]===void 0)Z.__webglDepthbuffer[Oe]=n.createRenderbuffer(),Qe(Z.__webglDepthbuffer[Oe],te,!1);else{const Xe=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=Z.__webglDepthbuffer[Oe];n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Xe,n.RENDERBUFFER,He)}}else{const Oe=te.texture.mipmaps;if(Oe&&Oe.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=n.createRenderbuffer(),Qe(Z.__webglDepthbuffer,te,!1);else{const Xe=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,He=Z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,He),n.framebufferRenderbuffer(n.FRAMEBUFFER,Xe,n.RENDERBUFFER,He)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ut(te,Z,xe){const Oe=i.get(te);Z!==void 0&&Ve(Oe.__webglFramebuffer,te,te.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),xe!==void 0&&mt(te)}function le(te){const Z=te.texture,xe=i.get(te),Oe=i.get(Z);te.addEventListener("dispose",k);const Xe=te.textures,He=te.isWebGLCubeRenderTarget===!0,_t=Xe.length>1;if(_t||(Oe.__webglTexture===void 0&&(Oe.__webglTexture=n.createTexture()),Oe.__version=Z.version,o.memory.textures++),He){xe.__webglFramebuffer=[];for(let yt=0;yt<6;yt++)if(Z.mipmaps&&Z.mipmaps.length>0){xe.__webglFramebuffer[yt]=[];for(let Tt=0;Tt<Z.mipmaps.length;Tt++)xe.__webglFramebuffer[yt][Tt]=n.createFramebuffer()}else xe.__webglFramebuffer[yt]=n.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){xe.__webglFramebuffer=[];for(let yt=0;yt<Z.mipmaps.length;yt++)xe.__webglFramebuffer[yt]=n.createFramebuffer()}else xe.__webglFramebuffer=n.createFramebuffer();if(_t)for(let yt=0,Tt=Xe.length;yt<Tt;yt++){const Ot=i.get(Xe[yt]);Ot.__webglTexture===void 0&&(Ot.__webglTexture=n.createTexture(),o.memory.textures++)}if(te.samples>0&&Ue(te)===!1){xe.__webglMultisampledFramebuffer=n.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let yt=0;yt<Xe.length;yt++){const Tt=Xe[yt];xe.__webglColorRenderbuffer[yt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,xe.__webglColorRenderbuffer[yt]);const Ot=a.convert(Tt.format,Tt.colorSpace),Pe=a.convert(Tt.type),Je=N(Tt.internalFormat,Ot,Pe,Tt.colorSpace,te.isXRRenderTarget===!0),Ct=Be(te);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ct,Je,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,xe.__webglColorRenderbuffer[yt])}n.bindRenderbuffer(n.RENDERBUFFER,null),te.depthBuffer&&(xe.__webglDepthRenderbuffer=n.createRenderbuffer(),Qe(xe.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){t.bindTexture(n.TEXTURE_CUBE_MAP,Oe.__webglTexture),ee(n.TEXTURE_CUBE_MAP,Z);for(let yt=0;yt<6;yt++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let Tt=0;Tt<Z.mipmaps.length;Tt++)Ve(xe.__webglFramebuffer[yt][Tt],te,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Tt);else Ve(xe.__webglFramebuffer[yt],te,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0);E(Z)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(_t){for(let yt=0,Tt=Xe.length;yt<Tt;yt++){const Ot=Xe[yt],Pe=i.get(Ot);let Je=n.TEXTURE_2D;(te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(Je=te.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Je,Pe.__webglTexture),ee(Je,Ot),Ve(xe.__webglFramebuffer,te,Ot,n.COLOR_ATTACHMENT0+yt,Je,0),E(Ot)&&A(Je)}t.unbindTexture()}else{let yt=n.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(yt=te.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(yt,Oe.__webglTexture),ee(yt,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let Tt=0;Tt<Z.mipmaps.length;Tt++)Ve(xe.__webglFramebuffer[Tt],te,Z,n.COLOR_ATTACHMENT0,yt,Tt);else Ve(xe.__webglFramebuffer,te,Z,n.COLOR_ATTACHMENT0,yt,0);E(Z)&&A(yt),t.unbindTexture()}te.depthBuffer&&mt(te)}function Me(te){const Z=te.textures;for(let xe=0,Oe=Z.length;xe<Oe;xe++){const Xe=Z[xe];if(E(Xe)){const He=P(te),_t=i.get(Xe).__webglTexture;t.bindTexture(He,_t),A(He),t.unbindTexture()}}}const Ae=[],we=[];function ge(te){if(te.samples>0){if(Ue(te)===!1){const Z=te.textures,xe=te.width,Oe=te.height;let Xe=n.COLOR_BUFFER_BIT;const He=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_t=i.get(te),yt=Z.length>1;if(yt)for(let Ot=0;Ot<Z.length;Ot++)t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,_t.__webglMultisampledFramebuffer);const Tt=te.texture.mipmaps;Tt&&Tt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,_t.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,_t.__webglFramebuffer);for(let Ot=0;Ot<Z.length;Ot++){if(te.resolveDepthBuffer&&(te.depthBuffer&&(Xe|=n.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&(Xe|=n.STENCIL_BUFFER_BIT)),yt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,_t.__webglColorRenderbuffer[Ot]);const Pe=i.get(Z[Ot]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Pe,0)}n.blitFramebuffer(0,0,xe,Oe,0,0,xe,Oe,Xe,n.NEAREST),d===!0&&(Ae.length=0,we.length=0,Ae.push(n.COLOR_ATTACHMENT0+Ot),te.depthBuffer&&te.resolveDepthBuffer===!1&&(Ae.push(He),we.push(He),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,we)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ae))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),yt)for(let Ot=0;Ot<Z.length;Ot++){t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,_t.__webglColorRenderbuffer[Ot]);const Pe=i.get(Z[Ot]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,Pe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,_t.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&d){const Z=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Z])}}}function Be(te){return Math.min(s.maxSamples,te.samples)}function Ue(te){const Z=i.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function _e(te){const Z=o.render.frame;m.get(te)!==Z&&(m.set(te,Z),te.update())}function $e(te,Z){const xe=te.colorSpace,Oe=te.format,Xe=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||xe!==yd&&xe!==Vc&&(Wn.getTransfer(xe)===mi?(Oe!==Sr||Xe!==So)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xe)),Z}function et(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(h.width=te.naturalWidth||te.width,h.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(h.width=te.displayWidth,h.height=te.displayHeight):(h.width=te.width,h.height=te.height),h}this.allocateTextureUnit=G,this.resetTextureUnits=Y,this.setTexture2D=$,this.setTexture2DArray=z,this.setTexture3D=I,this.setTextureCube=Q,this.rebindTextures=ut,this.setupRenderTarget=le,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=ge,this.setupDepthRenderbuffer=mt,this.setupFrameBufferTexture=Ve,this.useMultisampledRTT=Ue}function gL(n,e){function t(i,s=Vc){let a;const o=Wn.getTransfer(s);if(i===So)return n.UNSIGNED_BYTE;if(i===h2)return n.UNSIGNED_SHORT_4_4_4_4;if(i===f2)return n.UNSIGNED_SHORT_5_5_5_1;if(i===GC)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===HC)return n.BYTE;if(i===VC)return n.SHORT;if(i===Am)return n.UNSIGNED_SHORT;if(i===d2)return n.INT;if(i===$c)return n.UNSIGNED_INT;if(i===ga)return n.FLOAT;if(i===qm)return n.HALF_FLOAT;if(i===qC)return n.ALPHA;if(i===WC)return n.RGB;if(i===Sr)return n.RGBA;if(i===Em)return n.DEPTH_COMPONENT;if(i===Cm)return n.DEPTH_STENCIL;if(i===p2)return n.RED;if(i===Kx)return n.RED_INTEGER;if(i===XC)return n.RG;if(i===m2)return n.RG_INTEGER;if(i===g2)return n.RGBA_INTEGER;if(i===ex||i===tx||i===nx||i===ix)if(o===mi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===ex)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===tx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===nx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===ix)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===ex)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===tx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===nx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ix)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Y1||i===K1||i===J1||i===Q1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Y1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===K1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===J1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Q1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Z1||i===$1||i===ew)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===Z1||i===$1)return o===mi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===ew)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===tw||i===nw||i===iw||i===sw||i===rw||i===aw||i===ow||i===lw||i===cw||i===uw||i===dw||i===hw||i===fw||i===pw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===tw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===nw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===iw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===sw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===rw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===aw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===ow)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===lw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===cw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===uw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===dw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===hw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===fw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===pw)return o===mi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===sx||i===mw||i===gw)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===sx)return o===mi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===mw)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===gw)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===YC||i===xw||i===yw||i===vw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===sx)return a.COMPRESSED_RED_RGTC1_EXT;if(i===xw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===yw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===vw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===_m?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class xL extends ki{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const AK=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_K=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class EK{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new xL(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new ll({vertexShader:AK,fragmentShader:_K,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new us(new Xm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class CK extends lc{constructor(e,t){super();const i=this;let s=null,a=1,o=null,c="local-floor",d=1,h=null,m=null,x=null,y=null,b=null,S=null;const _=new EK,E={},A=t.getContextAttributes();let P=null,N=null;const L=[],j=[],R=new st;let k=null;const F=new Zi;F.viewport=new $n;const D=new Zi;D.viewport=new $n;const B=[F,D],q=new rL;let Y=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let ue=L[re];return ue===void 0&&(ue=new p1,L[re]=ue),ue.getTargetRaySpace()},this.getControllerGrip=function(re){let ue=L[re];return ue===void 0&&(ue=new p1,L[re]=ue),ue.getGripSpace()},this.getHand=function(re){let ue=L[re];return ue===void 0&&(ue=new p1,L[re]=ue),ue.getHandSpace()};function W(re){const ue=j.indexOf(re.inputSource);if(ue===-1)return;const ye=L[ue];ye!==void 0&&(ye.update(re.inputSource,re.frame,h||o),ye.dispatchEvent({type:re.type,data:re.inputSource}))}function $(){s.removeEventListener("select",W),s.removeEventListener("selectstart",W),s.removeEventListener("selectend",W),s.removeEventListener("squeeze",W),s.removeEventListener("squeezestart",W),s.removeEventListener("squeezeend",W),s.removeEventListener("end",$),s.removeEventListener("inputsourceschange",z);for(let re=0;re<L.length;re++){const ue=j[re];ue!==null&&(j[re]=null,L[re].disconnect(ue))}Y=null,G=null,_.reset();for(const re in E)delete E[re];e.setRenderTarget(P),b=null,y=null,x=null,s=null,N=null,ce.stop(),i.isPresenting=!1,e.setPixelRatio(k),e.setSize(R.width,R.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){a=re,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){c=re,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(re){h=re},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return x},this.getFrame=function(){return S},this.getSession=function(){return s},this.setSession=async function(re){if(s=re,s!==null){if(P=e.getRenderTarget(),s.addEventListener("select",W),s.addEventListener("selectstart",W),s.addEventListener("selectend",W),s.addEventListener("squeeze",W),s.addEventListener("squeezestart",W),s.addEventListener("squeezeend",W),s.addEventListener("end",$),s.addEventListener("inputsourceschange",z),A.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(R),typeof XRWebGLBinding<"u"&&(x=new XRWebGLBinding(s,t)),x!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let ye=null,Ve=null,Qe=null;A.depth&&(Qe=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ye=A.stencil?Cm:Em,Ve=A.stencil?_m:$c);const We={colorFormat:t.RGBA8,depthFormat:Qe,scaleFactor:a};y=x.createProjectionLayer(We),s.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),N=new rc(y.textureWidth,y.textureHeight,{format:Sr,type:So,depthTexture:new lM(y.textureWidth,y.textureHeight,Ve,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const ye={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(s,t,ye),s.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),N=new rc(b.framebufferWidth,b.framebufferHeight,{format:Sr,type:So,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(d),h=null,o=await s.requestReferenceSpace(c),ce.setContext(s),ce.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};function z(re){for(let ue=0;ue<re.removed.length;ue++){const ye=re.removed[ue],Ve=j.indexOf(ye);Ve>=0&&(j[Ve]=null,L[Ve].disconnect(ye))}for(let ue=0;ue<re.added.length;ue++){const ye=re.added[ue];let Ve=j.indexOf(ye);if(Ve===-1){for(let We=0;We<L.length;We++)if(We>=j.length){j.push(ye),Ve=We;break}else if(j[We]===null){j[We]=ye,Ve=We;break}if(Ve===-1)break}const Qe=L[Ve];Qe&&Qe.connect(ye)}}const I=new ae,Q=new ae;function K(re,ue,ye){I.setFromMatrixPosition(ue.matrixWorld),Q.setFromMatrixPosition(ye.matrixWorld);const Ve=I.distanceTo(Q),Qe=ue.projectionMatrix.elements,We=ye.projectionMatrix.elements,mt=Qe[14]/(Qe[10]-1),ut=Qe[14]/(Qe[10]+1),le=(Qe[9]+1)/Qe[5],Me=(Qe[9]-1)/Qe[5],Ae=(Qe[8]-1)/Qe[0],we=(We[8]+1)/We[0],ge=mt*Ae,Be=mt*we,Ue=Ve/(-Ae+we),_e=Ue*-Ae;if(ue.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(_e),re.translateZ(Ue),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert(),Qe[10]===-1)re.projectionMatrix.copy(ue.projectionMatrix),re.projectionMatrixInverse.copy(ue.projectionMatrixInverse);else{const $e=mt+Ue,et=ut+Ue,te=ge-_e,Z=Be+(Ve-_e),xe=le*ut/et*$e,Oe=Me*ut/et*$e;re.projectionMatrix.makePerspective(te,Z,xe,Oe,$e,et),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}}function T(re,ue){ue===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(ue.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(s===null)return;let ue=re.near,ye=re.far;_.texture!==null&&(_.depthNear>0&&(ue=_.depthNear),_.depthFar>0&&(ye=_.depthFar)),q.near=D.near=F.near=ue,q.far=D.far=F.far=ye,(Y!==q.near||G!==q.far)&&(s.updateRenderState({depthNear:q.near,depthFar:q.far}),Y=q.near,G=q.far),q.layers.mask=re.layers.mask|6,F.layers.mask=q.layers.mask&3,D.layers.mask=q.layers.mask&5;const Ve=re.parent,Qe=q.cameras;T(q,Ve);for(let We=0;We<Qe.length;We++)T(Qe[We],Ve);Qe.length===2?K(q,F,D):q.projectionMatrix.copy(F.projectionMatrix),X(re,q,Ve)};function X(re,ue,ye){ye===null?re.matrix.copy(ue.matrixWorld):(re.matrix.copy(ye.matrixWorld),re.matrix.invert(),re.matrix.multiply(ue.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(ue.projectionMatrix),re.projectionMatrixInverse.copy(ue.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=jm*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return q},this.getFoveation=function(){if(!(y===null&&b===null))return d},this.setFoveation=function(re){d=re,y!==null&&(y.fixedFoveation=re),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=re)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(q)},this.getCameraTexture=function(re){return E[re]};let ee=null;function oe(re,ue){if(m=ue.getViewerPose(h||o),S=ue,m!==null){const ye=m.views;b!==null&&(e.setRenderTargetFramebuffer(N,b.framebuffer),e.setRenderTarget(N));let Ve=!1;ye.length!==q.cameras.length&&(q.cameras.length=0,Ve=!0);for(let ut=0;ut<ye.length;ut++){const le=ye[ut];let Me=null;if(b!==null)Me=b.getViewport(le);else{const we=x.getViewSubImage(y,le);Me=we.viewport,ut===0&&(e.setRenderTargetTextures(N,we.colorTexture,we.depthStencilTexture),e.setRenderTarget(N))}let Ae=B[ut];Ae===void 0&&(Ae=new Zi,Ae.layers.enable(ut),Ae.viewport=new $n,B[ut]=Ae),Ae.matrix.fromArray(le.transform.matrix),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.projectionMatrix.fromArray(le.projectionMatrix),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert(),Ae.viewport.set(Me.x,Me.y,Me.width,Me.height),ut===0&&(q.matrix.copy(Ae.matrix),q.matrix.decompose(q.position,q.quaternion,q.scale)),Ve===!0&&q.cameras.push(Ae)}const Qe=s.enabledFeatures;if(Qe&&Qe.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&x){const ut=x.getDepthInformation(ye[0]);ut&&ut.isValid&&ut.texture&&_.init(ut,s.renderState)}if(Qe&&Qe.includes("camera-access")&&(e.state.unbindTexture(),x))for(let ut=0;ut<ye.length;ut++){const le=ye[ut].camera;if(le){let Me=E[le];Me||(Me=new xL,E[le]=Me);const Ae=x.getCameraImage(le);Me.sourceTexture=Ae}}}for(let ye=0;ye<L.length;ye++){const Ve=j[ye],Qe=L[ye];Ve!==null&&Qe!==void 0&&Qe.update(Ve,ue,h||o)}ee&&ee(re,ue),ue.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ue}),S=null}const ce=new dL;ce.setAnimationLoop(oe),this.setAnimationLoop=function(re){ee=re},this.dispose=function(){}}}const Oh=new za,MK=new an;function TK(n,e){function t(E,A){E.matrixAutoUpdate===!0&&E.updateMatrix(),A.value.copy(E.matrix)}function i(E,A){A.color.getRGB(E.fogColor.value,gP(n)),A.isFog?(E.fogNear.value=A.near,E.fogFar.value=A.far):A.isFogExp2&&(E.fogDensity.value=A.density)}function s(E,A,P,N,L){A.isMeshBasicMaterial||A.isMeshLambertMaterial?a(E,A):A.isMeshToonMaterial?(a(E,A),x(E,A)):A.isMeshPhongMaterial?(a(E,A),m(E,A)):A.isMeshStandardMaterial?(a(E,A),y(E,A),A.isMeshPhysicalMaterial&&b(E,A,L)):A.isMeshMatcapMaterial?(a(E,A),S(E,A)):A.isMeshDepthMaterial?a(E,A):A.isMeshDistanceMaterial?(a(E,A),_(E,A)):A.isMeshNormalMaterial?a(E,A):A.isLineBasicMaterial?(o(E,A),A.isLineDashedMaterial&&c(E,A)):A.isPointsMaterial?d(E,A,P,N):A.isSpriteMaterial?h(E,A):A.isShadowMaterial?(E.color.value.copy(A.color),E.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function a(E,A){E.opacity.value=A.opacity,A.color&&E.diffuse.value.copy(A.color),A.emissive&&E.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(E.map.value=A.map,t(A.map,E.mapTransform)),A.alphaMap&&(E.alphaMap.value=A.alphaMap,t(A.alphaMap,E.alphaMapTransform)),A.bumpMap&&(E.bumpMap.value=A.bumpMap,t(A.bumpMap,E.bumpMapTransform),E.bumpScale.value=A.bumpScale,A.side===Yr&&(E.bumpScale.value*=-1)),A.normalMap&&(E.normalMap.value=A.normalMap,t(A.normalMap,E.normalMapTransform),E.normalScale.value.copy(A.normalScale),A.side===Yr&&E.normalScale.value.negate()),A.displacementMap&&(E.displacementMap.value=A.displacementMap,t(A.displacementMap,E.displacementMapTransform),E.displacementScale.value=A.displacementScale,E.displacementBias.value=A.displacementBias),A.emissiveMap&&(E.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,E.emissiveMapTransform)),A.specularMap&&(E.specularMap.value=A.specularMap,t(A.specularMap,E.specularMapTransform)),A.alphaTest>0&&(E.alphaTest.value=A.alphaTest);const P=e.get(A),N=P.envMap,L=P.envMapRotation;N&&(E.envMap.value=N,Oh.copy(L),Oh.x*=-1,Oh.y*=-1,Oh.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(Oh.y*=-1,Oh.z*=-1),E.envMapRotation.value.setFromMatrix4(MK.makeRotationFromEuler(Oh)),E.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=A.reflectivity,E.ior.value=A.ior,E.refractionRatio.value=A.refractionRatio),A.lightMap&&(E.lightMap.value=A.lightMap,E.lightMapIntensity.value=A.lightMapIntensity,t(A.lightMap,E.lightMapTransform)),A.aoMap&&(E.aoMap.value=A.aoMap,E.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,E.aoMapTransform))}function o(E,A){E.diffuse.value.copy(A.color),E.opacity.value=A.opacity,A.map&&(E.map.value=A.map,t(A.map,E.mapTransform))}function c(E,A){E.dashSize.value=A.dashSize,E.totalSize.value=A.dashSize+A.gapSize,E.scale.value=A.scale}function d(E,A,P,N){E.diffuse.value.copy(A.color),E.opacity.value=A.opacity,E.size.value=A.size*P,E.scale.value=N*.5,A.map&&(E.map.value=A.map,t(A.map,E.uvTransform)),A.alphaMap&&(E.alphaMap.value=A.alphaMap,t(A.alphaMap,E.alphaMapTransform)),A.alphaTest>0&&(E.alphaTest.value=A.alphaTest)}function h(E,A){E.diffuse.value.copy(A.color),E.opacity.value=A.opacity,E.rotation.value=A.rotation,A.map&&(E.map.value=A.map,t(A.map,E.mapTransform)),A.alphaMap&&(E.alphaMap.value=A.alphaMap,t(A.alphaMap,E.alphaMapTransform)),A.alphaTest>0&&(E.alphaTest.value=A.alphaTest)}function m(E,A){E.specular.value.copy(A.specular),E.shininess.value=Math.max(A.shininess,1e-4)}function x(E,A){A.gradientMap&&(E.gradientMap.value=A.gradientMap)}function y(E,A){E.metalness.value=A.metalness,A.metalnessMap&&(E.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,E.metalnessMapTransform)),E.roughness.value=A.roughness,A.roughnessMap&&(E.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,E.roughnessMapTransform)),A.envMap&&(E.envMapIntensity.value=A.envMapIntensity)}function b(E,A,P){E.ior.value=A.ior,A.sheen>0&&(E.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),E.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(E.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,E.sheenColorMapTransform)),A.sheenRoughnessMap&&(E.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,E.sheenRoughnessMapTransform))),A.clearcoat>0&&(E.clearcoat.value=A.clearcoat,E.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(E.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,E.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(E.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===Yr&&E.clearcoatNormalScale.value.negate())),A.dispersion>0&&(E.dispersion.value=A.dispersion),A.iridescence>0&&(E.iridescence.value=A.iridescence,E.iridescenceIOR.value=A.iridescenceIOR,E.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(E.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,E.iridescenceMapTransform)),A.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),A.transmission>0&&(E.transmission.value=A.transmission,E.transmissionSamplerMap.value=P.texture,E.transmissionSamplerSize.value.set(P.width,P.height),A.transmissionMap&&(E.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,E.transmissionMapTransform)),E.thickness.value=A.thickness,A.thicknessMap&&(E.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=A.attenuationDistance,E.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(E.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(E.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=A.specularIntensity,E.specularColor.value.copy(A.specularColor),A.specularColorMap&&(E.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,E.specularColorMapTransform)),A.specularIntensityMap&&(E.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,E.specularIntensityMapTransform))}function S(E,A){A.matcap&&(E.matcap.value=A.matcap)}function _(E,A){const P=e.get(A).light;E.referencePosition.value.setFromMatrixPosition(P.matrixWorld),E.nearDistance.value=P.shadow.camera.near,E.farDistance.value=P.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function NK(n,e,t,i){let s={},a={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(P,N){const L=N.program;i.uniformBlockBinding(P,L)}function h(P,N){let L=s[P.id];L===void 0&&(S(P),L=m(P),s[P.id]=L,P.addEventListener("dispose",E));const j=N.program;i.updateUBOMapping(P,j);const R=e.render.frame;a[P.id]!==R&&(y(P),a[P.id]=R)}function m(P){const N=x();P.__bindingPointIndex=N;const L=n.createBuffer(),j=P.__size,R=P.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,j,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,N,L),L}function x(){for(let P=0;P<c;P++)if(o.indexOf(P)===-1)return o.push(P),P;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(P){const N=s[P.id],L=P.uniforms,j=P.__cache;n.bindBuffer(n.UNIFORM_BUFFER,N);for(let R=0,k=L.length;R<k;R++){const F=Array.isArray(L[R])?L[R]:[L[R]];for(let D=0,B=F.length;D<B;D++){const q=F[D];if(b(q,R,D,j)===!0){const Y=q.__offset,G=Array.isArray(q.value)?q.value:[q.value];let W=0;for(let $=0;$<G.length;$++){const z=G[$],I=_(z);typeof z=="number"||typeof z=="boolean"?(q.__data[0]=z,n.bufferSubData(n.UNIFORM_BUFFER,Y+W,q.__data)):z.isMatrix3?(q.__data[0]=z.elements[0],q.__data[1]=z.elements[1],q.__data[2]=z.elements[2],q.__data[3]=0,q.__data[4]=z.elements[3],q.__data[5]=z.elements[4],q.__data[6]=z.elements[5],q.__data[7]=0,q.__data[8]=z.elements[6],q.__data[9]=z.elements[7],q.__data[10]=z.elements[8],q.__data[11]=0):(z.toArray(q.__data,W),W+=I.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Y,q.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(P,N,L,j){const R=P.value,k=N+"_"+L;if(j[k]===void 0)return typeof R=="number"||typeof R=="boolean"?j[k]=R:j[k]=R.clone(),!0;{const F=j[k];if(typeof R=="number"||typeof R=="boolean"){if(F!==R)return j[k]=R,!0}else if(F.equals(R)===!1)return F.copy(R),!0}return!1}function S(P){const N=P.uniforms;let L=0;const j=16;for(let k=0,F=N.length;k<F;k++){const D=Array.isArray(N[k])?N[k]:[N[k]];for(let B=0,q=D.length;B<q;B++){const Y=D[B],G=Array.isArray(Y.value)?Y.value:[Y.value];for(let W=0,$=G.length;W<$;W++){const z=G[W],I=_(z),Q=L%j,K=Q%I.boundary,T=Q+K;L+=K,T!==0&&j-T<I.storage&&(L+=j-T),Y.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),Y.__offset=L,L+=I.storage}}}const R=L%j;return R>0&&(L+=j-R),P.__size=L,P.__cache={},this}function _(P){const N={boundary:0,storage:0};return typeof P=="number"||typeof P=="boolean"?(N.boundary=4,N.storage=4):P.isVector2?(N.boundary=8,N.storage=8):P.isVector3||P.isColor?(N.boundary=16,N.storage=12):P.isVector4?(N.boundary=16,N.storage=16):P.isMatrix3?(N.boundary=48,N.storage=48):P.isMatrix4?(N.boundary=64,N.storage=64):P.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",P),N}function E(P){const N=P.target;N.removeEventListener("dispose",E);const L=o.indexOf(N.__bindingPointIndex);o.splice(L,1),n.deleteBuffer(s[N.id]),delete s[N.id],delete a[N.id]}function A(){for(const P in s)n.deleteBuffer(s[P]);o=[],s={},a={}}return{bind:d,update:h,dispose:A}}class yL{constructor(e={}){const{canvas:t=fP(),context:i=null,depth:s=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:x=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const S=new Uint32Array(4),_=new Int32Array(4);let E=null,A=null;const P=[],N=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=$l,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const L=this;let j=!1;this._outputColorSpace=br;let R=0,k=0,F=null,D=-1,B=null;const q=new $n,Y=new $n;let G=null;const W=new Nt(0);let $=0,z=t.width,I=t.height,Q=1,K=null,T=null;const X=new $n(0,0,z,I),ee=new $n(0,0,z,I);let oe=!1;const ce=new Wm;let re=!1,ue=!1;const ye=new an,Ve=new ae,Qe=new $n,We={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let mt=!1;function ut(){return F===null?Q:1}let le=i;function Me(ie,ve){return t.getContext(ie,ve)}try{const ie={alpha:!0,depth:s,stencil:a,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:x};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Xx}`),t.addEventListener("webglcontextlost",ht,!1),t.addEventListener("webglcontextrestored",At,!1),t.addEventListener("webglcontextcreationerror",gt,!1),le===null){const ve="webgl2";if(le=Me(ve,ie),le===null)throw Me(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}let Ae,we,ge,Be,Ue,_e,$e,et,te,Z,xe,Oe,Xe,He,_t,yt,Tt,Ot,Pe,Je,Ct,he,Ne,ct;function fe(){Ae=new zX(le),Ae.init(),he=new gL(le,Ae),we=new OX(le,Ae,e,he),ge=new wK(le,Ae),we.reversedDepthBuffer&&y&&ge.buffers.depth.setReversed(!0),Be=new GX(le),Ue=new lK,_e=new SK(le,Ae,ge,Ue,we,he,Be),$e=new LX(L),et=new FX(L),te=new JG(le),Ne=new BX(le,te),Z=new HX(le,te,Be,Ne),xe=new WX(le,Z,te,Be),Pe=new qX(le,we,_e),yt=new PX(Ue),Oe=new oK(L,$e,et,Ae,we,Ne,yt),Xe=new TK(L,Ue),He=new uK,_t=new gK(Ae),Ot=new RX(L,$e,et,ge,xe,b,d),Tt=new vK(L,xe,we),ct=new NK(le,Be,we,ge),Je=new DX(le,Ae,Be),Ct=new VX(le,Ae,Be),Be.programs=Oe.programs,L.capabilities=we,L.extensions=Ae,L.properties=Ue,L.renderLists=He,L.shadowMap=Tt,L.state=ge,L.info=Be}fe();const rt=new CK(L,le);this.xr=rt,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const ie=Ae.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=Ae.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(ie){ie!==void 0&&(Q=ie,this.setSize(z,I,!1))},this.getSize=function(ie){return ie.set(z,I)},this.setSize=function(ie,ve,je=!0){if(rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=ie,I=ve,t.width=Math.floor(ie*Q),t.height=Math.floor(ve*Q),je===!0&&(t.style.width=ie+"px",t.style.height=ve+"px"),this.setViewport(0,0,ie,ve)},this.getDrawingBufferSize=function(ie){return ie.set(z*Q,I*Q).floor()},this.setDrawingBufferSize=function(ie,ve,je){z=ie,I=ve,Q=je,t.width=Math.floor(ie*je),t.height=Math.floor(ve*je),this.setViewport(0,0,ie,ve)},this.getCurrentViewport=function(ie){return ie.copy(q)},this.getViewport=function(ie){return ie.copy(X)},this.setViewport=function(ie,ve,je,Fe){ie.isVector4?X.set(ie.x,ie.y,ie.z,ie.w):X.set(ie,ve,je,Fe),ge.viewport(q.copy(X).multiplyScalar(Q).round())},this.getScissor=function(ie){return ie.copy(ee)},this.setScissor=function(ie,ve,je,Fe){ie.isVector4?ee.set(ie.x,ie.y,ie.z,ie.w):ee.set(ie,ve,je,Fe),ge.scissor(Y.copy(ee).multiplyScalar(Q).round())},this.getScissorTest=function(){return oe},this.setScissorTest=function(ie){ge.setScissorTest(oe=ie)},this.setOpaqueSort=function(ie){K=ie},this.setTransparentSort=function(ie){T=ie},this.getClearColor=function(ie){return ie.copy(Ot.getClearColor())},this.setClearColor=function(){Ot.setClearColor(...arguments)},this.getClearAlpha=function(){return Ot.getClearAlpha()},this.setClearAlpha=function(){Ot.setClearAlpha(...arguments)},this.clear=function(ie=!0,ve=!0,je=!0){let Fe=0;if(ie){let Ee=!1;if(F!==null){const pt=F.texture.format;Ee=pt===g2||pt===m2||pt===Kx}if(Ee){const pt=F.texture.type,bt=pt===So||pt===$c||pt===Am||pt===_m||pt===h2||pt===f2,jt=Ot.getClearColor(),dt=Ot.getClearAlpha(),Dt=jt.r,Kt=jt.g,zt=jt.b;bt?(S[0]=Dt,S[1]=Kt,S[2]=zt,S[3]=dt,le.clearBufferuiv(le.COLOR,0,S)):(_[0]=Dt,_[1]=Kt,_[2]=zt,_[3]=dt,le.clearBufferiv(le.COLOR,0,_))}else Fe|=le.COLOR_BUFFER_BIT}ve&&(Fe|=le.DEPTH_BUFFER_BIT),je&&(Fe|=le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),le.clear(Fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ht,!1),t.removeEventListener("webglcontextrestored",At,!1),t.removeEventListener("webglcontextcreationerror",gt,!1),Ot.dispose(),He.dispose(),_t.dispose(),Ue.dispose(),$e.dispose(),et.dispose(),xe.dispose(),Ne.dispose(),ct.dispose(),Oe.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",Le),rt.removeEventListener("sessionend",ot),ft.stop()};function ht(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function At(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const ie=Be.autoReset,ve=Tt.enabled,je=Tt.autoUpdate,Fe=Tt.needsUpdate,Ee=Tt.type;fe(),Be.autoReset=ie,Tt.enabled=ve,Tt.autoUpdate=je,Tt.needsUpdate=Fe,Tt.type=Ee}function gt(ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ie.statusMessage)}function tt(ie){const ve=ie.target;ve.removeEventListener("dispose",tt),Mt(ve)}function Mt(ie){Gt(ie),Ue.remove(ie)}function Gt(ie){const ve=Ue.get(ie).programs;ve!==void 0&&(ve.forEach(function(je){Oe.releaseProgram(je)}),ie.isShaderMaterial&&Oe.releaseShaderCache(ie))}this.renderBufferDirect=function(ie,ve,je,Fe,Ee,pt){ve===null&&(ve=We);const bt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,jt=Hn(ie,ve,je,Fe,Ee);ge.setMaterial(Fe,bt);let dt=je.index,Dt=1;if(Fe.wireframe===!0){if(dt=Z.getWireframeAttribute(je),dt===void 0)return;Dt=2}const Kt=je.drawRange,zt=je.attributes.position;let Yt=Kt.start*Dt,Rn=(Kt.start+Kt.count)*Dt;pt!==null&&(Yt=Math.max(Yt,pt.start*Dt),Rn=Math.min(Rn,(pt.start+pt.count)*Dt)),dt!==null?(Yt=Math.max(Yt,0),Rn=Math.min(Rn,dt.count)):zt!=null&&(Yt=Math.max(Yt,0),Rn=Math.min(Rn,zt.count));const li=Rn-Yt;if(li<0||li===1/0)return;Ne.setup(Ee,Fe,jt,je,dt);let Zn,vn=Je;if(dt!==null&&(Zn=te.get(dt),vn=Ct,vn.setIndex(Zn)),Ee.isMesh)Fe.wireframe===!0?(ge.setLineWidth(Fe.wireframeLinewidth*ut()),vn.setMode(le.LINES)):vn.setMode(le.TRIANGLES);else if(Ee.isLine){let Qt=Fe.linewidth;Qt===void 0&&(Qt=1),ge.setLineWidth(Qt*ut()),Ee.isLineSegments?vn.setMode(le.LINES):Ee.isLineLoop?vn.setMode(le.LINE_LOOP):vn.setMode(le.LINE_STRIP)}else Ee.isPoints?vn.setMode(le.POINTS):Ee.isSprite&&vn.setMode(le.TRIANGLES);if(Ee.isBatchedMesh)if(Ee._multiDrawInstances!==null)pm("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),vn.renderMultiDrawInstances(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount,Ee._multiDrawInstances);else if(Ae.get("WEBGL_multi_draw"))vn.renderMultiDraw(Ee._multiDrawStarts,Ee._multiDrawCounts,Ee._multiDrawCount);else{const Qt=Ee._multiDrawStarts,Ai=Ee._multiDrawCounts,Bn=Ee._multiDrawCount,Ss=dt?te.get(dt).bytesPerElement:1,Qr=Ue.get(Fe).currentProgram.getUniforms();for(let As=0;As<Bn;As++)Qr.setValue(le,"_gl_DrawID",As),vn.render(Qt[As]/Ss,Ai[As])}else if(Ee.isInstancedMesh)vn.renderInstances(Yt,li,Ee.count);else if(je.isInstancedBufferGeometry){const Qt=je._maxInstanceCount!==void 0?je._maxInstanceCount:1/0,Ai=Math.min(je.instanceCount,Qt);vn.renderInstances(Yt,li,Ai)}else vn.render(Yt,li)};function yn(ie,ve,je){ie.transparent===!0&&ie.side===rl&&ie.forceSinglePass===!1?(ie.side=Yr,ie.needsUpdate=!0,kt(ie,ve,je),ie.side=sc,ie.needsUpdate=!0,kt(ie,ve,je),ie.side=rl):kt(ie,ve,je)}this.compile=function(ie,ve,je=null){je===null&&(je=ie),A=_t.get(je),A.init(ve),N.push(A),je.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(ve.layers)&&(A.pushLight(Ee),Ee.castShadow&&A.pushShadow(Ee))}),ie!==je&&ie.traverseVisible(function(Ee){Ee.isLight&&Ee.layers.test(ve.layers)&&(A.pushLight(Ee),Ee.castShadow&&A.pushShadow(Ee))}),A.setupLights();const Fe=new Set;return ie.traverse(function(Ee){if(!(Ee.isMesh||Ee.isPoints||Ee.isLine||Ee.isSprite))return;const pt=Ee.material;if(pt)if(Array.isArray(pt))for(let bt=0;bt<pt.length;bt++){const jt=pt[bt];yn(jt,je,Ee),Fe.add(jt)}else yn(pt,je,Ee),Fe.add(pt)}),A=N.pop(),Fe},this.compileAsync=function(ie,ve,je=null){const Fe=this.compile(ie,ve,je);return new Promise(Ee=>{function pt(){if(Fe.forEach(function(bt){Ue.get(bt).currentProgram.isReady()&&Fe.delete(bt)}),Fe.size===0){Ee(ie);return}setTimeout(pt,10)}Ae.get("KHR_parallel_shader_compile")!==null?pt():setTimeout(pt,10)})};let de=null;function Ce(ie){de&&de(ie)}function Le(){ft.stop()}function ot(){ft.start()}const ft=new dL;ft.setAnimationLoop(Ce),typeof self<"u"&&ft.setContext(self),this.setAnimationLoop=function(ie){de=ie,rt.setAnimationLoop(ie),ie===null?ft.stop():ft.start()},rt.addEventListener("sessionstart",Le),rt.addEventListener("sessionend",ot),this.render=function(ie,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;if(ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),rt.enabled===!0&&rt.isPresenting===!0&&(rt.cameraAutoUpdate===!0&&rt.updateCamera(ve),ve=rt.getCamera()),ie.isScene===!0&&ie.onBeforeRender(L,ie,ve,F),A=_t.get(ie,N.length),A.init(ve),N.push(A),ye.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),ce.setFromProjectionMatrix(ye,Ua,ve.reversedDepth),ue=this.localClippingEnabled,re=yt.init(this.clippingPlanes,ue),E=He.get(ie,P.length),E.init(),P.push(E),rt.enabled===!0&&rt.isPresenting===!0){const pt=L.xr.getDepthSensingMesh();pt!==null&&It(pt,ve,-1/0,L.sortObjects)}It(ie,ve,0,L.sortObjects),E.finish(),L.sortObjects===!0&&E.sort(K,T),mt=rt.enabled===!1||rt.isPresenting===!1||rt.hasDepthSensing()===!1,mt&&Ot.addToRenderList(E,ie),this.info.render.frame++,re===!0&&yt.beginShadows();const je=A.state.shadowsArray;Tt.render(je,ie,ve),re===!0&&yt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Fe=E.opaque,Ee=E.transmissive;if(A.setupLights(),ve.isArrayCamera){const pt=ve.cameras;if(Ee.length>0)for(let bt=0,jt=pt.length;bt<jt;bt++){const dt=pt[bt];Vt(Fe,Ee,ie,dt)}mt&&Ot.render(ie);for(let bt=0,jt=pt.length;bt<jt;bt++){const dt=pt[bt];Ut(E,ie,dt,dt.viewport)}}else Ee.length>0&&Vt(Fe,Ee,ie,ve),mt&&Ot.render(ie),Ut(E,ie,ve);F!==null&&k===0&&(_e.updateMultisampleRenderTarget(F),_e.updateRenderTargetMipmap(F)),ie.isScene===!0&&ie.onAfterRender(L,ie,ve),Ne.resetDefaultState(),D=-1,B=null,N.pop(),N.length>0?(A=N[N.length-1],re===!0&&yt.setGlobalState(L.clippingPlanes,A.state.camera)):A=null,P.pop(),P.length>0?E=P[P.length-1]:E=null};function It(ie,ve,je,Fe){if(ie.visible===!1)return;if(ie.layers.test(ve.layers)){if(ie.isGroup)je=ie.renderOrder;else if(ie.isLOD)ie.autoUpdate===!0&&ie.update(ve);else if(ie.isLight)A.pushLight(ie),ie.castShadow&&A.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||ce.intersectsSprite(ie)){Fe&&Qe.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(ye);const bt=xe.update(ie),jt=ie.material;jt.visible&&E.push(ie,bt,jt,je,Qe.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(!ie.frustumCulled||ce.intersectsObject(ie))){const bt=xe.update(ie),jt=ie.material;if(Fe&&(ie.boundingSphere!==void 0?(ie.boundingSphere===null&&ie.computeBoundingSphere(),Qe.copy(ie.boundingSphere.center)):(bt.boundingSphere===null&&bt.computeBoundingSphere(),Qe.copy(bt.boundingSphere.center)),Qe.applyMatrix4(ie.matrixWorld).applyMatrix4(ye)),Array.isArray(jt)){const dt=bt.groups;for(let Dt=0,Kt=dt.length;Dt<Kt;Dt++){const zt=dt[Dt],Yt=jt[zt.materialIndex];Yt&&Yt.visible&&E.push(ie,bt,Yt,je,Qe.z,zt)}}else jt.visible&&E.push(ie,bt,jt,je,Qe.z,null)}}const pt=ie.children;for(let bt=0,jt=pt.length;bt<jt;bt++)It(pt[bt],ve,je,Fe)}function Ut(ie,ve,je,Fe){const Ee=ie.opaque,pt=ie.transmissive,bt=ie.transparent;A.setupLightsView(je),re===!0&&yt.setGlobalState(L.clippingPlanes,je),Fe&&ge.viewport(q.copy(Fe)),Ee.length>0&&Ft(Ee,ve,je),pt.length>0&&Ft(pt,ve,je),bt.length>0&&Ft(bt,ve,je),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function Vt(ie,ve,je,Fe){if((je.isScene===!0?je.overrideMaterial:null)!==null)return;A.state.transmissionRenderTarget[Fe.id]===void 0&&(A.state.transmissionRenderTarget[Fe.id]=new rc(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?qm:So,minFilter:vo,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Wn.workingColorSpace}));const pt=A.state.transmissionRenderTarget[Fe.id],bt=Fe.viewport||q;pt.setSize(bt.z*L.transmissionResolutionScale,bt.w*L.transmissionResolutionScale);const jt=L.getRenderTarget(),dt=L.getActiveCubeFace(),Dt=L.getActiveMipmapLevel();L.setRenderTarget(pt),L.getClearColor(W),$=L.getClearAlpha(),$<1&&L.setClearColor(16777215,.5),L.clear(),mt&&Ot.render(je);const Kt=L.toneMapping;L.toneMapping=$l;const zt=Fe.viewport;if(Fe.viewport!==void 0&&(Fe.viewport=void 0),A.setupLightsView(Fe),re===!0&&yt.setGlobalState(L.clippingPlanes,Fe),Ft(ie,je,Fe),_e.updateMultisampleRenderTarget(pt),_e.updateRenderTargetMipmap(pt),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let Yt=!1;for(let Rn=0,li=ve.length;Rn<li;Rn++){const Zn=ve[Rn],vn=Zn.object,Qt=Zn.geometry,Ai=Zn.material,Bn=Zn.group;if(Ai.side===rl&&vn.layers.test(Fe.layers)){const Ss=Ai.side;Ai.side=Yr,Ai.needsUpdate=!0,qt(vn,je,Fe,Qt,Ai,Bn),Ai.side=Ss,Ai.needsUpdate=!0,Yt=!0}}Yt===!0&&(_e.updateMultisampleRenderTarget(pt),_e.updateRenderTargetMipmap(pt))}L.setRenderTarget(jt,dt,Dt),L.setClearColor(W,$),zt!==void 0&&(Fe.viewport=zt),L.toneMapping=Kt}function Ft(ie,ve,je){const Fe=ve.isScene===!0?ve.overrideMaterial:null;for(let Ee=0,pt=ie.length;Ee<pt;Ee++){const bt=ie[Ee],jt=bt.object,dt=bt.geometry,Dt=bt.group;let Kt=bt.material;Kt.allowOverride===!0&&Fe!==null&&(Kt=Fe),jt.layers.test(je.layers)&&qt(jt,ve,je,dt,Kt,Dt)}}function qt(ie,ve,je,Fe,Ee,pt){ie.onBeforeRender(L,ve,je,Fe,Ee,pt),ie.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),Ee.onBeforeRender(L,ve,je,Fe,ie,pt),Ee.transparent===!0&&Ee.side===rl&&Ee.forceSinglePass===!1?(Ee.side=Yr,Ee.needsUpdate=!0,L.renderBufferDirect(je,ve,Fe,Ee,ie,pt),Ee.side=sc,Ee.needsUpdate=!0,L.renderBufferDirect(je,ve,Fe,Ee,ie,pt),Ee.side=rl):L.renderBufferDirect(je,ve,Fe,Ee,ie,pt),ie.onAfterRender(L,ve,je,Fe,Ee,pt)}function kt(ie,ve,je){ve.isScene!==!0&&(ve=We);const Fe=Ue.get(ie),Ee=A.state.lights,pt=A.state.shadowsArray,bt=Ee.state.version,jt=Oe.getParameters(ie,Ee.state,pt,ve,je),dt=Oe.getProgramCacheKey(jt);let Dt=Fe.programs;Fe.environment=ie.isMeshStandardMaterial?ve.environment:null,Fe.fog=ve.fog,Fe.envMap=(ie.isMeshStandardMaterial?et:$e).get(ie.envMap||Fe.environment),Fe.envMapRotation=Fe.environment!==null&&ie.envMap===null?ve.environmentRotation:ie.envMapRotation,Dt===void 0&&(ie.addEventListener("dispose",tt),Dt=new Map,Fe.programs=Dt);let Kt=Dt.get(dt);if(Kt!==void 0){if(Fe.currentProgram===Kt&&Fe.lightsStateVersion===bt)return pn(ie,jt),Kt}else jt.uniforms=Oe.getUniforms(ie),ie.onBeforeCompile(jt,L),Kt=Oe.acquireProgram(jt,dt),Dt.set(dt,Kt),Fe.uniforms=jt.uniforms;const zt=Fe.uniforms;return(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||ie.clipping===!0)&&(zt.clippingPlanes=yt.uniform),pn(ie,jt),Fe.needsLights=Si(ie),Fe.lightsStateVersion=bt,Fe.needsLights&&(zt.ambientLightColor.value=Ee.state.ambient,zt.lightProbe.value=Ee.state.probe,zt.directionalLights.value=Ee.state.directional,zt.directionalLightShadows.value=Ee.state.directionalShadow,zt.spotLights.value=Ee.state.spot,zt.spotLightShadows.value=Ee.state.spotShadow,zt.rectAreaLights.value=Ee.state.rectArea,zt.ltc_1.value=Ee.state.rectAreaLTC1,zt.ltc_2.value=Ee.state.rectAreaLTC2,zt.pointLights.value=Ee.state.point,zt.pointLightShadows.value=Ee.state.pointShadow,zt.hemisphereLights.value=Ee.state.hemi,zt.directionalShadowMap.value=Ee.state.directionalShadowMap,zt.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,zt.spotShadowMap.value=Ee.state.spotShadowMap,zt.spotLightMatrix.value=Ee.state.spotLightMatrix,zt.spotLightMap.value=Ee.state.spotLightMap,zt.pointShadowMap.value=Ee.state.pointShadowMap,zt.pointShadowMatrix.value=Ee.state.pointShadowMatrix),Fe.currentProgram=Kt,Fe.uniformsList=null,Kt}function Et(ie){if(ie.uniformsList===null){const ve=ie.currentProgram.getUniforms();ie.uniformsList=m1.seqWithValue(ve.seq,ie.uniforms)}return ie.uniformsList}function pn(ie,ve){const je=Ue.get(ie);je.outputColorSpace=ve.outputColorSpace,je.batching=ve.batching,je.batchingColor=ve.batchingColor,je.instancing=ve.instancing,je.instancingColor=ve.instancingColor,je.instancingMorph=ve.instancingMorph,je.skinning=ve.skinning,je.morphTargets=ve.morphTargets,je.morphNormals=ve.morphNormals,je.morphColors=ve.morphColors,je.morphTargetsCount=ve.morphTargetsCount,je.numClippingPlanes=ve.numClippingPlanes,je.numIntersection=ve.numClipIntersection,je.vertexAlphas=ve.vertexAlphas,je.vertexTangents=ve.vertexTangents,je.toneMapping=ve.toneMapping}function Hn(ie,ve,je,Fe,Ee){ve.isScene!==!0&&(ve=We),_e.resetTextureUnits();const pt=ve.fog,bt=Fe.isMeshStandardMaterial?ve.environment:null,jt=F===null?L.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:yd,dt=(Fe.isMeshStandardMaterial?et:$e).get(Fe.envMap||bt),Dt=Fe.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,Kt=!!je.attributes.tangent&&(!!Fe.normalMap||Fe.anisotropy>0),zt=!!je.morphAttributes.position,Yt=!!je.morphAttributes.normal,Rn=!!je.morphAttributes.color;let li=$l;Fe.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(li=L.toneMapping);const Zn=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,vn=Zn!==void 0?Zn.length:0,Qt=Ue.get(Fe),Ai=A.state.lights;if(re===!0&&(ue===!0||ie!==B)){const Ni=ie===B&&Fe.id===D;yt.setState(Fe,ie,Ni)}let Bn=!1;Fe.version===Qt.__version?(Qt.needsLights&&Qt.lightsStateVersion!==Ai.state.version||Qt.outputColorSpace!==jt||Ee.isBatchedMesh&&Qt.batching===!1||!Ee.isBatchedMesh&&Qt.batching===!0||Ee.isBatchedMesh&&Qt.batchingColor===!0&&Ee.colorTexture===null||Ee.isBatchedMesh&&Qt.batchingColor===!1&&Ee.colorTexture!==null||Ee.isInstancedMesh&&Qt.instancing===!1||!Ee.isInstancedMesh&&Qt.instancing===!0||Ee.isSkinnedMesh&&Qt.skinning===!1||!Ee.isSkinnedMesh&&Qt.skinning===!0||Ee.isInstancedMesh&&Qt.instancingColor===!0&&Ee.instanceColor===null||Ee.isInstancedMesh&&Qt.instancingColor===!1&&Ee.instanceColor!==null||Ee.isInstancedMesh&&Qt.instancingMorph===!0&&Ee.morphTexture===null||Ee.isInstancedMesh&&Qt.instancingMorph===!1&&Ee.morphTexture!==null||Qt.envMap!==dt||Fe.fog===!0&&Qt.fog!==pt||Qt.numClippingPlanes!==void 0&&(Qt.numClippingPlanes!==yt.numPlanes||Qt.numIntersection!==yt.numIntersection)||Qt.vertexAlphas!==Dt||Qt.vertexTangents!==Kt||Qt.morphTargets!==zt||Qt.morphNormals!==Yt||Qt.morphColors!==Rn||Qt.toneMapping!==li||Qt.morphTargetsCount!==vn)&&(Bn=!0):(Bn=!0,Qt.__version=Fe.version);let Ss=Qt.currentProgram;Bn===!0&&(Ss=kt(Fe,ve,Ee));let Qr=!1,As=!1,es=!1;const ci=Ss.getUniforms(),Is=Qt.uniforms;if(ge.useProgram(Ss.program)&&(Qr=!0,As=!0,es=!0),Fe.id!==D&&(D=Fe.id,As=!0),Qr||B!==ie){ge.buffers.depth.getReversed()&&ie.reversedDepth!==!0&&(ie._reversedDepth=!0,ie.updateProjectionMatrix()),ci.setValue(le,"projectionMatrix",ie.projectionMatrix),ci.setValue(le,"viewMatrix",ie.matrixWorldInverse);const Es=ci.map.cameraPosition;Es!==void 0&&Es.setValue(le,Ve.setFromMatrixPosition(ie.matrixWorld)),we.logarithmicDepthBuffer&&ci.setValue(le,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),(Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshLambertMaterial||Fe.isMeshBasicMaterial||Fe.isMeshStandardMaterial||Fe.isShaderMaterial)&&ci.setValue(le,"isOrthographic",ie.isOrthographicCamera===!0),B!==ie&&(B=ie,As=!0,es=!0)}if(Ee.isSkinnedMesh){ci.setOptional(le,Ee,"bindMatrix"),ci.setOptional(le,Ee,"bindMatrixInverse");const Ni=Ee.skeleton;Ni&&(Ni.boneTexture===null&&Ni.computeBoneTexture(),ci.setValue(le,"boneTexture",Ni.boneTexture,_e))}Ee.isBatchedMesh&&(ci.setOptional(le,Ee,"batchingTexture"),ci.setValue(le,"batchingTexture",Ee._matricesTexture,_e),ci.setOptional(le,Ee,"batchingIdTexture"),ci.setValue(le,"batchingIdTexture",Ee._indirectTexture,_e),ci.setOptional(le,Ee,"batchingColorTexture"),Ee._colorsTexture!==null&&ci.setValue(le,"batchingColorTexture",Ee._colorsTexture,_e));const _s=je.morphAttributes;if((_s.position!==void 0||_s.normal!==void 0||_s.color!==void 0)&&Pe.update(Ee,je,Ss),(As||Qt.receiveShadow!==Ee.receiveShadow)&&(Qt.receiveShadow=Ee.receiveShadow,ci.setValue(le,"receiveShadow",Ee.receiveShadow)),Fe.isMeshGouraudMaterial&&Fe.envMap!==null&&(Is.envMap.value=dt,Is.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Fe.isMeshStandardMaterial&&Fe.envMap===null&&ve.environment!==null&&(Is.envMapIntensity.value=ve.environmentIntensity),As&&(ci.setValue(le,"toneMappingExposure",L.toneMappingExposure),Qt.needsLights&&wi(Is,es),pt&&Fe.fog===!0&&Xe.refreshFogUniforms(Is,pt),Xe.refreshMaterialUniforms(Is,Fe,Q,I,A.state.transmissionRenderTarget[ie.id]),m1.upload(le,Et(Qt),Is,_e)),Fe.isShaderMaterial&&Fe.uniformsNeedUpdate===!0&&(m1.upload(le,Et(Qt),Is,_e),Fe.uniformsNeedUpdate=!1),Fe.isSpriteMaterial&&ci.setValue(le,"center",Ee.center),ci.setValue(le,"modelViewMatrix",Ee.modelViewMatrix),ci.setValue(le,"normalMatrix",Ee.normalMatrix),ci.setValue(le,"modelMatrix",Ee.matrixWorld),Fe.isShaderMaterial||Fe.isRawShaderMaterial){const Ni=Fe.uniformsGroups;for(let Es=0,uc=Ni.length;Es<uc;Es++){const ts=Ni[Es];ct.update(ts,Ss),ct.bind(ts,Ss)}}return Ss}function wi(ie,ve){ie.ambientLightColor.needsUpdate=ve,ie.lightProbe.needsUpdate=ve,ie.directionalLights.needsUpdate=ve,ie.directionalLightShadows.needsUpdate=ve,ie.pointLights.needsUpdate=ve,ie.pointLightShadows.needsUpdate=ve,ie.spotLights.needsUpdate=ve,ie.spotLightShadows.needsUpdate=ve,ie.rectAreaLights.needsUpdate=ve,ie.hemisphereLights.needsUpdate=ve}function Si(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&ie.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(ie,ve,je){const Fe=Ue.get(ie);Fe.__autoAllocateDepthBuffer=ie.resolveDepthBuffer===!1,Fe.__autoAllocateDepthBuffer===!1&&(Fe.__useRenderToTexture=!1),Ue.get(ie.texture).__webglTexture=ve,Ue.get(ie.depthTexture).__webglTexture=Fe.__autoAllocateDepthBuffer?void 0:je,Fe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ie,ve){const je=Ue.get(ie);je.__webglFramebuffer=ve,je.__useDefaultFramebuffer=ve===void 0};const mn=le.createFramebuffer();this.setRenderTarget=function(ie,ve=0,je=0){F=ie,R=ve,k=je;let Fe=!0,Ee=null,pt=!1,bt=!1;if(ie){const dt=Ue.get(ie);if(dt.__useDefaultFramebuffer!==void 0)ge.bindFramebuffer(le.FRAMEBUFFER,null),Fe=!1;else if(dt.__webglFramebuffer===void 0)_e.setupRenderTarget(ie);else if(dt.__hasExternalTextures)_e.rebindTextures(ie,Ue.get(ie.texture).__webglTexture,Ue.get(ie.depthTexture).__webglTexture);else if(ie.depthBuffer){const zt=ie.depthTexture;if(dt.__boundDepthTexture!==zt){if(zt!==null&&Ue.has(zt)&&(ie.width!==zt.image.width||ie.height!==zt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");_e.setupDepthRenderbuffer(ie)}}const Dt=ie.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(bt=!0);const Kt=Ue.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(Array.isArray(Kt[ve])?Ee=Kt[ve][je]:Ee=Kt[ve],pt=!0):ie.samples>0&&_e.useMultisampledRTT(ie)===!1?Ee=Ue.get(ie).__webglMultisampledFramebuffer:Array.isArray(Kt)?Ee=Kt[je]:Ee=Kt,q.copy(ie.viewport),Y.copy(ie.scissor),G=ie.scissorTest}else q.copy(X).multiplyScalar(Q).floor(),Y.copy(ee).multiplyScalar(Q).floor(),G=oe;if(je!==0&&(Ee=mn),ge.bindFramebuffer(le.FRAMEBUFFER,Ee)&&Fe&&ge.drawBuffers(ie,Ee),ge.viewport(q),ge.scissor(Y),ge.setScissorTest(G),pt){const dt=Ue.get(ie.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_CUBE_MAP_POSITIVE_X+ve,dt.__webglTexture,je)}else if(bt){const dt=ve;for(let Dt=0;Dt<ie.textures.length;Dt++){const Kt=Ue.get(ie.textures[Dt]);le.framebufferTextureLayer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0+Dt,Kt.__webglTexture,je,dt)}}else if(ie!==null&&je!==0){const dt=Ue.get(ie.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,dt.__webglTexture,je)}D=-1},this.readRenderTargetPixels=function(ie,ve,je,Fe,Ee,pt,bt,jt=0){if(!(ie&&ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=Ue.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&bt!==void 0&&(dt=dt[bt]),dt){ge.bindFramebuffer(le.FRAMEBUFFER,dt);try{const Dt=ie.textures[jt],Kt=Dt.format,zt=Dt.type;if(!we.textureFormatReadable(Kt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!we.textureTypeReadable(zt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=ie.width-Fe&&je>=0&&je<=ie.height-Ee&&(ie.textures.length>1&&le.readBuffer(le.COLOR_ATTACHMENT0+jt),le.readPixels(ve,je,Fe,Ee,he.convert(Kt),he.convert(zt),pt))}finally{const Dt=F!==null?Ue.get(F).__webglFramebuffer:null;ge.bindFramebuffer(le.FRAMEBUFFER,Dt)}}},this.readRenderTargetPixelsAsync=async function(ie,ve,je,Fe,Ee,pt,bt,jt=0){if(!(ie&&ie.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dt=Ue.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&bt!==void 0&&(dt=dt[bt]),dt)if(ve>=0&&ve<=ie.width-Fe&&je>=0&&je<=ie.height-Ee){ge.bindFramebuffer(le.FRAMEBUFFER,dt);const Dt=ie.textures[jt],Kt=Dt.format,zt=Dt.type;if(!we.textureFormatReadable(Kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!we.textureTypeReadable(zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Yt=le.createBuffer();le.bindBuffer(le.PIXEL_PACK_BUFFER,Yt),le.bufferData(le.PIXEL_PACK_BUFFER,pt.byteLength,le.STREAM_READ),ie.textures.length>1&&le.readBuffer(le.COLOR_ATTACHMENT0+jt),le.readPixels(ve,je,Fe,Ee,he.convert(Kt),he.convert(zt),0);const Rn=F!==null?Ue.get(F).__webglFramebuffer:null;ge.bindFramebuffer(le.FRAMEBUFFER,Rn);const li=le.fenceSync(le.SYNC_GPU_COMMANDS_COMPLETE,0);return le.flush(),await g7(le,li,4),le.bindBuffer(le.PIXEL_PACK_BUFFER,Yt),le.getBufferSubData(le.PIXEL_PACK_BUFFER,0,pt),le.deleteBuffer(Yt),le.deleteSync(li),pt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ie,ve=null,je=0){const Fe=Math.pow(2,-je),Ee=Math.floor(ie.image.width*Fe),pt=Math.floor(ie.image.height*Fe),bt=ve!==null?ve.x:0,jt=ve!==null?ve.y:0;_e.setTexture2D(ie,0),le.copyTexSubImage2D(le.TEXTURE_2D,je,0,0,bt,jt,Ee,pt),ge.unbindTexture()};const Yn=le.createFramebuffer(),or=le.createFramebuffer();this.copyTextureToTexture=function(ie,ve,je=null,Fe=null,Ee=0,pt=null){pt===null&&(Ee!==0?(pm("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pt=Ee,Ee=0):pt=0);let bt,jt,dt,Dt,Kt,zt,Yt,Rn,li;const Zn=ie.isCompressedTexture?ie.mipmaps[pt]:ie.image;if(je!==null)bt=je.max.x-je.min.x,jt=je.max.y-je.min.y,dt=je.isBox3?je.max.z-je.min.z:1,Dt=je.min.x,Kt=je.min.y,zt=je.isBox3?je.min.z:0;else{const _s=Math.pow(2,-Ee);bt=Math.floor(Zn.width*_s),jt=Math.floor(Zn.height*_s),ie.isDataArrayTexture?dt=Zn.depth:ie.isData3DTexture?dt=Math.floor(Zn.depth*_s):dt=1,Dt=0,Kt=0,zt=0}Fe!==null?(Yt=Fe.x,Rn=Fe.y,li=Fe.z):(Yt=0,Rn=0,li=0);const vn=he.convert(ve.format),Qt=he.convert(ve.type);let Ai;ve.isData3DTexture?(_e.setTexture3D(ve,0),Ai=le.TEXTURE_3D):ve.isDataArrayTexture||ve.isCompressedArrayTexture?(_e.setTexture2DArray(ve,0),Ai=le.TEXTURE_2D_ARRAY):(_e.setTexture2D(ve,0),Ai=le.TEXTURE_2D),le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,ve.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,ve.unpackAlignment);const Bn=le.getParameter(le.UNPACK_ROW_LENGTH),Ss=le.getParameter(le.UNPACK_IMAGE_HEIGHT),Qr=le.getParameter(le.UNPACK_SKIP_PIXELS),As=le.getParameter(le.UNPACK_SKIP_ROWS),es=le.getParameter(le.UNPACK_SKIP_IMAGES);le.pixelStorei(le.UNPACK_ROW_LENGTH,Zn.width),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,Zn.height),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Dt),le.pixelStorei(le.UNPACK_SKIP_ROWS,Kt),le.pixelStorei(le.UNPACK_SKIP_IMAGES,zt);const ci=ie.isDataArrayTexture||ie.isData3DTexture,Is=ve.isDataArrayTexture||ve.isData3DTexture;if(ie.isDepthTexture){const _s=Ue.get(ie),Ni=Ue.get(ve),Es=Ue.get(_s.__renderTarget),uc=Ue.get(Ni.__renderTarget);ge.bindFramebuffer(le.READ_FRAMEBUFFER,Es.__webglFramebuffer),ge.bindFramebuffer(le.DRAW_FRAMEBUFFER,uc.__webglFramebuffer);for(let ts=0;ts<dt;ts++)ci&&(le.framebufferTextureLayer(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ue.get(ie).__webglTexture,Ee,zt+ts),le.framebufferTextureLayer(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ue.get(ve).__webglTexture,pt,li+ts)),le.blitFramebuffer(Dt,Kt,bt,jt,Yt,Rn,bt,jt,le.DEPTH_BUFFER_BIT,le.NEAREST);ge.bindFramebuffer(le.READ_FRAMEBUFFER,null),ge.bindFramebuffer(le.DRAW_FRAMEBUFFER,null)}else if(Ee!==0||ie.isRenderTargetTexture||Ue.has(ie)){const _s=Ue.get(ie),Ni=Ue.get(ve);ge.bindFramebuffer(le.READ_FRAMEBUFFER,Yn),ge.bindFramebuffer(le.DRAW_FRAMEBUFFER,or);for(let Es=0;Es<dt;Es++)ci?le.framebufferTextureLayer(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,_s.__webglTexture,Ee,zt+Es):le.framebufferTexture2D(le.READ_FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,_s.__webglTexture,Ee),Is?le.framebufferTextureLayer(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,Ni.__webglTexture,pt,li+Es):le.framebufferTexture2D(le.DRAW_FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_2D,Ni.__webglTexture,pt),Ee!==0?le.blitFramebuffer(Dt,Kt,bt,jt,Yt,Rn,bt,jt,le.COLOR_BUFFER_BIT,le.NEAREST):Is?le.copyTexSubImage3D(Ai,pt,Yt,Rn,li+Es,Dt,Kt,bt,jt):le.copyTexSubImage2D(Ai,pt,Yt,Rn,Dt,Kt,bt,jt);ge.bindFramebuffer(le.READ_FRAMEBUFFER,null),ge.bindFramebuffer(le.DRAW_FRAMEBUFFER,null)}else Is?ie.isDataTexture||ie.isData3DTexture?le.texSubImage3D(Ai,pt,Yt,Rn,li,bt,jt,dt,vn,Qt,Zn.data):ve.isCompressedArrayTexture?le.compressedTexSubImage3D(Ai,pt,Yt,Rn,li,bt,jt,dt,vn,Zn.data):le.texSubImage3D(Ai,pt,Yt,Rn,li,bt,jt,dt,vn,Qt,Zn):ie.isDataTexture?le.texSubImage2D(le.TEXTURE_2D,pt,Yt,Rn,bt,jt,vn,Qt,Zn.data):ie.isCompressedTexture?le.compressedTexSubImage2D(le.TEXTURE_2D,pt,Yt,Rn,Zn.width,Zn.height,vn,Zn.data):le.texSubImage2D(le.TEXTURE_2D,pt,Yt,Rn,bt,jt,vn,Qt,Zn);le.pixelStorei(le.UNPACK_ROW_LENGTH,Bn),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,Ss),le.pixelStorei(le.UNPACK_SKIP_PIXELS,Qr),le.pixelStorei(le.UNPACK_SKIP_ROWS,As),le.pixelStorei(le.UNPACK_SKIP_IMAGES,es),pt===0&&ve.generateMipmaps&&le.generateMipmap(Ai),ge.unbindTexture()},this.copyTextureToTexture3D=function(ie,ve,je=null,Fe=null,Ee=0){return pm('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(ie,ve,je,Fe,Ee)},this.initRenderTarget=function(ie){Ue.get(ie).__webglFramebuffer===void 0&&_e.setupRenderTarget(ie)},this.initTexture=function(ie){ie.isCubeTexture?_e.setTextureCube(ie,0):ie.isData3DTexture?_e.setTexture3D(ie,0):ie.isDataArrayTexture||ie.isCompressedArrayTexture?_e.setTexture2DArray(ie,0):_e.setTexture2D(ie,0),ge.unbindTexture()},this.resetState=function(){R=0,k=0,F=null,ge.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ua}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Wn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Wn._getUnpackColorSpace()}}const jK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:zC,AddEquation:ld,AddOperation:VO,AdditiveAnimationBlendMode:KC,AdditiveBlending:bE,AgXToneMapping:YO,AlphaFormat:qC,AlwaysCompare:uP,AlwaysDepth:H1,AlwaysStencilFunc:_E,AmbientLight:ZP,AnimationAction:lL,AnimationClip:Om,AnimationLoader:VV,AnimationMixer:gG,AnimationObjectGroup:pG,AnimationUtils:kV,ArcCurve:CP,ArrayCamera:rL,ArrowHelper:zG,AttachedBindMode:AE,Audio:aL,AudioAnalyser:sG,AudioContext:EM,AudioListener:tG,AudioLoader:ZV,AxesHelper:HG,BackSide:Yr,BasicDepthPacking:tP,BasicShadowMap:AO,BatchedMesh:AP,Bone:A2,BooleanKeyframeTrack:Tf,Box2:EG,Box3:ar,Box3Helper:kG,BoxGeometry:Mf,BoxHelper:UG,BufferAttribute:ei,BufferGeometry:Sn,BufferGeometryLoader:iL,ByteType:HC,Cache:Ql,Camera:b2,CameraHelper:IG,CanvasTexture:lV,CapsuleGeometry:M2,CatmullRomCurve3:MP,CineonToneMapping:WO,CircleGeometry:T2,ClampToEdgeWrapping:Ia,Clock:CM,Color:Nt,ColorKeyframeTrack:vM,ColorManagement:Wn,CompressedArrayTexture:aV,CompressedCubeTexture:oV,CompressedTexture:C2,CompressedTextureLoader:GV,ConeGeometry:ey,ConstantAlphaFactor:FO,ConstantColorFactor:UO,Controls:GG,CubeCamera:yP,CubeReflectionMapping:Zc,CubeRefractionMapping:gd,CubeTexture:Jx,CubeTextureLoader:qV,CubeUVReflectionMapping:Gm,CubicBezierCurve:uM,CubicBezierCurve3:TP,CubicInterpolant:WP,CullFaceBack:vE,CullFaceFront:SO,CullFaceFrontBack:vH,CullFaceNone:wO,Curve:hl,CurvePath:jP,CustomBlending:_O,CustomToneMapping:XO,CylinderGeometry:$x,Cylindrical:_G,Data3DTexture:v2,DataArrayTexture:y2,DataTexture:ec,DataTextureLoader:WV,DataUtils:R7,DecrementStencilOp:jH,DecrementWrapStencilOp:BH,DefaultLoadingManager:KP,DepthFormat:Em,DepthStencilFormat:Cm,DepthTexture:lM,DetachedBindMode:JO,DirectionalLight:_M,DirectionalLightHelper:LG,DiscreteInterpolant:XP,DodecahedronGeometry:N2,DoubleSide:rl,DstAlphaFactor:DO,DstColorFactor:PO,DynamicCopyUsage:XH,DynamicDrawUsage:zH,DynamicReadUsage:GH,EdgesGeometry:EP,EllipseCurve:j2,EqualCompare:aP,EqualDepth:G1,EqualStencilFunc:LH,EquirectangularReflectionMapping:wx,EquirectangularRefractionMapping:Sx,Euler:za,EventDispatcher:lc,ExtrudeGeometry:R2,FileLoader:Ha,Float16BufferAttribute:U7,Float32BufferAttribute:Xt,FloatType:ga,Fog:S2,FogExp2:w2,FramebufferTexture:rV,FrontSide:sc,Frustum:Wm,FrustumArray:_2,GLBufferAttribute:wG,GLSL1:KH,GLSL3:EE,GreaterCompare:oP,GreaterDepth:W1,GreaterEqualCompare:cP,GreaterEqualDepth:q1,GreaterEqualStencilFunc:FH,GreaterStencilFunc:UH,GridHelper:OG,Group:qc,HalfFloatType:qm,HemisphereLight:QP,HemisphereLightHelper:DG,IcosahedronGeometry:B2,ImageBitmapLoader:sL,ImageLoader:jx,ImageUtils:pP,IncrementStencilOp:NH,IncrementWrapStencilOp:RH,InstancedBufferAttribute:ff,InstancedBufferGeometry:nL,InstancedInterleavedBuffer:bG,InstancedMesh:rM,Int16BufferAttribute:L7,Int32BufferAttribute:I7,Int8BufferAttribute:D7,IntType:d2,InterleavedBuffer:Qx,InterleavedBufferAttribute:vd,Interpolant:Ym,InterpolateDiscrete:Mm,InterpolateLinear:Tm,InterpolateSmooth:f1,InterpolationSamplingMode:ZH,InterpolationSamplingType:QH,InvertStencilOp:DH,KeepStencilOp:Fh,KeyframeTrack:Co,LOD:SP,LatheGeometry:D2,Layers:Rm,LessCompare:rP,LessDepth:V1,LessEqualCompare:QC,LessEqualDepth:hf,LessEqualStencilFunc:IH,LessStencilFunc:PH,Light:Cd,LightProbe:tL,Line:eu,Line3:TG,LineBasicMaterial:Cr,LineCurve:dM,LineCurve3:NP,LineDashedMaterial:VP,LineLoop:aM,LineSegments:dl,LinearFilter:cs,LinearInterpolant:yM,LinearMipMapLinearFilter:AH,LinearMipMapNearestFilter:SH,LinearMipmapLinearFilter:vo,LinearMipmapNearestFilter:fm,LinearSRGBColorSpace:yd,LinearToneMapping:GO,LinearTransfer:_x,Loader:Mr,LoaderUtils:fd,LoadingManager:bM,LoopOnce:QO,LoopPingPong:$O,LoopRepeat:ZO,MOUSE:Uh,Material:Os,MaterialLoader:F2,MathUtils:dP,Matrix2:jM,Matrix3:_n,Matrix4:an,MaxEquation:TO,Mesh:us,MeshBasicMaterial:ka,MeshDepthMaterial:mM,MeshDistanceMaterial:gM,MeshLambertMaterial:zP,MeshMatcapMaterial:HP,MeshNormalMaterial:FP,MeshPhongMaterial:UP,MeshPhysicalMaterial:Eo,MeshStandardMaterial:iy,MeshToonMaterial:kP,MinEquation:MO,MirroredRepeatWrapping:Sm,MixOperation:HO,MultiplyBlending:SE,MultiplyOperation:Yx,NearestFilter:Gs,NearestMipMapLinearFilter:wH,NearestMipMapNearestFilter:bH,NearestMipmapLinearFilter:Kh,NearestMipmapNearestFilter:u2,NeutralToneMapping:KO,NeverCompare:sP,NeverDepth:z1,NeverStencilFunc:OH,NoBlending:Wc,NoColorSpace:Vc,NoToneMapping:$l,NormalAnimationBlendMode:x2,NormalBlending:rf,NotEqualCompare:lP,NotEqualDepth:X1,NotEqualStencilFunc:kH,NumberKeyframeTrack:mf,Object3D:Xn,ObjectLoader:JV,ObjectSpaceNormalMap:iP,OctahedronGeometry:ty,OneFactor:jO,OneMinusConstantAlphaFactor:zO,OneMinusConstantColorFactor:kO,OneMinusDstAlphaFactor:OO,OneMinusDstColorFactor:LO,OneMinusSrcAlphaFactor:F1,OneMinusSrcColorFactor:BO,OrthographicCamera:Yc,PCFShadowMap:l2,PCFSoftShadowMap:$0,PMREMGenerator:DE,Path:_w,PerspectiveCamera:Zi,Plane:Hc,PlaneGeometry:Xm,PlaneHelper:FG,PointLight:AM,PointLightHelper:RG,Points:oM,PointsMaterial:E2,PolarGridHelper:PG,PolyhedronGeometry:Ed,PositionalAudio:iG,PropertyBinding:Qn,PropertyMixer:oL,QuadraticBezierCurve:hM,QuadraticBezierCurve3:fM,Quaternion:qs,QuaternionKeyframeTrack:gf,QuaternionLinearInterpolant:YP,RED_GREEN_RGTC2_Format:yw,RED_RGTC1_Format:YC,REVISION:Xx,RGBADepthPacking:nP,RGBAFormat:Sr,RGBAIntegerFormat:g2,RGBA_ASTC_10x10_Format:hw,RGBA_ASTC_10x5_Format:cw,RGBA_ASTC_10x6_Format:uw,RGBA_ASTC_10x8_Format:dw,RGBA_ASTC_12x10_Format:fw,RGBA_ASTC_12x12_Format:pw,RGBA_ASTC_4x4_Format:tw,RGBA_ASTC_5x4_Format:nw,RGBA_ASTC_5x5_Format:iw,RGBA_ASTC_6x5_Format:sw,RGBA_ASTC_6x6_Format:rw,RGBA_ASTC_8x5_Format:aw,RGBA_ASTC_8x6_Format:ow,RGBA_ASTC_8x8_Format:lw,RGBA_BPTC_Format:sx,RGBA_ETC2_EAC_Format:ew,RGBA_PVRTC_2BPPV1_Format:Q1,RGBA_PVRTC_4BPPV1_Format:J1,RGBA_S3TC_DXT1_Format:tx,RGBA_S3TC_DXT3_Format:nx,RGBA_S3TC_DXT5_Format:ix,RGBDepthPacking:EH,RGBFormat:WC,RGBIntegerFormat:_H,RGB_BPTC_SIGNED_Format:mw,RGB_BPTC_UNSIGNED_Format:gw,RGB_ETC1_Format:Z1,RGB_ETC2_Format:$1,RGB_PVRTC_2BPPV1_Format:K1,RGB_PVRTC_4BPPV1_Format:Y1,RGB_S3TC_DXT1_Format:ex,RGDepthPacking:CH,RGFormat:XC,RGIntegerFormat:m2,RawShaderMaterial:IP,Ray:Cf,Raycaster:cL,RectAreaLight:$P,RedFormat:p2,RedIntegerFormat:Kx,ReinhardToneMapping:qO,RenderTarget:$C,RenderTarget3D:xG,RepeatWrapping:xd,ReplaceStencilOp:TH,ReverseSubtractEquation:CO,RingGeometry:O2,SIGNED_RED_GREEN_RGTC2_Format:vw,SIGNED_RED_RGTC1_Format:xw,SRGBColorSpace:br,SRGBTransfer:mi,Scene:nM,ShaderChunk:Nn,ShaderLib:sl,ShaderMaterial:ll,ShadowMaterial:LP,Shape:of,ShapeGeometry:P2,ShapePath:VG,ShapeUtils:ol,ShortType:VC,Skeleton:Zx,SkeletonHelper:jG,SkinnedMesh:sM,Source:ud,Sphere:Ws,SphereGeometry:ny,Spherical:RE,SphericalHarmonics3:eL,SplineCurve:pM,SpotLight:SM,SpotLightHelper:NG,Sprite:wP,SpriteMaterial:iM,SrcAlphaFactor:k1,SrcAlphaSaturateFactor:IO,SrcColorFactor:RO,StaticCopyUsage:WH,StaticDrawUsage:Ex,StaticReadUsage:VH,StereoCamera:$V,StreamCopyUsage:YH,StreamDrawUsage:HH,StreamReadUsage:qH,StringKeyframeTrack:Nf,SubtractEquation:EO,SubtractiveBlending:wE,TOUCH:kh,TangentSpaceNormalMap:_d,TetrahedronGeometry:L2,Texture:ki,TextureLoader:JP,TextureUtils:KG,Timer:SG,TimestampQuery:JH,TorusGeometry:I2,TorusKnotGeometry:U2,Triangle:ma,TriangleFanDrawMode:bw,TriangleStripDrawMode:JC,TrianglesDrawMode:eP,TubeGeometry:k2,UVMapping:c2,Uint16BufferAttribute:eM,Uint32BufferAttribute:tM,Uint8BufferAttribute:O7,Uint8ClampedBufferAttribute:P7,Uniform:NM,UniformsGroup:vG,UniformsLib:Bt,UniformsUtils:xP,UnsignedByteType:So,UnsignedInt248Type:_m,UnsignedInt5999Type:GC,UnsignedIntType:$c,UnsignedShort4444Type:h2,UnsignedShort5551Type:f2,UnsignedShortType:Am,VSMShadowMap:nl,Vector2:st,Vector3:ae,Vector4:$n,VectorKeyframeTrack:xf,VideoFrameTexture:sV,VideoTexture:_P,WebGL3DRenderTarget:w7,WebGLArrayRenderTarget:b7,WebGLCoordinateSystem:Ua,WebGLCubeRenderTarget:vP,WebGLRenderTarget:rc,WebGLRenderer:yL,WebGLUtils:gL,WebGPUCoordinateSystem:Nm,WebXRController:p1,WireframeGeometry:PP,WrapAroundEnding:Ax,ZeroCurvatureEnding:Jh,ZeroFactor:NO,ZeroSlopeEnding:Qh,ZeroStencilOp:MH,createCanvasElement:fP},Symbol.toStringTag,{value:"Module"}));var o_={exports:{}},l_={},c_={exports:{}},u_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function RK(){if(gR)return u_;gR=1;var n=Er();function e(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function c(x,y){var b=y(),S=i({inst:{value:b,getSnapshot:y}}),_=S[0].inst,E=S[1];return a(function(){_.value=b,_.getSnapshot=y,d(_)&&E({inst:_})},[x,b,y]),s(function(){return d(_)&&E({inst:_}),x(function(){d(_)&&E({inst:_})})},[x]),o(b),b}function d(x){var y=x.getSnapshot;x=x.value;try{var b=y();return!t(x,b)}catch{return!0}}function h(x,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return u_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,u_}var xR;function BK(){return xR||(xR=1,c_.exports=RK()),c_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function DK(){if(yR)return l_;yR=1;var n=Er(),e=BK();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,c=n.useMemo,d=n.useDebugValue;return l_.useSyncExternalStoreWithSelector=function(h,m,x,y,b){var S=a(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=c(function(){function A(R){if(!P){if(P=!0,N=R,R=y(R),b!==void 0&&_.hasValue){var k=_.value;if(b(k,R))return L=k}return L=R}if(k=L,i(N,R))return k;var F=y(R);return b!==void 0&&b(k,F)?(N=R,k):(N=R,L=F)}var P=!1,N,L,j=x===void 0?null:x;return[function(){return A(m())},j===null?void 0:function(){return A(j())}]},[m,x,y,b]);var E=s(h,S[0],S[1]);return o(function(){_.hasValue=!0,_.value=E},[E]),d(E),E},l_}var vR;function OK(){return vR||(vR=1,o_.exports=DK()),o_.exports}var PK=OK();const LK=Af(PK),bR=n=>{let e;const t=new Set,i=(h,m)=>{const x=typeof h=="function"?h(e):h;if(!Object.is(x,e)){const y=e;e=m??(typeof x!="object"||x===null)?x:Object.assign({},e,x),t.forEach(b=>b(e,y))}},s=()=>e,c={setState:i,getState:s,getInitialState:()=>d,subscribe:h=>(t.add(h),()=>t.delete(h))},d=e=n(i,s,c);return c},IK=n=>n?bR(n):bR,{useSyncExternalStoreWithSelector:UK}=LK,kK=n=>n;function FK(n,e=kK,t){const i=UK(n.subscribe,n.getState,n.getInitialState,e,t);return Mi.useDebugValue(i),i}const wR=(n,e)=>{const t=IK(n),i=(s,a=e)=>FK(t,s,a);return Object.assign(i,t),i},zK=(n,e)=>n?wR(n,e):wR,HK=n=>typeof n=="object"&&typeof n.then=="function",$h=[];function vL(n,e,t=(i,s)=>i===s){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let s=0;s<i;s++)if(!t(n[s],e[s]))return!1;return!0}function bL(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of $h)if(vL(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const s={keys:e,equal:i.equal,remove:()=>{const a=$h.indexOf(s);a!==-1&&$h.splice(a,1)},promise:(HK(n)?n:n(...e)).then(a=>{s.response=a,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(a=>s.error=a)};if($h.push(s),!t)throw s.promise}const VK=(n,e,t)=>bL(n,e,!1,t),GK=(n,e,t)=>void bL(n,e,!0,t),qK=n=>{if(n===void 0||n.length===0)$h.splice(0,$h.length);else{const e=$h.find(t=>vL(n,t.keys,t.equal));e&&e.remove()}};var d_={exports:{}},h_={exports:{}},f_={exports:{}},p_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR;function WK(){return SR||(SR=1,function(n){function e(z,I){var Q=z.length;z.push(I);e:for(;0<Q;){var K=Q-1>>>1,T=z[K];if(0<s(T,I))z[K]=I,z[Q]=T,Q=K;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var I=z[0],Q=z.pop();if(Q!==I){z[0]=Q;e:for(var K=0,T=z.length,X=T>>>1;K<X;){var ee=2*(K+1)-1,oe=z[ee],ce=ee+1,re=z[ce];if(0>s(oe,Q))ce<T&&0>s(re,oe)?(z[K]=re,z[ce]=Q,K=ce):(z[K]=oe,z[ee]=Q,K=ee);else if(ce<T&&0>s(re,Q))z[K]=re,z[ce]=Q,K=ce;else break e}}return I}function s(z,I){var Q=z.sortIndex-I.sortIndex;return Q!==0?Q:z.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,x=null,y=3,b=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function N(z){for(var I=t(h);I!==null;){if(I.callback===null)i(h);else if(I.startTime<=z)i(h),I.sortIndex=I.expirationTime,e(d,I);else break;I=t(h)}}function L(z){if(_=!1,N(z),!S)if(t(d)!==null)S=!0,W();else{var I=t(h);I!==null&&$(L,I.startTime-z)}}var j=!1,R=-1,k=5,F=-1;function D(){return!(n.unstable_now()-F<k)}function B(){if(j){var z=n.unstable_now();F=z;var I=!0;try{e:{S=!1,_&&(_=!1,A(R),R=-1),b=!0;var Q=y;try{t:{for(N(z),x=t(d);x!==null&&!(x.expirationTime>z&&D());){var K=x.callback;if(typeof K=="function"){x.callback=null,y=x.priorityLevel;var T=K(x.expirationTime<=z);if(z=n.unstable_now(),typeof T=="function"){x.callback=T,N(z),I=!0;break t}x===t(d)&&i(d),N(z)}else i(d);x=t(d)}if(x!==null)I=!0;else{var X=t(h);X!==null&&$(L,X.startTime-z),I=!1}}break e}finally{x=null,y=Q,b=!1}I=void 0}}finally{I?q():j=!1}}}var q;if(typeof P=="function")q=function(){P(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,G=Y.port2;Y.port1.onmessage=B,q=function(){G.postMessage(null)}}else q=function(){E(B,0)};function W(){j||(j=!0,q())}function $(z,I){R=E(function(){z(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,W())},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var Q=y;y=I;try{return z()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=y;y=z;try{return I()}finally{y=Q}},n.unstable_scheduleCallback=function(z,I,Q){var K=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?K+Q:K):Q=K,z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Q+T,z={id:m++,callback:I,priorityLevel:z,startTime:Q,expirationTime:T,sortIndex:-1},Q>K?(z.sortIndex=Q,e(h,z),t(d)===null&&z===t(h)&&(_?(A(R),R=-1):_=!0,$(L,Q-K))):(z.sortIndex=T,e(d,z),S||b||(S=!0,W())),z},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(z){var I=y;return function(){var Q=y;y=I;try{return z.apply(this,arguments)}finally{y=Q}}}}(p_)),p_}var AR;function XK(){return AR||(AR=1,f_.exports=WK()),f_.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function YK(){return _R||(_R=1,function(n){n.exports=function(e){function t(f,p,w,M){return new Dg(f,p,w,M)}function i(){}function s(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=ko&&f[ko]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Ig?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Tl:return"Fragment";case ta:return"Portal";case tp:return"Profiler";case nh:return"StrictMode";case np:return"Suspense";case Au:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Aa:return(f.displayName||"Context")+".Provider";case Pg:return(f._context.displayName||"Context")+".Consumer";case sh:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case ip:return p=f.displayName||null,p!==null?p:o(f.type)||"Memo";case na:p=f._payload,f=f._init;try{return o(f(p))}catch{}}return null}function c(f){if(Za===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Za=p&&p[1]||"",Fo=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+f+Fo}function d(f,p){if(!f||mc)return"";mc=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(p){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(xn){var Pt=xn}Reflect.construct(f,[],Rt)}else{try{Rt.call()}catch(xn){Pt=xn}f.call(Rt.prototype)}}else{try{throw Error()}catch(xn){Pt=xn}(Rt=f())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(xn){if(xn&&Pt&&typeof xn.stack=="string")return[xn.stack,Pt.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=M.DetermineComponentFrameRoot(),se=H[0],me=H[1];if(se&&me){var Re=se.split(`
`),nt=me.split(`
`);for(U=M=0;M<Re.length&&!Re[M].includes("DetermineComponentFrameRoot");)M++;for(;U<nt.length&&!nt[U].includes("DetermineComponentFrameRoot");)U++;if(M===Re.length||U===nt.length)for(M=Re.length-1,U=nt.length-1;1<=M&&0<=U&&Re[M]!==nt[U];)U--;for(;1<=M&&0<=U;M--,U--)if(Re[M]!==nt[U]){if(M!==1||U!==1)do if(M--,U--,0>U||Re[M]!==nt[U]){var wt=`
`+Re[M].replace(" at new "," at ");return f.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",f.displayName)),wt}while(1<=M&&0<=U);break}}}finally{mc=!1,Error.prepareStackTrace=w}return(w=f?f.displayName||f.name:"")?c(w):""}function h(f){switch(f.tag){case 26:case 27:case 5:return c(f.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return f=d(f.type,!1),f;case 11:return f=d(f.type.render,!1),f;case 1:return f=d(f.type,!0),f;default:return""}}function m(f){try{var p="";do p+=h(f),f=f.return;while(f);return p}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function x(f){var p=f,w=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(w=p.return),f=p.return;while(f)}return p.tag===3?w:null}function y(f){if(x(f)!==f)throw Error(s(188))}function b(f){var p=f.alternate;if(!p){if(p=x(f),p===null)throw Error(s(188));return p!==f?null:f}for(var w=f,M=p;;){var U=w.return;if(U===null)break;var H=U.alternate;if(H===null){if(M=U.return,M!==null){w=M;continue}break}if(U.child===H.child){for(H=U.child;H;){if(H===w)return y(U),f;if(H===M)return y(U),p;H=H.sibling}throw Error(s(188))}if(w.return!==M.return)w=U,M=H;else{for(var se=!1,me=U.child;me;){if(me===w){se=!0,w=U,M=H;break}if(me===M){se=!0,M=U,w=H;break}me=me.sibling}if(!se){for(me=H.child;me;){if(me===w){se=!0,w=H,M=U;break}if(me===M){se=!0,M=H,w=U;break}me=me.sibling}if(!se)throw Error(s(189))}}if(w.alternate!==M)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?f:p}function S(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=S(f),p!==null)return p;f=f.sibling}return null}function _(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(p=_(f),p!==null))return p;f=f.sibling}return null}function E(f){return{current:f}}function A(f){0>Go||(f.current=Hi[Go],Hi[Go]=null,Go--)}function P(f,p){Go++,Hi[Go]=f.current,f.current=p}function N(f){return f>>>=0,f===0?32:31-(Av(f)/_v|0)|0}function L(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function j(f,p){var w=f.pendingLanes;if(w===0)return 0;var M=0,U=f.suspendedLanes,H=f.pingedLanes,se=f.warmLanes;f=f.finishedLanes!==0;var me=w&134217727;return me!==0?(w=me&~U,w!==0?M=L(w):(H&=me,H!==0?M=L(H):f||(se=me&~se,se!==0&&(M=L(se))))):(me=w&~U,me!==0?M=L(me):H!==0?M=L(H):f||(se=w&~se,se!==0&&(M=L(se)))),M===0?0:p!==0&&p!==M&&(p&U)===0&&(U=M&-M,se=p&-p,U>=se||U===32&&(se&4194176)!==0)?p:M}function R(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function k(f,p){switch(f){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var f=eo;return eo<<=1,(eo&4194176)===0&&(eo=128),f}function D(){var f=yc;return yc<<=1,(yc&62914560)===0&&(yc=4194304),f}function B(f){for(var p=[],w=0;31>w;w++)p.push(f);return p}function q(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Y(f,p,w,M,U,H){var se=f.pendingLanes;f.pendingLanes=w,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=w,f.entangledLanes&=w,f.errorRecoveryDisabledLanes&=w,f.shellSuspendCounter=0;var me=f.entanglements,Re=f.expirationTimes,nt=f.hiddenUpdates;for(w=se&~w;0<w;){var wt=31-$s(w),Rt=1<<wt;me[wt]=0,Re[wt]=-1;var Pt=nt[wt];if(Pt!==null)for(nt[wt]=null,wt=0;wt<Pt.length;wt++){var xn=Pt[wt];xn!==null&&(xn.lane&=-536870913)}w&=~Rt}M!==0&&G(f,M,0),H!==0&&U===0&&f.tag!==0&&(f.suspendedLanes|=H&~(se&~p))}function G(f,p,w){f.pendingLanes|=p,f.suspendedLanes&=~p;var M=31-$s(p);f.entangledLanes|=p,f.entanglements[M]=f.entanglements[M]|1073741824|w&4194218}function W(f,p){var w=f.entangledLanes|=p;for(f=f.entanglements;w;){var M=31-$s(w),U=1<<M;U&p|f[M]&p&&(f[M]|=p),w&=~U}}function $(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function z(f){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Vi,f,void 0,(f.current.flags&128)===128)}catch{}}function I(f){if(typeof Mv=="function"&&ms(f),pr&&typeof pr.setStrictMode=="function")try{pr.setStrictMode(Vi,f)}catch{}}function Q(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}function K(f,p){if(typeof f=="object"&&f!==null){var w=n0.get(f);return w!==void 0?w:(p={value:f,source:p,stack:m(p)},n0.set(f,p),p)}return{value:f,source:p,stack:m(p)}}function T(f,p){vc[bc++]=Bu,vc[bc++]=wc,wc=f,Bu=p}function X(f,p,w){Br[Dr++]=Ca,Br[Dr++]=Ma,Br[Dr++]=Pl,Pl=f;var M=Ca;f=Ma;var U=32-$s(M)-1;M&=~(1<<U),w+=1;var H=32-$s(p)+U;if(30<H){var se=U-U%5;H=(M&(1<<se)-1).toString(32),M>>=se,U-=se,Ca=1<<32-$s(p)+U|w<<U|M,Ma=H+f}else Ca=1<<H|w<<U|M,Ma=f}function ee(f){f.return!==null&&(T(f,1),X(f,1,0))}function oe(f){for(;f===wc;)wc=vc[--bc],vc[bc]=null,Bu=vc[--bc],vc[bc]=null;for(;f===Pl;)Pl=Br[--Dr],Br[Dr]=null,Ma=Br[--Dr],Br[Dr]=null,Ca=Br[--Dr],Br[Dr]=null}function ce(f,p){P(to,p),P(Du,f),P(is,null),f=Hy(p),A(is),P(is,f)}function re(){A(is),A(Du),A(to)}function ue(f){f.memoizedState!==null&&P(Sc,f);var p=is.current,w=Mu(p,f.type);p!==w&&(P(Du,f),P(is,w))}function ye(f){Du.current===f&&(A(is),A(Du)),Sc.current===f&&(A(Sc),Qs?_a._currentValue=jl:_a._currentValue2=jl)}function Ve(f){var p=Error(s(418,""));throw le(K(p,f)),fh}function Qe(f,p){if(!Rs)throw Error(s(175));fv(f.stateNode,f.type,f.memoizedProps,p,f)||Ve(f)}function We(f){for(Bs=f.return;Bs;)switch(Bs.tag){case 3:case 27:gs=!0;return;case 5:case 13:gs=!1;return;default:Bs=Bs.return}}function mt(f){if(!Rs||f!==Bs)return!1;if(!zn)return We(f),zn=!0,!1;var p=!1;if(di?f.tag!==3&&f.tag!==27&&(f.tag!==5||hp(f.type)&&!wn(f.type,f.memoizedProps))&&(p=!0):f.tag!==3&&(f.tag!==5||hp(f.type)&&!wn(f.type,f.memoizedProps))&&(p=!0),p&&Ds&&Ve(f),We(f),f.tag===13){if(!Rs)throw Error(s(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));Ds=mv(f)}else Ds=Bs?Zg(f.stateNode):null;return!0}function ut(){Rs&&(Ds=Bs=null,zn=!1)}function le(f){ra===null?ra=[f]:ra.push(f)}function Me(){for(var f=Ac,p=Ta=Ac=0;p<f;){var w=aa[p];aa[p++]=null;var M=aa[p];aa[p++]=null;var U=aa[p];aa[p++]=null;var H=aa[p];if(aa[p++]=null,M!==null&&U!==null){var se=M.pending;se===null?U.next=U:(U.next=se.next,se.next=U),M.pending=U}H!==0&&Be(w,U,H)}}function Ae(f,p,w,M){aa[Ac++]=f,aa[Ac++]=p,aa[Ac++]=w,aa[Ac++]=M,Ta|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function we(f,p,w,M){return Ae(f,p,w,M),Ue(f)}function ge(f,p){return Ae(f,null,null,p),Ue(f)}function Be(f,p,w){f.lanes|=w;var M=f.alternate;M!==null&&(M.lanes|=w);for(var U=!1,H=f.return;H!==null;)H.childLanes|=w,M=H.alternate,M!==null&&(M.childLanes|=w),H.tag===22&&(f=H.stateNode,f===null||f._visibility&1||(U=!0)),f=H,H=H.return;U&&p!==null&&f.tag===3&&(H=f.stateNode,U=31-$s(w),H=H.hiddenUpdates,f=H[U],f===null?H[U]=[p]:f.push(p),p.lane=w|536870912)}function Ue(f){if(50<Hu)throw Hu=0,Mp=null,Error(s(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}function _e(f){f!==qo&&f.next===null&&(qo===null?ph=qo=f:qo=qo.next=f),gi=!0,_c||(_c=!0,Oe(et))}function $e(f,p){if(!i0&&gi){i0=!0;do for(var w=!1,M=ph;M!==null;){if(f!==0){var U=M.pendingLanes;if(U===0)var H=0;else{var se=M.suspendedLanes,me=M.pingedLanes;H=(1<<31-$s(42|f)+1)-1,H&=U&~(se&~me),H=H&201326677?H&201326677|1:H?H|2:0}H!==0&&(w=!0,xe(M,H))}else H=Ln,H=j(M,M===ii?H:0),(H&3)===0||R(M,H)||(w=!0,xe(M,H));M=M.next}while(w);i0=!1}}function et(){gi=_c=!1;var f=0;Ou!==0&&(Wy()&&(f=Ou),Ou=0);for(var p=sa(),w=null,M=ph;M!==null;){var U=M.next,H=te(M,p);H===0?(M.next=null,w===null?ph=U:w.next=U,U===null&&(qo=w)):(w=M,(f!==0||(H&3)!==0)&&(gi=!0)),M=U}$e(f)}function te(f,p){for(var w=f.suspendedLanes,M=f.pingedLanes,U=f.expirationTimes,H=f.pendingLanes&-62914561;0<H;){var se=31-$s(H),me=1<<se,Re=U[se];Re===-1?((me&w)===0||(me&M)!==0)&&(U[se]=k(me,p)):Re<=p&&(f.expiredLanes|=me),H&=~me}if(p=ii,w=Ln,w=j(f,f===p?w:0),M=f.callbackNode,w===0||f===p&&ui===2||f.cancelPendingCommit!==null)return M!==null&&M!==null&&gp(M),f.callbackNode=null,f.callbackPriority=0;if((w&3)===0||R(f,w)){if(p=w&-w,p===f.callbackPriority)return p;switch(M!==null&&gp(M),$(w)){case 2:case 8:w=Cv;break;case 32:w=vp;break;case 268435456:w=yS;break;default:w=vp}return M=Z.bind(null,f),w=hh(w,M),f.callbackPriority=p,f.callbackNode=w,p}return M!==null&&M!==null&&gp(M),f.callbackPriority=2,f.callbackNode=null,2}function Z(f,p){var w=f.callbackNode;if(Sa()&&f.callbackNode!==w)return null;var M=Ln;return M=j(f,f===ii?M:0),M===0?null:(Al(f,M,p),te(f,sa()),f.callbackNode!=null&&f.callbackNode===w?Z.bind(null,f):null)}function xe(f,p){if(Sa())return null;Al(f,p,!0)}function Oe(f){Hg?Vo(function(){(Gn&6)!==0?hh(yp,f):f()}):hh(yp,f)}function Xe(){return Ou===0&&(Ou=F()),Ou}function He(f,p){if(Pu===null){var w=Pu=[];Ec=0,Or=Xe(),Cc={status:"pending",value:void 0,then:function(M){w.push(M)}}}return Ec++,p.then(_t,_t),p}function _t(){if(--Ec===0&&Pu!==null){Cc!==null&&(Cc.status="fulfilled");var f=Pu;Pu=null,Or=0,Cc=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function yt(f,p){var w=[],M={status:"pending",value:null,reason:null,then:function(U){w.push(U)}};return f.then(function(){M.status="fulfilled",M.value=p;for(var U=0;U<w.length;U++)(0,w[U])(p)},function(U){for(M.status="rejected",M.reason=U,U=0;U<w.length;U++)(0,w[U])(void 0)}),M}function Tt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ot(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Pe(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Je(f,p,w){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(Gn&2)!==0){var U=M.pending;return U===null?p.next=p:(p.next=U.next,U.next=p),M.pending=p,p=Ue(f),Be(f,null,w),p}return Ae(f,M,p,w),Ue(f)}function Ct(f,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194176)!==0)){var M=p.lanes;M&=f.pendingLanes,w|=M,p.lanes=w,W(f,w)}}function he(f,p){var w=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var U=null,H=null;if(w=w.firstBaseUpdate,w!==null){do{var se={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};H===null?U=H=se:H=H.next=se,w=w.next}while(w!==null);H===null?U=H=p:H=H.next=p}else U=H=p;w={baseState:M.baseState,firstBaseUpdate:U,lastBaseUpdate:H,shared:M.shared,callbacks:M.callbacks},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=p:f.next=p,w.lastBaseUpdate=p}function Ne(){if(Mc){var f=Cc;if(f!==null)throw f}}function ct(f,p,w,M){Mc=!1;var U=f.updateQueue;Wo=!1;var H=U.firstBaseUpdate,se=U.lastBaseUpdate,me=U.shared.pending;if(me!==null){U.shared.pending=null;var Re=me,nt=Re.next;Re.next=null,se===null?H=nt:se.next=nt,se=Re;var wt=f.alternate;wt!==null&&(wt=wt.updateQueue,me=wt.lastBaseUpdate,me!==se&&(me===null?wt.firstBaseUpdate=nt:me.next=nt,wt.lastBaseUpdate=Re))}if(H!==null){var Rt=U.baseState;se=0,wt=nt=Re=null,me=H;do{var Pt=me.lane&-536870913,xn=Pt!==me.lane;if(xn?(Ln&Pt)===Pt:(M&Pt)===Pt){Pt!==0&&Pt===Or&&(Mc=!0),wt!==null&&(wt=wt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Hr=f,Gl=me;Pt=p;var ql=w;switch(Gl.tag){case 1:if(Hr=Gl.payload,typeof Hr=="function"){Rt=Hr.call(ql,Rt,Pt);break e}Rt=Hr;break e;case 3:Hr.flags=Hr.flags&-65537|128;case 0:if(Hr=Gl.payload,Pt=typeof Hr=="function"?Hr.call(ql,Rt,Pt):Hr,Pt==null)break e;Rt=ep({},Rt,Pt);break e;case 2:Wo=!0}}Pt=me.callback,Pt!==null&&(f.flags|=64,xn&&(f.flags|=8192),xn=U.callbacks,xn===null?U.callbacks=[Pt]:xn.push(Pt))}else xn={lane:Pt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},wt===null?(nt=wt=xn,Re=Rt):wt=wt.next=xn,se|=Pt;if(me=me.next,me===null){if(me=U.shared.pending,me===null)break;xn=me,me=xn.next,xn.next=null,U.lastBaseUpdate=xn,U.shared.pending=null}}while(!0);wt===null&&(Re=Rt),U.baseState=Re,U.firstBaseUpdate=nt,U.lastBaseUpdate=wt,H===null&&(U.shared.lanes=0),Fr|=se,f.lanes=se,f.memoizedState=Rt}}function fe(f,p){if(typeof f!="function")throw Error(s(191,f));f.call(p)}function rt(f,p){var w=f.callbacks;if(w!==null)for(f.callbacks=null,f=0;f<w.length;f++)fe(w[f],p)}function ht(f,p){if(mr(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var w=Object.keys(f),M=Object.keys(p);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var U=w[M];if(!no.call(p,U)||!mr(f[U],p[U]))return!1}return!0}function At(f){return f=f.status,f==="fulfilled"||f==="rejected"}function gt(){}function tt(f,p,w){switch(w=f[w],w===void 0?f.push(p):w!==p&&(p.then(gt,gt),p=w),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,f===Lu?Error(s(483)):f;default:if(typeof p.status=="string")p.then(gt,gt);else{if(f=ii,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=p,f.status="pending",f.then(function(M){if(p.status==="pending"){var U=p;U.status="fulfilled",U.value=M}},function(M){if(p.status==="pending"){var U=p;U.status="rejected",U.reason=M}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,f===Lu?Error(s(483)):f}throw Ll=p,Lu}}function Mt(){if(Ll===null)throw Error(s(459));var f=Ll;return Ll=null,f}function Gt(f){var p=Ul;return Ul+=1,Il===null&&(Il=[]),tt(Il,f,p)}function yn(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function de(f,p){throw p.$$typeof===dS?Error(s(525)):(f=Object.prototype.toString.call(p),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function Ce(f){var p=f._init;return p(f._payload)}function Le(f){function p(ke,be){if(f){var qe=ke.deletions;qe===null?(ke.deletions=[be],ke.flags|=16):qe.push(be)}}function w(ke,be){if(!f)return null;for(;be!==null;)p(ke,be),be=be.sibling;return null}function M(ke){for(var be=new Map;ke!==null;)ke.key!==null?be.set(ke.key,ke):be.set(ke.index,ke),ke=ke.sibling;return be}function U(ke,be){return ke=ea(ke,be),ke.index=0,ke.sibling=null,ke}function H(ke,be,qe){return ke.index=qe,f?(qe=ke.alternate,qe!==null?(qe=qe.index,qe<be?(ke.flags|=33554434,be):qe):(ke.flags|=33554434,be)):(ke.flags|=1048576,be)}function se(ke){return f&&ke.alternate===null&&(ke.flags|=33554434),ke}function me(ke,be,qe,vt){return be===null||be.tag!==6?(be=Zf(qe,ke.mode,vt),be.return=ke,be):(be=U(be,qe),be.return=ke,be)}function Re(ke,be,qe,vt){var Jt=qe.type;return Jt===Tl?wt(ke,be,qe.props.children,vt,qe.key):be!==null&&(be.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===na&&Ce(Jt)===be.type)?(be=U(be,qe.props),yn(be,qe),be.return=ke,be):(be=Qa(qe.type,qe.key,qe.props,null,ke.mode,vt),yn(be,qe),be.return=ke,be)}function nt(ke,be,qe,vt){return be===null||be.tag!==4||be.stateNode.containerInfo!==qe.containerInfo||be.stateNode.implementation!==qe.implementation?(be=Og(qe,ke.mode,vt),be.return=ke,be):(be=U(be,qe.children||[]),be.return=ke,be)}function wt(ke,be,qe,vt,Jt){return be===null||be.tag!==7?(be=Di(qe,ke.mode,vt,Jt),be.return=ke,be):(be=U(be,qe),be.return=ke,be)}function Rt(ke,be,qe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Zf(""+be,ke.mode,qe),be.return=ke,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case th:return qe=Qa(be.type,be.key,be.props,null,ke.mode,qe),yn(qe,be),qe.return=ke,qe;case ta:return be=Og(be,ke.mode,qe),be.return=ke,be;case na:var vt=be._init;return be=vt(be._payload),Rt(ke,be,qe)}if(_u(be)||a(be))return be=Di(be,ke.mode,qe,null),be.return=ke,be;if(typeof be.then=="function")return Rt(ke,Gt(be),qe);if(be.$$typeof===Aa)return Rt(ke,Fd(ke,be),qe);de(ke,be)}return null}function Pt(ke,be,qe,vt){var Jt=be!==null?be.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Jt!==null?null:me(ke,be,""+qe,vt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case th:return qe.key===Jt?Re(ke,be,qe,vt):null;case ta:return qe.key===Jt?nt(ke,be,qe,vt):null;case na:return Jt=qe._init,qe=Jt(qe._payload),Pt(ke,be,qe,vt)}if(_u(qe)||a(qe))return Jt!==null?null:wt(ke,be,qe,vt,null);if(typeof qe.then=="function")return Pt(ke,be,Gt(qe),vt);if(qe.$$typeof===Aa)return Pt(ke,be,Fd(ke,qe),vt);de(ke,qe)}return null}function xn(ke,be,qe,vt,Jt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return ke=ke.get(qe)||null,me(be,ke,""+vt,Jt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case th:return ke=ke.get(vt.key===null?qe:vt.key)||null,Re(be,ke,vt,Jt);case ta:return ke=ke.get(vt.key===null?qe:vt.key)||null,nt(be,ke,vt,Jt);case na:var Ei=vt._init;return vt=Ei(vt._payload),xn(ke,be,qe,vt,Jt)}if(_u(vt)||a(vt))return ke=ke.get(qe)||null,wt(be,ke,vt,Jt,null);if(typeof vt.then=="function")return xn(ke,be,qe,Gt(vt),Jt);if(vt.$$typeof===Aa)return xn(ke,be,qe,Fd(be,vt),Jt);de(be,vt)}return null}function Hr(ke,be,qe,vt){for(var Jt=null,Ei=null,un=be,Jn=be=0,Gi=null;un!==null&&Jn<qe.length;Jn++){un.index>Jn?(Gi=un,un=null):Gi=un.sibling;var On=Pt(ke,un,qe[Jn],vt);if(On===null){un===null&&(un=Gi);break}f&&un&&On.alternate===null&&p(ke,un),be=H(On,be,Jn),Ei===null?Jt=On:Ei.sibling=On,Ei=On,un=Gi}if(Jn===qe.length)return w(ke,un),zn&&T(ke,Jn),Jt;if(un===null){for(;Jn<qe.length;Jn++)un=Rt(ke,qe[Jn],vt),un!==null&&(be=H(un,be,Jn),Ei===null?Jt=un:Ei.sibling=un,Ei=un);return zn&&T(ke,Jn),Jt}for(un=M(un);Jn<qe.length;Jn++)Gi=xn(un,ke,Jn,qe[Jn],vt),Gi!==null&&(f&&Gi.alternate!==null&&un.delete(Gi.key===null?Jn:Gi.key),be=H(Gi,be,Jn),Ei===null?Jt=Gi:Ei.sibling=Gi,Ei=Gi);return f&&un.forEach(function(uo){return p(ke,uo)}),zn&&T(ke,Jn),Jt}function Gl(ke,be,qe,vt){if(qe==null)throw Error(s(151));for(var Jt=null,Ei=null,un=be,Jn=be=0,Gi=null,On=qe.next();un!==null&&!On.done;Jn++,On=qe.next()){un.index>Jn?(Gi=un,un=null):Gi=un.sibling;var uo=Pt(ke,un,On.value,vt);if(uo===null){un===null&&(un=Gi);break}f&&un&&uo.alternate===null&&p(ke,un),be=H(uo,be,Jn),Ei===null?Jt=uo:Ei.sibling=uo,Ei=uo,un=Gi}if(On.done)return w(ke,un),zn&&T(ke,Jn),Jt;if(un===null){for(;!On.done;Jn++,On=qe.next())On=Rt(ke,On.value,vt),On!==null&&(be=H(On,be,Jn),Ei===null?Jt=On:Ei.sibling=On,Ei=On);return zn&&T(ke,Jn),Jt}for(un=M(un);!On.done;Jn++,On=qe.next())On=xn(un,ke,Jn,On.value,vt),On!==null&&(f&&On.alternate!==null&&un.delete(On.key===null?Jn:On.key),be=H(On,be,Jn),Ei===null?Jt=On:Ei.sibling=On,Ei=On);return f&&un.forEach(function(Tp){return p(ke,Tp)}),zn&&T(ke,Jn),Jt}function ql(ke,be,qe,vt){if(typeof qe=="object"&&qe!==null&&qe.type===Tl&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case th:e:{for(var Jt=qe.key;be!==null;){if(be.key===Jt){if(Jt=qe.type,Jt===Tl){if(be.tag===7){w(ke,be.sibling),vt=U(be,qe.props.children),vt.return=ke,ke=vt;break e}}else if(be.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===na&&Ce(Jt)===be.type){w(ke,be.sibling),vt=U(be,qe.props),yn(vt,qe),vt.return=ke,ke=vt;break e}w(ke,be);break}else p(ke,be);be=be.sibling}qe.type===Tl?(vt=Di(qe.props.children,ke.mode,vt,qe.key),vt.return=ke,ke=vt):(vt=Qa(qe.type,qe.key,qe.props,null,ke.mode,vt),yn(vt,qe),vt.return=ke,ke=vt)}return se(ke);case ta:e:{for(Jt=qe.key;be!==null;){if(be.key===Jt)if(be.tag===4&&be.stateNode.containerInfo===qe.containerInfo&&be.stateNode.implementation===qe.implementation){w(ke,be.sibling),vt=U(be,qe.children||[]),vt.return=ke,ke=vt;break e}else{w(ke,be);break}else p(ke,be);be=be.sibling}vt=Og(qe,ke.mode,vt),vt.return=ke,ke=vt}return se(ke);case na:return Jt=qe._init,qe=Jt(qe._payload),ql(ke,be,qe,vt)}if(_u(qe))return Hr(ke,be,qe,vt);if(a(qe)){if(Jt=a(qe),typeof Jt!="function")throw Error(s(150));return qe=Jt.call(qe),Gl(ke,be,qe,vt)}if(typeof qe.then=="function")return ql(ke,be,Gt(qe),vt);if(qe.$$typeof===Aa)return ql(ke,be,Fd(ke,qe),vt);de(ke,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint"?(qe=""+qe,be!==null&&be.tag===6?(w(ke,be.sibling),vt=U(be,qe),vt.return=ke,ke=vt):(w(ke,be),vt=Zf(qe,ke.mode,vt),vt.return=ke,ke=vt),se(ke)):w(ke,be)}return function(ke,be,qe,vt){try{Ul=0;var Jt=ql(ke,be,qe,vt);return Il=null,Jt}catch(un){if(un===Lu)throw un;var Ei=t(29,un,null,ke.mode);return Ei.lanes=vt,Ei.return=ke,Ei}finally{}}}function ot(f,p){f=zs,P(Iu,f),P(xi,p),zs=f|p.baseLanes}function ft(){P(Iu,zs),P(xi,xi.current)}function It(){zs=Iu.current,A(xi),A(Iu)}function Ut(f){var p=f.alternate;P(ss,ss.current&1),P(Pr,f),hi===null&&(p===null||xi.current!==null||p.memoizedState!==null)&&(hi=f)}function Vt(f){if(f.tag===22){if(P(ss,ss.current),P(Pr,f),hi===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(hi=f)}}else Ft()}function Ft(){P(ss,ss.current),P(Pr,Pr.current)}function qt(f){A(Pr),hi===f&&(hi=null),A(ss)}function kt(f){for(var p=f;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||cp(w)||up(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function Et(){throw Error(s(321))}function pn(f,p){if(p===null)return!1;for(var w=0;w<p.length&&w<f.length;w++)if(!mr(f[w],p[w]))return!1;return!0}function Hn(f,p,w,M,U,H){return Xo=H,En=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,cn.H=f===null||f.memoizedState===null?zl:er,Fl=!1,H=w(M,U),Fl=!1,Tc&&(H=Si(p,w,M,U)),wi(f),H}function wi(f){cn.H=Oi;var p=en!==null&&en.next!==null;if(Xo=0,Vn=en=En=null,oa=!1,Nc=0,xs=null,p)throw Error(s(300));f===null||fi||(f=f.dependencies,f!==null&&kd(f)&&(fi=!0))}function Si(f,p,w,M){En=f;var U=0;do{if(Tc&&(xs=null),Nc=0,Tc=!1,25<=U)throw Error(s(301));if(U+=1,Vn=en=null,f.updateQueue!=null){var H=f.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}cn.H=Lr,H=p(w,M)}while(Tc);return H}function mn(){var f=cn.H,p=f.useState()[0];return p=typeof p.then=="function"?Fe(p):p,f=f.useState()[0],(en!==null?en.memoizedState:null)!==f&&(En.flags|=1024),p}function Yn(){var f=bp!==0;return bp=0,f}function or(f,p,w){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~w}function ie(f){if(oa){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}oa=!1}Xo=0,Vn=en=En=null,Tc=!1,Nc=bp=0,xs=null}function ve(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?En.memoizedState=Vn=f:Vn=Vn.next=f,Vn}function je(){if(en===null){var f=En.alternate;f=f!==null?f.memoizedState:null}else f=en.next;var p=Vn===null?En.memoizedState:Vn.next;if(p!==null)Vn=p,en=f;else{if(f===null)throw En.alternate===null?Error(s(467)):Error(s(310));en=f,f={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Vn===null?En.memoizedState=Vn=f:Vn=Vn.next=f}return Vn}function Fe(f){var p=Nc;return Nc+=1,xs===null&&(xs=[]),f=tt(xs,f,p),p=En,(Vn===null?p.memoizedState:Vn.next)===null&&(p=p.alternate,cn.H=p===null||p.memoizedState===null?zl:er),f}function Ee(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Fe(f);if(f.$$typeof===Aa)return Ms(f)}throw Error(s(438,String(f)))}function pt(f){var p=null,w=En.updateQueue;if(w!==null&&(p=w.memoCache),p==null){var M=En.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(p={data:M.data.map(function(U){return U.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),w===null&&(w=wp(),En.updateQueue=w),w.memoCache=p,w=p.data[p.index],w===void 0)for(w=p.data[p.index]=Array(f),M=0;M<f;M++)w[M]=zy;return p.index++,w}function bt(f,p){return typeof p=="function"?p(f):p}function jt(f){var p=je();return dt(p,en,f)}function dt(f,p,w){var M=f.queue;if(M===null)throw Error(s(311));M.lastRenderedReducer=w;var U=f.baseQueue,H=M.pending;if(H!==null){if(U!==null){var se=U.next;U.next=H.next,H.next=se}p.baseQueue=U=H,M.pending=null}if(H=f.baseState,U===null)f.memoizedState=H;else{p=U.next;var me=se=null,Re=null,nt=p,wt=!1;do{var Rt=nt.lane&-536870913;if(Rt!==nt.lane?(Ln&Rt)===Rt:(Xo&Rt)===Rt){var Pt=nt.revertLane;if(Pt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),Rt===Or&&(wt=!0);else if((Xo&Pt)===Pt){nt=nt.next,Pt===Or&&(wt=!0);continue}else Rt={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Re===null?(me=Re=Rt,se=H):Re=Re.next=Rt,En.lanes|=Pt,Fr|=Pt;Rt=nt.action,Fl&&w(H,Rt),H=nt.hasEagerState?nt.eagerState:w(H,Rt)}else Pt={lane:Rt,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Re===null?(me=Re=Pt,se=H):Re=Re.next=Pt,En.lanes|=Rt,Fr|=Rt;nt=nt.next}while(nt!==null&&nt!==p);if(Re===null?se=H:Re.next=me,!mr(H,f.memoizedState)&&(fi=!0,wt&&(w=Cc,w!==null)))throw w;f.memoizedState=H,f.baseState=se,f.baseQueue=Re,M.lastRenderedState=H}return U===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function Dt(f){var p=je(),w=p.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=f;var M=w.dispatch,U=w.pending,H=p.memoizedState;if(U!==null){w.pending=null;var se=U=U.next;do H=f(H,se.action),se=se.next;while(se!==U);mr(H,p.memoizedState)||(fi=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),w.lastRenderedState=H}return[H,M]}function Kt(f,p,w){var M=En,U=je(),H=zn;if(H){if(w===void 0)throw Error(s(407));w=w()}else w=p();var se=!mr((en||U).memoizedState,w);if(se&&(U.memoizedState=w,fi=!0),U=U.queue,rg(Rn.bind(null,M,U,f),[f]),U.getSnapshot!==p||se||Vn!==null&&Vn.memoizedState.tag&1){if(M.flags|=2048,ts(9,Yt.bind(null,M,U,w,p),{destroy:void 0},null),ii===null)throw Error(s(349));H||(Xo&60)!==0||zt(M,p,w)}return w}function zt(f,p,w){f.flags|=16384,f={getSnapshot:p,value:w},p=En.updateQueue,p===null?(p=wp(),En.updateQueue=p,p.stores=[f]):(w=p.stores,w===null?p.stores=[f]:w.push(f))}function Yt(f,p,w,M){p.value=w,p.getSnapshot=M,li(p)&&Zn(f)}function Rn(f,p,w){return w(function(){li(p)&&Zn(f)})}function li(f){var p=f.getSnapshot;f=f.value;try{var w=p();return!mr(f,w)}catch{return!0}}function Zn(f){var p=ge(f,2);p!==null&&ps(p,f,2)}function vn(f){var p=ve();if(typeof f=="function"){var w=f;if(f=w(),Fl){I(!0);try{w()}finally{I(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:f},p}function Qt(f,p,w,M){return f.baseState=w,dt(f,en,typeof M=="function"?M:bt)}function Ai(f,p,w,M,U){if(Od(f))throw Error(s(485));if(f=p.action,f!==null){var H={payload:U,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){H.listeners.push(se)}};cn.T!==null?w(!0):H.isTransition=!1,M(H),w=p.pending,w===null?(H.next=p.pending=H,Bn(p,H)):(H.next=w.next,p.pending=w.next=H)}}function Bn(f,p){var w=p.action,M=p.payload,U=f.state;if(p.isTransition){var H=cn.T,se={};cn.T=se;try{var me=w(U,M),Re=cn.S;Re!==null&&Re(se,me),Ss(f,p,me)}catch(nt){As(f,p,nt)}finally{cn.T=H}}else try{H=w(U,M),Ss(f,p,H)}catch(nt){As(f,p,nt)}}function Ss(f,p,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(M){Qr(f,p,M)},function(M){return As(f,p,M)}):Qr(f,p,w)}function Qr(f,p,w){p.status="fulfilled",p.value=w,es(p),f.state=w,p=f.pending,p!==null&&(w=p.next,w===p?f.pending=null:(w=w.next,p.next=w,Bn(f,w)))}function As(f,p,w){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do p.status="rejected",p.reason=w,es(p),p=p.next;while(p!==M)}f.action=null}function es(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function ci(f,p){return p}function Is(f,p){if(zn){var w=ii.formState;if(w!==null){e:{var M=En;if(zn){if(Ds){var U=Qg(Ds,gs);if(U){Ds=Zg(U),M=cv(U);break e}}Ve(M)}M=!1}M&&(p=w[0])}}w=ve(),w.memoizedState=w.baseState=p,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:p},w.queue=M,w=cg.bind(null,En,M),M.dispatch=w,M=vn(!1);var H=au.bind(null,En,!1,M.queue);return M=ve(),U={state:p,dispatch:null,action:f,pending:null},M.queue=U,w=Ai.bind(null,En,U,H,w),U.dispatch=w,M.memoizedState=f,[p,w,!1]}function _s(f){var p=je();return Ni(p,en,f)}function Ni(f,p,w){p=dt(f,p,ci)[0],f=jt(bt)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?Fe(p):p;var M=je(),U=M.queue,H=U.dispatch;return w!==M.memoizedState&&(En.flags|=2048,ts(9,Es.bind(null,U,w),{destroy:void 0},null)),[p,H,f]}function Es(f,p){f.action=p}function uc(f){var p=je(),w=en;if(w!==null)return Ni(p,w,f);je(),p=p.memoizedState,w=je();var M=w.queue.dispatch;return w.memoizedState=f,[p,M,!1]}function ts(f,p,w,M){return f={tag:f,create:p,inst:w,deps:M,next:null},p=En.updateQueue,p===null&&(p=wp(),En.updateQueue=p),w=p.lastEffect,w===null?p.lastEffect=f.next=f:(M=w.next,w.next=f,f.next=M,p.lastEffect=f),f}function yy(){return je().memoizedState}function Nd(f,p,w,M){var U=ve();En.flags|=f,U.memoizedState=ts(1|p,w,{destroy:void 0},M===void 0?null:M)}function jd(f,p,w,M){var U=je();M=M===void 0?null:M;var H=U.memoizedState.inst;en!==null&&M!==null&&pn(M,en.memoizedState.deps)?U.memoizedState=ts(p,w,H,M):(En.flags|=f,U.memoizedState=ts(1|p,w,H,M))}function Bf(f,p){Nd(8390656,8,f,p)}function rg(f,p){jd(2048,8,f,p)}function vy(f,p){return jd(4,2,f,p)}function Rd(f,p){return jd(4,4,f,p)}function Df(f,p){if(typeof p=="function"){f=f();var w=p(f);return function(){typeof w=="function"?w():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function Of(f,p,w){w=w!=null?w.concat([f]):null,jd(4,4,Df.bind(null,p,f),w)}function fl(){}function dc(f,p){var w=je();p=p===void 0?null:p;var M=w.memoizedState;return p!==null&&pn(p,M[1])?M[0]:(w.memoizedState=[f,p],f)}function ag(f,p){var w=je();p=p===void 0?null:p;var M=w.memoizedState;if(p!==null&&pn(p,M[1]))return M[0];if(M=f(),Fl){I(!0);try{f()}finally{I(!1)}}return w.memoizedState=[M,p],M}function Bd(f,p,w){return w===void 0||(Xo&1073741824)!==0?f.memoizedState=p:(f.memoizedState=w,f=Tg(),En.lanes|=f,Fr|=f,w)}function og(f,p,w,M){return mr(w,p)?w:xi.current!==null?(f=Bd(f,w,M),mr(f,p)||(fi=!0),f):(Xo&42)===0?(fi=!0,f.memoizedState=w):(f=Tg(),En.lanes|=f,Fr|=f,p)}function su(f,p,w,M,U){var H=Ho();ks(H!==0&&8>H?H:8);var se=cn.T,me={};cn.T=me,au(f,!1,p,w);try{var Re=U(),nt=cn.S;if(nt!==null&&nt(me,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var wt=yt(Re,M);pl(f,p,wt,Fi(f))}else pl(f,p,M,Fi(f))}catch(Rt){pl(f,p,{then:function(){},status:"rejected",reason:Rt},Fi())}finally{ks(H),cn.T=se}}function Ya(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:jl,baseState:jl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:jl},next:null};var w={};return p.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bt,lastRenderedState:w},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function Dd(){return Ms(_a)}function ru(){return je().memoizedState}function Mo(){return je().memoizedState}function lg(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var w=Fi();f=Pe(w);var M=Je(p,f,w);M!==null&&(ps(M,p,w),Ct(M,p,w)),p={cache:yl()},f.payload=p;return}p=p.return}}function Pf(f,p,w){var M=Fi();w={lane:M,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},Od(f)?Ys(p,w):(w=we(f,p,w,M),w!==null&&(ps(w,f,M),ml(w,p,M)))}function cg(f,p,w){var M=Fi();pl(f,p,w,M)}function pl(f,p,w,M){var U={lane:M,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(Od(f))Ys(p,U);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var se=p.lastRenderedState,me=H(se,w);if(U.hasEagerState=!0,U.eagerState=me,mr(me,se))return Ae(f,p,U,0),ii===null&&Me(),!1}catch{}finally{}if(w=we(f,p,U,M),w!==null)return ps(w,f,M),ml(w,p,M),!0}return!1}function au(f,p,w,M){if(M={lane:2,revertLane:Xe(),action:M,hasEagerState:!1,eagerState:null,next:null},Od(f)){if(p)throw Error(s(479))}else p=we(f,w,M,2),p!==null&&ps(p,f,2)}function Od(f){var p=f.alternate;return f===En||p!==null&&p===En}function Ys(f,p){Tc=oa=!0;var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}function ml(f,p,w){if((w&4194176)!==0){var M=p.lanes;M&=f.pendingLanes,w|=M,p.lanes=w,W(f,w)}}function ou(f,p,w,M){p=f.memoizedState,w=w(M,p),w=w==null?p:ep({},p,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}function lu(f,p,w,M,U,H,se){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,H,se):p.prototype&&p.prototype.isPureReactComponent?!ht(w,M)||!ht(U,H):!0}function by(f,p,w,M){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,M),p.state!==f&&so.enqueueReplaceState(p,p.state,null)}function To(f,p){var w=p;if("ref"in p){w={};for(var M in p)M!=="ref"&&(w[M]=p[M])}if(f=f.defaultProps){w===p&&(w=ep({},w));for(var U in f)w[U]===void 0&&(w[U]=f[U])}return w}function cu(f,p){try{var w=f.onUncaughtError;w(p.value,{componentStack:p.stack})}catch(M){setTimeout(function(){throw M})}}function uu(f,p,w){try{var M=f.onCaughtError;M(w.value,{componentStack:w.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function du(f,p,w){return w=Pe(w),w.tag=3,w.payload={element:null},w.callback=function(){cu(f,p)},w}function ug(f){return f=Pe(f),f.tag=3,f}function wy(f,p,w,M){var U=w.type.getDerivedStateFromError;if(typeof U=="function"){var H=M.value;f.payload=function(){return U(H)},f.callback=function(){uu(p,w,M)}}var se=w.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(f.callback=function(){uu(p,w,M),typeof U!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var me=M.stack;this.componentDidCatch(M.value,{componentStack:me!==null?me:""})})}function oS(f,p,w,M,U){if(w.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(p=w.alternate,p!==null&&Ud(p,w,U,!0),w=Pr.current,w!==null){switch(w.tag){case 13:return hi===null?Lo():w.alternate===null&&pi===0&&(pi=3),w.flags&=-257,w.flags|=65536,w.lanes=U,M===gh?w.flags|=16384:(p=w.updateQueue,p===null?w.updateQueue=new Set([M]):p.add(M),pc(f,M,U)),!1;case 22:return w.flags|=65536,M===gh?w.flags|=16384:(p=w.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([M])},w.updateQueue=p):(w=p.retryQueue,w===null?p.retryQueue=new Set([M]):w.add(M)),pc(f,M,U)),!1}throw Error(s(435,w.tag))}return pc(f,M,U),Lo(),!1}if(zn)return p=Pr.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=U,M!==fh&&(f=Error(s(422),{cause:M}),le(K(f,w)))):(M!==fh&&(p=Error(s(423),{cause:M}),le(K(p,w))),f=f.current.alternate,f.flags|=65536,U&=-U,f.lanes|=U,M=K(M,w),U=du(f.stateNode,M,U),he(f,U),pi!==4&&(pi=2)),!1;var H=Error(s(520),{cause:M});if(H=K(H,w),Rc===null?Rc=[H]:Rc.push(H),pi!==4&&(pi=2),p===null)return!0;M=K(M,w),w=p;do{switch(w.tag){case 3:return w.flags|=65536,f=U&-U,w.lanes|=f,f=du(w.stateNode,M,f),he(w,f),!1;case 1:if(p=w.type,H=w.stateNode,(w.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Hl===null||!Hl.has(H))))return w.flags|=65536,U&=-U,w.lanes|=U,U=ug(U),wy(U,f,w,M),he(w,U),!1}w=w.return}while(w!==null);return!1}function Cs(f,p,w,M){p.child=f===null?io(p,null,w,M):kl(p,f.child,w,M)}function Lf(f,p,w,M,U){w=w.render;var H=p.ref;if("ref"in M){var se={};for(var me in M)me!=="ref"&&(se[me]=M[me])}else se=M;return xl(p),M=Hn(f,p,w,se,H,U),me=Yn(),f!==null&&!fi?(or(f,p,U),No(f,p,U)):(zn&&me&&ee(p),p.flags|=1,Cs(f,p,M,U),p.child)}function Sy(f,p,w,M,U){if(f===null){var H=w.type;return typeof H=="function"&&!Qd(H)&&H.defaultProps===void 0&&w.compare===null?(p.tag=15,p.type=H,Ay(f,p,H,M,U)):(f=Qa(w.type,null,M,p,p.mode,U),f.ref=p.ref,f.return=p,p.child=f)}if(H=f.child,!mg(f,U)){var se=H.memoizedProps;if(w=w.compare,w=w!==null?w:ht,w(se,M)&&f.ref===p.ref)return No(f,p,U)}return p.flags|=1,f=ea(H,M),f.ref=p.ref,f.return=p,p.child=f}function Ay(f,p,w,M,U){if(f!==null){var H=f.memoizedProps;if(ht(H,M)&&f.ref===p.ref)if(fi=!1,p.pendingProps=M=H,mg(f,U))(f.flags&131072)!==0&&(fi=!0);else return p.lanes=f.lanes,No(f,p,U)}return If(f,p,w,M,U)}function _y(f,p,w){var M=p.pendingProps,U=M.children,H=(p.stateNode._pendingVisibility&2)!==0,se=f!==null?f.memoizedState:null;if(Pd(f,p),M.mode==="hidden"||H){if((p.flags&128)!==0){if(M=se!==null?se.baseLanes|w:w,f!==null){for(U=p.child=f.child,H=0;U!==null;)H=H|U.lanes|U.childLanes,U=U.sibling;p.childLanes=H&~M}else p.childLanes=0,p.child=null;return Ey(f,p,M,w)}if((w&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&kf(p,se!==null?se.cachePool:null),se!==null?ot(p,se):ft(),Vt(p);else return p.lanes=p.childLanes=536870912,Ey(f,p,se!==null?se.baseLanes|w:w,w)}else se!==null?(kf(p,se.cachePool),ot(p,se),Ft(),p.memoizedState=null):(f!==null&&kf(p,null),ft(),Ft());return Cs(f,p,U,w),p.child}function Ey(f,p,w,M){var U=xg();return U=U===null?null:{parent:Qs?yi._currentValue:yi._currentValue2,pool:U},p.memoizedState={baseLanes:w,cachePool:U},f!==null&&kf(p,null),ft(),Vt(p),f!==null&&Ud(f,p,M,!0),null}function Pd(f,p){var w=p.ref;if(w===null)f!==null&&f.ref!==null&&(p.flags|=2097664);else{if(typeof w!="function"&&typeof w!="object")throw Error(s(284));(f===null||f.ref!==w)&&(p.flags|=2097664)}}function If(f,p,w,M,U){return xl(p),w=Hn(f,p,w,M,void 0,U),M=Yn(),f!==null&&!fi?(or(f,p,U),No(f,p,U)):(zn&&M&&ee(p),p.flags|=1,Cs(f,p,w,U),p.child)}function Cy(f,p,w,M,U,H){return xl(p),p.updateQueue=null,w=Si(p,M,w,U),wi(f),M=Yn(),f!==null&&!fi?(or(f,p,H),No(f,p,H)):(zn&&M&&ee(p),p.flags|=1,Cs(f,p,w,H),p.child)}function My(f,p,w,M,U){if(xl(p),p.stateNode===null){var H=Ol,se=w.contextType;typeof se=="object"&&se!==null&&(H=Ms(se)),H=new w(M,H),p.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=so,p.stateNode=H,H._reactInternals=p,H=p.stateNode,H.props=M,H.state=p.memoizedState,H.refs={},Tt(p),se=w.contextType,H.context=typeof se=="object"&&se!==null?Ms(se):Ol,H.state=p.memoizedState,se=w.getDerivedStateFromProps,typeof se=="function"&&(ou(p,w,se,M),H.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(se=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),se!==H.state&&so.enqueueReplaceState(H,H.state,null),ct(p,M,H,U),Ne(),H.state=p.memoizedState),typeof H.componentDidMount=="function"&&(p.flags|=4194308),M=!0}else if(f===null){H=p.stateNode;var me=p.memoizedProps,Re=To(w,me);H.props=Re;var nt=H.context,wt=w.contextType;se=Ol,typeof wt=="object"&&wt!==null&&(se=Ms(wt));var Rt=w.getDerivedStateFromProps;wt=typeof Rt=="function"||typeof H.getSnapshotBeforeUpdate=="function",me=p.pendingProps!==me,wt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(me||nt!==se)&&by(p,H,M,se),Wo=!1;var Pt=p.memoizedState;H.state=Pt,ct(p,M,H,U),Ne(),nt=p.memoizedState,me||Pt!==nt||Wo?(typeof Rt=="function"&&(ou(p,w,Rt,M),nt=p.memoizedState),(Re=Wo||lu(p,w,Re,M,Pt,nt,se))?(wt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(p.flags|=4194308)):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=nt),H.props=M,H.state=nt,H.context=se,M=Re):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{H=p.stateNode,Ot(f,p),se=p.memoizedProps,wt=To(w,se),H.props=wt,Rt=p.pendingProps,Pt=H.context,nt=w.contextType,Re=Ol,typeof nt=="object"&&nt!==null&&(Re=Ms(nt)),me=w.getDerivedStateFromProps,(nt=typeof me=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(se!==Rt||Pt!==Re)&&by(p,H,M,Re),Wo=!1,Pt=p.memoizedState,H.state=Pt,ct(p,M,H,U),Ne();var xn=p.memoizedState;se!==Rt||Pt!==xn||Wo||f!==null&&f.dependencies!==null&&kd(f.dependencies)?(typeof me=="function"&&(ou(p,w,me,M),xn=p.memoizedState),(wt=Wo||lu(p,w,wt,M,Pt,xn,Re)||f!==null&&f.dependencies!==null&&kd(f.dependencies))?(nt||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(M,xn,Re),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(M,xn,Re)),typeof H.componentDidUpdate=="function"&&(p.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof H.componentDidUpdate!="function"||se===f.memoizedProps&&Pt===f.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Pt===f.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=xn),H.props=M,H.state=xn,H.context=Re,M=wt):(typeof H.componentDidUpdate!="function"||se===f.memoizedProps&&Pt===f.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||se===f.memoizedProps&&Pt===f.memoizedState||(p.flags|=1024),M=!1)}return H=M,Pd(f,p),M=(p.flags&128)!==0,H||M?(H=p.stateNode,w=M&&typeof w.getDerivedStateFromError!="function"?null:H.render(),p.flags|=1,f!==null&&M?(p.child=kl(p,f.child,null,U),p.child=kl(p,null,w,U)):Cs(f,p,w,U),p.memoizedState=H.state,f=p.child):f=No(f,p,U),f}function Ty(f,p,w,M){return ut(),p.flags|=256,Cs(f,p,w,M),p.child}function dg(f){return{baseLanes:f,cachePool:yg()}}function Ld(f,p,w){return f=f!==null?f.childLanes&~w:0,p&&(f|=zr),f}function Ny(f,p,w){var M=p.pendingProps,U=!1,H=(p.flags&128)!==0,se;if((se=H)||(se=f!==null&&f.memoizedState===null?!1:(ss.current&2)!==0),se&&(U=!0,p.flags&=-129),se=(p.flags&32)!==0,p.flags&=-33,f===null){if(zn){if(U?Ut(p):Ft(),zn){var me=Ds,Re;(Re=me)&&(me=hv(me,gs),me!==null?(p.memoizedState={dehydrated:me,treeContext:Pl!==null?{id:Ca,overflow:Ma}:null,retryLane:536870912},Re=t(18,null,null,0),Re.stateNode=me,Re.return=p,p.child=Re,Bs=p,Ds=null,Re=!0):Re=!1),Re||Ve(p)}if(me=p.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return up(me)?p.lanes=16:p.lanes=536870912,null;qt(p)}return me=M.children,M=M.fallback,U?(Ft(),U=p.mode,me=fg({mode:"hidden",children:me},U),M=Di(M,U,w,null),me.return=p,M.return=p,me.sibling=M,p.child=me,U=p.child,U.memoizedState=dg(w),U.childLanes=Ld(f,se,w),p.memoizedState=_p,M):(Ut(p),hg(p,me))}if(Re=f.memoizedState,Re!==null&&(me=Re.dehydrated,me!==null)){if(H)p.flags&256?(Ut(p),p.flags&=-257,p=Uf(f,p,w)):p.memoizedState!==null?(Ft(),p.child=f.child,p.flags|=128,p=null):(Ft(),U=M.fallback,me=p.mode,M=fg({mode:"visible",children:M.children},me),U=Di(U,me,w,null),U.flags|=2,M.return=p,U.return=p,M.sibling=U,p.child=M,kl(p,f.child,null,w),M=p.child,M.memoizedState=dg(w),M.childLanes=Ld(f,se,w),p.memoizedState=_p,p=U);else if(Ut(p),up(me))se=ov(me).digest,M=Error(s(419)),M.stack="",M.digest=se,le({value:M,source:null,stack:null}),p=Uf(f,p,w);else if(fi||Ud(f,p,w,!1),se=(w&f.childLanes)!==0,fi||se){if(se=ii,se!==null){if(M=w&-w,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(se.suspendedLanes|w))!==0?0:M,M!==0&&M!==Re.retryLane)throw Re.retryLane=M,ge(f,M),ps(se,f,M),Ap}cp(me)||Lo(),p=Uf(f,p,w)}else cp(me)?(p.flags|=128,p.child=f.child,p=Io.bind(null,f),lv(me,p),p=null):(f=Re.treeContext,Rs&&(Ds=dv(me),Bs=p,zn=!0,ra=null,gs=!1,f!==null&&(Br[Dr++]=Ca,Br[Dr++]=Ma,Br[Dr++]=Pl,Ca=f.id,Ma=f.overflow,Pl=p)),p=hg(p,M.children),p.flags|=4096);return p}return U?(Ft(),U=M.fallback,me=p.mode,Re=f.child,H=Re.sibling,M=ea(Re,{mode:"hidden",children:M.children}),M.subtreeFlags=Re.subtreeFlags&31457280,H!==null?U=ea(H,U):(U=Di(U,me,w,null),U.flags|=2),U.return=p,M.return=p,M.sibling=U,p.child=M,M=U,U=p.child,me=f.child.memoizedState,me===null?me=dg(w):(Re=me.cachePool,Re!==null?(H=Qs?yi._currentValue:yi._currentValue2,Re=Re.parent!==H?{parent:H,pool:H}:Re):Re=yg(),me={baseLanes:me.baseLanes|w,cachePool:Re}),U.memoizedState=me,U.childLanes=Ld(f,se,w),p.memoizedState=_p,M):(Ut(p),w=f.child,f=w.sibling,w=ea(w,{mode:"visible",children:M.children}),w.return=p,w.sibling=null,f!==null&&(se=p.deletions,se===null?(p.deletions=[f],p.flags|=16):se.push(f)),p.child=w,p.memoizedState=null,w)}function hg(f,p){return p=fg({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function fg(f,p){return $d(f,p,0,null)}function Uf(f,p,w){return kl(p,f.child,null,w),f=hg(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function jy(f,p,w){f.lanes|=p;var M=f.alternate;M!==null&&(M.lanes|=p),Id(f.return,p,w)}function pg(f,p,w,M,U){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:U}:(H.isBackwards=p,H.rendering=null,H.renderingStartTime=0,H.last=M,H.tail=w,H.tailMode=U)}function Ry(f,p,w){var M=p.pendingProps,U=M.revealOrder,H=M.tail;if(Cs(f,p,M.children,w),M=ss.current,(M&2)!==0)M=M&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&jy(f,w,p);else if(f.tag===19)jy(f,w,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}switch(P(ss,M),U){case"forwards":for(w=p.child,U=null;w!==null;)f=w.alternate,f!==null&&kt(f)===null&&(U=w),w=w.sibling;w=U,w===null?(U=p.child,p.child=null):(U=w.sibling,w.sibling=null),pg(p,!1,U,w,H);break;case"backwards":for(w=null,U=p.child,p.child=null;U!==null;){if(f=U.alternate,f!==null&&kt(f)===null){p.child=U;break}f=U.sibling,U.sibling=w,w=U,U=f}pg(p,!0,w,null,H);break;case"together":pg(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function No(f,p,w){if(f!==null&&(p.dependencies=f.dependencies),Fr|=p.lanes,(w&p.childLanes)===0)if(f!==null){if(Ud(f,p,w,!1),(w&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(s(153));if(p.child!==null){for(f=p.child,w=ea(f,f.pendingProps),p.child=w,w.return=p;f.sibling!==null;)f=f.sibling,w=w.sibling=ea(f,f.pendingProps),w.return=p;w.sibling=null}return p.child}function mg(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&kd(f)))}function lS(f,p,w){switch(p.tag){case 3:ce(p,p.stateNode.containerInfo),gl(p,yi,f.memoizedState.cache),ut();break;case 27:case 5:ue(p);break;case 4:ce(p,p.stateNode.containerInfo);break;case 10:gl(p,p.type,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(Ut(p),p.flags|=128,null):(w&p.child.childLanes)!==0?Ny(f,p,w):(Ut(p),f=No(f,p,w),f!==null?f.sibling:null);Ut(p);break;case 19:var U=(f.flags&128)!==0;if(M=(w&p.childLanes)!==0,M||(Ud(f,p,w,!1),M=(w&p.childLanes)!==0),U){if(M)return Ry(f,p,w);p.flags|=128}if(U=p.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),P(ss,ss.current),M)break;return null;case 22:case 23:return p.lanes=0,_y(f,p,w);case 24:gl(p,yi,f.memoizedState.cache)}return No(f,p,w)}function By(f,p,w){if(f!==null)if(f.memoizedProps!==p.pendingProps)fi=!0;else{if(!mg(f,w)&&(p.flags&128)===0)return fi=!1,lS(f,p,w);fi=(f.flags&131072)!==0}else fi=!1,zn&&(p.flags&1048576)!==0&&X(p,Bu,p.index);switch(p.lanes=0,p.tag){case 16:e:{f=p.pendingProps;var M=p.elementType,U=M._init;if(M=U(M._payload),p.type=M,typeof M=="function")Qd(M)?(f=To(M,f),p.tag=1,p=My(null,p,M,f,w)):(p.tag=0,p=If(null,p,M,f,w));else{if(M!=null){if(U=M.$$typeof,U===sh){p.tag=11,p=Lf(null,p,M,f,w);break e}else if(U===ip){p.tag=14,p=Sy(null,p,M,f,w);break e}}throw p=o(M)||M,Error(s(306,p,""))}}return p;case 0:return If(f,p,p.type,p.pendingProps,w);case 1:return M=p.type,U=To(M,p.pendingProps),My(f,p,M,U,w);case 3:e:{if(ce(p,p.stateNode.containerInfo),f===null)throw Error(s(387));var H=p.pendingProps;U=p.memoizedState,M=U.element,Ot(f,p),ct(p,H,null,w);var se=p.memoizedState;if(H=se.cache,gl(p,yi,H),H!==U.cache&&hc(p,[yi],w,!0),Ne(),H=se.element,Rs&&U.isDehydrated)if(U={element:H,isDehydrated:!1,cache:se.cache},p.updateQueue.baseState=U,p.memoizedState=U,p.flags&256){p=Ty(f,p,H,w);break e}else if(H!==M){M=K(Error(s(424)),p),le(M),p=Ty(f,p,H,w);break e}else for(Rs&&(Ds=uv(p.stateNode.containerInfo),Bs=p,zn=!0,ra=null,gs=!0),w=io(p,null,H,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(ut(),H===M){p=No(f,p,w);break e}Cs(f,p,H,w)}p=p.child}return p;case 26:if(Rr)return Pd(f,p),f===null?(w=t0(p.type,null,p.pendingProps,null))?p.memoizedState=w:zn||(p.stateNode=mp(p.type,p.pendingProps,to.current,p)):p.memoizedState=t0(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:if(di)return ue(p),f===null&&di&&zn&&(M=p.stateNode=Ea(p.type,p.pendingProps,to.current,is.current,!1),Bs=p,gs=!0,Ds=dp(M)),M=p.pendingProps.children,f!==null||zn?Cs(f,p,M,w):p.child=kl(p,null,M,w),Pd(f,p),p.child;case 5:return f===null&&zn&&(fp(p.type,p.pendingProps,is.current),(U=M=Ds)&&(M=mS(M,p.type,p.pendingProps,gs),M!==null?(p.stateNode=M,Bs=p,Ds=dp(M),gs=!1,U=!0):U=!1),U||Ve(p)),ue(p),U=p.type,H=p.pendingProps,se=f!==null?f.memoizedProps:null,M=H.children,wn(U,H)?M=null:se!==null&&wn(U,se)&&(p.flags|=32),p.memoizedState!==null&&(U=Hn(f,p,mn,null,null,w),Qs?_a._currentValue=U:_a._currentValue2=U),Pd(f,p),Cs(f,p,M,w),p.child;case 6:return f===null&&zn&&(xv(p.pendingProps,is.current),(f=w=Ds)&&(w=$g(w,p.pendingProps,gs),w!==null?(p.stateNode=w,Bs=p,Ds=null,f=!0):f=!1),f||Ve(p)),null;case 13:return Ny(f,p,w);case 4:return ce(p,p.stateNode.containerInfo),M=p.pendingProps,f===null?p.child=kl(p,null,M,w):Cs(f,p,M,w),p.child;case 11:return Lf(f,p,p.type,p.pendingProps,w);case 7:return Cs(f,p,p.pendingProps,w),p.child;case 8:return Cs(f,p,p.pendingProps.children,w),p.child;case 12:return Cs(f,p,p.pendingProps.children,w),p.child;case 10:return M=p.pendingProps,gl(p,p.type,M.value),Cs(f,p,M.children,w),p.child;case 9:return U=p.type._context,M=p.pendingProps.children,xl(p),U=Ms(U),M=M(U),p.flags|=1,Cs(f,p,M,w),p.child;case 14:return Sy(f,p,p.type,p.pendingProps,w);case 15:return Ay(f,p,p.type,p.pendingProps,w);case 19:return Ry(f,p,w);case 22:return _y(f,p,w);case 24:return xl(p),M=Ms(yi),f===null?(U=xg(),U===null&&(U=ii,H=yl(),U.pooledCache=H,H.refCount++,H!==null&&(U.pooledCacheLanes|=w),U=H),p.memoizedState={parent:M,cache:U},Tt(p),gl(p,yi,U)):((f.lanes&w)!==0&&(Ot(f,p),ct(p,null,null,w),Ne()),U=f.memoizedState,H=p.memoizedState,U.parent!==M?(U={parent:M,cache:M},p.memoizedState=U,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=U),gl(p,yi,M)):(M=H.cache,gl(p,yi,M),M!==U.cache&&hc(p,[yi],w,!0))),Cs(f,p,p.pendingProps.children,w),p.child;case 29:throw p.pendingProps}throw Error(s(156,p.tag))}function gl(f,p,w){Qs?(P(Yo,p._currentValue),p._currentValue=w):(P(Yo,p._currentValue2),p._currentValue2=w)}function jo(f){var p=Yo.current;Qs?f._currentValue=p:f._currentValue2=p,A(Yo)}function Id(f,p,w){for(;f!==null;){var M=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),f===w)break;f=f.return}}function hc(f,p,w,M){var U=f.child;for(U!==null&&(U.return=f);U!==null;){var H=U.dependencies;if(H!==null){var se=U.child;H=H.firstContext;e:for(;H!==null;){var me=H;H=U;for(var Re=0;Re<p.length;Re++)if(me.context===p[Re]){H.lanes|=w,me=H.alternate,me!==null&&(me.lanes|=w),Id(H.return,w,f),M||(se=null);break e}H=me.next}}else if(U.tag===18){if(se=U.return,se===null)throw Error(s(341));se.lanes|=w,H=se.alternate,H!==null&&(H.lanes|=w),Id(se,w,f),se=null}else se=U.child;if(se!==null)se.return=U;else for(se=U;se!==null;){if(se===f){se=null;break}if(U=se.sibling,U!==null){U.return=se.return,se=U;break}se=se.return}U=se}}function Ud(f,p,w,M){f=null;for(var U=p,H=!1;U!==null;){if(!H){if((U.flags&524288)!==0)H=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var se=U.alternate;if(se===null)throw Error(s(387));if(se=se.memoizedProps,se!==null){var me=U.type;mr(U.pendingProps.value,se.value)||(f!==null?f.push(me):f=[me])}}else if(U===Sc.current){if(se=U.alternate,se===null)throw Error(s(387));se.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(f!==null?f.push(_a):f=[_a])}U=U.return}f!==null&&hc(p,f,w,M),p.flags|=262144}function kd(f){for(f=f.firstContext;f!==null;){var p=f.context;if(!mr(Qs?p._currentValue:p._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function xl(f){ja=f,Ir=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Ms(f){return gg(ja,f)}function Fd(f,p){return ja===null&&xl(f),gg(f,p)}function gg(f,p){var w=Qs?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:w,next:null},Ir===null){if(f===null)throw Error(s(308));Ir=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else Ir=Ir.next=p;return w}function yl(){return{controller:new Uu,data:new Map,refCount:0}}function zd(f){f.refCount--,f.refCount===0&&Tv(Nv,function(){f.controller.abort()})}function xg(){var f=ro.current;return f!==null?f:ii.pooledCache}function kf(f,p){p===null?P(ro,ro.current):P(ro,p.pool)}function yg(){var f=xg();return f===null?null:{parent:Qs?yi._currentValue:yi._currentValue2,pool:f}}function lr(f){f.flags|=4}function hu(f,p){if(f!==null&&f.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(f=p.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function fc(f,p,w,M){if(ns)for(w=p.child;w!==null;){if(w.tag===5||w.tag===6)ah(f,w.stateNode);else if(!(w.tag===4||di&&w.tag===27)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else if(ia)for(var U=p.child;U!==null;){if(U.tag===5){var H=U.stateNode;w&&M&&(H=Kg(H,U.type,U.memoizedProps)),ah(f,H)}else if(U.tag===6)H=U.stateNode,w&&M&&(H=Jg(H,U.memoizedProps)),ah(f,H);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)H=U.child,H!==null&&(H.return=U),fc(f,U,!0,!0);else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===p)break;for(;U.sibling===null;){if(U.return===null||U.return===p)return;U=U.return}U.sibling.return=U.return,U=U.sibling}}function Dy(f,p,w,M){if(ia)for(var U=p.child;U!==null;){if(U.tag===5){var H=U.stateNode;w&&M&&(H=Kg(H,U.type,U.memoizedProps)),Yg(f,H)}else if(U.tag===6)H=U.stateNode,w&&M&&(H=Jg(H,U.memoizedProps)),Yg(f,H);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)H=U.child,H!==null&&(H.return=U),Dy(f,U,!(U.memoizedProps!==null&&U.memoizedProps.mode==="manual"),!0);else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===p)break;for(;U.sibling===null;){if(U.return===null||U.return===p)return;U=U.return}U.sibling.return=U.return,U=U.sibling}}function Hd(f,p){if(ia&&hu(f,p)){f=p.stateNode;var w=f.containerInfo,M=oh();Dy(M,p,!1,!1),f.pendingChildren=M,lr(p),lp(w,M)}}function Ff(f,p,w,M){if(ns)f.memoizedProps!==M&&lr(p);else if(ia){var U=f.stateNode,H=f.memoizedProps;if((f=hu(f,p))||H!==M){var se=is.current;H=Nu(U,w,H,M,!f,null),H===U?p.stateNode=U:(zo(H,w,M,se)&&lr(p),p.stateNode=H,f?fc(H,p,!1,!1):lr(p))}else p.stateNode=U}}function zf(f,p,w){if(Fg(p,w)){if(f.flags|=16777216,!ap(p,w))if(_l())f.flags|=8192;else throw Ll=gh,mh}else f.flags&=-16777217}function Hf(f,p){if(bv(p)){if(f.flags|=16777216,!xc(p))if(_l())f.flags|=8192;else throw Ll=gh,mh}else f.flags&=-16777217}function fu(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?D():536870912,f.lanes|=p,lo|=p)}function pu(f,p){if(!zn)switch(f.tailMode){case"hidden":p=f.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Ci(f){var p=f.alternate!==null&&f.alternate.child===f.child,w=0,M=0;if(p)for(var U=f.child;U!==null;)w|=U.lanes|U.childLanes,M|=U.subtreeFlags&31457280,M|=U.flags&31457280,U.return=f,U=U.sibling;else for(U=f.child;U!==null;)w|=U.lanes|U.childLanes,M|=U.subtreeFlags,M|=U.flags,U.return=f,U=U.sibling;return f.subtreeFlags|=M,f.childLanes=w,p}function Oy(f,p,w){var M=p.pendingProps;switch(oe(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(p),null;case 1:return Ci(p),null;case 3:return w=p.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),p.memoizedState.cache!==M&&(p.flags|=2048),jo(yi),re(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(mt(p)?lr(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ra!==null&&(Kd(ra),ra=null))),Hd(f,p),Ci(p),null;case 26:if(Rr){w=p.type;var U=p.memoizedState;return f===null?(lr(p),U!==null?(Ci(p),Hf(p,U)):(Ci(p),zf(p,w,M))):U?U!==f.memoizedState?(lr(p),Ci(p),Hf(p,U)):(Ci(p),p.flags&=-16777217):(ns?f.memoizedProps!==M&&lr(p):Ff(f,p,w,M),Ci(p),zf(p,w,M)),null}case 27:if(di){if(ye(p),w=to.current,U=p.type,f!==null&&p.stateNode!=null)ns?f.memoizedProps!==M&&lr(p):Ff(f,p,U,M);else{if(!M){if(p.stateNode===null)throw Error(s(166));return Ci(p),null}f=is.current,mt(p)?Qe(p,f):(f=Ea(U,M,w,f,!0),p.stateNode=f,lr(p))}return Ci(p),null}case 5:if(ye(p),w=p.type,f!==null&&p.stateNode!=null)Ff(f,p,w,M);else{if(!M){if(p.stateNode===null)throw Error(s(166));return Ci(p),null}f=is.current,mt(p)?Qe(p,f):(U=kg(w,M,to.current,f,p),fc(U,p,!1,!1),p.stateNode=U,zo(U,w,M,f)&&lr(p))}return Ci(p),zf(p,p.type,p.pendingProps),null;case 6:if(f&&p.stateNode!=null)w=f.memoizedProps,ns?w!==M&&lr(p):ia&&(w!==M?(p.stateNode=ai(M,to.current,is.current,p),lr(p)):p.stateNode=f.stateNode);else{if(typeof M!="string"&&p.stateNode===null)throw Error(s(166));if(f=to.current,w=is.current,mt(p)){if(!Rs)throw Error(s(176));if(f=p.stateNode,w=p.memoizedProps,M=null,U=Bs,U!==null)switch(U.tag){case 27:case 5:M=U.memoizedProps}e0(f,w,p,M)||Ve(p)}else p.stateNode=ai(M,f,w,p)}return Ci(p),null;case 13:if(M=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(U=mt(p),M!==null&&M.dehydrated!==null){if(f===null){if(!U)throw Error(s(318));if(!Rs)throw Error(s(344));if(U=p.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(s(317));pv(U,p)}else ut(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ci(p),U=!1}else ra!==null&&(Kd(ra),ra=null),U=!0;if(!U)return p.flags&256?(qt(p),p):(qt(p),null)}if(qt(p),(p.flags&128)!==0)return p.lanes=w,p;if(w=M!==null,f=f!==null&&f.memoizedState!==null,w){M=p.child,U=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(U=M.alternate.memoizedState.cachePool.pool);var H=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(H=M.memoizedState.cachePool.pool),H!==U&&(M.flags|=2048)}return w!==f&&w&&(p.child.flags|=8192),fu(p,p.updateQueue),Ci(p),null;case 4:return re(),Hd(f,p),f===null&&zi(p.stateNode.containerInfo),Ci(p),null;case 10:return jo(p.type),Ci(p),null;case 19:if(A(ss),U=p.memoizedState,U===null)return Ci(p),null;if(M=(p.flags&128)!==0,H=U.rendering,H===null)if(M)pu(U,!1);else{if(pi!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(H=kt(f),H!==null){for(p.flags|=128,pu(U,!1),f=H.updateQueue,p.updateQueue=f,fu(p,f),p.subtreeFlags=0,f=w,w=p.child;w!==null;)Zd(w,f),w=w.sibling;return P(ss,ss.current&1|2),p.child}f=f.sibling}U.tail!==null&&sa()>zu&&(p.flags|=128,M=!0,pu(U,!1),p.lanes=4194304)}else{if(!M)if(f=kt(H),f!==null){if(p.flags|=128,M=!0,f=f.updateQueue,p.updateQueue=f,fu(p,f),pu(U,!0),U.tail===null&&U.tailMode==="hidden"&&!H.alternate&&!zn)return Ci(p),null}else 2*sa()-U.renderingStartTime>zu&&w!==536870912&&(p.flags|=128,M=!0,pu(U,!1),p.lanes=4194304);U.isBackwards?(H.sibling=p.child,p.child=H):(f=U.last,f!==null?f.sibling=H:p.child=H,U.last=H)}return U.tail!==null?(p=U.tail,U.rendering=p,U.tail=p.sibling,U.renderingStartTime=sa(),p.sibling=null,f=ss.current,P(ss,M?f&1|2:f&1),p):(Ci(p),null);case 22:case 23:return qt(p),It(),M=p.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(p.flags|=8192):M&&(p.flags|=8192),M?(w&536870912)!==0&&(p.flags&128)===0&&(Ci(p),p.subtreeFlags&6&&(p.flags|=8192)):Ci(p),w=p.updateQueue,w!==null&&fu(p,w.retryQueue),w=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),M=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(M=p.memoizedState.cachePool.pool),M!==w&&(p.flags|=2048),f!==null&&A(ro),null;case 24:return w=null,f!==null&&(w=f.memoizedState.cache),p.memoizedState.cache!==w&&(p.flags|=2048),jo(yi),Ci(p),null;case 25:return null}throw Error(s(156,p.tag))}function cS(f,p){switch(oe(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return jo(yi),re(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return ye(p),null;case 13:if(qt(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(s(340));ut()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return A(ss),null;case 4:return re(),null;case 10:return jo(p.type),null;case 22:case 23:return qt(p),It(),f!==null&&A(ro),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return jo(yi),null;case 25:return null;default:return null}}function Py(f,p){switch(oe(p),p.tag){case 3:jo(yi),re();break;case 26:case 27:case 5:ye(p);break;case 4:re();break;case 13:qt(p);break;case 19:A(ss);break;case 10:jo(p.type);break;case 22:case 23:qt(p),It(),f!==null&&A(ro);break;case 24:jo(yi)}}function Vd(f,p){try{var w=p.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var U=M.next;w=U;do{if((w.tag&f)===f){M=void 0;var H=w.create,se=w.inst;M=H(),se.destroy=M}w=w.next}while(w!==U)}}catch(me){ti(p,p.return,me)}}function vl(f,p,w){try{var M=p.updateQueue,U=M!==null?M.lastEffect:null;if(U!==null){var H=U.next;M=H;do{if((M.tag&f)===f){var se=M.inst,me=se.destroy;if(me!==void 0){se.destroy=void 0,U=p;var Re=w;try{me()}catch(nt){ti(U,Re,nt)}}}M=M.next}while(M!==H)}}catch(nt){ti(p,p.return,nt)}}function Ly(f){var p=f.updateQueue;if(p!==null){var w=f.stateNode;try{rt(p,w)}catch(M){ti(f,f.return,M)}}}function cr(f,p,w){w.props=To(f.type,f.memoizedProps),w.state=f.memoizedState;try{w.componentWillUnmount()}catch(M){ti(f,p,M)}}function wa(f,p){try{var w=f.ref;if(w!==null){var M=f.stateNode;switch(f.tag){case 26:case 27:case 5:var U=Cu(M);break;default:U=M}typeof w=="function"?f.refCleanup=w(U):w.current=U}}catch(H){ti(f,p,H)}}function ur(f,p){var w=f.ref,M=f.refCleanup;if(w!==null)if(typeof M=="function")try{M()}catch(U){ti(f,p,U)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(U){ti(f,p,U)}else w.current=null}function vg(f){var p=f.type,w=f.memoizedProps,M=f.stateNode;try{fS(M,p,w,f)}catch(U){ti(f,f.return,U)}}function bg(f,p,w){try{$y(f.stateNode,f.type,w,p,f)}catch(M){ti(f,f.return,M)}}function wg(f){return f.tag===5||f.tag===3||(Rr?f.tag===26:!1)||(di?f.tag===27:!1)||f.tag===4}function Gd(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||wg(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!di||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Sg(f,p,w){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?tv(w,f,p):qg(w,f);else if(!(M===4||di&&M===27)&&(f=f.child,f!==null))for(Sg(f,p,w),f=f.sibling;f!==null;)Sg(f,p,w),f=f.sibling}function Ro(f,p,w){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?ev(w,f,p):Qy(w,f);else if(!(M===4||di&&M===27)&&(f=f.child,f!==null))for(Ro(f,p,w),f=f.sibling;f!==null;)Ro(f,p,w),f=f.sibling}function Vf(f,p,w){f=f.containerInfo;try{ju(f,w)}catch(M){ti(p,p.return,M)}}function qd(f,p){for(sp(f.containerInfo),gn=p;gn!==null;)if(f=gn,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,gn=p;else for(;gn!==null;){f=gn;var w=f.alternate;switch(p=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&w!==null){p=void 0;var M=f,U=w.memoizedProps;w=w.memoizedState;var H=M.stateNode;try{var se=To(M.type,U,M.elementType===M.type);p=H.getSnapshotBeforeUpdate(se,w),H.__reactInternalSnapshotBeforeUpdate=p}catch(me){ti(M,M.return,me)}}break;case 3:(p&1024)!==0&&ns&&av(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(s(163))}if(p=f.sibling,p!==null){p.return=f.return,gn=p;break}gn=f.return}return se=Dn,Dn=!1,se}function Gf(f,p,w){var M=w.flags;switch(w.tag){case 0:case 11:case 15:Do(f,w),M&4&&Vd(5,w);break;case 1:if(Do(f,w),M&4)if(f=w.stateNode,p===null)try{f.componentDidMount()}catch(me){ti(w,w.return,me)}else{var U=To(w.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(U,p,f.__reactInternalSnapshotBeforeUpdate)}catch(me){ti(w,w.return,me)}}M&64&&Ly(w),M&512&&wa(w,w.return);break;case 3:if(Do(f,w),M&64&&(M=w.updateQueue,M!==null)){if(f=null,w.child!==null)switch(w.child.tag){case 27:case 5:f=Cu(w.child.stateNode);break;case 1:f=w.child.stateNode}try{rt(M,f)}catch(me){ti(w,w.return,me)}}break;case 26:if(Rr){Do(f,w),M&512&&wa(w,w.return);break}case 27:case 5:Do(f,w),p===null&&M&4&&vg(w),M&512&&wa(w,w.return);break;case 12:Do(f,w);break;case 13:Do(f,w),M&4&&qf(f,w);break;case 22:if(U=w.memoizedState!==null||ao,!U){p=p!==null&&p.memoizedState!==null||Pi;var H=ao,se=Pi;ao=U,(Pi=p)&&!se?Oo(f,w,(w.subtreeFlags&8772)!==0):Do(f,w),ao=H,Pi=se}M&512&&(w.memoizedProps.mode==="manual"?wa(w,w.return):ur(w,w.return));break;default:Do(f,w)}}function Ag(f){var p=f.alternate;p!==null&&(f.alternate=null,Ag(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&hS(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Ts(f,p,w){for(w=w.child;w!==null;)bl(f,p,w),w=w.sibling}function bl(f,p,w){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Vi,w)}catch{}switch(w.tag){case 26:if(Rr){Pi||ur(w,p),Ts(f,p,w),w.memoizedState?gc(w.memoizedState):w.stateNode&&Ru(w.stateNode);break}case 27:if(di){Pi||ur(w,p);var M=$t,U=An;$t=w.stateNode,Ts(f,p,w),Dl(w.stateNode),$t=M,An=U;break}case 5:Pi||ur(w,p);case 6:if(ns){if(M=$t,U=An,$t=null,Ts(f,p,w),$t=M,An=U,$t!==null)if(An)try{nv($t,w.stateNode)}catch(H){ti(w,p,H)}else try{Wg($t,w.stateNode)}catch(H){ti(w,p,H)}}else Ts(f,p,w);break;case 18:ns&&$t!==null&&(An?lh($t,w.stateNode):gv($t,w.stateNode));break;case 4:ns?(M=$t,U=An,$t=w.stateNode.containerInfo,An=!0,Ts(f,p,w),$t=M,An=U):(ia&&Vf(w.stateNode,w,oh()),Ts(f,p,w));break;case 0:case 11:case 14:case 15:Pi||vl(2,w,p),Pi||vl(4,w,p),Ts(f,p,w);break;case 1:Pi||(ur(w,p),M=w.stateNode,typeof M.componentWillUnmount=="function"&&cr(w,p,M)),Ts(f,p,w);break;case 21:Ts(f,p,w);break;case 22:Pi||ur(w,p),Pi=(M=Pi)||w.memoizedState!==null,Ts(f,p,w),Pi=M;break;default:Ts(f,p,w)}}function qf(f,p){if(Rs&&p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{xS(f)}catch(w){ti(p,p.return,w)}}function Iy(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new ni),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new ni),p;default:throw Error(s(435,f.tag))}}function Bo(f,p){var w=Iy(f);p.forEach(function(M){var U=Ml.bind(null,f,M);w.has(M)||(w.add(M),M.then(U,U))})}function Ks(f,p){var w=p.deletions;if(w!==null)for(var M=0;M<w.length;M++){var U=w[M],H=f,se=p;if(ns){var me=se;e:for(;me!==null;){switch(me.tag){case 27:case 5:$t=me.stateNode,An=!1;break e;case 3:$t=me.stateNode.containerInfo,An=!0;break e;case 4:$t=me.stateNode.containerInfo,An=!0;break e}me=me.return}if($t===null)throw Error(s(160));bl(H,se,U),$t=null,An=!1}else bl(H,se,U);H=U.alternate,H!==null&&(H.return=null),U.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)_g(p,f),p=p.sibling}function _g(f,p){var w=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ks(p,f),dr(f),M&4&&(vl(3,f,f.return),Vd(3,f),vl(5,f,f.return));break;case 1:Ks(p,f),dr(f),M&512&&(Pi||w===null||ur(w,w.return)),M&64&&ao&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(w=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=w===null?M:w.concat(M))));break;case 26:if(Rr){var U=Ri;Ks(p,f),dr(f),M&512&&(Pi||w===null||ur(w,w.return)),M&4&&(M=w!==null?w.memoizedState:null,p=f.memoizedState,w===null?p===null?f.stateNode===null?f.stateNode=uh(U,f.type,f.memoizedProps,f):dh(U,f.type,f.stateNode):f.stateNode=yv(U,p,f.memoizedProps):M!==p?(M===null?w.stateNode!==null&&Ru(w.stateNode):gc(M),p===null?dh(U,f.type,f.stateNode):yv(U,p,f.memoizedProps)):p===null&&f.stateNode!==null&&bg(f,f.memoizedProps,w.memoizedProps));break}case 27:if(di&&M&4&&f.alternate===null){U=f.stateNode;var H=f.memoizedProps;try{Bl(U),Sv(f.type,H,U,f)}catch(wt){ti(f,f.return,wt)}}case 5:if(Ks(p,f),dr(f),M&512&&(Pi||w===null||ur(w,w.return)),ns){if(f.flags&32){p=f.stateNode;try{Xg(p)}catch(wt){ti(f,f.return,wt)}}M&4&&f.stateNode!=null&&(p=f.memoizedProps,bg(f,p,w!==null?w.memoizedProps:p)),M&1024&&(r0=!0)}break;case 6:if(Ks(p,f),dr(f),M&4&&ns){if(f.stateNode===null)throw Error(s(162));M=f.memoizedProps,w=w!==null?w.memoizedProps:M,p=f.stateNode;try{Zy(p,w,M)}catch(wt){ti(f,f.return,wt)}}break;case 3:if(Rr?(vv(),U=Ri,Ri=pp(p.containerInfo),Ks(p,f),Ri=U):Ks(p,f),dr(f),M&4){if(ns&&Rs&&w!==null&&w.memoizedState.isDehydrated)try{gS(p.containerInfo)}catch(wt){ti(f,f.return,wt)}if(ia){M=p.containerInfo,w=p.pendingChildren;try{ju(M,w)}catch(wt){ti(f,f.return,wt)}}}r0&&(r0=!1,Uy(f));break;case 4:Rr?(w=Ri,Ri=pp(f.stateNode.containerInfo),Ks(p,f),dr(f),Ri=w):(Ks(p,f),dr(f)),M&4&&ia&&Vf(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:Ks(p,f),dr(f);break;case 13:Ks(p,f),dr(f),f.child.flags&8192&&f.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(tr=sa()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,Bo(f,M)));break;case 22:M&512&&(Pi||w===null||ur(w,w.return)),U=f.memoizedState!==null;var se=w!==null&&w.memoizedState!==null,me=ao,Re=Pi;if(ao=me||U,Pi=Re||se,Ks(p,f),Pi=Re,ao=me,dr(f),p=f.stateNode,p._current=f,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,M&8192&&(p._visibility=U?p._visibility&-2:p._visibility|1,U&&(p=ao||Pi,w===null||se||p||mu(f)),ns&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(w=null,ns)for(p=f;;){if(p.tag===5||Rr&&p.tag===26||di&&p.tag===27){if(w===null){se=w=p;try{H=se.stateNode,U?iv(H):rv(se.stateNode,se.memoizedProps)}catch(wt){ti(se,se.return,wt)}}}else if(p.tag===6){if(w===null){se=p;try{var nt=se.stateNode;U?sv(nt):pS(nt,se.memoizedProps)}catch(wt){ti(se,se.return,wt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;w===p&&(w=null),p=p.return}w===p&&(w=null),p.sibling.return=p.return,p=p.sibling}}M&4&&(M=f.updateQueue,M!==null&&(w=M.retryQueue,w!==null&&(M.retryQueue=null,Bo(f,w))));break;case 19:Ks(p,f),dr(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,Bo(f,M)));break;case 21:break;default:Ks(p,f),dr(f)}}function dr(f){var p=f.flags;if(p&2){try{if(ns&&(!di||f.tag!==27)){e:{for(var w=f.return;w!==null;){if(wg(w)){var M=w;break e}w=w.return}throw Error(s(160))}switch(M.tag){case 27:if(di){var U=M.stateNode,H=Gd(f);Ro(f,H,U);break}case 5:var se=M.stateNode;M.flags&32&&(Xg(se),M.flags&=-33);var me=Gd(f);Ro(f,me,se);break;case 3:case 4:var Re=M.stateNode.containerInfo,nt=Gd(f);Sg(f,nt,Re);break;default:throw Error(s(161))}}}catch(wt){ti(f,f.return,wt)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function Uy(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;Uy(p),p.tag===5&&p.flags&1024&&op(p.stateNode),f=f.sibling}}function Do(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Gf(f,p.alternate,p),p=p.sibling}function mu(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:vl(4,p,p.return),mu(p);break;case 1:ur(p,p.return);var w=p.stateNode;typeof w.componentWillUnmount=="function"&&cr(p,p.return,w),mu(p);break;case 26:case 27:case 5:ur(p,p.return),mu(p);break;case 22:ur(p,p.return),p.memoizedState===null&&mu(p);break;default:mu(p)}f=f.sibling}}function Oo(f,p,w){for(w=w&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var M=p.alternate,U=f,H=p,se=H.flags;switch(H.tag){case 0:case 11:case 15:Oo(U,H,w),Vd(4,H);break;case 1:if(Oo(U,H,w),M=H,U=M.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(nt){ti(M,M.return,nt)}if(M=H,U=M.updateQueue,U!==null){var me=M.stateNode;try{var Re=U.shared.hiddenCallbacks;if(Re!==null)for(U.shared.hiddenCallbacks=null,U=0;U<Re.length;U++)fe(Re[U],me)}catch(nt){ti(M,M.return,nt)}}w&&se&64&&Ly(H),wa(H,H.return);break;case 26:case 27:case 5:Oo(U,H,w),w&&M===null&&se&4&&vg(H),wa(H,H.return);break;case 12:Oo(U,H,w);break;case 13:Oo(U,H,w),w&&se&4&&qf(U,H);break;case 22:H.memoizedState===null&&Oo(U,H,w),wa(H,H.return);break;default:Oo(U,H,w)}p=p.sibling}}function Wf(f,p){var w=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==w&&(f!=null&&f.refCount++,w!=null&&zd(w))}function Wd(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&zd(f))}function fs(f,p,w,M){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Eg(f,p,w,M),p=p.sibling}function Eg(f,p,w,M){var U=p.flags;switch(p.tag){case 0:case 11:case 15:fs(f,p,w,M),U&2048&&Vd(9,p);break;case 3:fs(f,p,w,M),U&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&zd(f)));break;case 12:if(U&2048){fs(f,p,w,M),f=p.stateNode;try{var H=p.memoizedProps,se=H.id,me=H.onPostCommit;typeof me=="function"&&me(se,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Re){ti(p,p.return,Re)}}else fs(f,p,w,M);break;case 23:break;case 22:H=p.stateNode,p.memoizedState!==null?H._visibility&4?fs(f,p,w,M):Us(f,p):H._visibility&4?fs(f,p,w,M):(H._visibility|=4,Ns(f,p,w,M,(p.subtreeFlags&10256)!==0)),U&2048&&Wf(p.alternate,p);break;case 24:fs(f,p,w,M),U&2048&&Wd(p.alternate,p);break;default:fs(f,p,w,M)}}function Ns(f,p,w,M,U){for(U=U&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var H=f,se=p,me=w,Re=M,nt=se.flags;switch(se.tag){case 0:case 11:case 15:Ns(H,se,me,Re,U),Vd(8,se);break;case 23:break;case 22:var wt=se.stateNode;se.memoizedState!==null?wt._visibility&4?Ns(H,se,me,Re,U):Us(H,se):(wt._visibility|=4,Ns(H,se,me,Re,U)),U&&nt&2048&&Wf(se.alternate,se);break;case 24:Ns(H,se,me,Re,U),U&&nt&2048&&Wd(se.alternate,se);break;default:Ns(H,se,me,Re,U)}p=p.sibling}}function Us(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var w=f,M=p,U=M.flags;switch(M.tag){case 22:Us(w,M),U&2048&&Wf(M.alternate,M);break;case 24:Us(w,M),U&2048&&Wd(M.alternate,M);break;default:Us(w,M)}p=p.sibling}}function Zr(f){if(f.subtreeFlags&Ur)for(f=f.child;f!==null;)Xf(f),f=f.sibling}function Xf(f){switch(f.tag){case 26:Zr(f),f.flags&Ur&&(f.memoizedState!==null?wv(Ri,f.memoizedState,f.memoizedProps):Zs(f.type,f.memoizedProps));break;case 5:Zr(f),f.flags&Ur&&Zs(f.type,f.memoizedProps);break;case 3:case 4:if(Rr){var p=Ri;Ri=pp(f.stateNode.containerInfo),Zr(f),Ri=p}else Zr(f);break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=Ur,Ur=16777216,Zr(f),Ur=p):Zr(f));break;default:Zr(f)}}function Xd(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function wl(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var M=p[w];gn=M,Cg(M,f)}Xd(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Yf(f),f=f.sibling}function Yf(f){switch(f.tag){case 0:case 11:case 15:wl(f),f.flags&2048&&vl(9,f,f.return);break;case 3:wl(f);break;case 12:wl(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&4&&(f.return===null||f.return.tag!==13)?(p._visibility&=-5,Po(f)):wl(f);break;default:wl(f)}}function Po(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var w=0;w<p.length;w++){var M=p[w];gn=M,Cg(M,f)}Xd(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:vl(8,p,p.return),Po(p);break;case 22:w=p.stateNode,w._visibility&4&&(w._visibility&=-5,Po(p));break;default:Po(p)}f=f.sibling}}function Cg(f,p){for(;gn!==null;){var w=gn;switch(w.tag){case 0:case 11:case 15:vl(8,w,p);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var M=w.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:zd(w.memoizedState.cache)}if(M=w.child,M!==null)M.return=w,gn=M;else e:for(w=f;gn!==null;){M=gn;var U=M.sibling,H=M.return;if(Ag(M),M===w){gn=null;break e}if(U!==null){U.return=H,gn=U;break e}gn=H}}}function gu(f){var p=Gy(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(s(364));return p}if(f=Vg(f),f===null)throw Error(s(362));return f.stateNode.current}function Sl(f,p){var w=f.tag;switch(p.$$typeof){case Fu:if(f.type===p.value)return!0;break;case la:e:{for(p=p.value,f=[f,0],w=0;w<f.length;){var M=f[w++],U=M.tag,H=f[w++],se=p[H];if(U!==5&&U!==26&&U!==27||!Tu(M)){for(;se!=null&&Sl(M,se);)H++,se=p[H];if(H===p.length){p=!0;break e}else for(M=M.child;M!==null;)f.push(M,H),M=M.sibling}}p=!1}return p;case _i:if((w===5||w===26||w===27)&&Yy(f.stateNode,p.value))return!0;break;case oo:if((w===5||w===6||w===26||w===27)&&(f=Xy(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case Ra:if((w===5||w===26||w===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Mg(f){switch(f.$$typeof){case Fu:return"<"+(o(f.value)||"Unknown")+">";case la:return":has("+(Mg(f)||"")+")";case _i:return'[role="'+f.value+'"]';case oo:return'"'+f.value+'"';case Ra:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function hr(f,p){var w=[];f=[f,0];for(var M=0;M<f.length;){var U=f[M++],H=U.tag,se=f[M++],me=p[se];if(H!==5&&H!==26&&H!==27||!Tu(U)){for(;me!=null&&Sl(U,me);)se++,me=p[se];if(se===p.length)w.push(U);else for(U=U.child;U!==null;)f.push(U,se),U=U.sibling}}return w}function Yd(f,p){if(!Rl)throw Error(s(363));f=gu(f),f=hr(f,p),p=[],f=Array.from(f);for(var w=0;w<f.length;){var M=f[w++],U=M.tag;if(U===5||U===26||U===27)Tu(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return p}function Fi(){if((Gn&2)!==0&&Ln!==0)return Ln&-Ln;if(cn.T!==null){var f=Or;return f!==0?f:Xe()}return qy()}function Tg(){zr===0&&(zr=(Ln&536870912)===0||zn?F():536870912);var f=Pr.current;return f!==null&&(f.flags|=32),zr}function ps(f,p,w){(f===ii&&ui===2||f.cancelPendingCommit!==null)&&(js(f,0),fr(f,Ln,zr,!1)),q(f,w),((Gn&2)===0||f!==ii)&&(f===ii&&((Gn&2)===0&&(Ko|=w),pi===4&&fr(f,Ln,zr,!1)),_e(f))}function Al(f,p,w){if((Gn&6)!==0)throw Error(s(327));var M=!w&&(p&60)===0&&(p&f.expiredLanes)===0||R(f,p),U=M?jg(f,p):Jf(f,p,!0),H=M;do{if(U===0){kr&&!M&&fr(f,p,0,!1);break}else if(U===6)fr(f,p,0,!ua);else{if(w=f.current.alternate,H&&!xu(w)){U=Jf(f,p,!1),H=!1;continue}if(U===2){if(H=p,f.errorRecoveryDisabledLanes&H)var se=0;else se=f.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){p=se;e:{var me=f;U=Rc;var Re=Rs&&me.current.memoizedState.isDehydrated;if(Re&&(js(me,se).flags|=256),se=Jf(me,se,!1),se!==2){if(rs&&!Re){me.errorRecoveryDisabledLanes|=H,Ko|=H,U=4;break e}H=Li,Li=U,H!==null&&Kd(H)}U=se}if(H=!1,U!==2)continue}}if(U===1){js(f,0),fr(f,p,0,!0);break}e:{switch(M=f,U){case 0:case 1:throw Error(s(345));case 4:if((p&4194176)===p){fr(M,p,zr,!ua);break e}break;case 2:Li=null;break;case 3:case 5:break;default:throw Error(s(329))}if(M.finishedWork=w,M.finishedLanes=p,(p&62914560)===p&&(H=tr+300-sa(),10<H)){if(fr(M,p,zr,!ua),j(M,0)!==0)break e;M.timeoutHandle=Yi(Kf.bind(null,M,w,Li,yh,Ep,p,zr,Ko,lo,ua,2,-0,0),H);break e}Kf(M,w,Li,yh,Ep,p,zr,Ko,lo,ua,0,-0,0)}}break}while(!0);_e(f)}function Kd(f){Li===null?Li=f:Li.push.apply(Li,f)}function Kf(f,p,w,M,U,H,se,me,Re,nt,wt,Rt,Pt){var xn=p.subtreeFlags;if((xn&8192||(xn&16785408)===16785408)&&(zg(),Xf(p),p=Ki(),p!==null)){f.cancelPendingCommit=p(El.bind(null,f,w,M,U,se,me,Re,1,Rt,Pt)),fr(f,H,se,!nt);return}El(f,w,M,U,se,me,Re,wt,Rt,Pt)}function xu(f){for(var p=f;;){var w=p.tag;if((w===0||w===11||w===15)&&p.flags&16384&&(w=p.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var M=0;M<w.length;M++){var U=w[M],H=U.getSnapshot;U=U.value;try{if(!mr(H(),U))return!1}catch{return!1}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function fr(f,p,w,M){p&=~xh,p&=~Ko,f.suspendedLanes|=p,f.pingedLanes&=~p,M&&(f.warmLanes|=p),M=f.expirationTimes;for(var U=p;0<U;){var H=31-$s(U),se=1<<H;M[H]=-1,U&=~se}w!==0&&G(f,w,p)}function Jd(){return(Gn&6)===0?($e(0),!1):!0}function yu(){if(tn!==null){if(ui===0)var f=tn.return;else f=tn,Ir=ja=null,ie(f),Il=null,Ul=0,f=tn;for(;f!==null;)Py(f.alternate,f),f=f.return;tn=null}}function js(f,p){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;w!==Nl&&(f.timeoutHandle=Nl,rp(w)),w=f.cancelPendingCommit,w!==null&&(f.cancelPendingCommit=null,w()),yu(),ii=f,tn=w=ea(f.current,null),Ln=p,ui=0,Fs=null,ua=!1,kr=R(f,p),rs=!1,lo=zr=xh=Ko=Fr=pi=0,Li=Rc=null,Ep=!1,(p&8)!==0&&(p|=p&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=p;0<M;){var U=31-$s(M),H=1<<U;p|=f[U],M&=~H}return zs=p,Me(),w}function Tr(f,p){En=null,cn.H=Oi,p===Lu?(p=Mt(),ui=3):p===mh?(p=Mt(),ui=4):ui=p===Ap?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Fs=p,tn===null&&(pi=1,cu(f,K(p,f.current)))}function _l(){var f=Pr.current;return f===null?!0:(Ln&4194176)===Ln?hi===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?f===hi:!1}function Ka(){var f=cn.H;return cn.H=Oi,f===null?Oi:f}function Ja(){var f=cn.A;return cn.A=ku,f}function Lo(){pi=4,ua||(Ln&4194176)!==Ln&&Pr.current!==null||(kr=!0),(Fr&134217727)===0&&(Ko&134217727)===0||ii===null||fr(ii,Ln,zr,!1)}function Jf(f,p,w){var M=Gn;Gn|=2;var U=Ka(),H=Ja();(ii!==f||Ln!==p)&&(yh=null,js(f,p)),p=!1;var se=pi;e:do try{if(ui!==0&&tn!==null){var me=tn,Re=Fs;switch(ui){case 8:yu(),se=6;break e;case 3:case 2:case 6:Pr.current===null&&(p=!0);var nt=ui;if(ui=0,Fs=null,$r(f,me,Re,nt),w&&kr){se=0;break e}break;default:nt=ui,ui=0,Fs=null,$r(f,me,Re,nt)}}Ng(),se=pi;break}catch(wt){Tr(f,wt)}while(!0);return p&&f.shellSuspendCounter++,Ir=ja=null,Gn=M,cn.H=U,cn.A=H,tn===null&&(ii=null,Ln=0,Me()),se}function Ng(){for(;tn!==null;)ji(tn)}function jg(f,p){var w=Gn;Gn|=2;var M=Ka(),U=Ja();ii!==f||Ln!==p?(yh=null,zu=sa()+500,js(f,p)):kr=R(f,p);e:do try{if(ui!==0&&tn!==null){p=tn;var H=Fs;t:switch(ui){case 1:ui=0,Fs=null,$r(f,p,H,1);break;case 2:if(At(H)){ui=0,Fs=null,Kn(p);break}p=function(){ui===2&&ii===f&&(ui=7),_e(f)},H.then(p,p);break e;case 3:ui=7;break e;case 4:ui=5;break e;case 7:At(H)?(ui=0,Fs=null,Kn(p)):(ui=0,Fs=null,$r(f,p,H,7));break;case 5:var se=null;switch(tn.tag){case 26:se=tn.memoizedState;case 5:case 27:var me=tn,Re=me.type,nt=me.pendingProps;if(se?xc(se):ap(Re,nt)){ui=0,Fs=null;var wt=me.sibling;if(wt!==null)tn=wt;else{var Rt=me.return;Rt!==null?(tn=Rt,Nr(Rt)):tn=null}break t}}ui=0,Fs=null,$r(f,p,H,5);break;case 6:ui=0,Fs=null,$r(f,p,H,6);break;case 8:yu(),pi=6;break e;default:throw Error(s(462))}}Js();break}catch(Pt){Tr(f,Pt)}while(!0);return Ir=ja=null,cn.H=M,cn.A=U,Gn=w,tn!==null?0:(ii=null,Ln=0,Me(),pi)}function Js(){for(;tn!==null&&!Ev();)ji(tn)}function ji(f){var p=By(f.alternate,f,zs);f.memoizedProps=f.pendingProps,p===null?Nr(f):tn=p}function Kn(f){var p=f,w=p.alternate;switch(p.tag){case 15:case 0:p=Cy(w,p,p.pendingProps,p.type,void 0,Ln);break;case 11:p=Cy(w,p,p.pendingProps,p.type.render,p.ref,Ln);break;case 5:ie(p);default:Py(w,p),p=tn=Zd(p,zs),p=By(w,p,zs)}f.memoizedProps=f.pendingProps,p===null?Nr(f):tn=p}function $r(f,p,w,M){Ir=ja=null,ie(p),Il=null,Ul=0;var U=p.return;try{if(oS(f,U,p,w,Ln)){pi=1,cu(f,K(w,f.current)),tn=null;return}}catch(H){if(U!==null)throw tn=U,H;pi=1,cu(f,K(w,f.current)),tn=null;return}p.flags&32768?(zn||M===1?f=!0:kr||(Ln&536870912)!==0?f=!1:(ua=f=!0,(M===2||M===3||M===6)&&(M=Pr.current,M!==null&&M.tag===13&&(M.flags|=16384))),Qf(p,f)):Nr(p)}function Nr(f){var p=f;do{if((p.flags&32768)!==0){Qf(p,ua);return}f=p.return;var w=Oy(p.alternate,p,zs);if(w!==null){tn=w;return}if(p=p.sibling,p!==null){tn=p;return}tn=p=f}while(p!==null);pi===0&&(pi=5)}function Qf(f,p){do{var w=cS(f.alternate,f);if(w!==null){w.flags&=32767,tn=w;return}if(w=f.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!p&&(f=f.sibling,f!==null)){tn=f;return}tn=f=w}while(f!==null);pi=6,tn=null}function El(f,p,w,M,U,H,se,me,Re,nt){var wt=cn.T,Rt=Ho();try{ks(2),cn.T=null,ky(f,p,w,M,Rt,U,H,se,me,Re,nt)}finally{cn.T=wt,ks(Rt)}}function ky(f,p,w,M,U,H,se,me){do Sa();while(co!==null);if((Gn&6)!==0)throw Error(s(327));var Re=f.finishedWork;if(M=f.finishedLanes,Re===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Re===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var nt=Re.lanes|Re.childLanes;if(nt|=Ta,Y(f,M,nt,H,se,me),f===ii&&(tn=ii=null,Ln=0),(Re.subtreeFlags&10256)===0&&(Re.flags&10256)===0||Ba||(Ba=!0,Vl=nt,Cp=w,Uo(vp,function(){return Sa(),null})),w=(Re.flags&15990)!==0,(Re.subtreeFlags&15990)!==0||w?(w=cn.T,cn.T=null,H=Ho(),ks(2),se=Gn,Gn|=4,qd(f,Re),_g(Re,f),Vy(f.containerInfo),f.current=Re,Gf(f,Re.alternate,Re),xp(),Gn=se,ks(H),cn.T=w):f.current=Re,Ba?(Ba=!1,co=f,Bc=M):Rg(f,nt),nt=f.pendingLanes,nt===0&&(Hl=null),z(Re.stateNode),_e(f),p!==null)for(U=f.onRecoverableError,Re=0;Re<p.length;Re++)nt=p[Re],U(nt.value,{componentStack:nt.stack});return(Bc&3)!==0&&Sa(),nt=f.pendingLanes,(M&4194218)!==0&&(nt&42)!==0?f===Mp?Hu++:(Hu=0,Mp=f):Hu=0,$e(0),null}function Rg(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,zd(p)))}function Sa(){if(co!==null){var f=co,p=Vl;Vl=0;var w=$(Bc),M=32>w?32:w;w=cn.T;var U=Ho();try{if(ks(M),cn.T=null,co===null)var H=!1;else{M=Cp,Cp=null;var se=co,me=Bc;if(co=null,Bc=0,(Gn&6)!==0)throw Error(s(331));var Re=Gn;if(Gn|=4,Yf(se.current),Eg(se,se.current,me,M),Gn=Re,$e(0,!1),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Vi,se)}catch{}H=!0}return H}finally{ks(U),cn.T=w,Rg(f,p)}}return!1}function vu(f,p,w){p=K(w,p),p=du(f.stateNode,p,2),f=Je(f,p,2),f!==null&&(q(f,2),_e(f))}function ti(f,p,w){if(f.tag===3)vu(f,f,w);else for(;p!==null;){if(p.tag===3){vu(p,f,w);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Hl===null||!Hl.has(M))){f=K(w,f),w=ug(2),M=Je(p,w,2),M!==null&&(wy(w,M,p,f),q(M,2),_e(M));break}}p=p.return}}function pc(f,p,w){var M=f.pingCache;if(M===null){M=f.pingCache=new ca;var U=new Set;M.set(p,U)}else U=M.get(p),U===void 0&&(U=new Set,M.set(p,U));U.has(w)||(rs=!0,U.add(w),f=Bg.bind(null,f,p,w),p.then(f,f))}function Bg(f,p,w){var M=f.pingCache;M!==null&&M.delete(p),f.pingedLanes|=f.suspendedLanes&w,f.warmLanes&=~w,ii===f&&(Ln&w)===w&&(pi===4||pi===3&&(Ln&62914560)===Ln&&300>sa()-tr?(Gn&2)===0&&js(f,0):xh|=w,lo===Ln&&(lo=0)),_e(f)}function Cl(f,p){p===0&&(p=D()),f=ge(f,p),f!==null&&(q(f,p),_e(f))}function Io(f){var p=f.memoizedState,w=0;p!==null&&(w=p.retryLane),Cl(f,w)}function Ml(f,p){var w=0;switch(f.tag){case 13:var M=f.stateNode,U=f.memoizedState;U!==null&&(w=U.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(s(314))}M!==null&&M.delete(p),Cl(f,w)}function Uo(f,p){return hh(f,p)}function Dg(f,p,w,M){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qd(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ea(f,p){var w=f.alternate;return w===null?(w=t(f.tag,p,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=p,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&31457280,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,p=f.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w.refCleanup=f.refCleanup,w}function Zd(f,p){f.flags&=31457282;var w=f.alternate;return w===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,p=w.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function Qa(f,p,w,M,U,H){var se=0;if(M=f,typeof f=="function")Qd(f)&&(se=1);else if(typeof f=="string")se=Rr&&di?ch(f,w,is.current)?26:$a(f)?27:5:Rr?ch(f,w,is.current)?26:5:di&&$a(f)?27:5;else e:switch(f){case Tl:return Di(w.children,U,H,p);case nh:se=8,U|=24;break;case tp:return f=t(12,w,p,U|2),f.elementType=tp,f.lanes=H,f;case np:return f=t(13,w,p,U),f.elementType=np,f.lanes=H,f;case Au:return f=t(19,w,p,U),f.elementType=Au,f.lanes=H,f;case Lg:return $d(w,U,H,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case ih:case Aa:se=10;break e;case Pg:se=9;break e;case sh:se=11;break e;case ip:se=14;break e;case na:se=16,M=null;break e}se=29,w=Error(s(130,f===null?"null":typeof f,"")),M=null}return p=t(se,w,p,U),p.elementType=f,p.type=M,p.lanes=H,p}function Di(f,p,w,M){return f=t(7,f,M,p),f.lanes=w,f}function $d(f,p,w,M){f=t(22,f,M,p),f.elementType=Lg,f.lanes=w;var U={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var H=U._current;if(H===null)throw Error(s(456));if((U._pendingVisibility&2)===0){var se=ge(H,2);se!==null&&(U._pendingVisibility|=2,ps(se,H,2))}},attach:function(){var H=U._current;if(H===null)throw Error(s(456));if((U._pendingVisibility&2)!==0){var se=ge(H,2);se!==null&&(U._pendingVisibility&=-3,ps(se,H,2))}}};return f.stateNode=U,f}function Zf(f,p,w){return f=t(6,f,null,p),f.lanes=w,f}function Og(f,p,w){return p=t(4,f.children!==null?f.children:[],f.key,p),p.lanes=w,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function uS(f,p,w,M,U,H,se,me){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Nl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=M,this.onUncaughtError=U,this.onCaughtError=H,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function Fy(f,p,w,M,U,H,se,me,Re,nt,wt,Rt){return f=new uS(f,p,w,se,me,Re,nt,Rt),p=1,H===!0&&(p|=24),H=t(3,null,null,p),f.current=H,H.stateNode=f,p=yl(),p.refCount++,f.pooledCache=p,p.refCount++,H.memoizedState={element:M,isDehydrated:w,cache:p},Tt(H),f}function Xi(f){return f?(f=Ol,f):Ol}function $f(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=b(p),f=f!==null?S(f):null,f===null?null:Cu(f.stateNode)}function bu(f,p,w,M,U,H){U=Xi(U),M.context===null?M.context=U:M.pendingContext=U,M=Pe(p),M.payload={element:w},H=H===void 0?null:H,H!==null&&(M.callback=H),w=Je(f,M,p),w!==null&&(ps(w,f,p),Ct(w,f,p))}function wu(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<p?w:p}}function eh(f,p){wu(f,p),(f=f.alternate)&&wu(f,p)}var bn={},Su=Er(),jr=XK(),ep=Object.assign,dS=Symbol.for("react.element"),th=Symbol.for("react.transitional.element"),ta=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),ih=Symbol.for("react.provider"),Pg=Symbol.for("react.consumer"),Aa=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),na=Symbol.for("react.lazy"),Lg=Symbol.for("react.offscreen"),zy=Symbol.for("react.memo_cache_sentinel"),ko=Symbol.iterator,Ig=Symbol.for("react.client.reference"),cn=Su.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Za,Fo,mc=!1,_u=Array.isArray,Ug=e.rendererVersion,rh=e.rendererPackageName,Eu=e.extraDevToolsConfig,Cu=e.getPublicInstance,Hy=e.getRootHostContext,Mu=e.getChildHostContext,sp=e.prepareForCommit,Vy=e.resetAfterCommit,kg=e.createInstance,ah=e.appendInitialChild,zo=e.finalizeInitialChildren,wn=e.shouldSetTextContent,ai=e.createTextInstance,Yi=e.scheduleTimeout,rp=e.cancelTimeout,Nl=e.noTimeout,Qs=e.isPrimaryRenderer;e.warnsIfNotActing;var ns=e.supportsMutation,ia=e.supportsPersistence,Rs=e.supportsHydration,Gy=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var zi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ks=e.setCurrentUpdatePriority,Ho=e.getCurrentUpdatePriority,qy=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Wy=e.shouldAttemptEagerTransition,hS=e.detachDeletedInstance;e.requestPostPaintCallback;var Fg=e.maySuspendCommit,ap=e.preloadInstance,zg=e.startSuspendingCommit,Zs=e.suspendInstance,Ki=e.waitForCommitToBeReady,jl=e.NotPendingTransition,_a=e.HostTransitionContext,op=e.resetFormInstance;e.bindToConsole;var Hg=e.supportsMicrotasks,Vo=e.scheduleMicrotask,Rl=e.supportsTestSelectors,Vg=e.findFiberRoot,Gg=e.getBoundingRect,Xy=e.getTextContent,Tu=e.isHiddenSubtree,Yy=e.matchAccessibilityRole,Ky=e.setFocusIfFocusable,Jy=e.setupIntersectionObserver,Qy=e.appendChild,qg=e.appendChildToContainer,Zy=e.commitTextUpdate,fS=e.commitMount,$y=e.commitUpdate,ev=e.insertBefore,tv=e.insertInContainerBefore,Wg=e.removeChild,nv=e.removeChildFromContainer,Xg=e.resetTextContent,iv=e.hideInstance,sv=e.hideTextInstance,rv=e.unhideInstance,pS=e.unhideTextInstance,av=e.clearContainer,Nu=e.cloneInstance,oh=e.createContainerChildSet,Yg=e.appendChildToContainerChildSet,lp=e.finalizeContainerChildren,ju=e.replaceContainerChildren,Kg=e.cloneHiddenInstance,Jg=e.cloneHiddenTextInstance,cp=e.isSuspenseInstancePending,up=e.isSuspenseInstanceFallback,ov=e.getSuspenseInstanceFallbackErrorDetails,lv=e.registerSuspenseInstanceRetry,Qg=e.canHydrateFormStateMarker,cv=e.isFormStateMarkerMatching,Zg=e.getNextHydratableSibling,dp=e.getFirstHydratableChild,uv=e.getFirstHydratableChildWithinContainer,dv=e.getFirstHydratableChildWithinSuspenseInstance,mS=e.canHydrateInstance,$g=e.canHydrateTextInstance,hv=e.canHydrateSuspenseInstance,fv=e.hydrateInstance,e0=e.hydrateTextInstance,pv=e.hydrateSuspenseInstance,mv=e.getNextHydratableInstanceAfterSuspenseInstance,gS=e.commitHydratedContainer,xS=e.commitHydratedSuspenseInstance,gv=e.clearSuspenseBoundary,lh=e.clearSuspenseBoundaryFromContainer,hp=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var fp=e.validateHydratableInstance,xv=e.validateHydratableTextInstance,Rr=e.supportsResources,ch=e.isHostHoistableType,pp=e.getHoistableRoot,t0=e.getResource,yv=e.acquireResource,gc=e.releaseResource,uh=e.hydrateHoistable,dh=e.mountHoistable,Ru=e.unmountHoistable,mp=e.createHoistableInstance,vv=e.prepareToCommitHoistables,bv=e.mayResourceSuspendCommit,xc=e.preloadResource,wv=e.suspendResource,di=e.supportsSingletons,Ea=e.resolveSingletonInstance,Bl=e.clearSingleton,Sv=e.acquireSingletonInstance,Dl=e.releaseSingletonInstance,$a=e.isHostSingletonType,Hi=[],Go=-1,Ol={},$s=Math.clz32?Math.clz32:N,Av=Math.log,_v=Math.LN2,eo=128,yc=4194304,hh=jr.unstable_scheduleCallback,gp=jr.unstable_cancelCallback,Ev=jr.unstable_shouldYield,xp=jr.unstable_requestPaint,sa=jr.unstable_now,yp=jr.unstable_ImmediatePriority,Cv=jr.unstable_UserBlockingPriority,vp=jr.unstable_NormalPriority,yS=jr.unstable_IdlePriority,Mv=jr.log,ms=jr.unstable_setDisableYieldValue,Vi=null,pr=null,mr=typeof Object.is=="function"?Object.is:Q,n0=new WeakMap,vc=[],bc=0,wc=null,Bu=0,Br=[],Dr=0,Pl=null,Ca=1,Ma="",is=E(null),Du=E(null),to=E(null),Sc=E(null),Bs=null,Ds=null,zn=!1,ra=null,gs=!1,fh=Error(s(519)),aa=[],Ac=0,Ta=0,ph=null,qo=null,_c=!1,gi=!1,i0=!1,Ou=0,Pu=null,Ec=0,Or=0,Cc=null,Wo=!1,Mc=!1,no=Object.prototype.hasOwnProperty,Lu=Error(s(460)),mh=Error(s(474)),gh={then:function(){}},Ll=null,Il=null,Ul=0,kl=Le(!0),io=Le(!1),xi=E(null),Iu=E(0),Pr=E(null),hi=null,ss=E(0),Xo=0,En=null,en=null,Vn=null,oa=!1,Tc=!1,Fl=!1,bp=0,Nc=0,xs=null,Na=0,wp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Oi={readContext:Ms,use:Ee,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et};Oi.useCacheRefresh=Et,Oi.useMemoCache=Et,Oi.useHostTransitionStatus=Et,Oi.useFormState=Et,Oi.useActionState=Et,Oi.useOptimistic=Et;var zl={readContext:Ms,use:Ee,useCallback:function(f,p){return ve().memoizedState=[f,p===void 0?null:p],f},useContext:Ms,useEffect:Bf,useImperativeHandle:function(f,p,w){w=w!=null?w.concat([f]):null,Nd(4194308,4,Df.bind(null,p,f),w)},useLayoutEffect:function(f,p){return Nd(4194308,4,f,p)},useInsertionEffect:function(f,p){Nd(4,2,f,p)},useMemo:function(f,p){var w=ve();p=p===void 0?null:p;var M=f();if(Fl){I(!0);try{f()}finally{I(!1)}}return w.memoizedState=[M,p],M},useReducer:function(f,p,w){var M=ve();if(w!==void 0){var U=w(p);if(Fl){I(!0);try{w(p)}finally{I(!1)}}}else U=p;return M.memoizedState=M.baseState=U,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:U},M.queue=f,f=f.dispatch=Pf.bind(null,En,f),[M.memoizedState,f]},useRef:function(f){var p=ve();return f={current:f},p.memoizedState=f},useState:function(f){f=vn(f);var p=f.queue,w=cg.bind(null,En,p);return p.dispatch=w,[f.memoizedState,w]},useDebugValue:fl,useDeferredValue:function(f,p){var w=ve();return Bd(w,f,p)},useTransition:function(){var f=vn(!1);return f=su.bind(null,En,f.queue,!0,!1),ve().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,w){var M=En,U=ve();if(zn){if(w===void 0)throw Error(s(407));w=w()}else{if(w=p(),ii===null)throw Error(s(349));(Ln&60)!==0||zt(M,p,w)}U.memoizedState=w;var H={value:w,getSnapshot:p};return U.queue=H,Bf(Rn.bind(null,M,H,f),[f]),M.flags|=2048,ts(9,Yt.bind(null,M,H,w,p),{destroy:void 0},null),w},useId:function(){var f=ve(),p=ii.identifierPrefix;if(zn){var w=Ma,M=Ca;w=(M&~(1<<32-$s(M)-1)).toString(32)+w,p=":"+p+"R"+w,w=bp++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=Na++,p=":"+p+"r"+w.toString(32)+":";return f.memoizedState=p},useCacheRefresh:function(){return ve().memoizedState=lg.bind(null,En)}};zl.useMemoCache=pt,zl.useHostTransitionStatus=Dd,zl.useFormState=Is,zl.useActionState=Is,zl.useOptimistic=function(f){var p=ve();p.memoizedState=p.baseState=f;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=w,p=au.bind(null,En,!0,w),w.dispatch=p,[f,p]};var er={readContext:Ms,use:Ee,useCallback:dc,useContext:Ms,useEffect:rg,useImperativeHandle:Of,useInsertionEffect:vy,useLayoutEffect:Rd,useMemo:ag,useReducer:jt,useRef:yy,useState:function(){return jt(bt)},useDebugValue:fl,useDeferredValue:function(f,p){var w=je();return og(w,en.memoizedState,f,p)},useTransition:function(){var f=jt(bt)[0],p=je().memoizedState;return[typeof f=="boolean"?f:Fe(f),p]},useSyncExternalStore:Kt,useId:ru};er.useCacheRefresh=Mo,er.useMemoCache=pt,er.useHostTransitionStatus=Dd,er.useFormState=_s,er.useActionState=_s,er.useOptimistic=function(f,p){var w=je();return Qt(w,en,f,p)};var Lr={readContext:Ms,use:Ee,useCallback:dc,useContext:Ms,useEffect:rg,useImperativeHandle:Of,useInsertionEffect:vy,useLayoutEffect:Rd,useMemo:ag,useReducer:Dt,useRef:yy,useState:function(){return Dt(bt)},useDebugValue:fl,useDeferredValue:function(f,p){var w=je();return en===null?Bd(w,f,p):og(w,en.memoizedState,f,p)},useTransition:function(){var f=Dt(bt)[0],p=je().memoizedState;return[typeof f=="boolean"?f:Fe(f),p]},useSyncExternalStore:Kt,useId:ru};Lr.useCacheRefresh=Mo,Lr.useMemoCache=pt,Lr.useHostTransitionStatus=Dd,Lr.useFormState=uc,Lr.useActionState=uc,Lr.useOptimistic=function(f,p){var w=je();return en!==null?Qt(w,en,f,p):(w.baseState=f,[f,w.queue.dispatch])};var so={isMounted:function(f){return(f=f._reactInternals)?x(f)===f:!1},enqueueSetState:function(f,p,w){f=f._reactInternals;var M=Fi(),U=Pe(M);U.payload=p,w!=null&&(U.callback=w),p=Je(f,U,M),p!==null&&(ps(p,f,M),Ct(p,f,M))},enqueueReplaceState:function(f,p,w){f=f._reactInternals;var M=Fi(),U=Pe(M);U.tag=1,U.payload=p,w!=null&&(U.callback=w),p=Je(f,U,M),p!==null&&(ps(p,f,M),Ct(p,f,M))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var w=Fi(),M=Pe(w);M.tag=2,p!=null&&(M.callback=p),p=Je(f,M,w),p!==null&&(ps(p,f,w),Ct(p,f,w))}},Sp=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},Ap=Error(s(461)),fi=!1,_p={dehydrated:null,treeContext:null,retryLane:0},Yo=E(null),ja=null,Ir=null,Uu=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(w,M){f.push(M)}};this.abort=function(){p.aborted=!0,f.forEach(function(w){return w()})}},Tv=jr.unstable_scheduleCallback,Nv=jr.unstable_NormalPriority,yi={$$typeof:Aa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},s0=cn.S;cn.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&He(f,p),s0!==null&&s0(f,p)};var ro=E(null),ao=!1,Pi=!1,r0=!1,ni=typeof WeakSet=="function"?WeakSet:Set,gn=null,Dn=!1,$t=null,An=!1,Ri=null,Ur=8192,ku={getCacheForType:function(f){var p=Ms(yi),w=p.data.get(f);return w===void 0&&(w=f(),p.data.set(f,w)),w}},Fu=0,la=1,_i=2,Ra=3,oo=4;if(typeof Symbol=="function"&&Symbol.for){var jc=Symbol.for;Fu=jc("selector.component"),la=jc("selector.has_pseudo_class"),_i=jc("selector.role"),Ra=jc("selector.test_id"),oo=jc("selector.text")}var ca=typeof WeakMap=="function"?WeakMap:Map,Gn=0,ii=null,tn=null,Ln=0,ui=0,Fs=null,ua=!1,kr=!1,rs=!1,zs=0,pi=0,Fr=0,Ko=0,xh=0,zr=0,lo=0,Rc=null,Li=null,Ep=!1,tr=0,zu=1/0,yh=null,Hl=null,Ba=!1,co=null,Bc=0,Vl=0,Cp=null,Hu=0,Mp=null;return bn.attemptContinuousHydration=function(f){if(f.tag===13){var p=ge(f,67108864);p!==null&&ps(p,f,67108864),eh(f,67108864)}},bn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=Fi(),w=ge(f,p);w!==null&&ps(w,f,p),eh(f,p)}},bn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=L(f.pendingLanes);if(p!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;p;){var w=1<<31-$s(p);f.entanglements[1]|=w,p&=~w}_e(f),(Gn&6)===0&&(zu=sa()+500,$e(0))}}break;case 13:p=ge(f,2),p!==null&&ps(p,f,2),Jd(),eh(f,2)}},bn.batchedUpdates=function(f,p){return f(p)},bn.createComponentSelector=function(f){return{$$typeof:Fu,value:f}},bn.createContainer=function(f,p,w,M,U,H,se,me,Re,nt){return Fy(f,p,!1,null,w,M,H,se,me,Re,nt,null)},bn.createHasPseudoClassSelector=function(f){return{$$typeof:la,value:f}},bn.createHydrationContainer=function(f,p,w,M,U,H,se,me,Re,nt,wt,Rt,Pt){return f=Fy(w,M,!0,f,U,H,me,Re,nt,wt,Rt,Pt),f.context=Xi(null),w=f.current,M=Fi(),U=Pe(M),U.callback=p??null,Je(w,U,M),f.current.lanes=M,q(f,M),_e(f),f},bn.createPortal=function(f,p,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ta,key:M==null?null:""+M,children:f,containerInfo:p,implementation:w}},bn.createRoleSelector=function(f){return{$$typeof:_i,value:f}},bn.createTestNameSelector=function(f){return{$$typeof:Ra,value:f}},bn.createTextSelector=function(f){return{$$typeof:oo,value:f}},bn.defaultOnCaughtError=function(f){console.error(f)},bn.defaultOnRecoverableError=function(f){Sp(f)},bn.defaultOnUncaughtError=function(f){Sp(f)},bn.deferredUpdates=function(f){var p=cn.T,w=Ho();try{return ks(32),cn.T=null,f()}finally{ks(w),cn.T=p}},bn.discreteUpdates=function(f,p,w,M,U){var H=cn.T,se=Ho();try{return ks(2),cn.T=null,f(p,w,M,U)}finally{ks(se),cn.T=H,Gn===0&&(zu=sa()+500)}},bn.findAllNodes=Yd,bn.findBoundingRects=function(f,p){if(!Rl)throw Error(s(363));p=Yd(f,p),f=[];for(var w=0;w<p.length;w++)f.push(Gg(p[w]));for(p=f.length-1;0<p;p--){w=f[p];for(var M=w.x,U=M+w.width,H=w.y,se=H+w.height,me=p-1;0<=me;me--)if(p!==me){var Re=f[me],nt=Re.x,wt=nt+Re.width,Rt=Re.y,Pt=Rt+Re.height;if(M>=nt&&H>=Rt&&U<=wt&&se<=Pt){f.splice(p,1);break}else if(M!==nt||w.width!==Re.width||Pt<H||Rt>se){if(!(H!==Rt||w.height!==Re.height||wt<M||nt>U)){nt>M&&(Re.width+=nt-M,Re.x=M),wt<U&&(Re.width=U-nt),f.splice(p,1);break}}else{Rt>H&&(Re.height+=Rt-H,Re.y=H),Pt<se&&(Re.height=se-Rt),f.splice(p,1);break}}}return f},bn.findHostInstance=$f,bn.findHostInstanceWithNoPortals=function(f){return f=b(f),f=f!==null?_(f):null,f===null?null:Cu(f.stateNode)},bn.findHostInstanceWithWarning=function(f){return $f(f)},bn.flushPassiveEffects=Sa,bn.flushSyncFromReconciler=function(f){var p=Gn;Gn|=1;var w=cn.T,M=Ho();try{if(ks(2),cn.T=null,f)return f()}finally{ks(M),cn.T=w,Gn=p,(Gn&6)===0&&$e(0)}},bn.flushSyncWork=Jd,bn.focusWithin=function(f,p){if(!Rl)throw Error(s(363));for(f=gu(f),p=hr(f,p),p=Array.from(p),f=0;f<p.length;){var w=p[f++],M=w.tag;if(!Tu(w)){if((M===5||M===26||M===27)&&Ky(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},bn.getFindAllNodesFailureDescription=function(f,p){if(!Rl)throw Error(s(363));var w=0,M=[];f=[gu(f),0];for(var U=0;U<f.length;){var H=f[U++],se=H.tag,me=f[U++],Re=p[me];if((se!==5&&se!==26&&se!==27||!Tu(H))&&(Sl(H,Re)&&(M.push(Mg(Re)),me++,me>w&&(w=me)),me<p.length))for(H=H.child;H!==null;)f.push(H,me),H=H.sibling}if(w<p.length){for(f=[];w<p.length;w++)f.push(Mg(p[w]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},bn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Cu(f.child.stateNode);default:return f.child.stateNode}},bn.injectIntoDevTools=function(){var f={bundleType:0,version:Ug,rendererPackageName:rh,currentDispatcherRef:cn,findFiberByHostInstance:Gy,reconcilerVersion:"19.0.0"};if(Eu!==null&&(f.rendererConfig=Eu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{Vi=p.inject(f),pr=p}catch{}f=!!p.checkDCE}}return f},bn.isAlreadyRendering=function(){return!1},bn.observeVisibleRects=function(f,p,w,M){if(!Rl)throw Error(s(363));f=Yd(f,p);var U=Jy(f,w,M).disconnect;return{disconnect:function(){U()}}},bn.shouldError=function(){return null},bn.shouldSuspend=function(){return!1},bn.startHostTransition=function(f,p,w,M){if(f.tag!==5)throw Error(s(476));var U=Ya(f).queue;su(f,U,p,jl,w===null?i:function(){var H=Ya(f).next.queue;return pl(f,H,{},Fi()),w(M)})},bn.updateContainer=function(f,p,w,M){var U=p.current,H=Fi();return bu(U,H,f,p,w,M),H},bn.updateContainerSync=function(f,p,w,M){return p.tag===0&&Sa(),bu(p.current,2,f,p,w,M),2},bn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(h_)),h_.exports}var ER;function KK(){return ER||(ER=1,d_.exports=YK()),d_.exports}var JK=KK();const QK=Af(JK);var m_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR;function ZK(){return CR||(CR=1,function(n){function e(z,I){var Q=z.length;z.push(I);e:for(;0<Q;){var K=Q-1>>>1,T=z[K];if(0<s(T,I))z[K]=I,z[Q]=T,Q=K;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var I=z[0],Q=z.pop();if(Q!==I){z[0]=Q;e:for(var K=0,T=z.length,X=T>>>1;K<X;){var ee=2*(K+1)-1,oe=z[ee],ce=ee+1,re=z[ce];if(0>s(oe,Q))ce<T&&0>s(re,oe)?(z[K]=re,z[ce]=Q,K=ce):(z[K]=oe,z[ee]=Q,K=ee);else if(ce<T&&0>s(re,Q))z[K]=re,z[ce]=Q,K=ce;else break e}}return I}function s(z,I){var Q=z.sortIndex-I.sortIndex;return Q!==0?Q:z.id-I.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,x=null,y=3,b=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function N(z){for(var I=t(h);I!==null;){if(I.callback===null)i(h);else if(I.startTime<=z)i(h),I.sortIndex=I.expirationTime,e(d,I);else break;I=t(h)}}function L(z){if(_=!1,N(z),!S)if(t(d)!==null)S=!0,W();else{var I=t(h);I!==null&&$(L,I.startTime-z)}}var j=!1,R=-1,k=5,F=-1;function D(){return!(n.unstable_now()-F<k)}function B(){if(j){var z=n.unstable_now();F=z;var I=!0;try{e:{S=!1,_&&(_=!1,A(R),R=-1),b=!0;var Q=y;try{t:{for(N(z),x=t(d);x!==null&&!(x.expirationTime>z&&D());){var K=x.callback;if(typeof K=="function"){x.callback=null,y=x.priorityLevel;var T=K(x.expirationTime<=z);if(z=n.unstable_now(),typeof T=="function"){x.callback=T,N(z),I=!0;break t}x===t(d)&&i(d),N(z)}else i(d);x=t(d)}if(x!==null)I=!0;else{var X=t(h);X!==null&&$(L,X.startTime-z),I=!1}}break e}finally{x=null,y=Q,b=!1}I=void 0}}finally{I?q():j=!1}}}var q;if(typeof P=="function")q=function(){P(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,G=Y.port2;Y.port1.onmessage=B,q=function(){G.postMessage(null)}}else q=function(){E(B,0)};function W(){j||(j=!0,q())}function $(z,I){R=E(function(){z(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){S||b||(S=!0,W())},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(z){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var Q=y;y=I;try{return z()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=y;y=z;try{return I()}finally{y=Q}},n.unstable_scheduleCallback=function(z,I,Q){var K=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?K+Q:K):Q=K,z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Q+T,z={id:m++,callback:I,priorityLevel:z,startTime:Q,expirationTime:T,sortIndex:-1},Q>K?(z.sortIndex=Q,e(h,z),t(d)===null&&z===t(h)&&(_?(A(R),R=-1):_=!0,$(L,Q-K))):(z.sortIndex=T,e(d,z),S||b||(S=!0,W())),z},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(z){var I=y;return function(){var Q=y;y=I;try{return z.apply(this,arguments)}finally{y=Q}}}}(g_)),g_}var MR;function $K(){return MR||(MR=1,m_.exports=ZK()),m_.exports}var TR=$K();function BM(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const s=BM(i,e,t);if(s)return s;i=e?null:i.sibling}}function wL(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const DM=wL(V.createContext(null));class SL extends V.Component{render(){return V.createElement(DM.Provider,{value:this._reactInternals},this.props.children)}}function AL(){const n=V.useContext(DM);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=V.useId();return V.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=BM(t,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const eJ=Symbol.for("react.context"),tJ=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===eJ;function nJ(){const n=AL(),[e]=V.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;tJ(i)&&i!==DM&&!e.has(i)&&e.set(i,V.use(wL(i))),t=t.return}return e}function iJ(){const n=nJ();return V.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>V.createElement(e,null,V.createElement(t.Provider,{...i,value:n.get(t)})),e=>V.createElement(SL,{...e})),[n])}function _L(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const EL=n=>n&&n.isOrthographicCamera,sJ=n=>n&&n.hasOwnProperty("current"),rJ=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),sy=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?V.useLayoutEffect:V.useEffect;function CL(n){const e=V.useRef(n);return sy(()=>void(e.current=n),[n]),e}function aJ(){const n=AL(),e=iJ();return V.useMemo(()=>({children:t})=>{const s=!!BM(n,!0,a=>a.type===V.StrictMode)?V.StrictMode:V.Fragment;return r.jsx(s,{children:r.jsx(e,{children:t})})},[n,e])}function oJ({set:n}){return sy(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const lJ=(n=>(n=class extends V.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function ML(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function em(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ii={obj:n=>n===Object(n)&&!Ii.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ii.str(n)||Ii.num(n)||Ii.boo(n))return n===e;const a=Ii.obj(n);if(a&&i==="reference")return n===e;const o=Ii.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let c;for(c in n)if(!(c in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(c in s?e:n)if(!Ii.equ(n[c],e[c],{strict:s,objects:"reference"}))return!1}else for(c in s?e:n)if(n[c]!==e[c])return!1;if(Ii.und(c)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function cJ(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function uJ(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const TL=["children","key","ref"];function dJ(n){const e={};for(const t in n)TL.includes(t)||(e[t]=n[t]);return e}function Ew(n,e,t,i){const s=n;let a=s?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:dJ(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function Rx(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const s of e.split("-")){var i;e=s,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const NR=/-\d+$/;function Cw(n,e){if(Ii.str(e.props.attach)){if(NR.test(e.props.attach)){const s=e.props.attach.replace(NR,""),{root:a,key:o}=Rx(n.object,s);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:i}=Rx(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ii.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function Mw(n,e){if(Ii.str(e.props.attach)){const{root:t,key:i}=Rx(n.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[i]:t[i]=s}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const PE=[...TL,"args","dispose","attach","object","onUpdate","dispose"],jR=new Map;function hJ(n){let e=jR.get(n.constructor);try{e||(e=new n.constructor,jR.set(n.constructor,e))}catch{}return e}function fJ(n,e){const t={};for(const i in e)if(!PE.includes(i)&&!Ii.equ(e[i],n.props[i])){t[i]=e[i];for(const s in e)s.startsWith(`${i}-`)&&(t[s]=e[s])}for(const i in n.props){if(PE.includes(i)||e.hasOwnProperty(i))continue;const{root:s,key:a}=Rx(n.object,i);if(s.constructor&&s.constructor.length===0){const o=hJ(s);Ii.und(o)||(t[a]=o[a])}else t[a]=0}return t}const pJ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],mJ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function cd(n,e){var t;const i=n.__r3f,s=i&&_L(i).getState(),a=i?.eventCount;for(const c in e){let d=e[c];if(PE.includes(c))continue;if(i&&mJ.test(c)){typeof d=="function"?i.handlers[c]=d:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(d===void 0)continue;let{root:h,key:m,target:x}=Rx(n,c);if(x instanceof Rm&&d instanceof Rm)x.mask=d.mask;else if(x instanceof Nt&&rJ(d))x.set(d);else if(x!==null&&typeof x=="object"&&typeof x.set=="function"&&typeof x.copy=="function"&&d!=null&&d.constructor&&x.constructor===d.constructor)x.copy(d);else if(x!==null&&typeof x=="object"&&typeof x.set=="function"&&Array.isArray(d))typeof x.fromArray=="function"?x.fromArray(d):x.set(...d);else if(x!==null&&typeof x=="object"&&typeof x.set=="function"&&typeof d=="number")typeof x.setScalar=="function"?x.setScalar(d):x.set(d);else{var o;h[m]=d,s&&!s.linear&&pJ.includes(m)&&(o=h[m])!=null&&o.isTexture&&h[m].format===Sr&&h[m].type===So&&(h[m].colorSpace=br)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const c=i.object,d=s.internal.interaction.indexOf(c);d>-1&&s.internal.interaction.splice(d,1),i.eventCount&&c.raycast!==null&&s.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Jm(i),n}function Jm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function gJ(n,e){n.manual||(EL(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const qr=n=>n?.isObject3D;function Hb(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function NL(n,e,t,i){const s=t.get(e);s&&(t.delete(e),t.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function xJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((i,s)=>{NL(t.capturedMap,e,i,s)})}function yJ(n){function e(d){const{internal:h}=n.getState(),m=d.offsetX-h.initialClick[0],x=d.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+x*x))}function t(d){return d.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var x;return(x=h.__r3f)==null?void 0:x.handlers["onPointer"+m]}))}function i(d,h){const m=n.getState(),x=new Set,y=[],b=h?h(m.internal.interaction):m.internal.interaction;for(let A=0;A<b.length;A++){const P=em(b[A]);P&&(P.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function S(A){const P=em(A);if(!P||!P.events.enabled||P.raycaster.camera===null)return[];if(P.raycaster.camera===void 0){var N;P.events.compute==null||P.events.compute(d,P,(N=P.previousRoot)==null?void 0:N.getState()),P.raycaster.camera===void 0&&(P.raycaster.camera=null)}return P.raycaster.camera?P.raycaster.intersectObject(A,!0):[]}let _=b.flatMap(S).sort((A,P)=>{const N=em(A.object),L=em(P.object);return!N||!L?A.distance-P.distance:L.events.priority-N.events.priority||A.distance-P.distance}).filter(A=>{const P=Hb(A);return x.has(P)?!1:(x.add(P),!0)});m.events.filter&&(_=m.events.filter(_,m));for(const A of _){let P=A.object;for(;P;){var E;(E=P.__r3f)!=null&&E.eventCount&&y.push({...A,eventObject:P}),P=P.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let A of m.internal.capturedMap.get(d.pointerId).values())x.has(Hb(A.intersection))||y.push(A.intersection);return y}function s(d,h,m,x){if(d.length){const y={stopped:!1};for(const b of d){let S=em(b.object);if(S||b.object.traverseAncestors(_=>{const E=em(_);if(E)return S=E,!1}),S){const{raycaster:_,pointer:E,camera:A,internal:P}=S,N=new ae(E.x,E.y,0).unproject(A),L=D=>{var B,q;return(B=(q=P.capturedMap.get(D))==null?void 0:q.has(b.eventObject))!=null?B:!1},j=D=>{const B={intersection:b,target:h.target};P.capturedMap.has(D)?P.capturedMap.get(D).set(b.eventObject,B):P.capturedMap.set(D,new Map([[b.eventObject,B]])),h.target.setPointerCapture(D)},R=D=>{const B=P.capturedMap.get(D);B&&NL(P.capturedMap,b.eventObject,B,D)};let k={};for(let D in h){let B=h[D];typeof B!="function"&&(k[D]=B)}let F={...b,...k,pointer:E,intersections:d,stopped:y.stopped,delta:m,unprojectedPoint:N,ray:_.ray,camera:A,stopPropagation(){const D="pointerId"in h&&P.capturedMap.get(h.pointerId);if((!D||D.has(b.eventObject))&&(F.stopped=y.stopped=!0,P.hovered.size&&Array.from(P.hovered.values()).find(B=>B.eventObject===b.eventObject))){const B=d.slice(0,d.indexOf(b));a([...B,b])}},target:{hasPointerCapture:L,setPointerCapture:j,releasePointerCapture:R},currentTarget:{hasPointerCapture:L,setPointerCapture:j,releasePointerCapture:R},nativeEvent:h};if(x(F),y.stopped===!0)break}}}return d}function a(d){const{internal:h}=n.getState();for(const m of h.hovered.values())if(!d.length||!d.find(x=>x.object===m.object&&x.index===m.index&&x.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(h.hovered.delete(Hb(m)),y!=null&&y.eventCount){const b=y.handlers,S={...m,intersections:d};b.onPointerOut==null||b.onPointerOut(S),b.onPointerLeave==null||b.onPointerLeave(S)}}}function o(d,h){for(let m=0;m<h.length;m++){const x=h[m].__r3f;x==null||x.handlers.onPointerMissed==null||x.handlers.onPointerMissed(d)}}function c(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return h=>{const{internal:m}=n.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),a([]))})}}return function(m){const{onPointerMissed:x,internal:y}=n.getState();y.lastEvent.current=m;const b=d==="onPointerMove",S=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",E=i(m,b?t:void 0),A=S?e(m):0;d==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=E.map(N=>N.eventObject)),S&&!E.length&&A<=2&&(o(m,y.interaction),x&&x(m)),b&&a(E);function P(N){const L=N.eventObject,j=L.__r3f;if(!(j!=null&&j.eventCount))return;const R=j.handlers;if(b){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const k=Hb(N),F=y.hovered.get(k);F?F.stopped&&N.stopPropagation():(y.hovered.set(k,N),R.onPointerOver==null||R.onPointerOver(N),R.onPointerEnter==null||R.onPointerEnter(N))}R.onPointerMove==null||R.onPointerMove(N)}else{const k=R[d];k?(!S||y.initialHits.includes(L))&&(o(m,y.interaction.filter(F=>!y.initialHits.includes(F))),k(N)):S&&y.initialHits.includes(L)&&o(m,y.interaction.filter(F=>!y.initialHits.includes(F)))}}s(E,m,A,P)}}return{handlePointer:c}}const RR=n=>!!(n!=null&&n.render),jL=V.createContext(null),vJ=(n,e)=>{const t=zK((c,d)=>{const h=new ae,m=new ae,x=new ae;function y(A=d().camera,P=m,N=d().size){const{width:L,height:j,top:R,left:k}=N,F=L/j;P.isVector3?x.copy(P):x.set(...P);const D=A.getWorldPosition(h).distanceTo(x);if(EL(A))return{width:L/A.zoom,height:j/A.zoom,top:R,left:k,factor:1,distance:D,aspect:F};{const B=A.fov*Math.PI/180,q=2*Math.tan(B/2)*D,Y=q*(L/j);return{width:Y,height:q,top:R,left:k,factor:L/Y,distance:D,aspect:F}}}let b;const S=A=>c(P=>({performance:{...P.performance,current:A}})),_=new st;return{set:c,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>n(d(),A),advance:(A,P)=>e(A,P,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new CM,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=d();b&&clearTimeout(b),A.performance.current!==A.performance.min&&S(A.performance.min),b=setTimeout(()=>S(d().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:A=>c(P=>({...P,events:{...P.events,...A}})),setSize:(A,P,N=0,L=0)=>{const j=d().camera,R={width:A,height:P,top:N,left:L};c(k=>({size:R,viewport:{...k.viewport,...y(j,m,R)}}))},setDpr:A=>c(P=>{const N=ML(A);return{viewport:{...P.viewport,dpr:N,initialDpr:P.viewport.initialDpr||N}}}),setFrameloop:(A="always")=>{const P=d().clock;P.stop(),P.elapsedTime=0,A!=="never"&&(P.start(),P.elapsedTime=0),c(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:V.createRef(),active:!1,frames:0,priority:0,subscribe:(A,P,N)=>{const L=d().internal;return L.priority=L.priority+(P>0?1:0),L.subscribers.push({ref:A,priority:P,store:N}),L.subscribers=L.subscribers.sort((j,R)=>j.priority-R.priority),()=>{const j=d().internal;j!=null&&j.subscribers&&(j.priority=j.priority-(P>0?1:0),j.subscribers=j.subscribers.filter(R=>R.ref!==A))}}}}}),i=t.getState();let s=i.size,a=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:c,size:d,viewport:h,gl:m,set:x}=t.getState();if(d.width!==s.width||d.height!==s.height||h.dpr!==a){s=d,a=h.dpr,gJ(c,d),h.dpr>0&&m.setPixelRatio(h.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,y)}c!==o&&(o=c,x(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>n(c)),t};function RL(){const n=V.useContext(jL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function nd(n=t=>t,e){return RL()(n,e)}function bJ(n,e=0){const t=RL(),i=t.getState().internal.subscribe,s=CL(n);return sy(()=>i(s,e,t),[e,i,t]),null}const BR=new WeakMap,wJ=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function BL(n,e){return function(t,...i){let s;return wJ(t)?(s=BR.get(t),s||(s=new t,BR.set(t,s))):s=t,n&&n(s),Promise.all(i.map(a=>new Promise((o,c)=>s.load(a,d=>{qr(d?.scene)&&Object.assign(d,cJ(d.scene)),o(d)},e,d=>c(new Error(`Could not load ${a}: ${d?.message}`))))))}}function ry(n,e,t,i){const s=Array.isArray(e)?e:[e],a=VK(BL(t,i),[n,...s],{equal:Ii.equ});return Array.isArray(e)?a:a[0]}ry.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return GK(BL(t),[n,...i])};ry.clear=function(n,e){const t=Array.isArray(e)?e:[e];return qK([n,...t])};function SJ(n){const e=QK(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:V.version}),e}const DL=0,Pm={},AJ=/^three(?=[A-Z])/,H2=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let _J=0;const EJ=n=>typeof n=="function";function CJ(n){if(EJ(n)){const e=`${_J++}`;return Pm[e]=n,e}else Object.assign(Pm,n)}function OL(n,e){const t=H2(n),i=Pm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function MJ(n,e,t){var i;return n=H2(n)in Pm?n:n.replace(AJ,""),OL(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,Ew(e.object,t,n,e)}function TJ(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Mw(n.parent,n):qr(n.object)&&(n.object.visible=!1),n.isHidden=!0,Jm(n)}}function PL(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?Cw(n.parent,n):qr(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Jm(n)}}function OM(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var s,a;const o=Pm[H2(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(cd(e.object,e.props),e.props.attach)Cw(n,e);else if(qr(e.object)&&qr(n.object)){const o=n.object.children.indexOf(t?.object);if(t&&o!==-1){const c=n.object.children.indexOf(e.object);if(c!==-1){n.object.children.splice(c,1);const d=c<o?o-1:o;n.object.children.splice(d,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)OM(e,o);Jm(e)}}function x_(n,e){e&&(e.parent=n,n.children.push(e),OM(n,e))}function DR(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),OM(n,e,t)}function LL(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():TR.unstable_scheduleCallback(TR.unstable_IdlePriority,e)}}function LE(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?Mw(n,e):qr(e.object)&&qr(n.object)&&(n.object.remove(e.object),xJ(_L(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];LE(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&LL(e.object),t===void 0&&Jm(e)}function NJ(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const g1=[];function jJ(){for(const[t]of g1){const i=t.parent;if(i){t.props.attach?Mw(i,t):qr(t.object)&&qr(i.object)&&i.object.remove(t.object);for(const s of t.children)s.props.attach?Mw(t,s):qr(s.object)&&qr(t.object)&&t.object.remove(s.object)}t.isHidden&&PL(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&LL(t.object)}for(const[t,i,s]of g1){t.props=i;const a=t.parent;if(a){var n,e;const o=Pm[H2(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,NJ(s,t.object),cd(t.object,t.props),t.props.attach?Cw(a,t):qr(t.object)&&qr(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?Cw(t,c):qr(c.object)&&qr(t.object)&&t.object.add(c.object);Jm(t)}}g1.length=0}const y_=()=>{},OR={};let Vb=DL;const RJ=0,BJ=4,IE=SJ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:MJ,removeChild:LE,appendChild:x_,appendInitialChild:x_,insertBefore:DR,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||x_(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||LE(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||DR(i,e,t)},getRootHostContext:()=>OR,getChildHostContext:()=>OR,commitUpdate(n,e,t,i,s){var a,o,c;OL(e,i);let d=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,x)=>{var y;return m!==((y=t.args)==null?void 0:y[x])}))&&(d=!0),d)g1.push([n,{...i},s]);else{const m=fJ(n,i);Object.keys(m).length&&(Object.assign(n.props,m),cd(n.object,m))}(s.sibling===null||(s.flags&BJ)===RJ)&&jJ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>Ew(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:TJ,unhideInstance:PL,createTextInstance:y_,hideTextInstance:y_,unhideTextInstance:y_,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:V.createContext(null),setCurrentUpdatePriority(n){Vb=n},getCurrentUpdatePriority(){return Vb},resolveUpdatePriority(){var n;if(Vb!==DL)return Vb;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return h1.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return h1.ContinuousEventPriority;default:return h1.DefaultEventPriority}},resetFormInstance(){}}),yf=new Map,tm={objects:"shallow",strict:!1};function DJ(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:s,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:s,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function OJ(n){const e=yf.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=i||vJ(FE,LR),o=t||IE.createContainer(a,h1.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||yf.set(n,{fiber:o,store:a});let c,d,h=!1,m=null;return{async configure(x={}){let y;m=new Promise(X=>y=X);let{gl:b,size:S,scene:_,events:E,onCreated:A,shadows:P=!1,linear:N=!1,flat:L=!1,legacy:j=!1,orthographic:R=!1,frameloop:k="always",dpr:F=[1,2],performance:D,raycaster:B,camera:q,onPointerMissed:Y}=x,G=a.getState(),W=G.gl;if(!G.gl){const X={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ee=typeof b=="function"?await b(X):b;RR(ee)?W=ee:W=new yL({...X,...b}),G.set({gl:W})}let $=G.raycaster;$||G.set({raycaster:$=new cL});const{params:z,...I}=B||{};if(Ii.equ(I,$,tm)||cd($,{...I}),Ii.equ(z,$.params,tm)||cd($,{params:{...$.params,...z}}),!G.camera||G.camera===d&&!Ii.equ(d,q,tm)){d=q;const X=q?.isCamera,ee=X?q:R?new Yc(0,0,0,0,.1,1e3):new Zi(75,0,.1,1e3);X||(ee.position.z=5,q&&(cd(ee,q),ee.manual||("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(ee.manual=!0,ee.updateProjectionMatrix())),!G.camera&&!(q!=null&&q.rotation)&&ee.lookAt(0,0,0)),G.set({camera:ee}),$.camera=ee}if(!G.scene){let X;_!=null&&_.isScene?(X=_,Ew(X,a,"",{})):(X=new nM,Ew(X,a,"",{}),_&&cd(X,_)),G.set({scene:X})}E&&!G.events.handlers&&G.set({events:E(a)});const Q=DJ(n,S);if(Ii.equ(Q,G.size,tm)||G.setSize(Q.width,Q.height,Q.top,Q.left),F&&G.viewport.dpr!==ML(F)&&G.setDpr(F),G.frameloop!==k&&G.setFrameloop(k),G.onPointerMissed||G.set({onPointerMissed:Y}),D&&!Ii.equ(D,G.performance,tm)&&G.set(X=>({performance:{...X.performance,...D}})),!G.xr){var K;const X=(ce,re)=>{const ue=a.getState();ue.frameloop!=="never"&&LR(ce,!0,ue,re)},ee=()=>{const ce=a.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?X:null),ce.gl.xr.isPresenting||FE(ce)},oe={connect(){const ce=a.getState().gl;ce.xr.addEventListener("sessionstart",ee),ce.xr.addEventListener("sessionend",ee)},disconnect(){const ce=a.getState().gl;ce.xr.removeEventListener("sessionstart",ee),ce.xr.removeEventListener("sessionend",ee)}};typeof((K=W.xr)==null?void 0:K.addEventListener)=="function"&&oe.connect(),G.set({xr:oe})}if(W.shadowMap){const X=W.shadowMap.enabled,ee=W.shadowMap.type;if(W.shadowMap.enabled=!!P,Ii.boo(P))W.shadowMap.type=$0;else if(Ii.str(P)){var T;const oe={basic:AO,percentage:l2,soft:$0,variance:nl};W.shadowMap.type=(T=oe[P])!=null?T:$0}else Ii.obj(P)&&Object.assign(W.shadowMap,P);(X!==W.shadowMap.enabled||ee!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}return Wn.enabled=!j,h||(W.outputColorSpace=N?yd:br,W.toneMapping=L?$l:zC),G.legacy!==j&&G.set(()=>({legacy:j})),G.linear!==N&&G.set(()=>({linear:N})),G.flat!==L&&G.set(()=>({flat:L})),b&&!Ii.fun(b)&&!RR(b)&&!Ii.equ(b,W,tm)&&cd(W,b),c=A,h=!0,y(),this},render(x){return!h&&!m&&this.configure(),m.then(()=>{IE.updateContainer(r.jsx(PJ,{store:a,children:x,onCreated:c,rootElement:n}),o,null,()=>{})}),a},unmount(){IL(n)}}}function PJ({store:n,children:e,onCreated:t,rootElement:i}){return sy(()=>{const s=n.getState();s.set(a=>({internal:{...a.internal,active:!0}})),t&&t(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),r.jsx(jL.Provider,{value:n,children:e})}function IL(n,e){const t=yf.get(n),i=t?.fiber;if(i){const s=t?.store.getState();s&&(s.internal.active=!1),IE.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var a,o,c,d;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=s.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(d=s.gl)!=null&&d.xr&&s.xr.disconnect(),uJ(s.scene),yf.delete(n)}catch{}},500)})}}const LJ=new Set,IJ=new Set,UJ=new Set;function v_(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function lx(n,e){switch(n){case"before":return v_(LJ,e);case"after":return v_(IJ,e);case"tail":return v_(UJ,e)}}let b_,w_;function UE(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),b_=e.internal.subscribers;for(let s=0;s<b_.length;s++)w_=b_[s],w_.ref.current(w_.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Tw=!1,kE=!1,S_,PR,nm;function UL(n){PR=requestAnimationFrame(UL),Tw=!0,S_=0,lx("before",n),kE=!0;for(const t of yf.values()){var e;nm=t.store.getState(),nm.internal.active&&(nm.frameloop==="always"||nm.internal.frames>0)&&!((e=nm.gl.xr)!=null&&e.isPresenting)&&(S_+=UE(n,nm))}if(kE=!1,lx("after",n),S_===0)return lx("tail",n),Tw=!1,cancelAnimationFrame(PR)}function FE(n,e=1){var t;if(!n)return yf.forEach(i=>FE(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):kE?n.internal.frames=2:n.internal.frames=1,Tw||(Tw=!0,requestAnimationFrame(UL)))}function LR(n,e=!0,t,i){if(e&&lx("before",n),t)UE(n,t,i);else for(const s of yf.values())UE(n,s.store.getState());e&&lx("after",n)}const A_={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function kJ(n){const{handlePointer:e}=yJ(n);return{priority:1,enabled:!0,compute(t,i,s){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(A_).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:s}=n.getState();(t=s.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:t}})),s.handlers)for(const a in s.handlers){const o=s.handlers[a],[c,d]=A_[a];t.addEventListener(c,o,{passive:d})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const a=i.handlers[s],[o]=A_[s];i.connected.removeEventListener(o,a)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function IR(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function FJ({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=V.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=V.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),d=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,m=V.useRef(!1);V.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[x,y,b]=V.useMemo(()=>{const A=()=>{if(!c.current.element)return;const{left:P,top:N,width:L,height:j,bottom:R,right:k,x:F,y:D}=c.current.element.getBoundingClientRect(),B={left:P,top:N,width:L,height:j,bottom:R,right:k,x:F,y:D};c.current.element instanceof HTMLElement&&i&&(B.height=c.current.element.offsetHeight,B.width=c.current.element.offsetWidth),Object.freeze(B),m.current&&!GJ(c.current.lastBounds,B)&&o(c.current.lastBounds=B)};return[A,h?IR(A,h):A,d?IR(A,d):A]},[o,i,d,h]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",b,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function _(){c.current.element&&(c.current.resizeObserver=new s(b),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(A=>A.addEventListener("scroll",b,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=A=>{!A||A===c.current.element||(S(),c.current.element=A,c.current.scrollContainers=kL(A),_())};return HJ(b,!!e),zJ(y),V.useEffect(()=>{S(),_()},[e,b,y]),V.useEffect(()=>S,[]),[E,a,x]}function zJ(n){V.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function HJ(n,e){V.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function kL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[t,i,s].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...kL(n.parentElement)]}const VJ=["x","y","top","bottom","left","right","width","height"],GJ=(n,e)=>VJ.every(t=>n[t]===e[t]);function qJ({ref:n,children:e,fallback:t,resize:i,style:s,gl:a,events:o=kJ,eventSource:c,eventPrefix:d,shadows:h,linear:m,flat:x,legacy:y,orthographic:b,frameloop:S,dpr:_,performance:E,raycaster:A,camera:P,scene:N,onPointerMissed:L,onCreated:j,...R}){V.useMemo(()=>CJ(jK),[]);const k=aJ(),[F,D]=FJ({scroll:!0,debounce:{scroll:50,resize:0},...i}),B=V.useRef(null),q=V.useRef(null);V.useImperativeHandle(n,()=>B.current);const Y=CL(L),[G,W]=V.useState(!1),[$,z]=V.useState(!1);if(G)throw G;if($)throw $;const I=V.useRef(null);sy(()=>{const K=B.current;if(D.width>0&&D.height>0&&K){I.current||(I.current=OJ(K));async function T(){await I.current.configure({gl:a,scene:N,events:o,shadows:h,linear:m,flat:x,legacy:y,orthographic:b,frameloop:S,dpr:_,performance:E,raycaster:A,camera:P,size:D,onPointerMissed:(...X)=>Y.current==null?void 0:Y.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(c?sJ(c)?c.current:c:q.current),d&&X.setEvents({compute:(ee,oe)=>{const ce=ee[d+"X"],re=ee[d+"Y"];oe.pointer.set(ce/oe.size.width*2-1,-(re/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),j?.(X)}}),I.current.render(r.jsx(k,{children:r.jsx(lJ,{set:z,children:r.jsx(V.Suspense,{fallback:r.jsx(oJ,{set:W}),children:e??null})})}))}T()}}),V.useEffect(()=>{const K=B.current;if(K)return()=>IL(K)},[]);const Q=c?"none":"auto";return r.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...s},...R,children:r.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:r.jsx("canvas",{ref:B,style:{display:"block"},children:t})})})}function WJ(n){return r.jsx(SL,{children:r.jsx(qJ,{...n})})}function zE(){return zE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zE.apply(null,arguments)}const XJ=parseInt(Xx.replace(/\D+/g,""));function UR(n,e){if(e===eP)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===bw||e===JC){let t=n.getIndex();if(t===null){const o=[],c=n.getAttribute("position");if(c!==void 0){for(let d=0;d<c.count;d++)o.push(d);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,s=[];if(t)if(e===bw)for(let o=1;o<=i;o++)s.push(t.getX(0)),s.push(t.getX(o)),s.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(t.getX(o)),s.push(t.getX(o+1)),s.push(t.getX(o+2))):(s.push(t.getX(o+2)),s.push(t.getX(o+1)),s.push(t.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(s),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var YJ=Object.defineProperty,KJ=(n,e,t)=>e in n?YJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,JJ=(n,e,t)=>(KJ(n,e+"",t),t);class QJ{constructor(){JJ(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}}var ZJ=Object.defineProperty,$J=(n,e,t)=>e in n?ZJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nn=(n,e,t)=>($J(n,typeof e!="symbol"?e+"":e,t),t);const Gb=new Cf,kR=new Hc,eQ=Math.cos(70*(Math.PI/180)),FR=(n,e)=>(n%e+e)%e;let tQ=class extends QJ{constructor(e,t){super(),nn(this,"object"),nn(this,"domElement"),nn(this,"enabled",!0),nn(this,"target",new ae),nn(this,"minDistance",0),nn(this,"maxDistance",1/0),nn(this,"minZoom",0),nn(this,"maxZoom",1/0),nn(this,"minPolarAngle",0),nn(this,"maxPolarAngle",Math.PI),nn(this,"minAzimuthAngle",-1/0),nn(this,"maxAzimuthAngle",1/0),nn(this,"enableDamping",!1),nn(this,"dampingFactor",.05),nn(this,"enableZoom",!0),nn(this,"zoomSpeed",1),nn(this,"enableRotate",!0),nn(this,"rotateSpeed",1),nn(this,"enablePan",!0),nn(this,"panSpeed",1),nn(this,"screenSpacePanning",!0),nn(this,"keyPanSpeed",7),nn(this,"zoomToCursor",!1),nn(this,"autoRotate",!1),nn(this,"autoRotateSpeed",2),nn(this,"reverseOrbit",!1),nn(this,"reverseHorizontalOrbit",!1),nn(this,"reverseVerticalOrbit",!1),nn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),nn(this,"mouseButtons",{LEFT:Uh.ROTATE,MIDDLE:Uh.DOLLY,RIGHT:Uh.PAN}),nn(this,"touches",{ONE:kh.ROTATE,TWO:kh.DOLLY_PAN}),nn(this,"target0"),nn(this,"position0"),nn(this,"zoom0"),nn(this,"_domElementKeyEvents",null),nn(this,"getPolarAngle"),nn(this,"getAzimuthalAngle"),nn(this,"setPolarAngle"),nn(this,"setAzimuthalAngle"),nn(this,"getDistance"),nn(this,"getZoomScale"),nn(this,"listenToKeyEvents"),nn(this,"stopListenToKeyEvents"),nn(this,"saveState"),nn(this,"reset"),nn(this,"update"),nn(this,"connect"),nn(this,"dispose"),nn(this,"dollyIn"),nn(this,"dollyOut"),nn(this,"getScale"),nn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=he=>{let Ne=FR(he,2*Math.PI),ct=m.phi;ct<0&&(ct+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let fe=Math.abs(Ne-ct);2*Math.PI-fe<fe&&(Ne<ct?Ne+=2*Math.PI:ct+=2*Math.PI),x.phi=Ne-ct,i.update()},this.setAzimuthalAngle=he=>{let Ne=FR(he,2*Math.PI),ct=m.theta;ct<0&&(ct+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let fe=Math.abs(Ne-ct);2*Math.PI-fe<fe&&(Ne<ct?Ne+=2*Math.PI:ct+=2*Math.PI),x.theta=Ne-ct,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",He),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",He),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),d=c.NONE},this.update=(()=>{const he=new ae,Ne=new ae(0,1,0),ct=new qs().setFromUnitVectors(e.up,Ne),fe=ct.clone().invert(),rt=new ae,ht=new qs,At=2*Math.PI;return function(){const tt=i.object.position;ct.setFromUnitVectors(e.up,Ne),fe.copy(ct).invert(),he.copy(tt).sub(i.target),he.applyQuaternion(ct),m.setFromVector3(he),i.autoRotate&&d===c.NONE&&W(Y()),i.enableDamping?(m.theta+=x.theta*i.dampingFactor,m.phi+=x.phi*i.dampingFactor):(m.theta+=x.theta,m.phi+=x.phi);let Mt=i.minAzimuthAngle,Gt=i.maxAzimuthAngle;isFinite(Mt)&&isFinite(Gt)&&(Mt<-Math.PI?Mt+=At:Mt>Math.PI&&(Mt-=At),Gt<-Math.PI?Gt+=At:Gt>Math.PI&&(Gt-=At),Mt<=Gt?m.theta=Math.max(Mt,Math.min(Gt,m.theta)):m.theta=m.theta>(Mt+Gt)/2?Math.max(Mt,m.theta):Math.min(Gt,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&D||i.object.isOrthographicCamera?m.radius=oe(m.radius):m.radius=oe(m.radius*y),he.setFromSpherical(m),he.applyQuaternion(fe),tt.copy(i.target).add(he),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(x.theta*=1-i.dampingFactor,x.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(x.set(0,0,0),b.set(0,0,0));let yn=!1;if(i.zoomToCursor&&D){let de=null;if(i.object instanceof Zi&&i.object.isPerspectiveCamera){const Ce=he.length();de=oe(Ce*y);const Le=Ce-de;i.object.position.addScaledVector(k,Le),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ce=new ae(F.x,F.y,0);Ce.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),yn=!0;const Le=new ae(F.x,F.y,0);Le.unproject(i.object),i.object.position.sub(Le).add(Ce),i.object.updateMatrixWorld(),de=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;de!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(de).add(i.object.position):(Gb.origin.copy(i.object.position),Gb.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Gb.direction))<eQ?e.lookAt(i.target):(kR.setFromNormalAndCoplanarPoint(i.object.up,i.target),Gb.intersectPlane(kR,i.target))))}else i.object instanceof Yc&&i.object.isOrthographicCamera&&(yn=y!==1,yn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,D=!1,yn||rt.distanceToSquared(i.object.position)>h||8*(1-ht.dot(i.object.quaternion))>h?(i.dispatchEvent(s),rt.copy(i.object.position),ht.copy(i.object.quaternion),yn=!1,!0):!1}})(),this.connect=he=>{i.domElement=he,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Tt),i.domElement.addEventListener("pointerdown",et),i.domElement.addEventListener("pointercancel",Z),i.domElement.addEventListener("wheel",Xe)},this.dispose=()=>{var he,Ne,ct,fe,rt,ht;i.domElement&&(i.domElement.style.touchAction="auto"),(he=i.domElement)==null||he.removeEventListener("contextmenu",Tt),(Ne=i.domElement)==null||Ne.removeEventListener("pointerdown",et),(ct=i.domElement)==null||ct.removeEventListener("pointercancel",Z),(fe=i.domElement)==null||fe.removeEventListener("wheel",Xe),(rt=i.domElement)==null||rt.ownerDocument.removeEventListener("pointermove",te),(ht=i.domElement)==null||ht.ownerDocument.removeEventListener("pointerup",Z),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",He)};const i=this,s={type:"change"},a={type:"start"},o={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=c.NONE;const h=1e-6,m=new RE,x=new RE;let y=1;const b=new ae,S=new st,_=new st,E=new st,A=new st,P=new st,N=new st,L=new st,j=new st,R=new st,k=new ae,F=new st;let D=!1;const B=[],q={};function Y(){return 2*Math.PI/60/60*i.autoRotateSpeed}function G(){return Math.pow(.95,i.zoomSpeed)}function W(he){i.reverseOrbit||i.reverseHorizontalOrbit?x.theta+=he:x.theta-=he}function $(he){i.reverseOrbit||i.reverseVerticalOrbit?x.phi+=he:x.phi-=he}const z=(()=>{const he=new ae;return function(ct,fe){he.setFromMatrixColumn(fe,0),he.multiplyScalar(-ct),b.add(he)}})(),I=(()=>{const he=new ae;return function(ct,fe){i.screenSpacePanning===!0?he.setFromMatrixColumn(fe,1):(he.setFromMatrixColumn(fe,0),he.crossVectors(i.object.up,he)),he.multiplyScalar(ct),b.add(he)}})(),Q=(()=>{const he=new ae;return function(ct,fe){const rt=i.domElement;if(rt&&i.object instanceof Zi&&i.object.isPerspectiveCamera){const ht=i.object.position;he.copy(ht).sub(i.target);let At=he.length();At*=Math.tan(i.object.fov/2*Math.PI/180),z(2*ct*At/rt.clientHeight,i.object.matrix),I(2*fe*At/rt.clientHeight,i.object.matrix)}else rt&&i.object instanceof Yc&&i.object.isOrthographicCamera?(z(ct*(i.object.right-i.object.left)/i.object.zoom/rt.clientWidth,i.object.matrix),I(fe*(i.object.top-i.object.bottom)/i.object.zoom/rt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function K(he){i.object instanceof Zi&&i.object.isPerspectiveCamera||i.object instanceof Yc&&i.object.isOrthographicCamera?y=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function T(he){K(y/he)}function X(he){K(y*he)}function ee(he){if(!i.zoomToCursor||!i.domElement)return;D=!0;const Ne=i.domElement.getBoundingClientRect(),ct=he.clientX-Ne.left,fe=he.clientY-Ne.top,rt=Ne.width,ht=Ne.height;F.x=ct/rt*2-1,F.y=-(fe/ht)*2+1,k.set(F.x,F.y,1).unproject(i.object).sub(i.object.position).normalize()}function oe(he){return Math.max(i.minDistance,Math.min(i.maxDistance,he))}function ce(he){S.set(he.clientX,he.clientY)}function re(he){ee(he),L.set(he.clientX,he.clientY)}function ue(he){A.set(he.clientX,he.clientY)}function ye(he){_.set(he.clientX,he.clientY),E.subVectors(_,S).multiplyScalar(i.rotateSpeed);const Ne=i.domElement;Ne&&(W(2*Math.PI*E.x/Ne.clientHeight),$(2*Math.PI*E.y/Ne.clientHeight)),S.copy(_),i.update()}function Ve(he){j.set(he.clientX,he.clientY),R.subVectors(j,L),R.y>0?T(G()):R.y<0&&X(G()),L.copy(j),i.update()}function Qe(he){P.set(he.clientX,he.clientY),N.subVectors(P,A).multiplyScalar(i.panSpeed),Q(N.x,N.y),A.copy(P),i.update()}function We(he){ee(he),he.deltaY<0?X(G()):he.deltaY>0&&T(G()),i.update()}function mt(he){let Ne=!1;switch(he.code){case i.keys.UP:Q(0,i.keyPanSpeed),Ne=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),Ne=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),Ne=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),Ne=!0;break}Ne&&(he.preventDefault(),i.update())}function ut(){if(B.length==1)S.set(B[0].pageX,B[0].pageY);else{const he=.5*(B[0].pageX+B[1].pageX),Ne=.5*(B[0].pageY+B[1].pageY);S.set(he,Ne)}}function le(){if(B.length==1)A.set(B[0].pageX,B[0].pageY);else{const he=.5*(B[0].pageX+B[1].pageX),Ne=.5*(B[0].pageY+B[1].pageY);A.set(he,Ne)}}function Me(){const he=B[0].pageX-B[1].pageX,Ne=B[0].pageY-B[1].pageY,ct=Math.sqrt(he*he+Ne*Ne);L.set(0,ct)}function Ae(){i.enableZoom&&Me(),i.enablePan&&le()}function we(){i.enableZoom&&Me(),i.enableRotate&&ut()}function ge(he){if(B.length==1)_.set(he.pageX,he.pageY);else{const ct=Ct(he),fe=.5*(he.pageX+ct.x),rt=.5*(he.pageY+ct.y);_.set(fe,rt)}E.subVectors(_,S).multiplyScalar(i.rotateSpeed);const Ne=i.domElement;Ne&&(W(2*Math.PI*E.x/Ne.clientHeight),$(2*Math.PI*E.y/Ne.clientHeight)),S.copy(_)}function Be(he){if(B.length==1)P.set(he.pageX,he.pageY);else{const Ne=Ct(he),ct=.5*(he.pageX+Ne.x),fe=.5*(he.pageY+Ne.y);P.set(ct,fe)}N.subVectors(P,A).multiplyScalar(i.panSpeed),Q(N.x,N.y),A.copy(P)}function Ue(he){const Ne=Ct(he),ct=he.pageX-Ne.x,fe=he.pageY-Ne.y,rt=Math.sqrt(ct*ct+fe*fe);j.set(0,rt),R.set(0,Math.pow(j.y/L.y,i.zoomSpeed)),T(R.y),L.copy(j)}function _e(he){i.enableZoom&&Ue(he),i.enablePan&&Be(he)}function $e(he){i.enableZoom&&Ue(he),i.enableRotate&&ge(he)}function et(he){var Ne,ct;i.enabled!==!1&&(B.length===0&&((Ne=i.domElement)==null||Ne.ownerDocument.addEventListener("pointermove",te),(ct=i.domElement)==null||ct.ownerDocument.addEventListener("pointerup",Z)),Ot(he),he.pointerType==="touch"?_t(he):xe(he))}function te(he){i.enabled!==!1&&(he.pointerType==="touch"?yt(he):Oe(he))}function Z(he){var Ne,ct,fe;Pe(he),B.length===0&&((Ne=i.domElement)==null||Ne.releasePointerCapture(he.pointerId),(ct=i.domElement)==null||ct.ownerDocument.removeEventListener("pointermove",te),(fe=i.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",Z)),i.dispatchEvent(o),d=c.NONE}function xe(he){let Ne;switch(he.button){case 0:Ne=i.mouseButtons.LEFT;break;case 1:Ne=i.mouseButtons.MIDDLE;break;case 2:Ne=i.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case Uh.DOLLY:if(i.enableZoom===!1)return;re(he),d=c.DOLLY;break;case Uh.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(i.enablePan===!1)return;ue(he),d=c.PAN}else{if(i.enableRotate===!1)return;ce(he),d=c.ROTATE}break;case Uh.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(i.enableRotate===!1)return;ce(he),d=c.ROTATE}else{if(i.enablePan===!1)return;ue(he),d=c.PAN}break;default:d=c.NONE}d!==c.NONE&&i.dispatchEvent(a)}function Oe(he){if(i.enabled!==!1)switch(d){case c.ROTATE:if(i.enableRotate===!1)return;ye(he);break;case c.DOLLY:if(i.enableZoom===!1)return;Ve(he);break;case c.PAN:if(i.enablePan===!1)return;Qe(he);break}}function Xe(he){i.enabled===!1||i.enableZoom===!1||d!==c.NONE&&d!==c.ROTATE||(he.preventDefault(),i.dispatchEvent(a),We(he),i.dispatchEvent(o))}function He(he){i.enabled===!1||i.enablePan===!1||mt(he)}function _t(he){switch(Je(he),B.length){case 1:switch(i.touches.ONE){case kh.ROTATE:if(i.enableRotate===!1)return;ut(),d=c.TOUCH_ROTATE;break;case kh.PAN:if(i.enablePan===!1)return;le(),d=c.TOUCH_PAN;break;default:d=c.NONE}break;case 2:switch(i.touches.TWO){case kh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(),d=c.TOUCH_DOLLY_PAN;break;case kh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;we(),d=c.TOUCH_DOLLY_ROTATE;break;default:d=c.NONE}break;default:d=c.NONE}d!==c.NONE&&i.dispatchEvent(a)}function yt(he){switch(Je(he),d){case c.TOUCH_ROTATE:if(i.enableRotate===!1)return;ge(he),i.update();break;case c.TOUCH_PAN:if(i.enablePan===!1)return;Be(he),i.update();break;case c.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(he),i.update();break;case c.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;$e(he),i.update();break;default:d=c.NONE}}function Tt(he){i.enabled!==!1&&he.preventDefault()}function Ot(he){B.push(he)}function Pe(he){delete q[he.pointerId];for(let Ne=0;Ne<B.length;Ne++)if(B[Ne].pointerId==he.pointerId){B.splice(Ne,1);return}}function Je(he){let Ne=q[he.pointerId];Ne===void 0&&(Ne=new st,q[he.pointerId]=Ne),Ne.set(he.pageX,he.pageY)}function Ct(he){const Ne=he.pointerId===B[0].pointerId?B[1]:B[0];return q[Ne.pointerId]}this.dollyIn=(he=G())=>{X(he),i.update()},this.dollyOut=(he=G())=>{T(he),i.update()},this.getScale=()=>y,this.setScale=he=>{K(he),i.update()},this.getZoomScale=()=>G(),t!==void 0&&this.connect(t),this.update()}};function Nw(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const ef="srgb",Kc="srgb-linear",zR=3001,nQ=3e3;class PM extends Mr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new oQ(t)}),this.register(function(t){return new lQ(t)}),this.register(function(t){return new xQ(t)}),this.register(function(t){return new yQ(t)}),this.register(function(t){return new vQ(t)}),this.register(function(t){return new uQ(t)}),this.register(function(t){return new dQ(t)}),this.register(function(t){return new hQ(t)}),this.register(function(t){return new fQ(t)}),this.register(function(t){return new aQ(t)}),this.register(function(t){return new pQ(t)}),this.register(function(t){return new cQ(t)}),this.register(function(t){return new gQ(t)}),this.register(function(t){return new mQ(t)}),this.register(function(t){return new sQ(t)}),this.register(function(t){return new bQ(t)}),this.register(function(t){return new wQ(t)})}load(e,t,i,s){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const h=fd.extractUrlBase(e);o=fd.resolveURL(h,this.path)}else o=fd.extractUrlBase(e);this.manager.itemStart(e);const c=function(h){s?s(h):console.error(h),a.manager.itemError(e),a.manager.itemEnd(e)},d=new Ha(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(h){try{a.parse(h,o,function(m){t(m),a.manager.itemEnd(e)},c)}catch(m){c(m)}},i,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let a;const o={},c={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Nw(new Uint8Array(e.slice(0,4)))===FL){try{o[Fn.KHR_BINARY_GLTF]=new SQ(e)}catch(m){s&&s(m);return}a=JSON.parse(o[Fn.KHR_BINARY_GLTF].content)}else a=JSON.parse(Nw(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new PQ(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let h=0;h<this.pluginCallbacks.length;h++){const m=this.pluginCallbacks[h](d);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[m.name]=m,o[m.name]=!0}if(a.extensionsUsed)for(let h=0;h<a.extensionsUsed.length;++h){const m=a.extensionsUsed[h],x=a.extensionsRequired||[];switch(m){case Fn.KHR_MATERIALS_UNLIT:o[m]=new rQ;break;case Fn.KHR_DRACO_MESH_COMPRESSION:o[m]=new AQ(a,this.dracoLoader);break;case Fn.KHR_TEXTURE_TRANSFORM:o[m]=new _Q;break;case Fn.KHR_MESH_QUANTIZATION:o[m]=new EQ;break;default:x.indexOf(m)>=0&&c[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}d.setExtensions(o),d.setPlugins(c),d.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,a){i.parse(e,t,s,a)})}}function iQ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class sQ{constructor(e){this.parser=e,this.name=Fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const a=t.json,d=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let h;const m=new Nt(16777215);d.color!==void 0&&m.setRGB(d.color[0],d.color[1],d.color[2],Kc);const x=d.range!==void 0?d.range:0;switch(d.type){case"directional":h=new _M(m),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new AM(m),h.distance=x;break;case"spot":h=new SM(m),h.distance=x,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,h.angle=d.spot.outerConeAngle,h.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return h.position.set(0,0,0),h.decay=2,zc(h,d),d.intensity!==void 0&&(h.intensity=d.intensity),h.name=t.createUniqueName(d.name||"light_"+e),s=Promise.resolve(h),t.cache.add(i,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,a=i.json.nodes[e],c=(a.extensions&&a.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(d){return i._getNodeRef(t.cache,c,d)})}}class rQ{constructor(){this.name=Fn.KHR_MATERIALS_UNLIT}getMaterialType(){return ka}extendParams(e,t,i){const s=[];e.color=new Nt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Kc),e.opacity=o[3]}a.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",a.baseColorTexture,ef))}return Promise.all(s)}}class aQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class oQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new st(c,c)}return Promise.all(a)}}class lQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class cQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class uQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Nt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const c=o.sheenColorFactor;t.sheenColor.setRGB(c[0],c[1],c[2],Kc)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,ef)),o.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class dQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class hQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return t.attenuationColor=new Nt().setRGB(c[0],c[1],c[2],Kc),Promise.all(a)}}class fQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=s.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class pQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return t.specularColor=new Nt().setRGB(c[0],c[1],c[2],Kc),o.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,ef)),Promise.all(a)}}class mQ{constructor(e){this.parser=e,this.name=Fn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(a)}}class gQ{constructor(e){this.parser=e,this.name=Fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const a=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class xQ{constructor(e){this.parser=e,this.name=Fn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const a=s.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,o)}}class yQ{constructor(e){this.parser=e,this.name=Fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,a=s.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=s.images[o.source];let d=i.textureLoader;if(c.uri){const h=i.options.manager.getHandler(c.uri);h!==null&&(d=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,o.source,d);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class vQ{constructor(e){this.parser=e,this.name=Fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,a=s.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=s.images[o.source];let d=i.textureLoader;if(c.uri){const h=i.options.manager.getHandler(c.uri);h!==null&&(d=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(e,o.source,d);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bQ{constructor(e){this.name=Fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],a=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(c){const d=s.byteOffset||0,h=s.byteLength||0,m=s.count,x=s.byteStride,y=new Uint8Array(c,d,h);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,x,y,s.mode,s.filter).then(function(b){return b.buffer}):o.ready.then(function(){const b=new ArrayBuffer(m*x);return o.decodeGltfBuffer(new Uint8Array(b),m,x,y,s.mode,s.filter),b})})}else return null}}class wQ{constructor(e){this.name=Fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=t.meshes[i.mesh];for(const h of s.primitives)if(h.mode!==go.TRIANGLES&&h.mode!==go.TRIANGLE_STRIP&&h.mode!==go.TRIANGLE_FAN&&h.mode!==void 0)return null;const o=i.extensions[this.name].attributes,c=[],d={};for(const h in o)c.push(this.parser.getDependency("accessor",o[h]).then(m=>(d[h]=m,d[h])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(h=>{const m=h.pop(),x=m.isGroup?m.children:[m],y=h[0].count,b=[];for(const S of x){const _=new an,E=new ae,A=new qs,P=new ae(1,1,1),N=new rM(S.geometry,S.material,y);for(let L=0;L<y;L++)d.TRANSLATION&&E.fromBufferAttribute(d.TRANSLATION,L),d.ROTATION&&A.fromBufferAttribute(d.ROTATION,L),d.SCALE&&P.fromBufferAttribute(d.SCALE,L),N.setMatrixAt(L,_.compose(E,A,P));for(const L in d)if(L==="_COLOR_0"){const j=d[L];N.instanceColor=new ff(j.array,j.itemSize,j.normalized)}else L!=="TRANSLATION"&&L!=="ROTATION"&&L!=="SCALE"&&S.geometry.setAttribute(L,d[L]);Xn.prototype.copy.call(N,S),this.parser.assignFinalMaterial(N),b.push(N)}return m.isGroup?(m.clear(),m.add(...b),m):b[0]}))}}const FL="glTF",k0=12,HR={JSON:1313821514,BIN:5130562};class SQ{constructor(e){this.name=Fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,k0);if(this.header={magic:Nw(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==FL)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-k0,s=new DataView(e,k0);let a=0;for(;a<i;){const o=s.getUint32(a,!0);a+=4;const c=s.getUint32(a,!0);if(a+=4,c===HR.JSON){const d=new Uint8Array(e,k0+a,o);this.content=Nw(d)}else if(c===HR.BIN){const d=k0+a;this.body=e.slice(d,d+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class AQ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,c={},d={},h={};for(const m in o){const x=HE[m]||m.toLowerCase();c[x]=o[m]}for(const m in e.attributes){const x=HE[m]||m.toLowerCase();if(o[m]!==void 0){const y=i.accessors[e.attributes[m]],b=gm[y.componentType];h[x]=b.name,d[x]=y.normalized===!0}}return t.getDependency("bufferView",a).then(function(m){return new Promise(function(x,y){s.decodeDracoFile(m,function(b){for(const S in b.attributes){const _=b.attributes[S],E=d[S];E!==void 0&&(_.normalized=E)}x(b)},c,h,Kc,y)})})}}class _Q{constructor(){this.name=Fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class EQ{constructor(){this.name=Fn.KHR_MESH_QUANTIZATION}}class zL extends Ym{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=e*s*3+s;for(let o=0;o!==s;o++)t[o]=i[a+o];return t}interpolate_(e,t,i,s){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=c*2,h=c*3,m=s-t,x=(i-t)/m,y=x*x,b=y*x,S=e*h,_=S-h,E=-2*b+3*y,A=b-y,P=1-E,N=A-y+x;for(let L=0;L!==c;L++){const j=o[_+L+c],R=o[_+L+d]*m,k=o[S+L+c],F=o[S+L]*m;a[L]=P*j+N*R+E*k+A*F}return a}}const CQ=new qs;class MQ extends zL{interpolate_(e,t,i,s){const a=super.interpolate_(e,t,i,s);return CQ.fromArray(a).normalize().toArray(a),a}}const go={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},gm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},VR={9728:Gs,9729:cs,9984:u2,9985:fm,9986:Kh,9987:vo},GR={33071:Ia,33648:Sm,10497:xd},__={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},HE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...XJ>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},id={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},TQ={CUBICSPLINE:void 0,LINEAR:Tm,STEP:Mm},E_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function NQ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new iy({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:sc})),n.DefaultMaterial}function Ph(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function zc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function jQ(n,e,t){let i=!1,s=!1,a=!1;for(let h=0,m=e.length;h<m;h++){const x=e[h];if(x.POSITION!==void 0&&(i=!0),x.NORMAL!==void 0&&(s=!0),x.COLOR_0!==void 0&&(a=!0),i&&s&&a)break}if(!i&&!s&&!a)return Promise.resolve(n);const o=[],c=[],d=[];for(let h=0,m=e.length;h<m;h++){const x=e[h];if(i){const y=x.POSITION!==void 0?t.getDependency("accessor",x.POSITION):n.attributes.position;o.push(y)}if(s){const y=x.NORMAL!==void 0?t.getDependency("accessor",x.NORMAL):n.attributes.normal;c.push(y)}if(a){const y=x.COLOR_0!==void 0?t.getDependency("accessor",x.COLOR_0):n.attributes.color;d.push(y)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(d)]).then(function(h){const m=h[0],x=h[1],y=h[2];return i&&(n.morphAttributes.position=m),s&&(n.morphAttributes.normal=x),a&&(n.morphAttributes.color=y),n.morphTargetsRelative=!0,n})}function RQ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,s=t.length;i<s;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function BQ(n){let e;const t=n.extensions&&n.extensions[Fn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+C_(t.attributes):e=n.indices+":"+C_(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)e+=":"+C_(n.targets[i]);return e}function C_(n){let e="";const t=Object.keys(n).sort();for(let i=0,s=t.length;i<s;i++)e+=t[i]+":"+n[t[i]]+";";return e}function VE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function DQ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const OQ=new an;class PQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new iQ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,a=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&a<98?this.textureLoader=new JP(this.options.manager):this.textureLoader=new sL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ha(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const c={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return Ph(a,c,s),zc(c,s),Promise.all(i._invokeAll(function(d){return d.afterRoot&&d.afterRoot(c)})).then(function(){for(const d of c.scenes)d.updateMatrixWorld();e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,a=t.length;s<a;s++){const o=t[s].joints;for(let c=0,d=o.length;c<d;c++)e[o[c]].isBone=!0}for(let s=0,a=e.length;s<a;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),a=(o,c)=>{const d=this.associations.get(o);d!=null&&this.associations.set(c,d);for(const[h,m]of o.children.entries())a(m,c.children[h])};return a(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const a=e(t[s]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":s=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(a,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Fn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(a,o){i.load(fd.resolveURL(t.uri,s.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+s)})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=__[s.type],c=gm[s.componentType],d=s.normalized===!0,h=new c(s.count*o);return Promise.resolve(new ei(h,o,d))}const a=[];return s.bufferView!==void 0?a.push(this.getDependency("bufferView",s.bufferView)):a.push(null),s.sparse!==void 0&&(a.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(a).then(function(o){const c=o[0],d=__[s.type],h=gm[s.componentType],m=h.BYTES_PER_ELEMENT,x=m*d,y=s.byteOffset||0,b=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,S=s.normalized===!0;let _,E;if(b&&b!==x){const A=Math.floor(y/b),P="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+A+":"+s.count;let N=t.cache.get(P);N||(_=new h(c,A*b,s.count*b/m),N=new Qx(_,b/m),t.cache.add(P,N)),E=new vd(N,d,y%b/m,S)}else c===null?_=new h(s.count*d):_=new h(c,y,s.count*d),E=new ei(_,d,S);if(s.sparse!==void 0){const A=__.SCALAR,P=gm[s.sparse.indices.componentType],N=s.sparse.indices.byteOffset||0,L=s.sparse.values.byteOffset||0,j=new P(o[1],N,s.sparse.count*A),R=new h(o[2],L,s.sparse.count*d);c!==null&&(E=new ei(E.array.slice(),E.itemSize,E.normalized));for(let k=0,F=j.length;k<F;k++){const D=j[k];if(E.setX(D,R[k*d]),d>=2&&E.setY(D,R[k*d+1]),d>=3&&E.setZ(D,R[k*d+2]),d>=4&&E.setW(D,R[k*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(e){const t=this.json,i=this.options,a=t.textures[e].source,o=t.images[a];let c=this.textureLoader;if(o.uri){const d=i.manager.getHandler(o.uri);d!==null&&(c=d)}return this.loadTextureImage(e,a,c)}loadTextureImage(e,t,i){const s=this,a=this.json,o=a.textures[e],c=a.images[t],d=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[d])return this.textureCache[d];const h=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=o.name||c.name||"",m.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(m.name=c.uri);const y=(a.samplers||{})[o.sampler]||{};return m.magFilter=VR[y.magFilter]||cs,m.minFilter=VR[y.minFilter]||vo,m.wrapS=GR[y.wrapS]||xd,m.wrapT=GR[y.wrapT]||xd,s.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[d]=h,h}loadImageSource(e,t){const i=this,s=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(x=>x.clone());const o=s.images[e],c=self.URL||self.webkitURL;let d=o.uri||"",h=!1;if(o.bufferView!==void 0)d=i.getDependency("bufferView",o.bufferView).then(function(x){h=!0;const y=new Blob([x],{type:o.mimeType});return d=c.createObjectURL(y),d});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(d).then(function(x){return new Promise(function(y,b){let S=y;t.isImageBitmapLoader===!0&&(S=function(_){const E=new ki(_);E.needsUpdate=!0,y(E)}),t.load(fd.resolveURL(x,a.path),S,void 0,b)})}).then(function(x){return h===!0&&c.revokeObjectURL(d),zc(x,o),x.userData.mimeType=o.mimeType||DQ(o.uri),x}).catch(function(x){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),x});return this.sourceCache[e]=m,m}assignTexture(e,t,i,s){const a=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),a.extensions[Fn.KHR_TEXTURE_TRANSFORM]){const c=i.extensions!==void 0?i.extensions[Fn.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const d=a.associations.get(o);o=a.extensions[Fn.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),a.associations.set(o,d)}}return s!==void 0&&(typeof s=="number"&&(s=s===zR?ef:Kc),"colorSpace"in o?o.colorSpace=s:o.encoding=s===ef?zR:nQ),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+i.uuid;let d=this.cache.get(c);d||(d=new E2,Os.prototype.copy.call(d,i),d.color.copy(i.color),d.map=i.map,d.sizeAttenuation=!1,this.cache.add(c,d)),i=d}else if(e.isLine){const c="LineBasicMaterial:"+i.uuid;let d=this.cache.get(c);d||(d=new Cr,Os.prototype.copy.call(d,i),d.color.copy(i.color),d.map=i.map,this.cache.add(c,d)),i=d}if(s||a||o){let c="ClonedMaterial:"+i.uuid+":";s&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let d=this.cache.get(c);d||(d=i.clone(),a&&(d.vertexColors=!0),o&&(d.flatShading=!0),s&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(i))),i=d}e.material=i}getMaterialType(){return iy}loadMaterial(e){const t=this,i=this.json,s=this.extensions,a=i.materials[e];let o;const c={},d=a.extensions||{},h=[];if(d[Fn.KHR_MATERIALS_UNLIT]){const x=s[Fn.KHR_MATERIALS_UNLIT];o=x.getMaterialType(),h.push(x.extendParams(c,a,t))}else{const x=a.pbrMetallicRoughness||{};if(c.color=new Nt(1,1,1),c.opacity=1,Array.isArray(x.baseColorFactor)){const y=x.baseColorFactor;c.color.setRGB(y[0],y[1],y[2],Kc),c.opacity=y[3]}x.baseColorTexture!==void 0&&h.push(t.assignTexture(c,"map",x.baseColorTexture,ef)),c.metalness=x.metallicFactor!==void 0?x.metallicFactor:1,c.roughness=x.roughnessFactor!==void 0?x.roughnessFactor:1,x.metallicRoughnessTexture!==void 0&&(h.push(t.assignTexture(c,"metalnessMap",x.metallicRoughnessTexture)),h.push(t.assignTexture(c,"roughnessMap",x.metallicRoughnessTexture))),o=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),h.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,c)})))}a.doubleSided===!0&&(c.side=rl);const m=a.alphaMode||E_.OPAQUE;if(m===E_.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===E_.MASK&&(c.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==ka&&(h.push(t.assignTexture(c,"normalMap",a.normalTexture)),c.normalScale=new st(1,1),a.normalTexture.scale!==void 0)){const x=a.normalTexture.scale;c.normalScale.set(x,x)}if(a.occlusionTexture!==void 0&&o!==ka&&(h.push(t.assignTexture(c,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==ka){const x=a.emissiveFactor;c.emissive=new Nt().setRGB(x[0],x[1],x[2],Kc)}return a.emissiveTexture!==void 0&&o!==ka&&h.push(t.assignTexture(c,"emissiveMap",a.emissiveTexture,ef)),Promise.all(h).then(function(){const x=new o(c);return a.name&&(x.name=a.name),zc(x,a),t.associations.set(x,{materials:e}),a.extensions&&Ph(s,x,a),x})}createUniqueName(e){const t=Qn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function a(c){return i[Fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(d){return qR(d,c,t)})}const o=[];for(let c=0,d=e.length;c<d;c++){const h=e[c],m=BQ(h),x=s[m];if(x)o.push(x.promise);else{let y;h.extensions&&h.extensions[Fn.KHR_DRACO_MESH_COMPRESSION]?y=a(h):y=qR(new Sn,h,t),s[m]={primitive:h,promise:y},o.push(y)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,s=this.extensions,a=i.meshes[e],o=a.primitives,c=[];for(let d=0,h=o.length;d<h;d++){const m=o[d].material===void 0?NQ(this.cache):this.getDependency("material",o[d].material);c.push(m)}return c.push(t.loadGeometries(o)),Promise.all(c).then(function(d){const h=d.slice(0,d.length-1),m=d[d.length-1],x=[];for(let b=0,S=m.length;b<S;b++){const _=m[b],E=o[b];let A;const P=h[b];if(E.mode===go.TRIANGLES||E.mode===go.TRIANGLE_STRIP||E.mode===go.TRIANGLE_FAN||E.mode===void 0)A=a.isSkinnedMesh===!0?new sM(_,P):new us(_,P),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),E.mode===go.TRIANGLE_STRIP?A.geometry=UR(A.geometry,JC):E.mode===go.TRIANGLE_FAN&&(A.geometry=UR(A.geometry,bw));else if(E.mode===go.LINES)A=new dl(_,P);else if(E.mode===go.LINE_STRIP)A=new eu(_,P);else if(E.mode===go.LINE_LOOP)A=new aM(_,P);else if(E.mode===go.POINTS)A=new oM(_,P);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(A.geometry.morphAttributes).length>0&&RQ(A,a),A.name=t.createUniqueName(a.name||"mesh_"+e),zc(A,a),E.extensions&&Ph(s,A,E),t.assignFinalMaterial(A),x.push(A)}for(let b=0,S=x.length;b<S;b++)t.associations.set(x[b],{meshes:e,primitives:b});if(x.length===1)return a.extensions&&Ph(s,x[0],a),x[0];const y=new qc;a.extensions&&Ph(s,y,a),t.associations.set(y,{meshes:e});for(let b=0,S=x.length;b<S;b++)y.add(x[b]);return y})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Zi(dP.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(t=new Yc(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),zc(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let s=0,a=t.joints.length;s<a;s++)i.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const a=s.pop(),o=s,c=[],d=[];for(let h=0,m=o.length;h<m;h++){const x=o[h];if(x){c.push(x);const y=new an;a!==null&&y.fromArray(a.array,h*16),d.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[h])}return new Zx(c,d)})}loadAnimation(e){const t=this.json,i=this,s=t.animations[e],a=s.name?s.name:"animation_"+e,o=[],c=[],d=[],h=[],m=[];for(let x=0,y=s.channels.length;x<y;x++){const b=s.channels[x],S=s.samplers[b.sampler],_=b.target,E=_.node,A=s.parameters!==void 0?s.parameters[S.input]:S.input,P=s.parameters!==void 0?s.parameters[S.output]:S.output;_.node!==void 0&&(o.push(this.getDependency("node",E)),c.push(this.getDependency("accessor",A)),d.push(this.getDependency("accessor",P)),h.push(S),m.push(_))}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(d),Promise.all(h),Promise.all(m)]).then(function(x){const y=x[0],b=x[1],S=x[2],_=x[3],E=x[4],A=[];for(let P=0,N=y.length;P<N;P++){const L=y[P],j=b[P],R=S[P],k=_[P],F=E[P];if(L===void 0)continue;L.updateMatrix&&L.updateMatrix();const D=i._createAnimationTracks(L,j,R,k,F);if(D)for(let B=0;B<D.length;B++)A.push(D[B])}return new Om(a,void 0,A)})}createNodeMesh(e){const t=this.json,i=this,s=t.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(a){const o=i._getNodeRef(i.meshCache,s.mesh,a);return s.weights!==void 0&&o.traverse(function(c){if(c.isMesh)for(let d=0,h=s.weights.length;d<h;d++)c.morphTargetInfluences[d]=s.weights[d]}),o})}loadNode(e){const t=this.json,i=this,s=t.nodes[e],a=i._loadNodeShallow(e),o=[],c=s.children||[];for(let h=0,m=c.length;h<m;h++)o.push(i.getDependency("node",c[h]));const d=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([a,Promise.all(o),d]).then(function(h){const m=h[0],x=h[1],y=h[2];y!==null&&m.traverse(function(b){b.isSkinnedMesh&&b.bind(y,OQ)});for(let b=0,S=x.length;b<S;b++)m.add(x[b]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],o=a.name?s.createUniqueName(a.name):"",c=[],d=s._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(e)});return d&&c.push(d),a.camera!==void 0&&c.push(s.getDependency("camera",a.camera).then(function(h){return s._getNodeRef(s.cameraCache,a.camera,h)})),s._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(e)}).forEach(function(h){c.push(h)}),this.nodeCache[e]=Promise.all(c).then(function(h){let m;if(a.isBone===!0?m=new A2:h.length>1?m=new qc:h.length===1?m=h[0]:m=new Xn,m!==h[0])for(let x=0,y=h.length;x<y;x++)m.add(h[x]);if(a.name&&(m.userData.name=a.name,m.name=o),zc(m,a),a.extensions&&Ph(i,m,a),a.matrix!==void 0){const x=new an;x.fromArray(a.matrix),m.applyMatrix4(x)}else a.translation!==void 0&&m.position.fromArray(a.translation),a.rotation!==void 0&&m.quaternion.fromArray(a.rotation),a.scale!==void 0&&m.scale.fromArray(a.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],s=this,a=new qc;i.name&&(a.name=s.createUniqueName(i.name)),zc(a,i),i.extensions&&Ph(t,a,i);const o=i.nodes||[],c=[];for(let d=0,h=o.length;d<h;d++)c.push(s.getDependency("node",o[d]));return Promise.all(c).then(function(d){for(let m=0,x=d.length;m<x;m++)a.add(d[m]);const h=m=>{const x=new Map;for(const[y,b]of s.associations)(y instanceof Os||y instanceof ki)&&x.set(y,b);return m.traverse(y=>{const b=s.associations.get(y);b!=null&&x.set(y,b)}),x};return s.associations=h(a),a})}_createAnimationTracks(e,t,i,s,a){const o=[],c=e.name?e.name:e.uuid,d=[];id[a.path]===id.weights?e.traverse(function(y){y.morphTargetInfluences&&d.push(y.name?y.name:y.uuid)}):d.push(c);let h;switch(id[a.path]){case id.weights:h=mf;break;case id.rotation:h=gf;break;case id.position:case id.scale:h=xf;break;default:switch(i.itemSize){case 1:h=mf;break;case 2:case 3:default:h=xf;break}break}const m=s.interpolation!==void 0?TQ[s.interpolation]:Tm,x=this._getArrayFromAccessor(i);for(let y=0,b=d.length;y<b;y++){const S=new h(d[y]+"."+id[a.path],t.array,x,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),o.push(S)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=VE(t.constructor),s=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a++)s[a]=t[a]*i;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const s=this instanceof gf?MQ:zL;return new s(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function LQ(n,e,t){const i=e.attributes,s=new ar;if(i.POSITION!==void 0){const c=t.json.accessors[i.POSITION],d=c.min,h=c.max;if(d!==void 0&&h!==void 0){if(s.set(new ae(d[0],d[1],d[2]),new ae(h[0],h[1],h[2])),c.normalized){const m=VE(gm[c.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const c=new ae,d=new ae;for(let h=0,m=a.length;h<m;h++){const x=a[h];if(x.POSITION!==void 0){const y=t.json.accessors[x.POSITION],b=y.min,S=y.max;if(b!==void 0&&S!==void 0){if(d.setX(Math.max(Math.abs(b[0]),Math.abs(S[0]))),d.setY(Math.max(Math.abs(b[1]),Math.abs(S[1]))),d.setZ(Math.max(Math.abs(b[2]),Math.abs(S[2]))),y.normalized){const _=VE(gm[y.componentType]);d.multiplyScalar(_)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}n.boundingBox=s;const o=new Ws;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}function qR(n,e,t){const i=e.attributes,s=[];function a(o,c){return t.getDependency("accessor",o).then(function(d){n.setAttribute(c,d)})}for(const o in i){const c=HE[o]||o.toLowerCase();c in n.attributes||s.push(a(i[o],c))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(c){n.setIndex(c)});s.push(o)}return zc(n,e),LQ(n,e,t),Promise.all(s).then(function(){return e.targets!==void 0?jQ(n,e.targets,t):n})}const M_=new WeakMap;class IQ extends Mr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,s){const a=new Ha(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,o=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,c).then(t).catch(s)},i,s)}decodeDracoFile(e,t,i,s){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const d in t.attributeTypes){const h=t.attributeTypes[d];h.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[d]=h.name)}const i=JSON.stringify(t);if(M_.has(e)){const d=M_.get(e);if(d.key===i)return d.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const a=this.workerNextTaskID++,o=e.byteLength,c=this._getWorker(a,o).then(d=>(s=d,new Promise((h,m)=>{s._callbacks[a]={resolve:h,reject:m},s.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(d=>this._createGeometry(d.geometry));return c.catch(()=>!0).then(()=>{s&&a&&this._releaseTask(s,a)}),M_.set(e,{key:i,promise:c}),c}_createGeometry(e){const t=new Sn;e.index&&t.setIndex(new ei(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],a=s.name,o=s.array,c=s.itemSize;t.setAttribute(a,new ei(o,c))}return t}_loadLibrary(e,t){const i=new Ha(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((s,a)=>{i.load(e,s,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=UQ.toString(),o=["/* draco decoder */",s,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(a){const o=a.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,a){return s._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function UQ(){let n,e;onmessage=function(o){const c=o.data;switch(c.type){case"init":n=c.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(x){m({draco:x})},DracoDecoderModule(n)});break;case"decode":const d=c.buffer,h=c.taskConfig;e.then(m=>{const x=m.draco,y=new x.Decoder,b=new x.DecoderBuffer;b.Init(new Int8Array(d),d.byteLength);try{const S=t(x,y,b,h),_=S.attributes.map(E=>E.array.buffer);S.index&&_.push(S.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:S},_)}catch(S){console.error(S),self.postMessage({type:"error",id:c.id,error:S.message})}finally{x.destroy(b),x.destroy(y)}});break}};function t(o,c,d,h){const m=h.attributeIDs,x=h.attributeTypes;let y,b;const S=c.GetEncodedGeometryType(d);if(S===o.TRIANGULAR_MESH)y=new o.Mesh,b=c.DecodeBufferToMesh(d,y);else if(S===o.POINT_CLOUD)y=new o.PointCloud,b=c.DecodeBufferToPointCloud(d,y);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!b.ok()||y.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+b.error_msg());const _={index:null,attributes:[]};for(const E in m){const A=self[x[E]];let P,N;if(h.useUniqueIDs)N=m[E],P=c.GetAttributeByUniqueId(y,N);else{if(N=c.GetAttributeId(y,o[m[E]]),N===-1)continue;P=c.GetAttribute(y,N)}_.attributes.push(s(o,c,y,E,A,P))}return S===o.TRIANGULAR_MESH&&(_.index=i(o,c,y)),o.destroy(y),_}function i(o,c,d){const m=d.num_faces()*3,x=m*4,y=o._malloc(x);c.GetTrianglesUInt32Array(d,x,y);const b=new Uint32Array(o.HEAPF32.buffer,y,m).slice();return o._free(y),{array:b,itemSize:1}}function s(o,c,d,h,m,x){const y=x.num_components(),S=d.num_points()*y,_=S*m.BYTES_PER_ELEMENT,E=a(o,m),A=o._malloc(_);c.GetAttributeDataArrayForAllPoints(d,x,E,_,A);const P=new m(o.HEAPF32.buffer,A,S).slice();return o._free(A),{name:h,array:P,itemSize:y}}function a(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let qb;const T_=()=>{if(qb)return qb;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(t)&&(s=e);let a;const o=WebAssembly.instantiate(c(s),{}).then(x=>{a=x.instance,a.exports.__wasm_call_ctors()});function c(x){const y=new Uint8Array(x.length);for(let S=0;S<x.length;++S){const _=x.charCodeAt(S);y[S]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let b=0;for(let S=0;S<x.length;++S)y[b++]=y[S]<60?i[y[S]]:(y[S]-60)*64+y[++S];return y.buffer.slice(0,b)}function d(x,y,b,S,_,E){const A=a.exports.sbrk,P=b+3&-4,N=A(P*S),L=A(_.length),j=new Uint8Array(a.exports.memory.buffer);j.set(_,L);const R=x(N,b,S,L,_.length);if(R===0&&E&&E(N,P,S),y.set(j.subarray(N,N+b*S)),A(N-A(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const h={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return qb={ready:o,supported:!0,decodeVertexBuffer(x,y,b,S,_){d(a.exports.meshopt_decodeVertexBuffer,x,y,b,S,a.exports[h[_]])},decodeIndexBuffer(x,y,b,S){d(a.exports.meshopt_decodeIndexBuffer,x,y,b,S)},decodeIndexSequence(x,y,b,S){d(a.exports.meshopt_decodeIndexSequence,x,y,b,S)},decodeGltfBuffer(x,y,b,S,_,E){d(a.exports[m[_]],x,y,b,S,a.exports[h[E]])}},qb};let Wb=null,HL="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function VL(n=!0,e=!0,t){return i=>{t&&t(i),n&&(Wb||(Wb=new IQ),Wb.setDecoderPath(typeof n=="string"?n:HL),i.setDRACOLoader(Wb)),e&&i.setMeshoptDecoder(typeof T_=="function"?T_():T_)}}const ay=(n,e,t,i)=>ry(PM,n,VL(e,t,i));ay.preload=(n,e,t,i)=>ry.preload(PM,n,VL(e,t,i));ay.clear=n=>ry.clear(PM,n);ay.setDecoderPath=n=>{HL=n};const kQ=V.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:s=!0,keyEvents:a=!1,onChange:o,onStart:c,onEnd:d,...h},m)=>{const x=nd(R=>R.invalidate),y=nd(R=>R.camera),b=nd(R=>R.gl),S=nd(R=>R.events),_=nd(R=>R.setEvents),E=nd(R=>R.set),A=nd(R=>R.get),P=nd(R=>R.performance),N=e||y,L=i||S.connected||b.domElement,j=V.useMemo(()=>new tQ(N),[N]);return bJ(()=>{j.enabled&&j.update()},-1),V.useEffect(()=>(a&&j.connect(a===!0?L:a),j.connect(L),()=>void j.dispose()),[a,L,t,j,x]),V.useEffect(()=>{const R=D=>{x(),t&&P.regress(),o&&o(D)},k=D=>{c&&c(D)},F=D=>{d&&d(D)};return j.addEventListener("change",R),j.addEventListener("start",k),j.addEventListener("end",F),()=>{j.removeEventListener("start",k),j.removeEventListener("end",F),j.removeEventListener("change",R)}},[o,c,d,j,x,_]),V.useEffect(()=>{if(n){const R=A().controls;return E({controls:j}),()=>E({controls:R})}},[n,j]),V.createElement("primitive",zE({ref:m,object:j,enableDamping:s},h))}),GL="/assets/modal3d-CtC1qUxd.glb";function WR(n){return jn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(n)}function FQ(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.1 71.9c16.9-5 26.6-22.9 21.5-39.8s-22.9-26.6-39.8-21.5c-21.5 6.4-41.8 15.5-60.6 27C114.3 34 105.4 32 96 32C60.7 32 32 60.7 32 96c0 9.4 2 18.3 5.6 26.3c-11.5 18.7-20.6 39-27 60.6c-5 16.9 4.6 34.8 21.5 39.8s34.8-4.6 39.8-21.5c4.3-14.6 10.4-28.5 17.9-41.4c2 .2 4.1 .3 6.1 .3c35.3 0 64-28.7 64-64c0-2.1-.1-4.1-.3-6.1c12.9-7.5 26.8-13.6 41.4-17.9zm128-61.3c-16.9-5-34.8 4.6-39.8 21.5s4.6 34.8 21.5 39.8c14.6 4.3 28.5 10.4 41.4 17.9c-.2 2-.3 4.1-.3 6.1c0 35.3 28.7 64 64 64c2.1 0 4.1-.1 6.2-.3c7.5 12.9 13.6 26.8 17.9 41.4c5 16.9 22.9 26.6 39.8 21.5s26.6-22.9 21.5-39.8c-6.4-21.5-15.5-41.8-27-60.6c3.6-8 5.6-16.9 5.6-26.3c0-35.3-28.7-64-64-64c-9.4 0-18.3 2-26.3 5.6c-18.7-11.5-39-20.6-60.6-27zM71.9 310.9c-5-16.9-22.9-26.6-39.8-21.5s-26.6 22.9-21.5 39.8c6.4 21.5 15.5 41.8 27 60.6C34 397.7 32 406.6 32 416c0 35.3 28.7 64 64 64c9.4 0 18.3-2 26.3-5.6c18.7 11.5 39 20.6 60.6 27c16.9 5 34.8-4.6 39.8-21.5s-4.6-34.8-21.5-39.8c-14.6-4.3-28.5-10.4-41.4-17.9c.2-2 .3-4.1 .3-6.2c0-35.3-28.7-64-64-64c-2.1 0-4.1 .1-6.2 .3c-7.5-12.9-13.6-26.8-17.9-41.4zm429.4 18.3c5-16.9-4.6-34.8-21.5-39.8s-34.8 4.6-39.8 21.5c-4.3 14.6-10.4 28.5-17.9 41.4c-2-.2-4.1-.3-6.2-.3c-35.3 0-64 28.7-64 64c0 2.1 .1 4.1 .3 6.2c-12.9 7.5-26.8 13.6-41.4 17.9c-16.9 5-26.6 22.9-21.5 39.8s22.9 26.6 39.8 21.5c21.5-6.4 41.8-15.5 60.6-27c8 3.6 16.9 5.6 26.3 5.6c35.3 0 64-28.7 64-64c0-9.4-2-18.3-5.6-26.3c11.5-18.7 20.6-39 27-60.6zM192.8 256.8c0-15.6 5.6-29.9 14.9-41.1L223 231c6.6 6.6 17.8 1.9 17.8-7.4l0-60.5c0-5.7-4.7-10.4-10.4-10.4l-60.5 0c-9.3 0-13.9 11.2-7.4 17.8l11.2 11.2c-17.9 19.8-28.9 46.2-28.9 75.1c0 43.6 24.9 81.3 61.1 99.8c11.8 6 26.3 1.4 32.3-10.4s1.4-26.3-10.4-32.3c-20.8-10.6-34.9-32.2-34.9-57zm93.1-58.6c20.8 10.6 34.9 32.2 34.9 57c0 15.6-5.6 29.9-14.9 41.1L290.6 281c-6.6-6.6-17.8-1.9-17.8 7.4l0 60.5c0 5.7 4.7 10.4 10.4 10.4l60.5 0c9.3 0 13.9-11.2 7.4-17.8l-11.2-11.2c17.9-19.8 28.9-46.2 28.9-75.1c0-43.6-24.9-81.3-61.1-99.8c-11.8-6-26.3-1.4-32.3 10.4s-1.4 26.3 10.4 32.3z"},child:[]}]})(n)}function zQ(){const{scene:n}=ay(GL);return r.jsx("primitive",{object:n,scale:2.5})}ay.preload(GL);function HQ(){return r.jsxs("div",{className:"bg-gradient-to-b from-black via-red-600 to-black flex flex-col items-center py-8",children:[r.jsxs("h2",{className:"text-white text-xl md:text-5xl font-semibold mb-4 flex items-center",children:["Drag to view 360 ",r.jsx(FQ,{className:"ml-4"})]}),r.jsxs(WJ,{style:{height:"500px",width:"50%"},children:[r.jsx("ambientLight",{}),r.jsx("directionalLight",{position:[5,5,5]}),r.jsx(kQ,{}),r.jsx(zQ,{})]})]})}function VQ(){const[n,e]=V.useState([]),t=async()=>{try{const s=await St.get("/getEyewearTips");e(s.data.EyewearTips)}catch(s){console.error(s)}};V.useEffect(()=>{t()},[]);const i=["learn-about-frame","learn-about-lens","learn-about-prescription","learn-about-maintenance"];return r.jsxs("section",{className:"bg-black bg-gradient-to-b from-black to-red-600 text-white pb-16 px-4 sm:px-6 md:px-6 text-center",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-3",children:"Eyewear Insights & Tips"}),r.jsx("hr",{className:"w-24 sm:w-48 md:w-[116px] mt-2 mb-4 mx-auto border-gray-300"}),r.jsx("p",{className:"max-w-3xl mx-auto text-gray-300 mb-10 text-sm sm:text-base px-2",children:"Gain valuable knowledge and practical tips to enhance your eyewear experience, ensuring comfort, style, and lasting performance."}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:mx-20 mx-2 sm:mx-6",children:n.map((s,a)=>r.jsxs("div",{className:"bg-white text-black p-5 sm:p-6 rounded-xl shadow-xl hover:shadow-lg transition-all hover:scale-105 hover:cursor-pointer hover:-translate-y-2 hover:bg-black hover:text-white border-2 border-red-600 hover:border-black",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:Pn+s.image,alt:s.fullName,className:"w-12 h-12 rounded-full object-cover mb-4 shadow border border-red-600",loading:"lazy",decoding:"async"})}),r.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-2",children:s.title}),r.jsx("p",{className:"mb-4 text-gray-500 text-sm sm:text-base",children:s.description}),r.jsx(xt,{to:`/${i[a]}`,children:r.jsx("button",{className:"mt-auto border border-red-500 text-[#f00000] px-4 py-1 rounded-full hover:bg-red-500 hover:text-white transition",children:"Learn More "})})]},a))})]})}const GQ="/assets/blue-violet-DxQ0TuX3.avif",qQ="/assets/glasses-D56m1QSE.avif",WQ="/assets/kids-glasses-DegFTpwf.avif",XQ="/assets/sunglasses-CLXF1rp6.avif",YQ="/assets/transition-CuuXlVRT.avif",KQ="/assets/progressive-B3KVTwjF.avif",JQ=()=>{const[n,e]=V.useState([]),[t,i]=V.useState([]),s=async()=>{try{const o=(await St.get("/getAllProduct")).data.products||[],c="69157332eeb23fa59c7d5326",d="6915705d9ceac0cdda41c83f",h="69157665eeb23fa59c7d5349",m="69157694eeb23fa59c7d5350",x="691576ddeeb23fa59c7d5357",y="69157748eeb23fa59c7d5378",b="6915763ceeb23fa59c7d5342",S=[{title:"Glasses",slug:"glasses",image:qQ,products:o.filter(_=>_.cat_id===c)},{title:"Sunglasses",slug:"sunglasses",image:XQ,products:o.filter(_=>_.cat_id===d)},{title:"Transitions",slug:"transitions",image:YQ,products:o.filter(_=>_.subCat_id===h)},{title:"Blue Violet",slug:"blue-violet",image:GQ,products:o.filter(_=>_.subCat_id===m)},{title:"Progressive",slug:"progressive",image:KQ,products:o.filter(_=>_.subCat_id===x)},{title:"Kids",slug:"kids",image:WQ,products:o.filter(_=>_.subCat_id===y||b)}];i(S)}catch(a){console.log(a)}};return V.useEffect(()=>{s()},[]),r.jsxs("section",{className:"py-16 md:px-26 px-6 bg-white text-center",children:[r.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Our ",r.jsx("span",{className:"text-[#f00000]",children:"Collections"})]}),r.jsx("hr",{className:"w-80 mx-auto mb-4 border-black"}),r.jsx("p",{className:"text-gray-600 mb-10",children:"Hand-picked styles for every vision and personality."}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 hover:cursor-pointer",children:t.map((a,o)=>r.jsx(xt,{to:`/collectionProducts/${a.slug}`,state:{products:a.products},children:r.jsxs("div",{className:"group relative overflow-hidden rounded-xl shadow hover:shadow-lg transition-all",children:[r.jsx("img",{src:a.image,alt:a.title,className:"w-full h-78 object-cover transform group-hover:scale-105 transition duration-300"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#f00000] bg-opacity-50 text-white py-3 text-lg font-semibold",children:a.title})]})},o))})]})},QQ="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAAyAHQBAREA/8QAHQAAAgEFAQEAAAAAAAAAAAAAAAgJAQIFBgcEA//EAD4QAAEDAwMCAwUEBwcFAAAAAAECAwQFBgcACBEJEhMhMRQiQVFhFSMycRYXGUJSWIEYU2JygpTSc4OSk7P/2gAIAQEAAD8AlT0a8dWq9JoFNk1mu1SJTqfDbLsmXLfSyyygeqlrUQlIHzJ40p+VuqLtNx7FqkSg38m7q1EjOqjRqPDefjPSAklDZldoZ4UoAFSVKA551FzQ8jWBuQr9ZvPd1ujvmh1aZKUIcOm0R2bDYZI5AQEudrKAfINIb9ByVEk6ZDE/Tv2j5y4bxVvXnV6UWy6YLcZpmalA9VGM6pLyQPmUAa6b+xYsL+YO6/8AYM/89H7Fiwv5g7r/ANgz/wA9eao9GnGVHgSKrV9yVxwYURBdfkyYsdpppA9VLWpYCQPmTpbL82/7AMeyHYx3wXNV6ix+FNBoCqgj/S839wf/AGa3DZD1DIOBbwr+NswZNuW7calC/wBHqxLhLclRnUuDs5aUtbjbTjZVyjuWEKQkJ4ClEycYg3XbeM8KEfFuVaLV5xBV9nKcVGmgD1Ps7wQ6QPiQkj666to0av1peY8t2dgzG9bylfk0xqNQo5ed7AC48sntbZbSSO5xxZShI8hyockDkiNqy8UbieqRcP61MzXHMsbCrMlxNGodPWrxJKW1kcsoUOxxY95KpTqVe93JbQEjhDs432IbTMYwmY1BwZbU55sDmbXIoqchah+93SO/tJ+SAkfTW21jaztsrzHs1X2/46kt+fHdbUMKT9UqDYUk/kdLBm/pL4ZuVpdy4BqNQxldsPmRAVHmvPQVSE+ae4LUp1nk8ALaWOz1CFccaxuznepd1s3Fc22fepWY1BvGyGFvx6/V30MifHRwVIddUQlxwIUlbbiefFb5J5Unuc75St+W0CuxazIoubqLKXQoD9RkR1JdjvOtMoKlhhLyEeOvgHhLfcTpKrUsPPnVZuqZft+XVPsTB9KnqYpNIjc8zOz4No/A86n0XJc7kpUe1tP4kpczHfTv2g42gNRKfhmj1x9CQFy7iSam64ofvFL3LST/AJEJH010aXtm26zoH2XMwRj52L/dKtmF2/8Az0s2d+lDgy9mXbkwguRjG8IpMmC9T33VQFyB5pC2iSpkcjyUyU9vPParjt1gtnm77LFpZXXs03hNqYvqEAxQK9Ic7vtUcFSG3XfwuqWgctPDzc47F8u+r/fno1fqF3cvQN6V3Z1x1tZ3N5bplfpt5V+JOjM0hiO0yw05IXG8f3I7a+UoW72pV3amRt636PatEg25b9Nj0+m02O3FiRY6O1thlCQlKEj4AAayOjVD5jUWHU6xNad6bx8B0ipMuNfp8/DoFZVDAS65G+0WmwsEgjv7JDoBIP4E/LVvUx2W7dcIbeqXkXFdiC3qzTKxEpalx5jziJbDqV93jJdUruUCjyUCD7x5JHHD9bUbYo9o7bcY0agtNohItOmPgoHHiuPR0Ouun/EtxxayfiVHXWNGqH00gHV4xmycSW3uFtxSqddePK7EDdRjoSl0RXnB2crHvEtyEsKRySElTnA98nXStgj+7+4LSXkLcbkqiXTbV10enVS10Ro7SJbCXUF1SnS0w0B3IcbBSSshSTwU8HubPV+o3uok6Meb0tsuYJ6/ApQqjVPlyfg22zOZU5z/ANuSo/01JDo0aNRnUGpDd31UPtulK9oszB0JTKX0nlp2TGWsJUlXoSZj6iOPxIj86b/ezhyVnjbBfWPaTGU/V3oAqFJbQnla5sVaX2m0/Vwt+H+Th1zPpc5uiZZ2s0W3Zczur2PlG3ai0tQ7wyjlUVzt9QkslLYPxUyv5ab7Rqh9NI11hrujW/tJFvrc+/ue5YEFtAPmUtByQpRHyHgpH5qTppNvlsS7KwLjmz57fhyqLatKgPo/hdaitoWP/IHW/wCr9KV1N8DSM47YKu9RIi5Fesp0XFT2m0krdQ0kiS2AASSWVOKCR6qQkfUbjsT3DQ9xu3W3Lokzg9ctIjoo9xtKVy6JzKQkvKHyeSEug+nvkc8pOmE0aTvqIbwVYGsNGM8byXpeUr5a9io0SEhTsmG26rwzJCUgkrJJQ0keanPMc9iknaNgm1n+zDg+NS663zeN0OJrFyOEglDyk/dRe74hlJ4J581qdV6KADM6i9zpS7j6cu71rcdaNKfk4hydIMW5qdGT93EkOErcQkeiVBQU+z6c/et+Q55kps277evq2qbdtq1VmpUirx0SoUtlXKXWlDkf1+BHr5azmqHj0J1GJuNqSN7nUDsjbzbyDUrIxQ+udczzA5aLqVIXMS4fTgFtiKPk4twfHUnmjVD6a+Z51GNmXEWYOnZmSo7ldttEeuDFlxOld0Wq0FFEEFXcUK7QooZSpS1NPpT91yptY7T94xeOuqFs/vmkImVfIbln1FKO6RTK7BfadaPxAcQhTS/9KyfoNcyzb1WbMkuIx9tKtWrZLvSrK9mgSG6dIbhodP8AA0Uh+QsevalKU8cnv8uDltl2x68KBekjdBurqhuHK1We9riRnnUyEUjlBSCpQ9xTwSexIRy20lICCfIpefRrWMmY1svL9jVbHOQaGxV6DWWfBlRXeRzwQpK0qHmhaVBKkqSQUqAIPI1Ggwvc30rLumNtUedkvb9UJheS6nnxaWlawOVqSOIr4JA8x4D3w7FKIQ19j9TXZredDbrEnK7VuvlHc7TqzCfZksnj8J7UKbUf+mtY+uuEbhOpjLyev9Ruxy361dV318+yi4GYS0IiNq8lLjNuAL7x6l5wIbbHvcq9UsLsQ2fxNqeN5KK7IjVK+rpcRMuKoMkrQFDktxmlK81Nt96vePmtSlK8gQAzmjRqw+urTqGrqcY7x/aWTgLVsW3qMJCvEd+z6YxH8RRAJKvDSOSfmdPj0+ceWBQMLUy5qDY1v02sTWgiTUIlMYZkvJ+S3UpC1D8zpqdGjRrx1JhiVEdjSWUPMupKHG3EhSVpI4IIPkQR8NQs9RnHtg2hnH2G0rHt+iRnFhS2adTGYyFEgEkpbSATzqSbZFYdjWtg2kVa2LMoVInVFJEyVApzMd2Tx6eItCQV8cn1J0xafJI1XRr/2Q==",ZQ="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAAyAHQBAREA/8QAHQAAAgEFAQEAAAAAAAAAAAAAAAgJAQIDBgcFBP/EAD0QAAEDAgQEAwYCBgsAAAAAAAIBAwQFBgAHCBEJEiExEyJBFDJRYXGBI1IVFhdCkaIkQ1NiY4KSk6Gjs//aAAgBAQAAPwCVPBjTajnPk9R58ilVbNezoU6G4rUiNJrsVp1k07iYEaKK/JU3wtedvFS0v5QVGRQqPUanflTjKoOjbrQORG3PyrKcIWy+ran/AB6Y4tTuN9lu7UEbq2RFyRoXq9Hq0d93/bIAT+fDe6fdaOnvUsIxMt71aSto14ztDqAezT2xTbmVGy6OIm/Um1JE+OO34MfJVatSqFTJVbrlTiU6nQWSkSpct4WWWGhTcjMyVBEURFVVVUREwkmbXF700WFUX6LY9PuC/wCWwqismmNBHp/Miqiij7yoRduhA2QqnYlxz63eNrlrJmCF25F3PTIn7ztPqcea4n0AxZRf9SYbvLDWlpgzat4bhtrOS24gpyo/DrE5unS45Knum0+Ql6L5h3Fdl2VcdUt68rQu+GVRtO66PW4ouK0r9OnNSW0NERVHmbJU32JF277Knxx6yd8ZE7Yrii9E3xBpntpfs7OLXFV8jNMX6bqE12oSZV11WrSheg02SbiuSeTkaExaYUlBVMjI3V5E67KUnenDQPp6070WCVPsmn3BdLbIpLuCsMDKkG7t5lZQ0UWB3VURG0FdtuZVXrhgazb9BuKA7SrgokCpwnxUHY0yMDzTg/AgNFRU+qYQfVvw0aK6J52aSGX7Lv8At81qbNJpDqx484w2LlioKp7M/wBF5UDYCXyqg8ylj1dMnFDyrr+SEiu6krsp9r3nbDw0+ox0aVXqt0XkksRW0U+ZeUhcER5QNN/IJiKbnYPFU0d35cDNuOXjVbbdkueEzKr9NWNEIvTmeEjBpP7ziiieqphYs27wzO4neoaZkTlNcC0bJmzX1KrVdjq3NRtzk9oP+25z38Br3eX8RduvK+uRej7T7p4pLEDL3L6n+3NCKO1qotBKqUgk28xvkO6br15QQARfdFMdPuiy7OvillRL0tOjV+nHvzRKpAalMrv8QcEh/wCMRdcQDhhUG1bZm50aa6UcSNS2jlV22EeJwUYEeY5ENTVSTlRCI2d13TdQ25eRe58JS3MkIWRE+7cqpVdKt1uSxGu6JV5wPlEnRgLlFkW22xFkxeVwV2UlQ0EiVQ6PRi/BjSs6r9XK7KG9sxgBs3LZt6oVZoHPdcdYjm4AL8eYhRPvhK+DplizDykurPOtt+1XBetcdjJNdLncKLH95d1TdFN83lLqu/KC+mJCcGDEQ2dmnfLKDxXrfs6+qEEm0MySSvuQAcJkCkvsyB6qGy7HOYIl7e+uGI4iemTTFZek+7b4o+TNsW/V6A1GGlTaFTWoDySHpLTA+IrIj4w/iLujnN6qmy9cbrwusoaflppPtuuFA8GsXmT1dnOEnnIDNQjjv32RhtpdvipL64bzBix1pt9smnmxMDTYhJN0VMRkaLoKacOI1nDpvp6JFtyuRXJ9NjKaKKKPhy4Yj6eWNJeH/LiTVO+MidsVxyjVfbc+7dM+aVv0ts3Jsu0KuEZoB5idd9kcUARN06kSIP3wvHCDuyl1vSUNvxnOWbbdxVCHMaJfMhOkL4Ft8FF1E+oF8MO9gwYjS1APNZjcXrKO16T+I5aFJhLUE/ITaTJ//m40v3wxXE0t2fcuibMWPTk5noLUCpEPxaYnMOO/wbE1+2PW4eN5U+9tHGWVQgublT6StHkAq7kD0Vw2S3+qAhJ8iTDG4MGIy8qJLOZvGKzFuSjJ4kK0qU9GfLvyuxosanuf9pGmJL074yJ2xXFpgDgKDgoQkmyoqboqYiboNdqHC+1mVmjV2myP2KZpPK9GkgBmMRsXFJshRd1VyIbhtEPvE04J7KqgmJUrZuagXjQIF02vV4tUpNUYCTDmRXUcafaJNxISToqLj1Mcd1R6n8vtK+W8i+LzkDJqMgXGaHRWnEGTVZSIn4Yd+UB5hU3NlQBXspKIkqvDCycve6bivHWznFGf/WPMRXWqMkhvk/objguPSABfdAyAAb6Js2C7eU0VX2uq3KReNr1i0LhiDKpdbgv06cwXZ2O82rbg/cSVPviLjS1mlUOHbqIuXSlnrKOPYtwVD9IW7XnfKwz4uwNSVVenhOgIA4v9U40vpzriVaLKjy4zUyFIbkRnwRxp1skISFU3RUVOioqeuM+Ff1ya1LO0q5fSo0KcxPzBrEY26FSQMSJolRUSXIT9xkF7b9XCTlHsZBoXC8023FlDlZVc1cyIb7d6ZnPt1OQktN5DEJOY2Rc36obhOG6aLsvmBCTcMOwnfGRO2K4MaDnVkdlvqAsabl9mdQAqVLl+cCReR6M8iKgPsudwcHddiT0VUXcVVFjykaFtdOk+szano0zjOu25JdJ0qPMeYYeUv8SNKFYjhInTxRUCX0EcfT+s/GrulDobNq0qhqXRyobUZrk+hG6f8grjbMkOFrW61fK5u6z8yjzDr5qLqUluS8/GI+qoMl91BN0B36MgIAip3MV5cSHxYsaBGahQo7bEdgEbbbbFBEBRNkREToiImMmORak9MOV+qKx1s7MSlqrscidptUjIIzKe6qJuTRqi9F2TmBUUSRE3TdEVEQi6UeJZpOeWlaaM2WLztMHlSLTHpEdtBBeqoUWf+Ezv6qy7uvyx9cqZxpszWytwqXTbLjPD4cioNHSoqinycQ3XhX5tDv8APHT9MfC/o1i3a1nJqSvF3Mm/SeGajT5uPQmJKdnXDe3cluJsmynyin5FVBJHywYvwYMGDBiiInXAvbFcGDBimyfDFcGDH//Z",$Q="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAAyAHQBAREA/8QAHQAAAQQDAQEAAAAAAAAAAAAAAAYHCAkBAwQFAv/EAEEQAAEDAgQDAwcJBQkAAAAAAAECAwQFBgAHCBEJEjETIUEUIjJRYXGBFRlDUliRlcHUFhcjM4JicpOUoaWxssL/2gAIAQEAAD8AtTxplS4kFhyVNlNR2WklbjjqwhKEgEkknuAABPww0rusPSoxU10d/UVl41JbUUL7S4YyW0qHUFwr5N/jha2/mxlZdnL+y2ZdqVnn9H5PrMaRze7kWd8KjBgwYMGOSpVek0ZnymsVSJBZH0kl9LSfvUQMN5XtUOmy2FKbr+f2XkF1HVp25YYd+CO05j8Bj1cvM9cmM2VuM5Z5p2tcz7SedyPTKoy+82n1qbSrnSPaRhdbHBscNJfWrjTVlpc0uzL6zntuj1yByiVBekkusFSQpIWEg8pKSDse/Yg+IxX/AJ85m35xG9S0fTBkleaoGVtGYE6sVaKT2U1tso7aS4PN7ZKVuIaba9EuecfrJkPTeEPo6iUVumzaPc8+WlIC6i7W3EPrV4nlQA0PdyYSVf4Lem6dzrt2/swaQtXRCpkWQ0n+ksBX3qwkFcHa8La/iZaavrio5R/LaVS3Wtv62Zaf+uNEnRXxO8vUPVLLzWG5cXkwLrUKo1+cVvKHRCWpSHWBv6lKCfWRj0couLdRbPsit27qstqrxcx7UmmmOw6RTgHKktKlpcKkFSWWHGlI5XAVJB5klCT5yUqfL3jL6eLpuBqj3lZ11WjEfc5EVJ5DUxhsfWdS0e0SP7qF4a8Z465eIDfVyJ0uXE3lvlpbr6ozVSefMVbx6o7SQ204+p9afP7JoBLYUkKJOy1+4eGhrBvEEZka5K4625/MaalVGcj2+a6+0D4+Ax2Uvgp2BIdEq9897tq759NcaExHKvi4p4/84cC3+DrpJpAHypIvetkbb+WVlDYP+Ay3hsNUHDAt7Ke0pWemkm4rjty6LKaXWPk9VQLvaNMp51rjPEdq28lAWoJKlhZ2SAk9Xi0t8SrJi+smKJVs9MyqDbN7xgqDVo727Ykut7bSUIQkhIcSUqIGwCucAbAYlzZF92bmTbcW8LBuan1+iTebyedAfS6y4UqKVAKHiFAgjqCCD34ZPNDh+6Tc4r3qOYt/5XmdX6stLk2U1WZ8cPKSkJCi208lAOyRvskb9TucQ70MWtSMgOJLnHkfT6emDTHaXMRR2StS1NRw/HlRmwpRKlDyZzckkk8oJxaYOg92M4MGKpsmsubKzL4tua7V4WvT6vCoLU6sMRJLIdZEttcNpDqmz5qiO3Ku8EcxB6gYm3rPyby0zL06X0Lus6mTZFv2zUalSJZjpD8CRHjLcaU04BzIAUgApB2KdwQQcMfwbXQ5pOqiB9Fec9J/y0Q/nido6YNh6sGw9WELnxc8eyskb+u+UEFqi21Up6kqG4X2UZagnbxJI2A8ScVrcNzQrkHnxp/lZi5z2TIrNQk3BKi091FVmRQmI00yPRYdQkntS93kb9w78WZZR5SZfZIWNCy6yxt5ui0CAtxxiKl91487iipa1OOqUtSiok7lR8ANgAMLLFYGpJP7mOLZlLmKkhuJezNPjPubdxcf7amrB9yCyfiMWf4MGDFZ2kDeRxXNQkrwbpNUa/3GnD/xie2ekTy/JW/4G2/lNq1Zrb180RwfniH3BdcK9LNzpP0d+zUj3fJ9PP54n2OmM4MRL4pd6rs3RdeTMd4NybhfgUVk79Q5JQt0fFpt0fHCt0D2KMvNH2V9DU1yOzKIisvb9SuatUrv+DyR8MSFb9AY+sV58YLLa5ZFkZfagrPiqVMy0rClTHm0bqZYfWypp5X9lD7Dafe97cS0066kstNTFhQb2y/rkRbzkdC6lSVPgy6W+fSaeRsD3EKAXtyqA3SSMOrgxx1iuUa3KXJrVwVeFTKdDbLsmXNkIYZZQOqlrWQlIHrJ2xWpw4ZDeZmtvULnlbPaSLWqLs1mJLUjlDglVBLzA28D2UdRI9oxYzflGlXFZNw0CCUiTVKVLhMlR2SHHWVITv7NyMV78GnMK3qRZV+ZE1me1TruhXO9VxSpTiW5DrKmGmHeRBO6i2uNssD0eZO/XFlA6YzjB6dw3xVfxJM3KbqvzJy70e5F1CPclQRWxOq8yCoPR40otqaQgLHcrsmnH3HSk7JBA35goJs8oVGg25RadbtLb7OFSojMKMj6rTSAhI+5Ix6iemM45apS6bW6dKpFYp8edBmsrjyY0hsONPNLBSpC0q3CkkEgg9xBxAnM3g5ZJ3LcblyZW5g3Jl8t9xTi4bCEzYzRJ3/ghSkOoHf0LigPDbCP+ZhkfayuP8DP6vB8zDI+1lcf4Ef1eNkTgs0iRMZFzanLoqVOCt3o7VISy4tPqStb7iUn2lCvdidOR2ROWunewouXWV9BTTqZHUp55xaueRMfVtzPvudXHDsBv0ACUpCUpSkOBiHOpjhiZL6grwkZk0eu1SxLsmuB+ZNpbaHI8t8dH3GCU7O9N1oWgqI3O6iVFm/maJn2tLk/BFfrMHzNEz7Wlyfgiv1mMjgwR5J7Kr6pbkmRj6TJou3N8VSlD/TErNL+iTJPShEkyLBgS6jcFQaDMyvVVaXJbje+/Zo5UpQ02TsSlKQTsnmKuUbP3sd8bB0xnBgwYMGDBgwYMGDHyfSx9Y//2Q==",eZ="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAAyAHQBAREA/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAgHCQECBgUE/8QAOhAAAQMCBQIDBAgEBwAAAAAAAQIDBAUGAAcIERIJIRMxURQyYYEVIkFCYnGRkhaCoaIXIyVSU4OT/9oACAEBAAA/ALUvLvhY9Yuu+xdIjlDo1QtWoXVcVeaclsUyJITH8KMhQSXXHFJVtyUSEpCSTwVvtsN17pnW0ylXt9PZJXlD9RFlRpBH7y3jpqd1o9LUpXGbZmZMH8S6ZCWn+2WT/TEhWh1U9F92SWob+YdRoL73ZCatRZKE7+hW0laE/mpQHxwzVl39ZOY9BauewLspNw0l88W5tNlokNFQ808kEgKG43B7jHuYMGIazZ1i6ZskJDlPzHzhoMCotK4uU6M4ubNQfxsR0uOI8/NSQPP0xA9V6wOkKnc/ZHLzqnHy9koyU8v/AHdb/rjlJ/Wo07M7/R2W9/yfTxWoTW/6SFY5sdbnLo1Bhr/Aq4fYlOAPvCsMeKhH2qS3w2WfgVpHxxYpZt2UO/bSot72xMEukXBT49TgPgEeJHebDjatj3B4qG4PcHscexjfFafVdbcy1zl0+6iI7SuFv1dTExaOx4xpDElpO/qQZH6YsWnUC268j/U6LT5qT5iRHQ4D8iDjlqjkNkXW1E1XJaxpij5qkW5CcP8Ac2cR7eugfSDfcR2LVcg7UglxKgHqNE+i3Uk/eCo3Dv8AnuPhhEdTfTlzQ0w0Sr5t6Rczbxbo8ZovVmlRqm5GqMeKnupxLsfgJDSBuVJUApKQT9fvtw+nHJjURqQynnZs0zXzWrdi0aS7GrUaq3BUUfRpT9ZK3XC+EhC0FKgrsO5G+6Tj38uNPma2btwO2nlt1SWq9WWkqWIMa4aoHnEpBKlNpU8C4AASSjlsO5xEjlpawLg1LTtMmU2pq973rNLfVGqFVi3JUGIERbewkqcWp0lLbKzwUrbcrHFKVEp5P7kd0kdOtg09qoZtCfmPcbqQuQ5NkuxYLThO6vDYZWFK7k93Vr389knDI0jShphobCGKZp6y5bDfuqXbMNxz962yo/M46umZU5XUTiKNlta0Dj7vstHjtbflxQMJR1lryNE08Wtl/T1FMm67naSWG093I0dlxSwB8HVx8OnlPZSMtsrbPy9QQRbVCg0ncK33LDCGyd/t34+eOrxvhJurzY6Lr0hS68Gip20a7T6qlafMJcWYigfwn2oEj1SPTE/aUb1VmLpsy0vN17xZNRtqD7W5vvzkttBt4/NxC8S0B2xnGq0IcQptxAUlQIUkjcEH7Dijy8NLFyVfXjd2jqw7nkW1ZtzV9mtTIsd4pjM09MYzEbNb7OKZbkONtJPblx32AKgx2sTpx5a5KZOpzt00zKtal1Zaspqsl9VTddcqLTRBW/zWrZt9O3MeGEoUApPDcpx2XRzyriUjJGvZ01NkyK7fFafbEx76zhhxjwA5Hvup8yCo799kemLBcGDFaevhs5t9QDTpkghBlRKY7HrE5nzHhuzOb4P/AEQd/wAjiypXnjGN8Rjqby5czb0/Zg5dRo/jS63QJbENHrKSgrYPydSg/LCxdH/MiHdWlt2wjI3qFi1yVFWyTupMaSsyGnPglS3H0j4tqw9GN8GKz7VkozA60dwVKikORbNojjclY+0t01qM5+16Tw/lw5Osqizrg0s5r0umo5yVWjUnkI23K/CZU4Uj1JCCB8SMQ30k7ig1nRhb9LiLBeoNXqsCUPRxUlUgf2SEfrhy8GDFZ+Q7idQPVmzIzShoMmhZbwH6fEkHuhL7bSICQkj/AHqMxxPwBxZhgwYMVRVSrS+m/r3qFxVOLLi5O5vKcecebRyaihx0LWUp296K+s/UG6vZ3twOSgMWnUir0uvUqJW6LUY8+BOYRJjSo7gcafaWAUrQodlJIIIIx9+F91jav7A0o5czarVqhFm3hPirFv0AOgvy3lbpS6tIPJDCVblSzsCElKSVEDEI9LPT7dlqWtcupTNdD7l6ZqvmY0uWjaQiApZdLq/LZUh1RcKdvdbaP2kB6pUZmVHcjvstutuJKFtuJCkrSRsUqB7EEbgjFUGU13VPphatbjykzH9oayfzBdE2kVTwlONRRyIjvlQ/4wpTL6RurYIc2ICeVrFIrFLr1NjVijVCPNgzGkvx5Ed1LjbrahuFJUkkKB9Rj7cLHrx1fW5paymniDU47t/V6I5Ht2m77uJWoFJmLH3Wmj9bc++pKUDzJTzHTH03VXIzIpV13tEcZvPMN5FZqSH9/GjxuJ9mZc37hfFa3FA9wp0pPdJw4eDBgxHee2QuW+ozL6dlvmbRvbKdK/zGH2iESYMkAhEiOsg8HE7nvsQoEpUFJJSa+I2kLqL6SpsyDpXzSYvCzFOl1ilSpDDakjckhUWafBQry3Wy4CvbcgeWPQ/ibrR3s0ujx7PotrocHhuVAGlMqbHqObzh+aEE47jT10wnIF7t51atr9czJvMvolJgLedkQkOjbiZDr2y5XHYBKOKGxsQQtOwFgLaENoS22hKEJACUpGwA9BjbEaZ/aeMr9SlivWDmhQxMiElyJLZIRLp7+2wejubHgsdtwQUqHZSVAkYQSNo66iWkiorjaVc22bxtFb5WxR5UhhooBO58SLNPs6CRsC404FK2+72GPrlXh1qLx5USHYFFtkns5PabpLfEeoU884D/ACJOO+039MiZSr5azw1aX2cxb2DolMwVvOyIbDo7pU867sqQUH3UcUtpI8ljbZ+sGN8GDBgwYxsPTGcGDBgwYMGDH//Z",tZ="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAAyAHQBAREA/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAgHCQIFBgEE/8QAPhAAAQMCBQMBBgIHBgcAAAAAAgEDBAUGAAcIERIJITETIkFRYXGBFTIUFhcjQkNSGCQzU2KCcnODkZSi1P/aAAgBAQAAPwC1PBjisy86cp8nKaFWzQzDoNsx3eSM/iEwG3H1TbdGm9+bqpum6Air3wtdd6s2jGjvGxEvWuVZQXblBoEniv0V1G8buyup/oxvOSEL9q60OS7twCtUuTFD7u8CaHbt+Y089t++zM25dNt3fSWK/alwU2tUyUnJibTpQSY7qf6XG1UV+y42WDB5xEubOrHTlkdIKBmfm5QaPPAeRU8XSlTRT3KsZhDdRF37bh32XbfZcQTN6uejWLIJhm4LnliPh1mguoK/RDUS/wC6YkbLvqE6PszZDcKg50UuDLd2RGa0w9TPaX+H1JAA2q/ITXDDsvNSGgfYdBxtwUIDBdxJF8Kip5xnunxwY4nO+ZmtByquSVkhBpky+AhF+DM1FURg39087kI8uPLjyVB5ceXbfFTN363uplb2Zv7BKvJpAXzMUIg0qlUymzpTbjzaEKco6uAJoBIexL7KdyRExP8Ak70n27tnLmRrIzErV33XUiSTKpcKon6IKv8AC/LVPVdLbZNmlbEVTYVJNlw1lt6GtIdrRW4lN082U+Lfg6jTRnuL9TkcyX7rjQ3v069G9+RX2p+SVHpbzu/GTRCOnONL8RRkhBfoQqnywnOZmi7UxoamVDOTRrmLWKxbsUPUqlDkNg7K9FO5G8xxVqaI9/aQAcBO4ptuWOPyU1gdUPUSxUpGTjVs3ClHNsZzfpUiK6z6iFwJW5DrZqK8S2JEUdxVN90XEoJdfWs23/UG3f8AyLf/APpxBtl6peo1q+r8/IiyLriMuSFJirVKkRY8VuCyhKhOFOZReAKorsTRcjTdA5b7K3eS3SJyAs+P+MZzzqpmRcUgvWkFJkuRIQOqu6qLbRI44u++6uOEheeKYYOHon0kQGBjMadbBIB8K9Q2Hj+5GKkv3XEa5ndLnR/mLDeGnWC7Z9QNP3c635bjPpr/AMg1NhU/2b/BUwk+Zlta6umfEfDL/MR+5sqpTwhEmvQhkxobil7IOx3uawyVfeC+ma7d912RktBmdOvLOu46ZfOadPtmdlRVqfKMKpEcp4u+uBcAEAjuK6Jo4KiQuCOyIXheOH5xxedl/tZU5SXjma60j36rUObVgZX+a4yyRAH3JBT74RzpG5QJWLZu7VjfJfil4XvV5UWNOkJycbYFxSkuivuJ58iQl+DAom25b2LomyYMZD4x7inXVna2aujHWuzV9K8xqguZwQm49Pjo0ycYJcqQLTzHF9FaH+8C08KknEfV27CipjW6mr06l+nTLuoUnPfMGLVLYzBiu0Q5TDkeQsdxwOTjQGAtuNGTSOD4UFFT23XulhugrTpb+nvT1bMJimMhclwwGKxX5fBFdclPtiatKfng0Ki2iJ29hS23JVVj8GDGlvOz7ev+1KrZV101moUitRHIUyM6O4uNGOyp8l79l8ouyp3xXH02p1byA1T5yaM6vUnZVIgOvVilm8XFPUacabQkH+p6O8wS7f5KYszxFWq60Kvfum7M20KCyT1Sqdq1BqI0I7q68jJELaJ8SVEH74XPpB5iUu6tKEeymJIfp9k1edCksctzFuQ8Uptzb3CSvOCnzbPDw4MZD4x7isfXRVf2t9RLIDJi1lCZNtWZEqNTbFd1Z5yAlvCXzGJFFz6GmJA6ylm1S4tLtGumnNq4zbF0RZU7bwEd9l1hDX/quMj/AL8Nrp5zApGaeRti3/Q32XYtZoUR5UaXdGnkbQHml+BNuCYKnuUFTEh4MGDFYmkueGd/VHzlzjt5wXreokKREGUHcHiBI8JhUX4GMd40+Q4s4xniq7PfLHNXpwZ+zNU2SdLKs5S3TKQLmoTO4BCRxzkrLm2/APUVSYfRNgIvTJNiRHXi086v8jNStJZkZeXjHSsK3zlUCcQsVKKqfmRWlX2xT+ttSH579kmzHqLhM9WvUsyjyOpkq1MrarCv3MKQixosGmOo/DgvF2E5DwbiRIX8ltVNVTYuG/LHNdO7SVf1r1ut6q9RiS3czr39VxiNNTZ+mxni5OG6PgHndhRAREVpseHZSIRdG/LEtvMmya5l3d0AZlFuGC9AmMr5VpwVFVFfcSboQr5RURU8Yq5y3zSzY6VOasjJrOCnz7oybuGYcukViG2qqyi7CTzIkuwmns+tGUt0X2xVeSKdmeWOdGVWc1FauDK+/KPccJ0EPeFJEnGvHsutLsbRJum4mIknvTHa4+Gs1yi25TH61cNXhUunxR5vy5sgGGWh+JGaoIp81XFcerfqE1DNiW5pf0WxJ113NcxuUuZXqcHsA0SKjjcRS23VR5cpC7NgG5CS/nBndDelODpSyebtma5Hm3ZW3RqNx1Br2kckqOyMAS91aaT2U38kpnsnPZGKxnj5qjTafWIL9LqsFiZDkgrTzD7aG24C+RIV7KmEhzz6S2RWYlVcurKmtVLLCtk56whSm/Xp4ubqvIIymCtd17I04Ap32HviLP7BXUfsxtIFha0RnU1v8jFSuOrMIKJ4QQ9N4R+iEifPGBdNTWLmoI0/P/WNLl0sv8aJHqFQqrZfRt1WW0+6LhoNNvT006abJUe4qFQJFx3Ux7QV2ukL7zJ/FhtERtjZfBCPPvsprhncGOZzBy3sXNO2JdnZg2pTa/R5wqL0Scyhj4VEIV8gabrsYqhJ5RUwhmYnSEt2n1ors03ZzXHl9UQ3NqNJJx9oC9yNSWTbfaH/AIvUXHOtaLOqVBX9EpOs+nPxg/I5LuarK6v1Uohr/wCy4+uH0m83czZ7NT1O6tq7cqNbIsWKsicW3vQJEs9m/d4ZX7YdTITSxkjprpB07KqzWKfJkNo3MqTxK9Nloi7/ALx0vaVN+/FNhT3ImJXVO/ZMZYzwYMGDBgwYMGDBgxivnGWP/9k=",nZ="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAAyAHQBAREA/8QAHQAAAgEFAQEAAAAAAAAAAAAAAAkIAQIEBQcGA//EAEQQAAEDAgQEAAkIBQ0AAAAAAAECAwQABQYHCBEJEiExExQXIkFRYZTUFRkjQlhxgZFXlaGxwxYkMkNHUlaWo7PBxNL/2gAIAQEAAD8AanXhM6s6svtP+X1xzMzMvIt9lt4CAEJ535L6v6DDLf13FbHYdAACokJSpQXszr41/aiJsi86WNOEZjCTC1tszJcMylOqB680lxxpgrAA3bQCUkkEq6V9vLHxnf0JWj9XwfiaPLHxnf0JWj9Xwfiax5+rniqZPx1YuzW052y6YcjfSTg3aipTLKeq188R9RaGx6rWhSR06V2LBXGA0pX3DEC6YwexBhe8vN7zLUq3OzRHcB2IS+0nlcSe4Vsk7HqlJ6VvPnatFn+Nb7/l+V/5rjuYnFRzCzNxerLvRDkzNxlM8GlSrlcbc+6SNvPUiM0tJbQOn0jqwN9907bE4Xln4y4/sIsvuUP4qgZz8ZgnbyEWT3OH8VXzdzu4yluC5cnIe0Ptt92k26K5v9yW5PMfw3rrulLiQxs2MfKyNz8wG9lzmOlZjsMOtOsxpkhPdgtvfSRnj3S2sqCuwXzFKVTaBB7VWsK/3KTaLJcLrEtki4vQoj0luJHG7shSEFQaQPSpRAA9ppJmJtSOZPEcz9yqyZzOssDC+GkYhU29AthfbU4hRSp0uqcUeZ1LLakIICQCtR2HNtTs7BYLJhaywsOYctUa22u2sIixIkZsNtMNISEpQlI6AAACthRVh7UmbVrp2yCy/wCIbhrDWNWW7HlxmDCavV0SzNEFm2OPKksrUhwjlabDrCXOXokBZSnYbAa7VZkdw8sG5EXjF2nrMVWIsXMzYsOLFRiJLqmgtzdx1TC0ha0BCFJ5kjYKWnr1pi/D3yKwpkrpiwY9aLex8s4vtUTEd5nBO7sh+Syl1CCrvyttrS2kDp0Ue6iTJaiqHtS8OL3lBZ0ZbYe1IYfSm14zwhd4kQ3KNs269HcUS2FEdSpt5LakH0BSx6Rt7bh2a38x9WkjFNjx7gKBAXhmJFeTeLWl1Md5bhKC04lZUEuHkUscqttgroNhvNer6WrrNQMPcULTlihXRFxYtds39ZVcJTf/AGB+dMqooqhG42pUuujK+FqM4lmW+StwuciBBuGGYkSa/HSFOoYbXPluhG/QKLYICjuEkg7K22Ou4hHDfygyPyTdzjyWXebZ8gOxY93tsmUuW1LZddQ0HwpZ5kLDi0FQ6pIPRKdurCdHF0TeNKGUMxP1cF2hg/e1FQ2f2oNdjooqDHGNunyfpIjRebY3TFtuh7evZqQ9/BqTumqy/wAntPOWVn680TB1kYXv33RBZSf3V0qilp8T3fD2p7S3jEHZbWINyfZHuFvcH+6aZZRRRS13lqxBxqUJUOZOHMPbA/3d7IVfvl1JDiRW5F10SZnxnE7hMGDI/Fq4RnB+1AqvDdujl30VZYS3Fc3Jb5UUewMTX2dv9OpL0UUu3jXXIt5D4EsgVsJWMEyyPX4KG+j+PU+cJWgWDDVos6T5kG3x4wHq5G0p/wCK3NUPalu8Zq0XCBhXKTM6LGUpnDOI347jo+ot5DbqB+PiivypiOHL/asV4eteKLFLRKtt4hMz4b6Dul1h1AW2sewpUD+NbKiilmaXp7eZ/FVzqzEsX86s1ltsm3GW2rmb8K34pDRsr083i7xB9STU1NWmGpmMtLuaOHLcwp6XLwncfF2kp3Ut1DClpSB6yUgCuE8I7G1oxHpEtuGoUoLm4Uu9xgzGiRzNl59Uls7b78pS/wBDsASFD0Gpq0UUtHi1y2Mb5p5AZH2p5Eu73a9LfeggblDciRGjx1qHqUpMgdv6tVMrICQEjsBtVw7VWufZ85J4Q1C5V33KjGqXU2+8shKJDO3hYj6TzNPt7/WQoA7diN0noTS2sIYu4gnDwSrLCble/mnl1BeWu1yocV+S0y0olRDb7IUuMkkklp1BAO5T0O6vWfOzZ8/Ytu/vk34SqfOzZ8/Ytu3vk34StPiTWXxA9UUF7LbJHTpccDJujRYmXkMSC7HaWNlFMyQltmPuN/O5ecd0EEb1MXRHpEtGkvK1dgfmMXLFmIXUTsR3FgKDbjyUkNx2yrzi00FLCSdiorWrZPNyiRPXsB0pYGZumHU7ogznu+eWi+yrxHgi+nwlzwoyyqQppPMVGOuMlXhHWkkktONEOICik7AEryG+K1qLhoEe56J78JCR5/K7OaG/sSqIoj8zV3zsefn2KMQe9TPg6se4oWrDFLarLl/orvCL0+kiOp5mfNSFestIYaKh7OYffXvdGWjbOGfnHI1i6vLn47jqUFrs1pW4lZglbfgw84EfRo5WypDTKdwgK5jsoDln7V9FFFFFFFWVfRRRRRRX/9k=",qL=()=>{const[n,e]=V.useState([]),t=[{name:"Aviator",img:QQ},{name:"Round",img:ZQ},{name:"Rectangle",img:$Q},{name:"Cat Eye",img:eZ},{name:"Oval",img:tZ},{name:"Square",img:nZ}],i=async()=>{try{const a=(await St.get("/getAllProduct")).data.products||[],o=new Set(a.map(d=>d.frame_shape).filter(d=>typeof d=="string"&&d.trim()!=="")),c=t.filter(d=>o.has(d.name));e(c)}catch(s){console.log(s)}};return V.useEffect(()=>{i()},[]),r.jsxs("div",{className:"bg-ray text-center py-10",children:[r.jsx("h2",{className:"text-3xl font-semibold",children:"Shop by Frame Shape"}),r.jsx("hr",{className:"w-86 mt-2 mb-4 mx-auto border-black"}),r.jsx("p",{className:"text-gray-700 text-xl mx-6",children:"Choose the perfect frames for your face or your style."}),r.jsx("div",{className:"flex justify-between md:mx-26 mt-6 flex-wrap gap-y-6 mx-12",children:n.map((s,a)=>r.jsx(xt,{to:`/products/frame-shape/${s.name.toLowerCase()}`,children:r.jsxs("div",{className:"text-center cursor-pointer",children:[r.jsx("img",{src:s.img,alt:s.name,loading:"lazy",decoding:"async",className:"hover:scale-120 hover:cursor-pointer"}),r.jsx("h1",{className:"mt-2 text-lg font-medium",children:s.name})]})},a))})]})},iZ="/assets/eyecheck-Dp2mV9hx.jpeg",sZ="/assets/eyecheck2-Bhjmiqoo.png";var F0={},K0={exports:{}},rZ=K0.exports,XR;function aZ(){return XR||(XR=1,function(n,e){(function(t,i){i(e)})(rZ,function(t){var i=function(){return i=Object.assign||function(a){for(var o,c=1,d=arguments.length;c<d;c++)for(var h in o=arguments[c])Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h]);return a},i.apply(this,arguments)},s=function(){function a(o,c,d){var h=this;this.endVal=c,this.options=d,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(m){h.startTime||(h.startTime=m);var x=m-h.startTime;h.remaining=h.duration-x,h.useEasing?h.countDown?h.frameVal=h.startVal-h.easingFn(x,0,h.startVal-h.endVal,h.duration):h.frameVal=h.easingFn(x,h.startVal,h.endVal-h.startVal,h.duration):h.frameVal=h.startVal+(h.endVal-h.startVal)*(x/h.duration);var y=h.countDown?h.frameVal<h.endVal:h.frameVal>h.endVal;h.frameVal=y?h.endVal:h.frameVal,h.frameVal=Number(h.frameVal.toFixed(h.options.decimalPlaces)),h.printValue(h.frameVal),x<h.duration?h.rAF=requestAnimationFrame(h.count):h.finalEndVal!==null?h.update(h.finalEndVal):h.options.onCompleteCallback&&h.options.onCompleteCallback()},this.formatNumber=function(m){var x,y,b,S,_=m<0?"-":"";x=Math.abs(m).toFixed(h.options.decimalPlaces);var E=(x+="").split(".");if(y=E[0],b=E.length>1?h.options.decimal+E[1]:"",h.options.useGrouping){S="";for(var A=3,P=0,N=0,L=y.length;N<L;++N)h.options.useIndianSeparators&&N===4&&(A=2,P=1),N!==0&&P%A==0&&(S=h.options.separator+S),P++,S=y[L-N-1]+S;y=S}return h.options.numerals&&h.options.numerals.length&&(y=y.replace(/[0-9]/g,function(j){return h.options.numerals[+j]}),b=b.replace(/[0-9]/g,function(j){return h.options.numerals[+j]})),_+h.options.prefix+y+b+h.options.suffix},this.easeOutExpo=function(m,x,y,b){return y*(1-Math.pow(2,-10*m/b))*1024/1023+x},this.options=i(i({},this.defaults),d),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,c=c??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(c),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return h.handleScroll(h)}),window.onscroll=function(){window.onScrollFns.forEach(function(m){return m()})},this.handleScroll(this)))}return a.prototype.handleScroll=function(o){if(o&&window&&!o.once){var c=window.innerHeight+window.scrollY,d=o.el.getBoundingClientRect(),h=d.top+window.pageYOffset,m=d.top+d.height+window.pageYOffset;m<c&&m>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>m||h>c)&&!o.paused&&o.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var c=o-this.startVal;if(Math.abs(c)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var d=this.countDown?1:-1;this.endVal=o+d*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(o){var c;if(this.el){var d=this.formattingFn(o);!((c=this.options.plugin)===null||c===void 0)&&c.render?this.options.plugin.render(this.el,d):this.el.tagName==="INPUT"?this.el.value=d:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=d:this.el.innerHTML=d}},a.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},a.prototype.validateValue=function(o){var c=Number(o);return this.ensureNumber(c)?c:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(o){var c=function(x){return x.replace(/([.,' ])/g,"\\$1")},d=c(this.options.separator),h=c(this.options.decimal),m=o.replace(new RegExp(d,"g"),"").replace(new RegExp(h,"g"),".");return parseFloat(m)},a}();t.CountUp=s})}(K0,K0.exports)),K0.exports}var YR;function oZ(){if(YR)return F0;YR=1,Object.defineProperty(F0,"__esModule",{value:!0});var n=Er(),e=aZ();function t(F,D){var B=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(B!=null){var q,Y,G,W,$=[],z=!0,I=!1;try{if(G=(B=B.call(F)).next,D!==0)for(;!(z=(q=G.call(B)).done)&&($.push(q.value),$.length!==D);z=!0);}catch(Q){I=!0,Y=Q}finally{try{if(!z&&B.return!=null&&(W=B.return(),Object(W)!==W))return}finally{if(I)throw Y}}return $}}function i(F,D){var B=Object.keys(F);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(F);D&&(q=q.filter(function(Y){return Object.getOwnPropertyDescriptor(F,Y).enumerable})),B.push.apply(B,q)}return B}function s(F){for(var D=1;D<arguments.length;D++){var B=arguments[D]!=null?arguments[D]:{};D%2?i(Object(B),!0).forEach(function(q){c(F,q,B[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(B)):i(Object(B)).forEach(function(q){Object.defineProperty(F,q,Object.getOwnPropertyDescriptor(B,q))})}return F}function a(F,D){if(typeof F!="object"||!F)return F;var B=F[Symbol.toPrimitive];if(B!==void 0){var q=B.call(F,D);if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(F)}function o(F){var D=a(F,"string");return typeof D=="symbol"?D:String(D)}function c(F,D,B){return D=o(D),D in F?Object.defineProperty(F,D,{value:B,enumerable:!0,configurable:!0,writable:!0}):F[D]=B,F}function d(){return d=Object.assign?Object.assign.bind():function(F){for(var D=1;D<arguments.length;D++){var B=arguments[D];for(var q in B)Object.prototype.hasOwnProperty.call(B,q)&&(F[q]=B[q])}return F},d.apply(this,arguments)}function h(F,D){if(F==null)return{};var B={},q=Object.keys(F),Y,G;for(G=0;G<q.length;G++)Y=q[G],!(D.indexOf(Y)>=0)&&(B[Y]=F[Y]);return B}function m(F,D){if(F==null)return{};var B=h(F,D),q,Y;if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(F);for(Y=0;Y<G.length;Y++)q=G[Y],!(D.indexOf(q)>=0)&&Object.prototype.propertyIsEnumerable.call(F,q)&&(B[q]=F[q])}return B}function x(F,D){return y(F)||t(F,D)||b(F,D)||_()}function y(F){if(Array.isArray(F))return F}function b(F,D){if(F){if(typeof F=="string")return S(F,D);var B=Object.prototype.toString.call(F).slice(8,-1);if(B==="Object"&&F.constructor&&(B=F.constructor.name),B==="Map"||B==="Set")return Array.from(F);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return S(F,D)}}function S(F,D){(D==null||D>F.length)&&(D=F.length);for(var B=0,q=new Array(D);B<D;B++)q[B]=F[B];return q}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?n.useLayoutEffect:n.useEffect;function A(F){var D=n.useRef(F);return E(function(){D.current=F}),n.useCallback(function(){for(var B=arguments.length,q=new Array(B),Y=0;Y<B;Y++)q[Y]=arguments[Y];return D.current.apply(void 0,q)},[])}var P=function(D,B){var q=B.decimal,Y=B.decimals,G=B.duration,W=B.easingFn,$=B.end,z=B.formattingFn,I=B.numerals,Q=B.prefix,K=B.separator,T=B.start,X=B.suffix,ee=B.useEasing,oe=B.useGrouping,ce=B.useIndianSeparators,re=B.enableScrollSpy,ue=B.scrollSpyDelay,ye=B.scrollSpyOnce,Ve=B.plugin;return new e.CountUp(D,$,{startVal:T,duration:G,decimal:q,decimalPlaces:Y,easingFn:W,formattingFn:z,numerals:I,separator:K,prefix:Q,suffix:X,plugin:Ve,useEasing:ee,useIndianSeparators:ce,useGrouping:oe,enableScrollSpy:re,scrollSpyDelay:ue,scrollSpyOnce:ye})},N=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],L={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},j=function(D){var B=Object.fromEntries(Object.entries(D).filter(function(le){var Me=x(le,2),Ae=Me[1];return Ae!==void 0})),q=n.useMemo(function(){return s(s({},L),B)},[D]),Y=q.ref,G=q.startOnMount,W=q.enableReinitialize,$=q.delay,z=q.onEnd,I=q.onStart,Q=q.onPauseResume,K=q.onReset,T=q.onUpdate,X=m(q,N),ee=n.useRef(),oe=n.useRef(),ce=n.useRef(!1),re=A(function(){return P(typeof Y=="string"?Y:Y.current,X)}),ue=A(function(le){var Me=ee.current;if(Me&&!le)return Me;var Ae=re();return ee.current=Ae,Ae}),ye=A(function(){var le=function(){return ue(!0).start(function(){z?.({pauseResume:Ve,reset:Qe,start:mt,update:We})})};$&&$>0?oe.current=setTimeout(le,$*1e3):le(),I?.({pauseResume:Ve,reset:Qe,update:We})}),Ve=A(function(){ue().pauseResume(),Q?.({reset:Qe,start:mt,update:We})}),Qe=A(function(){ue().el&&(oe.current&&clearTimeout(oe.current),ue().reset(),K?.({pauseResume:Ve,start:mt,update:We}))}),We=A(function(le){ue().update(le),T?.({pauseResume:Ve,reset:Qe,start:mt})}),mt=A(function(){Qe(),ye()}),ut=A(function(le){G&&(le&&Qe(),ye())});return n.useEffect(function(){ce.current?W&&ut(!0):(ce.current=!0,ut())},[W,ce,ut,$,D.start,D.suffix,D.prefix,D.duration,D.separator,D.decimals,D.decimal,D.formattingFn]),n.useEffect(function(){return function(){Qe()}},[Qe]),{start:mt,pauseResume:Ve,reset:Qe,update:We,getCountUp:ue}},R=["className","redraw","containerProps","children","style"],k=function(D){var B=D.className,q=D.redraw,Y=D.containerProps,G=D.children,W=D.style,$=m(D,R),z=n.useRef(null),I=n.useRef(!1),Q=j(s(s({},$),{},{ref:z,startOnMount:typeof G!="function"||D.delay===0,enableReinitialize:!1})),K=Q.start,T=Q.reset,X=Q.update,ee=Q.pauseResume,oe=Q.getCountUp,ce=A(function(){K()}),re=A(function(Ve){D.preserveValue||T(),X(Ve)}),ue=A(function(){if(typeof D.children=="function"&&!(z.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}oe()});n.useEffect(function(){ue()},[ue]),n.useEffect(function(){I.current&&re(D.end)},[D.end,re]);var ye=q&&D;return n.useEffect(function(){q&&I.current&&ce()},[ce,q,ye]),n.useEffect(function(){!q&&I.current&&ce()},[ce,q,D.start,D.suffix,D.prefix,D.duration,D.separator,D.decimals,D.decimal,D.className,D.formattingFn]),n.useEffect(function(){I.current=!0},[]),typeof G=="function"?G({countUpRef:z,start:K,reset:T,update:X,pauseResume:ee,getCountUp:oe}):n.createElement("span",d({className:B,ref:z,style:W},Y),typeof D.start<"u"?oe().formattingFn(D.start):"")};return F0.default=k,F0.useCountUp=j,F0}var lZ=oZ();const cx=Af(lZ),cZ=()=>{const[n,e]=V.useState([{}]),t=async()=>{try{const i=await St.get("/getEyecheck",{headers:{"Content-Type":"application/json"}});e(i.data.eyeCheck[0])}catch(i){console.log(i)}};return V.useEffect(()=>{t()},[]),r.jsxs("section",{className:"flex flex-col md:flex-row items-center justify-between px-14 py-12 bg-white gap-x-30",children:[r.jsxs("div",{className:"mb-8 md:mb-0 md:ml-10 md:w-1/2",children:[r.jsx("h2",{className:"text-3xl font-semibold mb-4 text-gray-800",children:n?.heading}),r.jsx("hr",{className:"w-52 mb-8 border-black"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:n?.description}),r.jsx(xt,{to:"/eye-check-details",children:r.jsxs("button",{className:"flex items-center gap-4 text-white font-medium bg-[#f00000] px-4 py-2 rounded mr-22 hover:bg-black hover:cursor-pointer transition-colors duration-300 hover:cursor-pointer",children:["Learn More",r.jsx("span",{className:"bg-white text-black p-1 rounded-full",children:r.jsx(o2,{size:18,className:"hover:rotate-[-45deg] transition duration-250 ease-in-out text-black hover:cursor-pointer"})})]})})]}),r.jsxs("div",{className:"md:grid grid-cols-2 md:gap-4 gap-2 my-10 md:w-1/2 md:mr-12 ",children:[r.jsx("div",{className:"overflow-hidden shadow-md h-[270px] hover:scale-105 transition-all duration-300 rounded-lg",children:r.jsx("img",{src:iZ,alt:"Student Reading",className:"w-full h-full object-fill",loading:"lazy",decoding:"async"})}),r.jsx("div",{className:"hover:scale-105 transition-all duration-300 rounded-lg",children:r.jsxs("div",{className:"bg-gradient-to-br from-red-600 via-black to-red-600  text-white flex flex-col justify-center items-center rounded-xl shadow-xl p-8 mt-6 shadow-white",children:[r.jsxs("h2",{className:"text-6xl font-bold hover:scale-120 hover:cursor-pointer",children:[r.jsx(cx,{end:1,duration:3}),"K+"]}),r.jsx("p",{className:"mt-20 text-xl",children:"Qualified Instructor"})]})}),r.jsx("div",{className:"hover:scale-105 transition-all duration-300 rounded-lg",children:r.jsxs("div",{className:"bg-gradient-to-br from-red-600 via-black to-red-600  text-white flex flex-col justify-center items-center rounded-xl shadow-md p-8 mt-6",children:[r.jsxs("h2",{className:"text-6xl font-bold hover:scale-120 hover:cursor-pointer",children:[r.jsx(cx,{end:9,duration:3}),"K+"]}),r.jsx("p",{className:"mt-20 text-xl",children:"Active Student"})]})}),r.jsx("div",{className:"overflow-hidden shadow-md h-[270px] hover:scale-105 transition-all duration-300 rounded-lg md:mt-0 mt-6",children:r.jsx("img",{src:sZ,alt:"Group Learning",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})})]})]})},uZ="/assets/bgimage-DU6QezWt.png",dZ="/assets/woman-CxOKnjAX.jpg";function z0(n){return jn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 18l14 -6l-14 -6"},child:[]}]})(n)}function hZ(){return r.jsx(r.Fragment,{children:r.jsx("div",{className:"",style:{backgroundImage:`url(${uZ})`,backgroundSize:"cover",backgroundPosition:"center",height:"100vh"},children:r.jsxs("div",{className:"flex ",children:[r.jsx("div",{className:"mt-14 h-[560px] w-[665px] ml-26 hidden md:block",children:r.jsx("img",{src:dZ,alt:"Woman",loading:"lazy",decoding:"async",className:"object-cover w-full h-full rounded-tl-2xl rounded-bl-2xl"})}),r.jsxs("div",{className:"bg-white mt-14 md:mr-26 md:w-160 rounded-br-2xl",children:[r.jsxs("h1",{className:"text-3xl font-bold mt-10 ml-10",children:[" OUR ",r.jsx("span",{className:"text-[#f00000]",children:"PROMOTIONS"})," "]}),r.jsx("hr",{className:"mt-2 w-68 ml-10 border-black"}),r.jsx("p",{className:"text-lg text-zinc-600 m-10 text-justify",children:"We offers Multiple Pair Savings of 40% on our eyewear. Some exclusions apply. With the purchase of a Year Supply of Contacts, Eyewear Concepts offers: Contact Lens Replacement and Exchange - Contact lens replacement and exchange"}),r.jsxs("div",{className:"flex items-center ml-10 mb-8",children:[r.jsx("span",{children:r.jsx(z0,{className:"bg-[#f00000] text-white rounded-full text-center text-3xl p-1 hover:rotate-180 hover:cursor-pointer"})}),r.jsx("span",{className:"font-semibold text-lg mr-8 ml-2",children:"Progressive Lenses"}),r.jsx("span",{children:r.jsx(z0,{className:"bg-[#f00000] rounded-full text-center text-white text-3xl p-1 hover:rotate-180 hover:cursor-pointer"})}),r.jsx("span",{className:"font-semibold text-lg ml-2",children:"2 Pairs of Prescription Glasses"})]}),r.jsxs("div",{className:"flex items-center ml-10 mb-8",children:[r.jsx("span",{children:r.jsx(z0,{className:"bg-[#f00000] text-white rounded-full text-center text-3xl p-1 hover:rotate-180 hover:cursor-pointer"})}),r.jsx("span",{className:"font-semibold text-lg mr-16 ml-2",children:"Contact Lenses"}),r.jsx("span",{children:r.jsx(z0,{className:"bg-[#f00000] rounded-full text-center text-white text-3xl p-1 hover:rotate-180 hover:cursor-pointer"})}),r.jsx("span",{className:"font-semibold text-lg ml-2",children:"Designer Frames"})]}),r.jsxs("div",{className:"flex items-center ml-10",children:[r.jsx("span",{children:r.jsx(z0,{className:"bg-[#f00000] text-white rounded-full text-center text-3xl p-1 hover:rotate-180 hover:cursor-pointer"})}),r.jsx("span",{className:"font-semibold text-lg mr-8 ml-2",children:"Childrens Glasses"})]}),r.jsx(xt,{to:"/promotions-page",children:r.jsx("button",{className:"bg-[#f00000] rounded-lg text-white p-3 font-semibold text-lg ml-10 mt-8 mb-6 hover:cursor-pointer hover:bg-black",children:"View Promotion"})})]})]})})})}const fZ=()=>{const[n,e]=V.useState([{}]),t=async()=>{try{const i=await St.get("/getreview");e(i.data.reviews||[])}catch(i){console.error("Failed to fetch reviews:",i)}};return V.useEffect(()=>{t()},[]),r.jsx(r.Fragment,{children:n.map((i,s)=>r.jsxs("div",{className:"flex md:mt-26 mt-16",children:[r.jsx("div",{children:r.jsxs("div",{className:"md:ml-26 md:mx-0 mx-6",children:[r.jsx("p",{className:"text-3xl font-bold",children:"We are experienced and professional"}),r.jsx("hr",{className:"border-black mt-2 md:w-122 w-42"}),r.jsx("p",{className:"mt-6",children:i.description}),r.jsxs("div",{className:"flex mt-10 gap-10 items-center",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"font-bold text-3xl",children:[r.jsx(cx,{start:0,end:Number(i.followers)||0,duration:3}),"k+"]}),r.jsx("p",{className:"text-lg",children:"Followers"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"font-bold text-3xl",children:[r.jsx(cx,{start:0,end:Number(i.frames)||0,duration:3}),"k+"]}),r.jsx("p",{className:"text-lg",children:"Frames"})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"font-bold text-3xl",children:[r.jsx(cx,{start:0,end:Number(i.customer)||0,duration:3}),"%"]}),r.jsx("p",{className:"text-lg",children:"Satisfied Customer"})]})]})]})}),r.jsx("div",{className:"mr-16 ml-20 pb-20 w-800 md:block hidden",children:r.jsx("div",{className:"bg-[#f00000] rounded-xl ",children:r.jsx("img",{src:`${Pn+i.image}`,alt:"woman",loading:"lazy",decoding:"async",className:"rounded-xl w-full h-full -translate-6 border-red-600 border-2 "})})})]},s))})},LM=V.createContext({});function IM(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const UM=typeof window<"u",WL=UM?V.useLayoutEffect:V.useEffect,V2=V.createContext(null);function kM(n,e){n.indexOf(e)===-1&&n.push(e)}function FM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tu=(n,e,t)=>t>e?e:t<n?n:t;let zM=()=>{};const nu={},XL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function YL(n){return typeof n=="object"&&n!==null}const KL=n=>/^0[^.\s]+$/u.test(n);function HM(n){let e;return()=>(e===void 0&&(e=n()),e)}const bo=n=>n,pZ=(n,e)=>t=>e(n(t)),oy=(...n)=>n.reduce(pZ),Bx=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class VM{constructor(){this.subscriptions=[]}add(e){return kM(this.subscriptions,e),()=>FM(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tc=n=>n*1e3,nc=n=>n/1e3;function JL(n,e){return e?n*(1e3/e):0}const QL=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,mZ=1e-7,gZ=12;function xZ(n,e,t,i,s){let a,o,c=0;do o=e+(t-e)/2,a=QL(o,i,s)-n,a>0?t=o:e=o;while(Math.abs(a)>mZ&&++c<gZ);return o}function ly(n,e,t,i){if(n===e&&t===i)return bo;const s=a=>xZ(a,0,1,n,t);return a=>a===0||a===1?a:QL(s(a),e,i)}const ZL=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,$L=n=>e=>1-n(1-e),e6=ly(.33,1.53,.69,.99),GM=$L(e6),t6=ZL(GM),n6=n=>(n*=2)<1?.5*GM(n):.5*(2-Math.pow(2,-10*(n-1))),qM=n=>1-Math.sin(Math.acos(n)),i6=$L(qM),s6=ZL(qM),yZ=ly(.42,0,1,1),vZ=ly(0,0,.58,1),r6=ly(.42,0,.58,1),bZ=n=>Array.isArray(n)&&typeof n[0]!="number",a6=n=>Array.isArray(n)&&typeof n[0]=="number",wZ={linear:bo,easeIn:yZ,easeInOut:r6,easeOut:vZ,circIn:qM,circInOut:s6,circOut:i6,backIn:GM,backInOut:t6,backOut:e6,anticipate:n6},SZ=n=>typeof n=="string",KR=n=>{if(a6(n)){zM(n.length===4);const[e,t,i,s]=n;return ly(e,t,i,s)}else if(SZ(n))return wZ[n];return n},Xb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AZ(n,e){let t=new Set,i=new Set,s=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),n()),m(c)}const h={schedule:(m,x=!1,y=!1)=>{const S=y&&s?t:i;return x&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[t,i]=[i,t],t.forEach(d),t.clear(),s=!1,a&&(a=!1,h.process(m))}};return h}const _Z=40;function o6(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,o=Xb.reduce((N,L)=>(N[L]=AZ(a),N),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:x,preRender:y,render:b,postRender:S}=o,_=()=>{const N=nu.useManualTiming?s.timestamp:performance.now();t=!1,nu.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(N-s.timestamp,_Z),1)),s.timestamp=N,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),x.process(s),y.process(s),b.process(s),S.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(_))},E=()=>{t=!0,i=!0,s.isProcessing||n(_)};return{schedule:Xb.reduce((N,L)=>{const j=o[L];return N[L]=(R,k=!1,F=!1)=>(t||E(),j.schedule(R,k,F)),N},{}),cancel:N=>{for(let L=0;L<Xb.length;L++)o[Xb[L]].cancel(N)},state:s,steps:o}}const{schedule:Ui,cancel:bd,state:rr,steps:N_}=o6(typeof requestAnimationFrame<"u"?requestAnimationFrame:bo,!0);let x1;function EZ(){x1=void 0}const xa={now:()=>(x1===void 0&&xa.set(rr.isProcessing||nu.useManualTiming?rr.timestamp:performance.now()),x1),set:n=>{x1=n,queueMicrotask(EZ)}},l6=n=>e=>typeof e=="string"&&e.startsWith(n),WM=l6("--"),CZ=l6("var(--"),XM=n=>CZ(n)?MZ.test(n.split("/*")[0].trim()):!1,MZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Dx={...Qm,transform:n=>tu(0,1,n)},Yb={...Qm,default:1},ux=n=>Math.round(n*1e5)/1e5,YM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TZ(n){return n==null}const NZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,KM=(n,e)=>t=>!!(typeof t=="string"&&NZ.test(t)&&t.startsWith(n)||e&&!TZ(t)&&Object.prototype.hasOwnProperty.call(t,e)),c6=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,a,o,c]=i.match(YM);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},jZ=n=>tu(0,255,n),j_={...Qm,transform:n=>Math.round(jZ(n))},tf={test:KM("rgb","red"),parse:c6("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+j_.transform(n)+", "+j_.transform(e)+", "+j_.transform(t)+", "+ux(Dx.transform(i))+")"};function RZ(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const GE={test:KM("#"),parse:RZ,transform:tf.transform},cy=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ad=cy("deg"),ic=cy("%"),fn=cy("px"),BZ=cy("vh"),DZ=cy("vw"),JR={...ic,parse:n=>ic.parse(n)/100,transform:n=>ic.transform(n*100)},om={test:KM("hsl","hue"),parse:c6("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ic.transform(ux(e))+", "+ic.transform(ux(t))+", "+ux(Dx.transform(i))+")"},vs={test:n=>tf.test(n)||GE.test(n)||om.test(n),parse:n=>tf.test(n)?tf.parse(n):om.test(n)?om.parse(n):GE.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?tf.transform(n):om.transform(n),getAnimatableNone:n=>{const e=vs.parse(n);return e.alpha=0,vs.transform(e)}},OZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PZ(n){return isNaN(n)&&typeof n=="string"&&(n.match(YM)?.length||0)+(n.match(OZ)?.length||0)>0}const u6="number",d6="color",LZ="var",IZ="var(",QR="${}",UZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ox(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(UZ,d=>(vs.test(d)?(i.color.push(a),s.push(d6),t.push(vs.parse(d))):d.startsWith(IZ)?(i.var.push(a),s.push(LZ),t.push(d)):(i.number.push(a),s.push(u6),t.push(parseFloat(d))),++a,QR)).split(QR);return{values:t,split:c,indexes:i,types:s}}function h6(n){return Ox(n).values}function f6(n){const{split:e,types:t}=Ox(n),i=e.length;return s=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],s[o]!==void 0){const c=t[o];c===u6?a+=ux(s[o]):c===d6?a+=vs.transform(s[o]):a+=s[o]}return a}}const kZ=n=>typeof n=="number"?0:vs.test(n)?vs.getAnimatableNone(n):n;function FZ(n){const e=h6(n);return f6(n)(e.map(kZ))}const wd={test:PZ,parse:h6,createTransformer:f6,getAnimatableNone:FZ};function R_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function zZ({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,a=0,o=0;if(!e)s=a=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=R_(d,c,n+1/3),a=R_(d,c,n),o=R_(d,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function jw(n,e){return t=>t>0?e:n}const Wi=(n,e,t)=>n+(e-n)*t,B_=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},HZ=[GE,tf,om],VZ=n=>HZ.find(e=>e.test(n));function ZR(n){const e=VZ(n);if(!e)return!1;let t=e.parse(n);return e===om&&(t=zZ(t)),t}const $R=(n,e)=>{const t=ZR(n),i=ZR(e);if(!t||!i)return jw(n,e);const s={...t};return a=>(s.red=B_(t.red,i.red,a),s.green=B_(t.green,i.green,a),s.blue=B_(t.blue,i.blue,a),s.alpha=Wi(t.alpha,i.alpha,a),tf.transform(s))},qE=new Set(["none","hidden"]);function GZ(n,e){return qE.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function qZ(n,e){return t=>Wi(n,e,t)}function JM(n){return typeof n=="number"?qZ:typeof n=="string"?XM(n)?jw:vs.test(n)?$R:YZ:Array.isArray(n)?p6:typeof n=="object"?vs.test(n)?$R:WZ:jw}function p6(n,e){const t=[...n],i=t.length,s=n.map((a,o)=>JM(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)t[o]=s[o](a);return t}}function WZ(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=JM(n[s])(n[s],e[s]));return s=>{for(const a in i)t[a]=i[a](s);return t}}function XZ(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=n.indexes[a][i[a]],c=n.values[o]??0;t[s]=c,i[a]++}return t}const YZ=(n,e)=>{const t=wd.createTransformer(e),i=Ox(n),s=Ox(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?qE.has(n)&&!s.values.length||qE.has(e)&&!i.values.length?GZ(n,e):oy(p6(XZ(i,s),s.values),t):jw(n,e)};function m6(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Wi(n,e,t):JM(n)(n,e)}const KZ=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ui.update(e,t),stop:()=>bd(e),now:()=>rr.isProcessing?rr.timestamp:xa.now()}},g6=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)i+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Rw=2e4;function QM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Rw;)e+=t,i=n.next(e);return e>=Rw?1/0:e}function JZ(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(QM(i),Rw);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:nc(s)}}const QZ=5;function x6(n,e,t){const i=Math.max(e-QZ,0);return JL(t-n(i),e-i)}const Qi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},D_=.001;function ZZ({duration:n=Qi.duration,bounce:e=Qi.bounce,velocity:t=Qi.velocity,mass:i=Qi.mass}){let s,a,o=1-e;o=tu(Qi.minDamping,Qi.maxDamping,o),n=tu(Qi.minDuration,Qi.maxDuration,nc(n)),o<1?(s=h=>{const m=h*o,x=m*n,y=m-t,b=WE(h,o),S=Math.exp(-x);return D_-y/b*S},a=h=>{const x=h*o*n,y=x*t+t,b=Math.pow(o,2)*Math.pow(h,2)*n,S=Math.exp(-x),_=WE(Math.pow(h,2),o);return(-s(h)+D_>0?-1:1)*((y-b)*S)/_}):(s=h=>{const m=Math.exp(-h*n),x=(h-t)*n+1;return-D_+m*x},a=h=>{const m=Math.exp(-h*n),x=(t-h)*(n*n);return m*x});const c=5/n,d=e$(s,a,c);if(n=tc(n),isNaN(d))return{stiffness:Qi.stiffness,damping:Qi.damping,duration:n};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:o*2*Math.sqrt(i*h),duration:n}}}const $Z=12;function e$(n,e,t){let i=t;for(let s=1;s<$Z;s++)i=i-n(i)/e(i);return i}function WE(n,e){return n*Math.sqrt(1-e*e)}const t$=["duration","bounce"],n$=["stiffness","damping","mass"];function e4(n,e){return e.some(t=>n[t]!==void 0)}function i$(n){let e={velocity:Qi.velocity,stiffness:Qi.stiffness,damping:Qi.damping,mass:Qi.mass,isResolvedFromDuration:!1,...n};if(!e4(n,n$)&&e4(n,t$))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,a=2*tu(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Qi.mass,stiffness:s,damping:a}}else{const t=ZZ(n);e={...e,...t,mass:Qi.mass},e.isResolvedFromDuration=!0}return e}function Bw(n=Qi.visualDuration,e=Qi.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const a=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:x,velocity:y,isResolvedFromDuration:b}=i$({...t,velocity:-nc(t.velocity||0)}),S=y||0,_=h/(2*Math.sqrt(d*m)),E=o-a,A=nc(Math.sqrt(d/m)),P=Math.abs(E)<5;i||(i=P?Qi.restSpeed.granular:Qi.restSpeed.default),s||(s=P?Qi.restDelta.granular:Qi.restDelta.default);let N;if(_<1){const j=WE(A,_);N=R=>{const k=Math.exp(-_*A*R);return o-k*((S+_*A*E)/j*Math.sin(j*R)+E*Math.cos(j*R))}}else if(_===1)N=j=>o-Math.exp(-A*j)*(E+(S+A*E)*j);else{const j=A*Math.sqrt(_*_-1);N=R=>{const k=Math.exp(-_*A*R),F=Math.min(j*R,300);return o-k*((S+_*A*E)*Math.sinh(F)+j*E*Math.cosh(F))/j}}const L={calculatedDuration:b&&x||null,next:j=>{const R=N(j);if(b)c.done=j>=x;else{let k=j===0?S:0;_<1&&(k=j===0?tc(S):x6(N,j,R));const F=Math.abs(k)<=i,D=Math.abs(o-R)<=s;c.done=F&&D}return c.value=c.done?o:R,c},toString:()=>{const j=Math.min(QM(L),Rw),R=g6(k=>L.next(j*k).value,j,30);return j+"ms "+R},toTransition:()=>{}};return L}Bw.applyToOptions=n=>{const e=JZ(n,100,Bw);return n.ease=e.ease,n.duration=tc(e.duration),n.type="keyframes",n};function XE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const x=n[0],y={done:!1,value:x},b=F=>c!==void 0&&F<c||d!==void 0&&F>d,S=F=>c===void 0?d:d===void 0||Math.abs(c-F)<Math.abs(d-F)?c:d;let _=t*e;const E=x+_,A=o===void 0?E:o(E);A!==E&&(_=A-x);const P=F=>-_*Math.exp(-F/i),N=F=>A+P(F),L=F=>{const D=P(F),B=N(F);y.done=Math.abs(D)<=h,y.value=y.done?A:B};let j,R;const k=F=>{b(y.value)&&(j=F,R=Bw({keyframes:[y.value,S(y.value)],velocity:x6(N,F,y.value),damping:s,stiffness:a,restDelta:h,restSpeed:m}))};return k(0),{calculatedDuration:null,next:F=>{let D=!1;return!R&&j===void 0&&(D=!0,L(F),k(F)),j!==void 0&&F>=j?R.next(F-j):(!D&&L(F),y)}}}function s$(n,e,t){const i=[],s=t||nu.mix||m6,a=n.length-1;for(let o=0;o<a;o++){let c=s(n[o],n[o+1]);if(e){const d=Array.isArray(e)?e[o]||bo:e;c=oy(d,c)}i.push(c)}return i}function r$(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const a=n.length;if(zM(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=s$(e,i,s),d=c.length,h=m=>{if(o&&m<n[0])return e[0];let x=0;if(d>1)for(;x<n.length-2&&!(m<n[x+1]);x++);const y=Bx(n[x],n[x+1],m);return c[x](y)};return t?m=>h(tu(n[0],n[a-1],m)):h}function a$(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=Bx(0,e,i);n.push(Wi(t,1,s))}}function o$(n){const e=[0];return a$(e,n.length-1),e}function l$(n,e){return n.map(t=>t*e)}function c$(n,e){return n.map(()=>e||r6).splice(0,n.length-1)}function dx({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=bZ(i)?i.map(KR):KR(i),a={done:!1,value:e[0]},o=l$(t&&t.length===e.length?t:o$(e),n),c=r$(o,e,{ease:Array.isArray(s)?s:c$(e,s)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}const u$=n=>n!==null;function ZM(n,{repeat:e,repeatType:t="loop"},i,s=1){const a=n.filter(u$),c=s<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const d$={decay:XE,inertia:XE,tween:dx,keyframes:dx,spring:Bw};function y6(n){typeof n.type=="string"&&(n.type=d$[n.type])}class $M{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const h$=n=>n/100;class eT extends $M{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==xa.now()&&this.tick(xa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;y6(e);const{type:t=dx,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=t||dx;d!==dx&&typeof c[0]!="number"&&(this.mixKeyframes=oy(h$,m6(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=QM(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:x,repeatType:y,repeatDelay:b,type:S,onUpdate:_,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,L=i;if(x){const F=Math.min(this.currentTime,s)/c;let D=Math.floor(F),B=F%1;!B&&F>=1&&(B=1),B===1&&D--,D=Math.min(D,x+1),!!(D%2)&&(y==="reverse"?(B=1-B,b&&(B-=b/c)):y==="mirror"&&(L=o)),N=tu(0,1,B)*c}const j=P?{done:!1,value:m[0]}:L.next(N);a&&(j.value=a(j.value));let{done:R}=j;!P&&d!==null&&(R=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return k&&S!==XE&&(j.value=ZM(m,this.options,E,this.speed)),_&&_(j.value),k&&this.finish(),j}then(e,t){return this.finished.then(e,t)}get duration(){return nc(this.calculatedDuration)}get time(){return nc(this.currentTime)}set time(e){e=tc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xa.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=nc(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=KZ,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function f$(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const nf=n=>n*180/Math.PI,YE=n=>{const e=nf(Math.atan2(n[1],n[0]));return KE(e)},p$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:YE,rotateZ:YE,skewX:n=>nf(Math.atan(n[1])),skewY:n=>nf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},KE=n=>(n=n%360,n<0&&(n+=360),n),t4=YE,n4=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),i4=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),m$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n4,scaleY:i4,scale:n=>(n4(n)+i4(n))/2,rotateX:n=>KE(nf(Math.atan2(n[6],n[5]))),rotateY:n=>KE(nf(Math.atan2(-n[2],n[0]))),rotateZ:t4,rotate:t4,skewX:n=>nf(Math.atan(n[4])),skewY:n=>nf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function JE(n){return n.includes("scale")?1:0}function QE(n,e){if(!n||n==="none")return JE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=m$,s=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=p$,s=c}if(!s)return JE(e);const a=i[e],o=s[1].split(",").map(x$);return typeof a=="function"?a(o):o[a]}const g$=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return QE(t,e)};function x$(n){return parseFloat(n.trim())}const Zm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$m=new Set(Zm),s4=n=>n===Qm||n===fn,y$=new Set(["x","y","z"]),v$=Zm.filter(n=>!y$.has(n));function b$(n){const e=[];return v$.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const lf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>QE(e,"x"),y:(n,{transform:e})=>QE(e,"y")};lf.translateX=lf.x;lf.translateY=lf.y;const cf=new Set;let ZE=!1,$E=!1,eC=!1;function v6(){if($E){const n=Array.from(cf).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=b$(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([a,o])=>{i.getValue(a)?.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$E=!1,ZE=!1,cf.forEach(n=>n.complete(eC)),cf.clear()}function b6(){cf.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&($E=!0)})}function w$(){eC=!0,b6(),v6(),eC=!1}class tT{constructor(e,t,i,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(cf.add(this),ZE||(ZE=!0,Ui.read(b6),Ui.resolveKeyframes(v6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const a=s?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const c=i.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}f$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cf.delete(this)}cancel(){this.state==="scheduled"&&(cf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S$=n=>n.startsWith("--");function A$(n,e,t){S$(e)?n.style.setProperty(e,t):n.style[e]=t}const _$=HM(()=>window.ScrollTimeline!==void 0),E$={};function C$(n,e){const t=HM(n);return()=>E$[e]??t()}const w6=C$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),J0=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,r4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:J0([0,.65,.55,1]),circOut:J0([.55,0,1,.45]),backIn:J0([.31,.01,.66,-.59]),backOut:J0([.33,1.53,.69,.99])};function S6(n,e){if(n)return typeof n=="function"?w6()?g6(n,e):"ease-out":a6(n)?J0(n):Array.isArray(n)?n.map(t=>S6(t,e)||r4.easeOut):r4[n]}function M$(n,e,t,{delay:i=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:t};d&&(m.offset=d);const x=S6(c,s);Array.isArray(x)&&(m.easing=x);const y={delay:i,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),n.animate(m,y)}function A6(n){return typeof n=="function"&&"applyToOptions"in n}function T$({type:n,...e}){return A6(n)&&w6()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class N$ extends $M{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,zM(typeof e.type!="string");const h=T$(e);this.animation=M$(t,i,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=ZM(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):A$(t,i,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return nc(Number(e))}get time(){return nc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=tc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_$()?(this.animation.timeline=e,bo):t(this)}}const _6={anticipate:n6,backInOut:t6,circInOut:s6};function j$(n){return n in _6}function R$(n){typeof n.ease=="string"&&j$(n.ease)&&(n.ease=_6[n.ease])}const a4=10;class B$ extends N${constructor(e){R$(e),y6(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:a,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new eT({...o,autoplay:!1}),d=tc(this.finishedTime??this.time);t.setWithVelocity(c.sample(d-a4).value,c.sample(d).value,a4),c.stop()}}const o4=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wd.test(n)||n==="0")&&!n.startsWith("url("));function D$(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function O$(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],o=o4(s,e),c=o4(a,e);return!o||!c?!1:D$(n)||(t==="spring"||A6(t))&&i}function tC(n){n.duration=0,n.type}const P$=new Set(["opacity","clipPath","filter","transform"]),L$=HM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function I$(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:a,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return L$()&&t&&P$.has(t)&&(t!=="transform"||!h)&&!d&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}const U$=40;class k$ extends $M{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xa.now();const y={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:m,...x},b=m?.KeyframeResolver||tT;this.keyframeResolver=new b(c,(S,_,E)=>this.onKeyframesResolved(S,_,y,!E),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=i;this.resolvedAt=xa.now(),O$(e,a,o,c)||((nu.instantAnimations||!d)&&m?.(ZM(e,i,t)),e[0]=e[e.length-1],tC(i),i.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>U$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!h&&I$(y)?new B$({...y,element:y.motionValue.owner.current}):new eT(y);b.finished.then(()=>this.notifyFinished()).catch(bo),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),w$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const F$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z$(n){const e=F$.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function E6(n,e,t=1){const[i,s]=z$(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return XL(o)?parseFloat(o):o}return XM(s)?E6(s,e,t+1):s}function nT(n,e){return n?.[e]??n?.default??n}const C6=new Set(["width","height","top","left","right","bottom",...Zm]),H$={test:n=>n==="auto",parse:n=>n},M6=n=>e=>e.test(n),T6=[Qm,fn,ic,ad,DZ,BZ,H$],l4=n=>T6.find(M6(n));function V$(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||KL(n):!0}const G$=new Set(["brightness","contrast","saturate","opacity"]);function q$(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(YM)||[];if(!i)return n;const s=t.replace(i,"");let a=G$.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+s+")"}const W$=/\b([a-z-]*)\(.*?\)/gu,nC={...wd,getAnimatableNone:n=>{const e=n.match(W$);return e?e.map(q$).join(" "):n}},c4={...Qm,transform:Math.round},X$={rotate:ad,rotateX:ad,rotateY:ad,rotateZ:ad,scale:Yb,scaleX:Yb,scaleY:Yb,scaleZ:Yb,skew:ad,skewX:ad,skewY:ad,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:Dx,originX:JR,originY:JR,originZ:fn},iT={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,backgroundPositionX:fn,backgroundPositionY:fn,...X$,zIndex:c4,fillOpacity:Dx,strokeOpacity:Dx,numOctaves:c4},Y$={...iT,color:vs,backgroundColor:vs,outlineColor:vs,fill:vs,stroke:vs,borderColor:vs,borderTopColor:vs,borderRightColor:vs,borderBottomColor:vs,borderLeftColor:vs,filter:nC,WebkitFilter:nC},N6=n=>Y$[n];function j6(n,e){let t=N6(n);return t!==nC&&(t=wd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const K$=new Set(["auto","none","0"]);function J$(n,e,t){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!K$.has(a)&&Ox(a).values.length&&(s=n[i]),i++}if(s&&t)for(const a of e)n[a]=j6(t,s)}class Q$ extends tT{constructor(e,t,i,s,a){super(e,t,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),XM(h))){const m=E6(h,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!C6.has(i)||e.length!==2)return;const[s,a]=e,o=l4(s),c=l4(a);if(o!==c)if(s4(o)&&s4(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else lf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||V$(e[s]))&&i.push(s);i.length&&J$(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=lf[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Z$(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=t?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const R6=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function B6(n){return YL(n)&&"offsetHeight"in n}const u4=30,$$=n=>!isNaN(parseFloat(n));class eee{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=xa.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=xa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new VM);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ui.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u4)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,u4);return JL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lm(n,e){return new eee(n,e)}const{schedule:sT}=o6(queueMicrotask,!1),tl={x:!1,y:!1};function D6(){return tl.x||tl.y}function tee(n){return n==="x"||n==="y"?tl[n]?null:(tl[n]=!0,()=>{tl[n]=!1}):tl.x||tl.y?null:(tl.x=tl.y=!0,()=>{tl.x=tl.y=!1})}function O6(n,e){const t=Z$(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function d4(n){return!(n.pointerType==="touch"||D6())}function nee(n,e,t={}){const[i,s,a]=O6(n,t),o=c=>{if(!d4(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=x=>{d4(x)&&(h(x),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",o,s)}),a}const P6=(n,e)=>e?n===e?!0:P6(n,e.parentElement):!1,rT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,iee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function see(n){return iee.has(n.tagName)||n.tabIndex!==-1}const y1=new WeakSet;function h4(n){return e=>{e.key==="Enter"&&n(e)}}function O_(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ree=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=h4(()=>{if(y1.has(t))return;O_(t,"down");const s=h4(()=>{O_(t,"up")}),a=()=>O_(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function f4(n){return rT(n)&&!D6()}function aee(n,e,t={}){const[i,s,a]=O6(n,t),o=c=>{const d=c.currentTarget;if(!f4(c))return;y1.add(d);const h=e(d,c),m=(b,S)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),y1.has(d)&&y1.delete(d),f4(b)&&typeof h=="function"&&h(b,{success:S})},x=b=>{m(b,d===window||d===document||t.useGlobalTarget||P6(d,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",y,s)};return i.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),B6(c)&&(c.addEventListener("focus",h=>ree(h,s)),!see(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function L6(n){return YL(n)&&"ownerSVGElement"in n}function oee(n){return L6(n)&&n.tagName==="svg"}const Ar=n=>!!(n&&n.getVelocity),lee=[...T6,vs,wd],cee=n=>lee.find(M6(n)),aT=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class uee extends V.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=B6(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dee({children:n,isPresent:e,anchorX:t,root:i}){const s=V.useId(),a=V.useRef(null),o=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=V.useContext(aT);return V.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:x,right:y}=o.current;if(e||!a.current||!d||!h)return;const b=t==="left"?`left: ${x}`:`right: ${y}`;a.current.dataset.motionPopId=s;const S=document.createElement("style");c&&(S.nonce=c);const _=i??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[e]),r.jsx(uee,{isPresent:e,childRef:a,sizeRef:o,children:V.cloneElement(n,{ref:a})})}const hee=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=IM(fee),m=V.useId();let x=!0,y=V.useMemo(()=>(x=!1,{id:m,initial:e,isPresent:t,custom:s,onExitComplete:b=>{h.set(b,!0);for(const S of h.values())if(!S)return;i&&i()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[t,h,i]);return a&&x&&(y={...y}),V.useMemo(()=>{h.forEach((b,S)=>h.set(S,!1))},[t]),V.useEffect(()=>{!t&&!h.size&&i&&i()},[t]),o==="popLayout"&&(n=r.jsx(dee,{isPresent:t,anchorX:c,root:d,children:n})),r.jsx(V2.Provider,{value:y,children:n})};function fee(){return new Map}function I6(n=!0){const e=V.useContext(V2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,a=V.useId();V.useEffect(()=>{if(n)return s(a)},[n]);const o=V.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,o]:[!0]}const Kb=n=>n.key||"";function p4(n){const e=[];return V.Children.forEach(n,t=>{V.isValidElement(t)&&e.push(t)}),e}const vf=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=I6(o),x=V.useMemo(()=>p4(n),[n]),y=o&&!h?[]:x.map(Kb),b=V.useRef(!0),S=V.useRef(x),_=IM(()=>new Map),[E,A]=V.useState(x),[P,N]=V.useState(x);WL(()=>{b.current=!1,S.current=x;for(let R=0;R<P.length;R++){const k=Kb(P[R]);y.includes(k)?_.delete(k):_.get(k)!==!0&&_.set(k,!1)}},[P,y.length,y.join("-")]);const L=[];if(x!==E){let R=[...x];for(let k=0;k<P.length;k++){const F=P[k],D=Kb(F);y.includes(D)||(R.splice(k,0,F),L.push(F))}return a==="wait"&&L.length&&(R=L),N(p4(R)),A(x),null}const{forceRender:j}=V.useContext(LM);return r.jsx(r.Fragment,{children:P.map(R=>{const k=Kb(R),F=o&&!h?!1:x===P||y.includes(k),D=()=>{if(_.has(k))_.set(k,!0);else return;let B=!0;_.forEach(q=>{q||(B=!1)}),B&&(j?.(),N(S.current),o&&m?.(),i&&i())};return r.jsx(hee,{isPresent:F,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:d,onExitComplete:F?void 0:D,anchorX:c,children:R},k)})})},U6=V.createContext({strict:!1}),m4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Im={};for(const n in m4)Im[n]={isEnabled:e=>m4[n].some(t=>!!e[t])};function pee(n){for(const e in n)Im[e]={...Im[e],...n[e]}}const mee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dw(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||mee.has(n)}let k6=n=>!Dw(n);function gee(n){typeof n=="function"&&(k6=e=>e.startsWith("on")?!Dw(e):n(e))}try{gee(require("@emotion/is-prop-valid").default)}catch{}function xee(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(k6(s)||t===!0&&Dw(s)||!e&&!Dw(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const G2=V.createContext({});function q2(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Px(n){return typeof n=="string"||Array.isArray(n)}const oT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lT=["initial",...oT];function W2(n){return q2(n.animate)||lT.some(e=>Px(n[e]))}function F6(n){return!!(W2(n)||n.variants)}function yee(n,e){if(W2(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Px(t)?t:void 0,animate:Px(i)?i:void 0}}return n.inherit!==!1?e:{}}function vee(n){const{initial:e,animate:t}=yee(n,V.useContext(G2));return V.useMemo(()=>({initial:e,animate:t}),[g4(e),g4(t)])}function g4(n){return Array.isArray(n)?n.join(" "):n}const Lx={};function bee(n){for(const e in n)Lx[e]=n[e],WM(e)&&(Lx[e].isCSSVariable=!0)}function z6(n,{layout:e,layoutId:t}){return $m.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Lx[n]||n==="opacity")}const wee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},See=Zm.length;function Aee(n,e,t){let i="",s=!0;for(let a=0;a<See;a++){const o=Zm[a],c=n[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const h=R6(c,iT[o]);if(!d){s=!1;const m=wee[o]||o;i+=`${m}(${h}) `}t&&(e[o]=h)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function cT(n,e,t){const{style:i,vars:s,transformOrigin:a}=n;let o=!1,c=!1;for(const d in e){const h=e[d];if($m.has(d)){o=!0;continue}else if(WM(d)){s[d]=h;continue}else{const m=R6(h,iT[d]);d.startsWith("origin")?(c=!0,a[d]=m):i[d]=m}}if(e.transform||(o||t?i.transform=Aee(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${h} ${m}`}}const uT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function H6(n,e,t){for(const i in e)!Ar(e[i])&&!z6(i,t)&&(n[i]=e[i])}function _ee({transformTemplate:n},e){return V.useMemo(()=>{const t=uT();return cT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Eee(n,e){const t=n.style||{},i={};return H6(i,t,n),Object.assign(i,_ee(n,e)),i}function Cee(n,e){const t={},i=Eee(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const Mee={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tee={offset:"strokeDashoffset",array:"strokeDasharray"};function Nee(n,e,t=1,i=0,s=!0){n.pathLength=1;const a=s?Mee:Tee;n[a.offset]=fn.transform(-i);const o=fn.transform(e),c=fn.transform(t);n[a.array]=`${o} ${c}`}function V6(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...c},d,h,m){if(cT(n,c,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:y}=n;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),i!==void 0&&(x.scale=i),s!==void 0&&Nee(x,s,a,o,!1)}const G6=()=>({...uT(),attrs:{}}),q6=n=>typeof n=="string"&&n.toLowerCase()==="svg";function jee(n,e,t,i){const s=V.useMemo(()=>{const a=G6();return V6(a,e,q6(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};H6(a,n.style,n),s.style={...a,...s.style}}return s}const Ree=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dT(n){return typeof n!="string"||n.includes("-")?!1:!!(Ree.indexOf(n)>-1||/[A-Z]/u.test(n))}function Bee(n,e,t,{latestValues:i},s,a=!1){const c=(dT(n)?jee:Cee)(e,i,s,n),d=xee(e,typeof n=="string",a),h=n!==V.Fragment?{...d,...c,ref:t}:{},{children:m}=e,x=V.useMemo(()=>Ar(m)?m.get():m,[m]);return V.createElement(n,{...h,children:x})}function x4(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function hT(n,e,t,i){if(typeof e=="function"){const[s,a]=x4(i);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=x4(i);e=e(t!==void 0?t:n.custom,s,a)}return e}function v1(n){return Ar(n)?n.get():n}function Dee({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:Oee(t,i,s,n),renderState:e()}}function Oee(n,e,t,i){const s={},a=i(n,{});for(const y in a)s[y]=v1(a[y]);let{initial:o,animate:c}=n;const d=W2(n),h=F6(n);e&&h&&!d&&n.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const x=m?c:o;if(x&&typeof x!="boolean"&&!q2(x)){const y=Array.isArray(x)?x:[x];for(let b=0;b<y.length;b++){const S=hT(n,y[b]);if(S){const{transitionEnd:_,transition:E,...A}=S;for(const P in A){let N=A[P];if(Array.isArray(N)){const L=m?N.length-1:0;N=N[L]}N!==null&&(s[P]=N)}for(const P in _)s[P]=_[P]}}}return s}const W6=n=>(e,t)=>{const i=V.useContext(G2),s=V.useContext(V2),a=()=>Dee(n,e,i,s);return t?a():IM(a)};function fT(n,e,t){const{style:i}=n,s={};for(const a in i)(Ar(i[a])||e.style&&Ar(e.style[a])||z6(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const Pee=W6({scrapeMotionValuesFromProps:fT,createRenderState:uT});function X6(n,e,t){const i=fT(n,e,t);for(const s in n)if(Ar(n[s])||Ar(e[s])){const a=Zm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const Lee=W6({scrapeMotionValuesFromProps:X6,createRenderState:G6}),Iee=Symbol.for("motionComponentSymbol");function lm(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Uee(n,e,t){return V.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):lm(t)&&(t.current=i))},[e])}const pT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kee="framerAppearId",Y6="data-"+pT(kee),K6=V.createContext({});function Fee(n,e,t,i,s){const{visualElement:a}=V.useContext(G2),o=V.useContext(U6),c=V.useContext(V2),d=V.useContext(aT).reducedMotion,h=V.useRef(null);i=i||o.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:a,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,x=V.useContext(K6);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&zee(h.current,t,s,x);const y=V.useRef(!1);V.useInsertionEffect(()=>{m&&y.current&&m.update(t,c)});const b=t[Y6],S=V.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return WL(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),V.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function zee(n,e,t,i){const{layoutId:s,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:J6(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||c&&lm(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:d,layoutRoot:h})}function J6(n){if(n)return n.options.allowProjection!==!1?n.projection:J6(n.parent)}function P_(n,{forwardMotionProps:e=!1}={},t,i){t&&pee(t);const s=dT(n)?Lee:Pee;function a(c,d){let h;const m={...V.useContext(aT),...c,layoutId:Hee(c)},{isStatic:x}=m,y=vee(c),b=s(c,x);if(!x&&UM){Vee();const S=Gee(m);h=S.MeasureLayout,y.visualElement=Fee(n,b,m,i,S.ProjectionNode)}return r.jsxs(G2.Provider,{value:y,children:[h&&y.visualElement?r.jsx(h,{visualElement:y.visualElement,...m}):null,Bee(n,c,Uee(b,y.visualElement,d),b,x,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=V.forwardRef(a);return o[Iee]=n,o}function Hee({layoutId:n}){const e=V.useContext(LM).id;return e&&n!==void 0?e+"-"+n:n}function Vee(n,e){V.useContext(U6).strict}function Gee(n){const{drag:e,layout:t}=Im;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qee(n,e){if(typeof Proxy>"u")return P_;const t=new Map,i=(a,o)=>P_(a,o,n,e),s=(a,o)=>i(a,o);return new Proxy(s,{get:(a,o)=>o==="create"?i:(t.has(o)||t.set(o,P_(o,void 0,n,e)),t.get(o))})}function Q6({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Wee({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Xee(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function L_(n){return n===void 0||n===1}function iC({scale:n,scaleX:e,scaleY:t}){return!L_(n)||!L_(e)||!L_(t)}function Hh(n){return iC(n)||Z6(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Z6(n){return y4(n.x)||y4(n.y)}function y4(n){return n&&n!=="0%"}function Ow(n,e,t){const i=n-t,s=e*i;return t+s}function v4(n,e,t,i,s){return s!==void 0&&(n=Ow(n,s,i)),Ow(n,t,i)+e}function sC(n,e=0,t=1,i,s){n.min=v4(n.min,e,t,i,s),n.max=v4(n.max,e,t,i,s)}function $6(n,{x:e,y:t}){sC(n.x,e.translate,e.scale,e.originPoint),sC(n.y,t.translate,t.scale,t.originPoint)}const b4=.999999999999,w4=1.0000000000001;function Yee(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,o;for(let c=0;c<s;c++){a=t[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&um(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$6(n,o)),i&&Hh(a.latestValues)&&um(n,a.latestValues))}e.x<w4&&e.x>b4&&(e.x=1),e.y<w4&&e.y>b4&&(e.y=1)}function cm(n,e){n.min=n.min+e,n.max=n.max+e}function S4(n,e,t,i,s=.5){const a=Wi(n.min,n.max,s);sC(n,e,t,a,i)}function um(n,e){S4(n.x,e.x,e.scaleX,e.scale,e.originX),S4(n.y,e.y,e.scaleY,e.scale,e.originY)}function e5(n,e){return Q6(Xee(n.getBoundingClientRect(),e))}function Kee(n,e,t){const i=e5(n,t),{scroll:s}=e;return s&&(cm(i.x,s.offset.x),cm(i.y,s.offset.y)),i}const A4=()=>({translate:0,scale:1,origin:0,originPoint:0}),dm=()=>({x:A4(),y:A4()}),_4=()=>({min:0,max:0}),os=()=>({x:_4(),y:_4()}),rC={current:null},t5={current:!1};function Jee(){if(t5.current=!0,!!UM)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>rC.current=n.matches;n.addEventListener("change",e),e()}else rC.current=!1}const Qee=new WeakMap;function Zee(n,e,t){for(const i in e){const s=e[i],a=t[i];if(Ar(s))n.addValue(i,s);else if(Ar(a))n.addValue(i,Lm(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,Lm(o!==void 0?o:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const E4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $ee{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=xa.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ui.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=W2(t),this.isVariantNode=F6(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in x){const b=x[y];d[y]!==void 0&&Ar(b)&&b.set(d[y])}}mount(e){this.current=e,Qee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),t5.current||Jee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rC.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bd(this.notifyUpdate),bd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=$m.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ui.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Im){const t=Im[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):os()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<E4.length;i++){const s=E4[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Zee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Lm(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(XL(i)||KL(i))?i=parseFloat(i):!cee(i)&&wd.test(t)&&(i=j6(e,t)),this.setBaseTarget(e,Ar(i)?i.get():i)),Ar(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=hT(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ar(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new VM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){sT.render(this.render)}}class n5 extends $ee{constructor(){super(...arguments),this.KeyframeResolver=Q$}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ar(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function i5(n,{style:e,vars:t},i,s){const a=n.style;let o;for(o in e)a[o]=e[o];s?.applyProjectionStyles(a,i);for(o in t)a.setProperty(o,t[o])}function ete(n){return window.getComputedStyle(n)}class tte extends n5{constructor(){super(...arguments),this.type="html",this.renderInstance=i5}readValueFromInstance(e,t){if($m.has(t))return this.projection?.isProjecting?JE(t):g$(e,t);{const i=ete(e),s=(WM(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return e5(e,t)}build(e,t,i){cT(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return fT(e,t,i)}}const s5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nte(n,e,t,i){i5(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(s5.has(s)?s:pT(s),e.attrs[s])}class ite extends n5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=os}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($m.has(t)){const i=N6(t);return i&&i.default||0}return t=s5.has(t)?t:pT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return X6(e,t,i)}build(e,t,i){V6(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){nte(e,t,i,s)}mount(e){this.isSVGTag=q6(e.tagName),super.mount(e)}}const ste=(n,e)=>dT(n)?new ite(e):new tte(e,{allowProjection:n!==V.Fragment});function xm(n,e,t){const i=n.getProps();return hT(i,e,t!==void 0?t:i.custom,n)}const aC=n=>Array.isArray(n);function rte(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Lm(t))}function ate(n){return aC(n)?n[n.length-1]||0:n}function ote(n,e){const t=xm(n,e);let{transitionEnd:i={},transition:s={},...a}=t||{};a={...a,...i};for(const o in a){const c=ate(a[o]);rte(n,o,c)}}function lte(n){return!!(Ar(n)&&n.add)}function oC(n,e){const t=n.getValue("willChange");if(lte(t))return t.add(e);if(!t&&nu.WillChange){const i=new nu.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function r5(n){return n.props[Y6]}const cte=n=>n!==null;function ute(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(cte),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[a]}const dte={type:"spring",stiffness:500,damping:25,restSpeed:10},hte=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),fte={type:"keyframes",duration:.8},pte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mte=(n,{keyframes:e})=>e.length>2?fte:$m.has(n)?n.startsWith("scale")?hte(e[1]):dte:pte;function gte({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const mT=(n,e,t,i={},s,a)=>o=>{const c=nT(i,n)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-tc(d);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:s};gte(c)||Object.assign(m,mte(n,m)),m.duration&&(m.duration=tc(m.duration)),m.repeatDelay&&(m.repeatDelay=tc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let x=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(tC(m),m.delay===0&&(x=!0)),(nu.instantAnimations||nu.skipAnimations)&&(x=!0,tC(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,x&&!a&&e.get()!==void 0){const y=ute(m.keyframes,c);if(y!==void 0){Ui.update(()=>{m.onUpdate(y),m.onComplete()});return}}return c.isSync?new eT(m):new k$(m)};function xte({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function a5(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:o,...c}=e;i&&(a=i);const d=[],h=s&&n.animationState&&n.animationState.getState()[s];for(const m in c){const x=n.getValue(m,n.latestValues[m]??null),y=c[m];if(y===void 0||h&&xte(h,m))continue;const b={delay:t,...nT(a||{},m)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===S&&!b.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const A=r5(n);if(A){const P=window.MotionHandoffAnimation(A,m,Ui);P!==null&&(b.startTime=P,_=!0)}}oC(n,m),x.start(mT(m,x,y,n.shouldReduceMotion&&C6.has(m)?{type:!1}:b,n,_));const E=x.animation;E&&d.push(E)}return o&&Promise.all(d).then(()=>{Ui.update(()=>{o&&ote(n,o)})}),d}function o5(n,e,t,i=0,s=1){const a=Array.from(n).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=n.size,c=(o-1)*i;return typeof t=="function"?t(a,o):s===1?a*i:c-a*i}function lC(n,e,t={}){const i=xm(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(a5(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:x}=s;return yte(n,e,d,h,m,x,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(t.delay)])}function yte(n,e,t=0,i=0,s=0,a=1,o){const c=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),c.push(lC(d,e,{...o,delay:t+(typeof i=="function"?0:i)+o5(n.variantChildren,d,i,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function vte(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>lC(n,a,t));i=Promise.all(s)}else if(typeof e=="string")i=lC(n,e,t);else{const s=typeof e=="function"?xm(n,e,t.custom):e;i=Promise.all(a5(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function l5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const bte=lT.length;function c5(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?c5(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<bte;t++){const i=lT[t],s=n.props[i];(Px(s)||s===!1)&&(e[i]=s)}return e}const wte=[...oT].reverse(),Ste=oT.length;function Ate(n){return e=>Promise.all(e.map(({animation:t,options:i})=>vte(n,t,i)))}function _te(n){let e=Ate(n),t=C4(),i=!0;const s=d=>(h,m)=>{const x=xm(n,m,d==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:y,transitionEnd:b,...S}=x;h={...h,...S,...b}}return h};function a(d){e=d(n)}function o(d){const{props:h}=n,m=c5(n.parent)||{},x=[],y=new Set;let b={},S=1/0;for(let E=0;E<Ste;E++){const A=wte[E],P=t[A],N=h[A]!==void 0?h[A]:m[A],L=Px(N),j=A===d?P.isActive:null;j===!1&&(S=E);let R=N===m[A]&&N!==h[A]&&L;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),P.protectedKeys={...b},!P.isActive&&j===null||!N&&!P.prevProp||q2(N)||typeof N=="boolean")continue;const k=Ete(P.prevProp,N);let F=k||A===d&&P.isActive&&!R&&L||E>S&&L,D=!1;const B=Array.isArray(N)?N:[N];let q=B.reduce(s(A),{});j===!1&&(q={});const{prevResolvedValues:Y={}}=P,G={...Y,...q},W=I=>{F=!0,y.has(I)&&(D=!0,y.delete(I)),P.needsAnimating[I]=!0;const Q=n.getValue(I);Q&&(Q.liveStyle=!1)};for(const I in G){const Q=q[I],K=Y[I];if(b.hasOwnProperty(I))continue;let T=!1;aC(Q)&&aC(K)?T=!l5(Q,K):T=Q!==K,T?Q!=null?W(I):y.add(I):Q!==void 0&&y.has(I)?W(I):P.protectedKeys[I]=!0}P.prevProp=N,P.prevResolvedValues=q,P.isActive&&(b={...b,...q}),i&&n.blockInitialAnimation&&(F=!1);const $=R&&k;F&&(!$||D)&&x.push(...B.map(I=>{const Q={type:A};if(typeof I=="string"&&i&&!$&&n.manuallyAnimateOnMount&&n.parent){const{parent:K}=n,T=xm(K,I);if(K.enteringChildren&&T){const{delayChildren:X}=T.transition||{};Q.delay=o5(K.enteringChildren,n,X)}}return{animation:I,options:Q}}))}if(y.size){const E={};if(typeof h.initial!="boolean"){const A=xm(n,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(E.transition=A.transition)}y.forEach(A=>{const P=n.getBaseTarget(A),N=n.getValue(A);N&&(N.liveStyle=!0),E[A]=P??null}),x.push({animation:E})}let _=!!x.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(x):Promise.resolve()}function c(d,h){if(t[d].isActive===h)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(d,h)),t[d].isActive=h;const m=o(d);for(const x in t)t[x].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=C4(),i=!0}}}function Ete(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!l5(e,n):!1}function Lh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C4(){return{animate:Lh(!0),whileInView:Lh(),whileHover:Lh(),whileTap:Lh(),whileDrag:Lh(),whileFocus:Lh(),exit:Lh()}}class Md{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Cte extends Md{constructor(e){super(e),e.animationState||(e.animationState=_te(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();q2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Mte=0;class Tte extends Md{constructor(){super(...arguments),this.id=Mte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nte={animation:{Feature:Cte},exit:{Feature:Tte}};function Ix(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function uy(n){return{point:{x:n.pageX,y:n.pageY}}}const jte=n=>e=>rT(e)&&n(e,uy(e));function hx(n,e,t,i){return Ix(n,e,jte(t),i)}const u5=1e-4,Rte=1-u5,Bte=1+u5,d5=.01,Dte=0-d5,Ote=0+d5;function Xr(n){return n.max-n.min}function Pte(n,e,t){return Math.abs(n-e)<=t}function M4(n,e,t,i=.5){n.origin=i,n.originPoint=Wi(e.min,e.max,n.origin),n.scale=Xr(t)/Xr(e),n.translate=Wi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Rte&&n.scale<=Bte||isNaN(n.scale))&&(n.scale=1),(n.translate>=Dte&&n.translate<=Ote||isNaN(n.translate))&&(n.translate=0)}function fx(n,e,t,i){M4(n.x,e.x,t.x,i?i.originX:void 0),M4(n.y,e.y,t.y,i?i.originY:void 0)}function T4(n,e,t){n.min=t.min+e.min,n.max=n.min+Xr(e)}function Lte(n,e,t){T4(n.x,e.x,t.x),T4(n.y,e.y,t.y)}function N4(n,e,t){n.min=e.min-t.min,n.max=n.min+Xr(e)}function px(n,e,t){N4(n.x,e.x,t.x),N4(n.y,e.y,t.y)}function mo(n){return[n("x"),n("y")]}const h5=({current:n})=>n?n.ownerDocument.defaultView:null,j4=(n,e)=>Math.abs(n-e);function Ite(n,e){const t=j4(n.x,e.x),i=j4(n.y,e.y);return Math.sqrt(t**2+i**2)}class f5{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=U_(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=Ite(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:_}=y,{timestamp:E}=rr;this.history.push({..._,timestamp:E});const{onStart:A,onMove:P}=this.handlers;b||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=I_(b,this.transformPagePoint),Ui.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=U_(y.type==="pointercancel"?this.lastMoveEventInfo:I_(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,A),_&&_(y,A)},!rT(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=s||window;const c=uy(e),d=I_(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=rr;this.history=[{...h,timestamp:m}];const{onSessionStart:x}=t;x&&x(e,U_(d,this.history)),this.removeListeners=oy(hx(this.contextWindow,"pointermove",this.handlePointerMove),hx(this.contextWindow,"pointerup",this.handlePointerUp),hx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bd(this.updatePoint)}}function I_(n,e){return e?{point:e(n.point)}:n}function R4(n,e){return{x:n.x-e.x,y:n.y-e.y}}function U_({point:n},e){return{point:n,delta:R4(n,p5(e)),offset:R4(n,Ute(e)),velocity:kte(e,.1)}}function Ute(n){return n[0]}function p5(n){return n[n.length-1]}function kte(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=p5(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>tc(e)));)t--;if(!i)return{x:0,y:0};const a=nc(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Fte(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Wi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Wi(t,n,i.max):Math.min(n,t)),n}function B4(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function zte(n,{top:e,left:t,bottom:i,right:s}){return{x:B4(n.x,t,s),y:B4(n.y,e,i)}}function D4(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Hte(n,e){return{x:D4(n.x,e.x),y:D4(n.y,e.y)}}function Vte(n,e){let t=.5;const i=Xr(n),s=Xr(e);return s>i?t=Bx(e.min,e.max-i,n.min):i>s&&(t=Bx(n.min,n.max-s,e.min)),tu(0,1,t)}function Gte(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const cC=.35;function qte(n=cC){return n===!1?n=0:n===!0&&(n=cC),{x:O4(n,"left","right"),y:O4(n,"top","bottom")}}function O4(n,e,t){return{min:P4(n,e),max:P4(n,t)}}function P4(n,e){return typeof n=="number"?n:n[e]||0}const Wte=new WeakMap;class Xte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=os(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=x=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(uy(x).point)},o=(x,y)=>{const{drag:b,dragPropagation:S,onDragStart:_}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tee(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mo(A=>{let P=this.getAxisMotionValue(A).get()||0;if(ic.test(P)){const{projection:N}=this.visualElement;if(N&&N.layout){const L=N.layout.layoutBox[A];L&&(P=Xr(L)*(parseFloat(P)/100))}}this.originPoint[A]=P}),_&&Ui.postRender(()=>_(x,y)),oC(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},c=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:_,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:A}=y;if(S&&this.currentDirection===null){this.currentDirection=Yte(A),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),E&&E(x,y)},d=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y,this.stop(x,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>mo(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new f5(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:h5(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,s=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Ui.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Jb(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Fte(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&lm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=zte(i.layoutBox,e):this.constraints=!1,this.elastic=qte(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&mo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Gte(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!lm(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=Kee(i,s.root,this.visualElement.getTransformPagePoint());let o=Hte(s.layout.layoutBox,a);if(t){const c=t(Wee(o));this.hasMutatedConstraints=!!c,c&&(o=Q6(c))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=mo(m=>{if(!Jb(m,t,this.currentDirection))return;let x=d&&d[m]||{};o&&(x={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,S={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...x};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return oC(this.visualElement,e),i.start(mT(e,i,0,t,this.visualElement,!1))}stopAnimation(){mo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){mo(t=>{const{drag:i}=this.getProps();if(!Jb(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[t];a.set(e[t]-Wi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!lm(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mo(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();s[o]=Vte({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),mo(o=>{if(!Jb(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(Wi(d,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;Wte.set(this.visualElement,this);const e=this.visualElement.current,t=hx(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();lm(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ui.read(i);const o=Ix(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(mo(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=d[m].translate,x.set(x.get()+d[m].translate))}),this.visualElement.render())});return()=>{o(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=cC,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Jb(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Yte(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Kte extends Md{constructor(e){super(e),this.removeGroupControls=bo,this.removeListeners=bo,this.controls=new Xte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bo}unmount(){this.removeGroupControls(),this.removeListeners()}}const L4=n=>(e,t)=>{n&&Ui.postRender(()=>n(e,t))};class Jte extends Md{constructor(){super(...arguments),this.removePointerDownListener=bo}onPointerDown(e){this.session=new f5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:L4(e),onStart:L4(t),onMove:i,onEnd:(a,o)=>{delete this.session,s&&Ui.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=hx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const b1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function I4(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const H0={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(fn.test(n))n=parseFloat(n);else return n;const t=I4(n,e.target.x),i=I4(n,e.target.y);return`${t}% ${i}%`}},Qte={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=wd.parse(n);if(s.length>5)return i;const a=wd.createTransformer(n),o=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+o]/=c,s[1+o]/=d;const h=Wi(c,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),a(s)}};let k_=!1;class Zte extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;bee($te),a&&(t.group&&t.group.add(a),i&&i.register&&s&&i.register(a),k_&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),b1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,k_=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Ui.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;k_=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m5(n){const[e,t]=I6(),i=V.useContext(LM);return r.jsx(Zte,{...n,layoutGroup:i,switchLayoutGroup:V.useContext(K6),isPresent:e,safeToRemove:t})}const $te={borderRadius:{...H0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:H0,borderTopRightRadius:H0,borderBottomLeftRadius:H0,borderBottomRightRadius:H0,boxShadow:Qte};function ene(n,e,t){const i=Ar(n)?n:Lm(n);return i.start(mT("",i,e,t)),i.animation}const tne=(n,e)=>n.depth-e.depth;class nne{constructor(){this.children=[],this.isDirty=!1}add(e){kM(this.children,e),this.isDirty=!0}remove(e){FM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tne),this.isDirty=!1,this.children.forEach(e)}}function ine(n,e){const t=xa.now(),i=({timestamp:s})=>{const a=s-t;a>=e&&(bd(i),n(a-e))};return Ui.setup(i,!0),()=>bd(i)}const g5=["TopLeft","TopRight","BottomLeft","BottomRight"],sne=g5.length,U4=n=>typeof n=="string"?parseFloat(n):n,k4=n=>typeof n=="number"||fn.test(n);function rne(n,e,t,i,s,a){s?(n.opacity=Wi(0,t.opacity??1,ane(i)),n.opacityExit=Wi(e.opacity??1,0,one(i))):a&&(n.opacity=Wi(e.opacity??1,t.opacity??1,i));for(let o=0;o<sne;o++){const c=`border${g5[o]}Radius`;let d=F4(e,c),h=F4(t,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||k4(d)===k4(h)?(n[c]=Math.max(Wi(U4(d),U4(h),i),0),(ic.test(h)||ic.test(d))&&(n[c]+="%")):n[c]=h}(e.rotate||t.rotate)&&(n.rotate=Wi(e.rotate||0,t.rotate||0,i))}function F4(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ane=x5(0,.5,i6),one=x5(.5,.95,bo);function x5(n,e,t){return i=>i<n?0:i>e?1:t(Bx(n,e,i))}function z4(n,e){n.min=e.min,n.max=e.max}function po(n,e){z4(n.x,e.x),z4(n.y,e.y)}function H4(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function V4(n,e,t,i,s){return n-=e,n=Ow(n,1/t,i),s!==void 0&&(n=Ow(n,1/s,i)),n}function lne(n,e=0,t=1,i=.5,s,a=n,o=n){if(ic.test(e)&&(e=parseFloat(e),e=Wi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Wi(a.min,a.max,i);n===a&&(c-=e),n.min=V4(n.min,e,t,c,s),n.max=V4(n.max,e,t,c,s)}function G4(n,e,[t,i,s],a,o){lne(n,e[t],e[i],e[s],e.scale,a,o)}const cne=["x","scaleX","originX"],une=["y","scaleY","originY"];function q4(n,e,t,i){G4(n.x,e,cne,t?t.x:void 0,i?i.x:void 0),G4(n.y,e,une,t?t.y:void 0,i?i.y:void 0)}function W4(n){return n.translate===0&&n.scale===1}function y5(n){return W4(n.x)&&W4(n.y)}function X4(n,e){return n.min===e.min&&n.max===e.max}function dne(n,e){return X4(n.x,e.x)&&X4(n.y,e.y)}function Y4(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function v5(n,e){return Y4(n.x,e.x)&&Y4(n.y,e.y)}function K4(n){return Xr(n.x)/Xr(n.y)}function J4(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class hne{constructor(){this.members=[]}add(e){kM(this.members,e),e.scheduleRender()}remove(e){if(FM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fne(n,e,t){let i="";const s=n.x.translate/e.x,a=n.y.translate/e.y,o=t?.z||0;if((s||a||o)&&(i=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:m,rotateX:x,rotateY:y,skewX:b,skewY:S}=t;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),x&&(i+=`rotateX(${x}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),S&&(i+=`skewY(${S}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const F_=["","X","Y","Z"],pne=1e3;let mne=0;function z_(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function b5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=r5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ui,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&b5(i)}function w5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},c=e?.()){this.id=mne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yne),this.nodes.forEach(Sne),this.nodes.forEach(Ane),this.nodes.forEach(vne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nne)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new VM),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=L6(o)&&!oee(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),n){let m,x=0;const y=()=>this.root.updateBlockedByResize=!1;Ui.read(()=>{x=window.innerWidth}),n(o,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,m&&m(),m=ine(y,250),b1.hasAnimatedSinceResize&&(b1.hasAnimatedSinceResize=!1,this.nodes.forEach($4)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||Tne,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=h.getProps(),A=!this.targetLayout||!v5(this.targetLayout,b),P=!x&&y;if(this.options.layoutRoot||this.resumeFrom||P||x&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...nT(S,"layout"),onPlay:_,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,P)}else x||$4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_ne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wne),this.nodes.forEach(gne),this.nodes.forEach(xne)):this.nodes.forEach(Z4),this.clearAllSnapshots();const c=xa.now();rr.delta=tu(0,1e3/60,c-rr.timestamp),rr.timestamp=c,rr.isProcessing=!0,N_.update.process(rr),N_.preRender.process(rr),N_.render.process(rr),rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bne),this.sharedNodes.forEach(Ene)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ui.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ui.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xr(this.snapshot.measuredBox.x)&&!Xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=os(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!y5(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||Hh(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),Nne(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return os();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jne))){const{scroll:h}=this.root;h&&(cm(c.x,h.offset.x),cm(c.y,h.offset.y))}return c}removeElementScroll(o){const c=os();if(po(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:x}=h;h!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&po(c,o),cm(c.x,m.offset.x),cm(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=os();po(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&um(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Hh(m.latestValues)&&um(d,m.latestValues)}return Hh(this.latestValues)&&um(d,this.latestValues),d}removeTransform(o){const c=os();po(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Hh(h.latestValues))continue;iC(h.latestValues)&&h.updateSnapshot();const m=os(),x=h.measurePageBox();po(m,x),q4(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Hh(this.latestValues)&&q4(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=rr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=os(),this.relativeTargetOrigin=os(),px(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=os(),this.targetWithTransforms=os()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):po(this.target,this.layout.layoutBox),$6(this.target,this.targetDelta)):po(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=os(),this.relativeTargetOrigin=os(),px(this.relativeTargetOrigin,this.target,y.target),po(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iC(this.parent.latestValues)||Z6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===rr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;po(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;Yee(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=os());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H4(this.prevProjectionDelta.x,this.projectionDelta.x),H4(this.prevProjectionDelta.y,this.projectionDelta.y)),fx(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!J4(this.projectionDelta.x,this.prevProjectionDelta.x)||!J4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dm(),this.projectionDelta=dm(),this.projectionDeltaWithTransform=dm()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},x=dm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=os(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,_=b!==S,E=this.getStack(),A=!E||E.members.length<=1,P=!!(_&&!A&&this.options.crossfade===!0&&!this.path.some(Mne));this.animationProgress=0;let N;this.mixTargetDelta=L=>{const j=L/1e3;eB(x.x,o.x,j),eB(x.y,o.y,j),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(px(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cne(this.relativeTarget,this.relativeTargetOrigin,y,j),N&&dne(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=os()),po(N,this.relativeTarget)),_&&(this.animationValues=m,rne(m,h,this.latestValues,j,P,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ui.update(()=>{b1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lm(0)),this.currentAnimation=ene(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&S5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||os();const x=Xr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+x;const y=Xr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}po(c,d),um(c,m),fx(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hne),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&z_("z",o,h,this.animationValues);for(let m=0;m<F_.length;m++)z_(`rotate${F_[m]}`,o,h,this.animationValues),z_(`skew${F_[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=v1(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=v1(c?.pointerEvents)||""),this.hasProjected&&!Hh(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let x=fne(this.projectionDeltaWithTransform,this.treeScale,m);d&&(x=d(m,x)),o.transform=x;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Lx){if(m[S]===void 0)continue;const{correct:_,applyTo:E,isCSSVariable:A}=Lx[S],P=x==="none"?m[S]:_(m[S],h);if(E){const N=E.length;for(let L=0;L<N;L++)o[E[L]]=P}else A?this.options.visualElement.renderState.vars[S]=P:o[S]=P}this.options.layoutId&&(o.pointerEvents=h===this?v1(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Q4),this.root.sharedNodes.clear()}}}function gne(n){n.updateLayout()}function xne(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?mo(m=>{const x=a?e.measuredBox[m]:e.layoutBox[m],y=Xr(x);x.min=t[m].min,x.max=x.min+y}):S5(s,e.layoutBox,t)&&mo(m=>{const x=a?e.measuredBox[m]:e.layoutBox[m],y=Xr(t[m]);x.max=x.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+y)});const o=dm();fx(o,t,e.layoutBox);const c=dm();a?fx(c,n.applyTransform(i,!0),e.measuredBox):fx(c,t,e.layoutBox);const d=!y5(o);let h=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:y}=m;if(x&&y){const b=os();px(b,e.layoutBox,x.layoutBox);const S=os();px(S,t,y.layoutBox),v5(b,S)||(h=!0),m.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function yne(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function vne(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bne(n){n.clearSnapshot()}function Q4(n){n.clearMeasurements()}function Z4(n){n.isLayoutDirty=!1}function wne(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function $4(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Sne(n){n.resolveTargetDelta()}function Ane(n){n.calcProjection()}function _ne(n){n.resetSkewAndRotation()}function Ene(n){n.removeLeadSnapshot()}function eB(n,e,t){n.translate=Wi(e.translate,0,t),n.scale=Wi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function tB(n,e,t,i){n.min=Wi(e.min,t.min,i),n.max=Wi(e.max,t.max,i)}function Cne(n,e,t,i){tB(n.x,e.x,t.x,i),tB(n.y,e.y,t.y,i)}function Mne(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Tne={duration:.45,ease:[.4,0,.1,1]},nB=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),iB=nB("applewebkit/")&&!nB("chrome/")?Math.round:bo;function sB(n){n.min=iB(n.min),n.max=iB(n.max)}function Nne(n){sB(n.x),sB(n.y)}function S5(n,e,t){return n==="position"||n==="preserve-aspect"&&!Pte(K4(e),K4(t),.2)}function jne(n){return n!==n.root&&n.scroll?.wasRoot}const Rne=w5({attachResizeListener:(n,e)=>Ix(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),H_={current:void 0},A5=w5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!H_.current){const n=new Rne({});n.mount(window),n.setOptions({layoutScroll:!0}),H_.current=n}return H_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Bne={pan:{Feature:Jte},drag:{Feature:Kte,ProjectionNode:A5,MeasureLayout:m5}};function rB(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=i[s];a&&Ui.postRender(()=>a(e,uy(e)))}class Dne extends Md{mount(){const{current:e}=this.node;e&&(this.unmount=nee(e,(t,i)=>(rB(this.node,i,"Start"),s=>rB(this.node,s,"End"))))}unmount(){}}class One extends Md{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oy(Ix(this.node.current,"focus",()=>this.onFocus()),Ix(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aB(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=i[s];a&&Ui.postRender(()=>a(e,uy(e)))}class Pne extends Md{mount(){const{current:e}=this.node;e&&(this.unmount=aee(e,(t,i)=>(aB(this.node,i,"Start"),(s,{success:a})=>aB(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uC=new WeakMap,V_=new WeakMap,Lne=n=>{const e=uC.get(n.target);e&&e(n)},Ine=n=>{n.forEach(Lne)};function Une({root:n,...e}){const t=n||document;V_.has(t)||V_.set(t,{});const i=V_.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Ine,{root:n,...e})),i[s]}function kne(n,e,t){const i=Une(e);return uC.set(n,t),i.observe(n),()=>{uC.delete(n),i.unobserve(n)}}const Fne={some:0,all:1};class zne extends Md{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:a}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Fne[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),y=h?m:x;y&&y(d)};return kne(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Hne(e,t))&&this.startObserver()}unmount(){}}function Hne({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Vne={inView:{Feature:zne},tap:{Feature:Pne},focus:{Feature:One},hover:{Feature:Dne}},Gne={layout:{ProjectionNode:A5,MeasureLayout:m5}},qne={...Nte,...Vne,...Bne,...Gne},Ke=qee(qne,ste);function Wne(){const[n,e]=V.useState(null),t=[{question:"Do I need a prescription to buy glasses or contact lenses?",answer:"Yes. All prescription glasses, prescription sunglasses, and contact lenses require a valid prescription from a licensed optometrist or ophthalmologist in Canada. Orders cannot be processed without a valid prescription."},{question:"Can I exchange or return prescription glasses or frames?",answer:"Prescription glasses and frames are custom-made medical devices and are final sale under Ontario and Canadian law. They cannot be exchanged or refunded. Only non-prescription sunglasses are eligible for exchange within 12 days of purchase."},{question:"What payment methods are accepted?",answer:"We accept major credit cards including Visa, MasterCard, and American Express, as well as debit cards. Select financing options may also be available where applicable. Please note that full payment is required before any order can be processed."},{question:"How long does it take to process and ship my order?",answer:"Non-prescription items typically require 13 business days for processing, while prescription or custom eyewear may take 37 business days. Shipping time varies based on the carrier and delivery destination, and tracking information will be provided once your order has been shipped."},{question:"Which shipping carriers do you use?",answer:"Atal Optical ships orders using trusted carriers including UPS, DHL, FedEx, and Canada Post. Shipping fees are calculated at checkout based on the selected service and are non-refundable."},{question:"What if my order is lost or damaged during shipping?",answer:"If your package arrives damaged, take photos of the package and the item immediately. Report the damage to Atal Optical within 24 hours of delivery, and keep all original packaging for inspection. Please note that late claims may not be accepted."},{question:"Do you offer eye exams in-store?",answer:"Yes, we have qualified optometrists available for comprehensive eye exams, including vision tests, prescription updates, and eye health checks."},{question:"How do I provide measurements for glasses?",answer:"Prescription eyewear requires your pupillary distance (PD). You can provide this measurement from your optometrist, or we can take the measurement for you in-store."}],i=[{title:"Step 1: Open Book Eye Exam"},{title:"Step 2: Click the Book Eye Exam Button"},{title:"Step 3: Confirm Booking Start"},{title:"Step 4: Select Appointment Type"},{title:"Step 5: Choose a Time Slot"},{title:"Step 6: Fill the Form & Book"}],s=a=>{e(n===a?null:a)};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex md:flex-row flex-col md:mb-20",children:[r.jsx("div",{className:"md:mr-6",children:r.jsxs("div",{className:"bg-[#f00000] p-9 rounded-xl mt-10 md:ml-26 mx-5 md:min-w-xl",children:[r.jsxs("div",{className:"max-w-3xl w-full",children:[r.jsxs(Ke.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-center text-black mb-12",children:["How to Book Eye Exam",r.jsx("hr",{className:"border border-white mx-auto mt-3 w-40 sm:w-60 md:w-80 lg:w-[26rem] "})]}),r.jsx("div",{className:"relative border-l-4 border-white pl-6",children:i.map((a,o)=>r.jsx(Ke.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},transition:{duration:.5,delay:o*.15},className:"mb-10",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white text-black font-bold mr-4 shadow-md",children:o+1}),r.jsx("div",{children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:a.title})})]})},o))})]}),r.jsx(xt,{to:"/eye-schedule-test",children:r.jsxs("button",{className:"bg-white p-3 mt-6 rounded-xl text-xl font-semibold flex items-center hover:cursor-pointer hover:bg-black hover:text-white transition-colors duration-300",children:["Book Eye Exam",r.jsx("span",{className:"ml-4 p-2 rounded-lg bg-black hover:bg-white hover:text-black",children:r.jsx(vx,{className:"hover:rotate-[-45deg] text-white hover:text-black"})})]})})]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"md:max-w-5xl mx-auto p-6 min-h-[500px] bg-white mt-10 md:mr-10",children:[r.jsx("h1",{className:"text-3xl font-bold mb-3 text-[#f00000]",children:"FAQ"}),r.jsxs("p",{className:"text-4xl",children:["Frequently Asked ",r.jsx("span",{className:"font-bold",children:"Questions"})]}),r.jsx("hr",{className:"md:w-102 w-42 mb-10 mt-2 border-black"}),t.map((a,o)=>r.jsxs("div",{className:"mb-4 border-b border-black pb-4",children:[r.jsxs("button",{onClick:()=>s(o),className:"w-full text-left flex justify-between items-center focus:outline-none hover:cursor-pointer",children:[r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{className:"text-lg font-medium",children:a.question})}),r.jsx("span",{className:"text-xl",children:n===o?"-":"+"})]}),r.jsx("div",{className:`transition-all duration-300 overflow-hidden ${n===o?"max-h-40 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:r.jsx("p",{className:"text-gray-700",children:a.answer})})]},o))]}),r.jsx("div",{className:"flex justify-end mr-14",children:r.jsx(xt,{to:"/faq",children:r.jsxs("button",{className:"flex items-center gap-4 text-white font-medium bg-[#f00000] px-4 py-2 rounded mr-1 hover:bg-black transition-colors duration-300 cursor-pointer",children:["FIND MORE",r.jsx("span",{className:"bg-white text-black p-1 rounded-full",children:r.jsx(o2,{size:16,className:"hover:rotate-[-40deg] transition-transform"})})]})})})]})]})})}const Xne=()=>{const[n,e]=V.useState([]),t={dots:!0,infinite:!0,speed:700,slidesToShow:3,slidesToScroll:1,autoplay:!0,arrows:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}],customPaging:()=>r.jsx("button",{}),appendDots:s=>r.jsx("ul",{children:s.slice(0,4)})},i=async()=>{try{const s=await St.get("/getTestimonial");e(s.data.testimonial)}catch(s){console.log(s)}};return V.useEffect(()=>{i()},[]),r.jsxs("section",{className:"py-16 px-6 bg-gray-100 text-center",children:[r.jsxs("h3",{className:"text-3xl font-bold",children:["What Our ",r.jsx("span",{className:"text-[#f00000]",children:"Customers Say"})]}),r.jsx("hr",{className:"border border-black mx-auto mt-2 mb-12 w-40 sm:w-60 md:w-80 lg:w-[26rem]"}),r.jsx(LC,{...t,className:"testimonials-slider max-[640px]:!mt-8 max-[640px]:!pb-10",children:n.map((s,a)=>r.jsx("div",{className:"px-6",children:r.jsx("div",{className:"bg-white hover:bg-[#f00000] hover:text-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border-1 border-red-600",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("img",{src:Pn+s.image,alt:s.fullName,className:"w-28 h-28 rounded-full object-cover mb-4 shadow",loading:"lazy",decoding:"async"}),r.jsx("div",{className:"w-full flex justify-center text-left pl-4 mb-2",children:r.jsx("h4",{className:"text-lg font-semibold",children:s.fullName})}),r.jsx("h5",{className:"text-xl font-semibold mb-2",children:s.heading}),r.jsxs("p",{className:"italic text-sm mb-4 max-w-xl",children:['"',s.description,'"']}),r.jsx("div",{className:"flex justify-center text-yellow-500 mb-2",children:[...Array(s.rating)].map((o,c)=>r.jsx(S9,{},c))})]})})},a))})]})},Yne=()=>r.jsx("div",{className:" px-6 py-16 md:px-16 lg:px-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[r.jsx("div",{children:r.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight font-serif",children:[r.jsx("span",{className:"text-red-600",children:" Eyewear"}),r.jsx("br",{}),"Crafted For",r.jsx("br",{}),"Every ",r.jsx("span",{className:"text-red-600",children:"Moment"})]})}),r.jsx("div",{children:r.jsx("p",{className:"md:text-base text-black leading-relaxed",children:"Looking for glasses that perfectly match every moment of your life? At Atal Optical, we know that one pair of eyeglasses doesn't fit every occasion. That's why we offer an ever-growing collection of trendy, high-quality glasses frames and prescription glasses at prices that make sense. Whether youre shopping for glasses online or updating your style, we stay ahead of the latest trends so you dont have to. And with our seamless digital experience, finding your next perfect pair of frames is easier than ever. Whether youre switching things up or building your eyewear wardrobe, Atal Optical is here to help you see the world in style."})})]})}),Kne="/assets/contact-DUmaUU2Q.avif",Jne=()=>{const n=Bi();return r.jsxs("div",{className:"bg-black text-white py-16 px-6 md:px-20 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[r.jsxs(Ke.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"md:w-1/2 text-center md:text-left z-10",children:[r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-[#f00000] mb-4",children:["SUBSCRIBE & SAVE: ",r.jsx("span",{className:"text-white",children:"20% OFF"})," + FREE SHIPPING"]}),r.jsxs("p",{className:"text-gray-300 text-lg mb-6",children:["Get a contact lenses subscription  you'll never run out of contacts. Plus, you'll save ",r.jsx("span",{className:"text-[#f00000] font-semibold",children:"20%"})," and get free shipping every time!"]}),r.jsx("button",{onClick:()=>n("/subscribe-save"),className:"bg-[#f00000] hover:bg-red-700 text-white font-semibold px-6 py-3 rounded-lg shadow-md transition-transform active:scale-95",children:"Discover more"})]}),r.jsx(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8},className:"md:w-1/2 flex justify-center mt-10 md:mt-0",children:r.jsx("img",{src:Kne,alt:"Contact Lenses",className:"w-80 md:w-[420px] drop-shadow-lg rounded-lg"})})]})},dC="/assets/InsuranceClaims-C1swIsyP.jpg",Qne=()=>{const n=Bi();return r.jsxs("div",{className:"bg-gray-300 mt-10 text-black py-16 px-6 md:px-20 flex flex-col md:flex-row items-center justify-between relative overflow-hidden",children:[r.jsxs(Ke.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"md:w-1/2 text-center md:text-left z-10",children:[r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Claim your ",r.jsx("span",{className:"text-[#f00000]",children:"insurance benefits"})," with direct billing to save on your order"]}),r.jsxs("p",{className:"text-gray-600 text-lg mb-6",children:["Discount applied at checkout by selecting"," ",r.jsx("span",{className:"font-semibold text-[#f00000]",children:'"Apply vision insurance"'}),"."]}),r.jsx("button",{onClick:()=>n("/eye-services/insurance-claims"),className:"bg-[#f00000] hover:bg-red-700 text-white font-semibold px-6 py-3 rounded-lg shadow-md transition-transform active:scale-95",children:"Learn more"})]}),r.jsx(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8},className:"md:w-1/2 flex justify-center mt-10 md:mt-0",children:r.jsx("img",{src:dC,alt:"Insurance Benefits",className:"w-80 md:w-[420px] drop-shadow-lg rounded-lg"})})]})},Zne="/assets/Trending-C1MfE17m.jpg",_5="/assets/glasses-D7-ZA2TN.jpg",$ne=()=>{const n=Bi();return r.jsxs("div",{className:"bg-white text-black py-10 px-4 sm:px-6 md:px-20",children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 text-[#f00000]",children:"What's New?"}),r.jsx("p",{className:"text-black text-sm sm:text-base max-w-xl mx-auto px-2",children:"Get inspired by our latest drops and for your next pair of eyewear. These are the new arrivals that draw on the newest trends while speaking to your style."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-12",children:[r.jsxs(Ke.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-full h-56 sm:h-72 md:h-80 overflow-hidden rounded-xl shadow-lg mb-5",children:r.jsx("img",{src:Zne,alt:"Brand",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"})}),r.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold mb-3 px-2",children:["Meet the new ",r.jsx("span",{className:"text-[#f00000]",children:"Atal Optical collections"})]}),r.jsx("p",{className:"text-black mb-6 text-sm sm:text-base max-w-md px-3",children:"Whether you're on the hunt for everyday go-to's or statement styles, the newest Atal Optical collections have just what you need."}),r.jsx("button",{onClick:()=>n("/allproduct/sunglasses/6915705d9ceac0cdda41c83f"),className:"bg-[#f00000] hover:bg-red-700 text-white font-medium px-5 py-3 rounded-md shadow-md active:scale-95 transition",children:"Shop At Atal Optical"})]}),r.jsxs(Ke.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1},className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-full h-56 sm:h-72 md:h-80 overflow-hidden rounded-xl shadow-lg mb-5",children:r.jsx("img",{src:_5,alt:"Brand",className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"})}),r.jsxs("h3",{className:"text-xl sm:text-2xl font-semibold mb-3 px-2",children:["Introducing the ",r.jsx("span",{className:"text-[#f00000]",children:"Atal Optical"})]}),r.jsx("p",{className:"text-black mb-6 text-sm sm:text-base max-w-md px-3",children:"With padded contours and a fashion-forward edge, the Atal Optical frames bring a hip-hop twist to timeless classic eyewear."}),r.jsx("button",{onClick:()=>n("/allproduct/glasses/69157332eeb23fa59c7d5326"),className:"bg-[#f00000] hover:bg-red-700 text-white font-medium px-5 py-3 rounded-md shadow-md active:scale-95 transition",children:"Shop now"})]})]})]})};/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function E5(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function eie(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oB(n,e){return n.get(E5(n,e))}function tie(n,e,t){eie(n,e),e.set(n,t)}function nie(n,e,t){return n.set(E5(n,e),t),t}const iie=100,rn={},sie=()=>{rn.previousActiveElement instanceof HTMLElement?(rn.previousActiveElement.focus(),rn.previousActiveElement=null):document.body&&document.body.focus()},rie=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;rn.restoreFocusTimeout=setTimeout(()=>{sie(),e()},iie),window.scrollTo(t,i)}),C5="swal2-",aie=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Ze=aie.reduce((n,e)=>(n[e]=C5+e,n),{}),oie=["success","warning","info","question","error"],Pw=oie.reduce((n,e)=>(n[e]=C5+e,n),{}),M5="SweetAlert2:",gT=n=>n.charAt(0).toUpperCase()+n.slice(1),Kr=n=>{console.warn(`${M5} ${typeof n=="object"?n.join(" "):n}`)},jf=n=>{console.error(`${M5} ${n}`)},lB=[],lie=n=>{lB.includes(n)||(lB.push(n),Kr(n))},T5=(n,e=null)=>{lie(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},X2=n=>typeof n=="function"?n():n,xT=n=>n&&typeof n.toPromise=="function",dy=n=>xT(n)?n.toPromise():Promise.resolve(n),yT=n=>n&&Promise.resolve(n)===n,Jr=()=>document.body.querySelector(`.${Ze.container}`),hy=n=>{const e=Jr();return e?e.querySelector(n):null},Wa=n=>hy(`.${n}`),ri=()=>Wa(Ze.popup),eg=()=>Wa(Ze.icon),cie=()=>Wa(Ze["icon-content"]),N5=()=>Wa(Ze.title),vT=()=>Wa(Ze["html-container"]),j5=()=>Wa(Ze.image),bT=()=>Wa(Ze["progress-steps"]),Y2=()=>Wa(Ze["validation-message"]),ac=()=>hy(`.${Ze.actions} .${Ze.confirm}`),tg=()=>hy(`.${Ze.actions} .${Ze.cancel}`),Rf=()=>hy(`.${Ze.actions} .${Ze.deny}`),uie=()=>Wa(Ze["input-label"]),ng=()=>hy(`.${Ze.loader}`),fy=()=>Wa(Ze.actions),R5=()=>Wa(Ze.footer),K2=()=>Wa(Ze["timer-progress-bar"]),wT=()=>Wa(Ze.close),die=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ST=()=>{const n=ri();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((a,o)=>{const c=parseInt(a.getAttribute("tabindex")||"0"),d=parseInt(o.getAttribute("tabindex")||"0");return c>d?1:c<d?-1:0}),i=n.querySelectorAll(die),s=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(s))].filter(a=>ba(a))},AT=()=>Jc(document.body,Ze.shown)&&!Jc(document.body,Ze["toast-shown"])&&!Jc(document.body,Ze["no-backdrop"]),J2=()=>{const n=ri();return n?Jc(n,Ze.toast):!1},hie=()=>{const n=ri();return n?n.hasAttribute("data-loading"):!1},Xa=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),s=i.querySelector("head");s&&Array.from(s.childNodes).forEach(o=>{n.appendChild(o)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?n.appendChild(o.cloneNode(!0)):n.appendChild(o)})}},Jc=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},fie=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(Ze).includes(t)&&!Object.values(Pw).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Va=(n,e,t)=>{if(fie(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){Kr(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}oi(n,i)}},Q2=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${Ze.popup} > .${Ze[e]}`);case"checkbox":return n.querySelector(`.${Ze.popup} > .${Ze.checkbox} input`);case"radio":return n.querySelector(`.${Ze.popup} > .${Ze.radio} input:checked`)||n.querySelector(`.${Ze.popup} > .${Ze.radio} input:first-child`);case"range":return n.querySelector(`.${Ze.popup} > .${Ze.range} input`);default:return n.querySelector(`.${Ze.popup} > .${Ze.input}`)}},B5=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},D5=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(s=>{t?s.classList.add(i):s.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},oi=(n,e)=>{D5(n,e,!0)},Ao=(n,e)=>{D5(n,e,!1)},dd=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const s=t[i];if(s instanceof HTMLElement&&Jc(s,e))return s}},uf=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Xs=(n,e="flex")=>{n&&(n.style.display=e)},_r=n=>{n&&(n.style.display="none")},_T=(n,e="block")=>{n&&new MutationObserver(()=>{py(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},cB=(n,e,t,i)=>{const s=n.querySelector(e);s&&s.style.setProperty(t,i)},py=(n,e,t="flex")=>{e?Xs(n,t):_r(n)},ba=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),pie=()=>!ba(ac())&&!ba(Rf())&&!ba(tg()),hC=n=>n.scrollHeight>n.clientHeight,mie=(n,e)=>{let t=n;for(;t&&t!==e;){if(hC(t))return!0;t=t.parentElement}return!1},O5=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},ET=(n,e=!1)=>{const t=K2();t&&ba(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},gie=()=>{const n=K2();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},xie=()=>typeof window>"u"||typeof document>"u",yie=`
 <div aria-labelledby="${Ze.title}" aria-describedby="${Ze["html-container"]}" class="${Ze.popup}" tabindex="-1">
   <button type="button" class="${Ze.close}"></button>
   <ul class="${Ze["progress-steps"]}"></ul>
   <div class="${Ze.icon}"></div>
   <img class="${Ze.image}" />
   <h2 class="${Ze.title}" id="${Ze.title}"></h2>
   <div class="${Ze["html-container"]}" id="${Ze["html-container"]}"></div>
   <input class="${Ze.input}" id="${Ze.input}" />
   <input type="file" class="${Ze.file}" />
   <div class="${Ze.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Ze.select}" id="${Ze.select}"></select>
   <div class="${Ze.radio}"></div>
   <label class="${Ze.checkbox}">
     <input type="checkbox" id="${Ze.checkbox}" />
     <span class="${Ze.label}"></span>
   </label>
   <textarea class="${Ze.textarea}" id="${Ze.textarea}"></textarea>
   <div class="${Ze["validation-message"]}" id="${Ze["validation-message"]}"></div>
   <div class="${Ze.actions}">
     <div class="${Ze.loader}"></div>
     <button type="button" class="${Ze.confirm}"></button>
     <button type="button" class="${Ze.deny}"></button>
     <button type="button" class="${Ze.cancel}"></button>
   </div>
   <div class="${Ze.footer}"></div>
   <div class="${Ze["timer-progress-bar-container"]}">
     <div class="${Ze["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vie=()=>{const n=Jr();return n?(n.remove(),Ao([document.documentElement,document.body],[Ze["no-backdrop"],Ze["toast-shown"],Ze["has-column"]]),!0):!1},Ih=()=>{rn.currentInstance.resetValidationMessage()},bie=()=>{const n=ri(),e=dd(n,Ze.input),t=dd(n,Ze.file),i=n.querySelector(`.${Ze.range} input`),s=n.querySelector(`.${Ze.range} output`),a=dd(n,Ze.select),o=n.querySelector(`.${Ze.checkbox} input`),c=dd(n,Ze.textarea);e.oninput=Ih,t.onchange=Ih,a.onchange=Ih,o.onchange=Ih,c.oninput=Ih,i.oninput=()=>{Ih(),s.value=i.value},i.onchange=()=>{Ih(),s.value=i.value}},wie=n=>typeof n=="string"?document.querySelector(n):n,Sie=n=>{const e=ri();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},Aie=n=>{window.getComputedStyle(n).direction==="rtl"&&oi(Jr(),Ze.rtl)},_ie=n=>{const e=vie();if(xie()){jf("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Ze.container,e&&oi(t,Ze["no-transition"]),Xa(t,yie),t.dataset.swal2Theme=n.theme;const i=wie(n.target);i.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),Sie(n),Aie(i),bie()},CT=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?Eie(n,e):n&&Xa(e,n)},Eie=(n,e)=>{n.jquery?Cie(e,n):Xa(e,n.toString())},Cie=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},Mie=(n,e)=>{const t=fy(),i=ng();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?_r(t):Xs(t),Va(t,e,"actions"),Tie(t,i,e),Xa(i,e.loaderHtml||""),Va(i,e,"loader"))};function Tie(n,e,t){const i=ac(),s=Rf(),a=tg();!i||!s||!a||(q_(i,"confirm",t),q_(s,"deny",t),q_(a,"cancel",t),Nie(i,s,a,t),t.reverseButtons&&(t.toast?(n.insertBefore(a,i),n.insertBefore(s,i)):(n.insertBefore(a,e),n.insertBefore(s,e),n.insertBefore(i,e))))}function Nie(n,e,t,i){if(!i.buttonsStyling){Ao([n,e,t],Ze.styled);return}oi([n,e,t],Ze.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),G_(n),G_(e),G_(t)}function G_(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function q_(n,e,t){const i=gT(e);py(n,t[`show${i}Button`],"inline-block"),Xa(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=Ze[e],Va(n,t,`${e}Button`)}const jie=(n,e)=>{const t=wT();t&&(Xa(t,e.closeButtonHtml||""),Va(t,e,"closeButton"),py(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Rie=(n,e)=>{const t=Jr();t&&(Bie(t,e.backdrop),Die(t,e.position),Oie(t,e.grow),Va(t,e,"container"))};function Bie(n,e){typeof e=="string"?n.style.background=e:e||oi([document.documentElement,document.body],Ze["no-backdrop"])}function Die(n,e){e&&(e in Ze?oi(n,Ze[e]):(Kr('The "position" parameter is not valid, defaulting to "center"'),oi(n,Ze.center)))}function Oie(n,e){e&&oi(n,Ze[`grow-${e}`])}var Ti={innerParams:new WeakMap,domCache:new WeakMap};const Pie=["input","file","range","select","radio","checkbox","textarea"],Lie=(n,e)=>{const t=ri();if(!t)return;const i=Ti.innerParams.get(n),s=!i||e.input!==i.input;Pie.forEach(a=>{const o=dd(t,Ze[a]);o&&(kie(a,e.inputAttributes),o.className=Ze[a],s&&_r(o))}),e.input&&(s&&Iie(e),Fie(e))},Iie=n=>{if(!n.input)return;if(!ls[n.input]){jf(`Unexpected type of input! Expected ${Object.keys(ls).join(" | ")}, got "${n.input}"`);return}const e=P5(n.input);if(!e)return;const t=ls[n.input](e,n);Xs(e),n.inputAutoFocus&&setTimeout(()=>{B5(t)})},Uie=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},kie=(n,e)=>{const t=ri();if(!t)return;const i=Q2(t,n);if(i){Uie(i);for(const s in e)i.setAttribute(s,e[s])}},Fie=n=>{if(!n.input)return;const e=P5(n.input);e&&Va(e,n,"input")},MT=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},my=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),s=Ze["input-label"];i.setAttribute("for",n.id),i.className=s,typeof t.customClass=="object"&&oi(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},P5=n=>{const e=ri();if(e)return dd(e,Ze[n]||Ze.input)},Lw=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:yT(e)||Kr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ls={};ls.text=ls.email=ls.password=ls.number=ls.tel=ls.url=ls.search=ls.date=ls["datetime-local"]=ls.time=ls.week=ls.month=(n,e)=>(Lw(n,e.inputValue),my(n,n,e),MT(n,e),n.type=e.input,n);ls.file=(n,e)=>(my(n,n,e),MT(n,e),n);ls.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return Lw(t,e.inputValue),t.type=e.input,Lw(i,e.inputValue),my(t,n,e),n};ls.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Xa(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return my(n,n,e),n};ls.radio=n=>(n.textContent="",n);ls.checkbox=(n,e)=>{const t=Q2(ri(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return Xa(i,e.inputPlaceholder||e.inputLabel),t};ls.textarea=(n,e)=>{Lw(n,e.inputValue),MT(n,e),my(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(ri()).width),s=()=>{if(!document.body.contains(n))return;const a=n.offsetWidth+t(n);a>i?ri().style.width=`${a}px`:uf(ri(),"width",e.width)};new MutationObserver(s).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const zie=(n,e)=>{const t=vT();t&&(_T(t),Va(t,e,"htmlContainer"),e.html?(CT(e.html,t),Xs(t,"block")):e.text?(t.textContent=e.text,Xs(t,"block")):_r(t),Lie(n,e))},Hie=(n,e)=>{const t=R5();t&&(_T(t),py(t,e.footer,"block"),e.footer&&CT(e.footer,t),Va(t,e,"footer"))},Vie=(n,e)=>{const t=Ti.innerParams.get(n),i=eg();if(!i)return;if(t&&e.icon===t.icon){dB(i,e),uB(i,e);return}if(!e.icon&&!e.iconHtml){_r(i);return}if(e.icon&&Object.keys(Pw).indexOf(e.icon)===-1){jf(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),_r(i);return}Xs(i),dB(i,e),uB(i,e),oi(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",L5)},uB=(n,e)=>{for(const[t,i]of Object.entries(Pw))e.icon!==t&&Ao(n,i);oi(n,e.icon&&Pw[e.icon]),Wie(n,e),L5(),Va(n,e,"icon")},L5=()=>{const n=ri();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},Gie=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,qie=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,dB=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=hB(e.iconHtml):e.icon==="success"?(i=Gie(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=qie:e.icon&&(i=hB({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&Xa(n,i)},Wie=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])cB(n,t,"background-color",e.iconColor);cB(n,".swal2-success-ring","border-color",e.iconColor)}},hB=n=>`<div class="${Ze["icon-content"]}">${n}</div>`,Xie=(n,e)=>{const t=j5();if(t){if(!e.imageUrl){_r(t);return}Xs(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),uf(t,"width",e.imageWidth),uf(t,"height",e.imageHeight),t.className=Ze.image,Va(t,e,"image")}};let TT=!1,I5=0,U5=0,k5=0,F5=0;const Yie=n=>{n.addEventListener("mousedown",Iw),document.body.addEventListener("mousemove",Uw),n.addEventListener("mouseup",kw),n.addEventListener("touchstart",Iw),document.body.addEventListener("touchmove",Uw),n.addEventListener("touchend",kw)},Kie=n=>{n.removeEventListener("mousedown",Iw),document.body.removeEventListener("mousemove",Uw),n.removeEventListener("mouseup",kw),n.removeEventListener("touchstart",Iw),document.body.removeEventListener("touchmove",Uw),n.removeEventListener("touchend",kw)},Iw=n=>{const e=ri();if(n.target===e||eg().contains(n.target)){TT=!0;const t=z5(n);I5=t.clientX,U5=t.clientY,k5=parseInt(e.style.insetInlineStart)||0,F5=parseInt(e.style.insetBlockStart)||0,oi(e,"swal2-dragging")}},Uw=n=>{const e=ri();if(TT){let{clientX:t,clientY:i}=z5(n);e.style.insetInlineStart=`${k5+(t-I5)}px`,e.style.insetBlockStart=`${F5+(i-U5)}px`}},kw=()=>{const n=ri();TT=!1,Ao(n,"swal2-dragging")},z5=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},Jie=(n,e)=>{const t=Jr(),i=ri();if(!(!t||!i)){if(e.toast){uf(t,"width",e.width),i.style.width="100%";const s=ng();s&&i.insertBefore(s,eg())}else uf(i,"width",e.width);uf(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),_r(Y2()),Qie(i,e),e.draggable&&!e.toast?(oi(i,Ze.draggable),Yie(i)):(Ao(i,Ze.draggable),Kie(i))}},Qie=(n,e)=>{const t=e.showClass||{};n.className=`${Ze.popup} ${ba(n)?t.popup:""}`,e.toast?(oi([document.documentElement,document.body],Ze["toast-shown"]),oi(n,Ze.toast)):oi(n,Ze.modal),Va(n,e,"popup"),typeof e.customClass=="string"&&oi(n,e.customClass),e.icon&&oi(n,Ze[`icon-${e.icon}`])},Zie=(n,e)=>{const t=bT();if(!t)return;const{progressSteps:i,currentProgressStep:s}=e;if(!i||i.length===0||s===void 0){_r(t);return}Xs(t),t.textContent="",s>=i.length&&Kr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,o)=>{const c=$ie(a);if(t.appendChild(c),o===s&&oi(c,Ze["active-progress-step"]),o!==i.length-1){const d=ese(e);t.appendChild(d)}})},$ie=n=>{const e=document.createElement("li");return oi(e,Ze["progress-step"]),Xa(e,n),e},ese=n=>{const e=document.createElement("li");return oi(e,Ze["progress-step-line"]),n.progressStepsDistance&&uf(e,"width",n.progressStepsDistance),e},tse=(n,e)=>{const t=N5();t&&(_T(t),py(t,e.title||e.titleText,"block"),e.title&&CT(e.title,t),e.titleText&&(t.innerText=e.titleText),Va(t,e,"title"))},H5=(n,e)=>{Jie(n,e),Rie(n,e),Zie(n,e),Vie(n,e),Xie(n,e),tse(n,e),jie(n,e),zie(n,e),Mie(n,e),Hie(n,e);const t=ri();typeof e.didRender=="function"&&t&&e.didRender(t),rn.eventEmitter.emit("didRender",t)},nse=()=>ba(ri()),V5=()=>{var n;return(n=ac())===null||n===void 0?void 0:n.click()},ise=()=>{var n;return(n=Rf())===null||n===void 0?void 0:n.click()},sse=()=>{var n;return(n=tg())===null||n===void 0?void 0:n.click()},ig=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),G5=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},rse=(n,e,t)=>{G5(n),e.toast||(n.keydownHandler=i=>ose(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:ri(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},fC=(n,e)=>{var t;const i=ST();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=ri())===null||t===void 0||t.focus()},q5=["ArrowRight","ArrowDown"],ase=["ArrowLeft","ArrowUp"],ose=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?lse(e,n):e.key==="Tab"?cse(e):[...q5,...ase].includes(e.key)?use(e.key):e.key==="Escape"&&dse(e,n,t)))},lse=(n,e)=>{if(!X2(e.allowEnterKey))return;const t=Q2(ri(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;V5(),n.preventDefault()}},cse=n=>{const e=n.target,t=ST();let i=-1;for(let s=0;s<t.length;s++)if(e===t[s]){i=s;break}n.shiftKey?fC(i,-1):fC(i,1),n.stopPropagation(),n.preventDefault()},use=n=>{const e=fy(),t=ac(),i=Rf(),s=tg();if(!e||!t||!i||!s)return;const a=[t,i,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const o=q5.includes(n)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let d=0;d<e.children.length;d++){if(c=c[o],!c)return;if(c instanceof HTMLButtonElement&&ba(c))break}c instanceof HTMLButtonElement&&c.focus()}},dse=(n,e,t)=>{n.preventDefault(),X2(e.allowEscapeKey)&&t(ig.esc)};var Um={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const hse=()=>{const n=Jr();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},W5=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},X5=typeof window<"u"&&!!window.GestureEvent,fse=()=>{if(X5&&!Jc(document.body,Ze.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,oi(document.body,Ze.iosfix),pse()}},pse=()=>{const n=Jr();if(!n)return;let e;n.ontouchstart=t=>{e=mse(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},mse=n=>{const e=n.target,t=Jr(),i=vT();return!t||!i||gse(n)||xse(n)?!1:e===t||!hC(t)&&e instanceof HTMLElement&&!mie(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(hC(i)&&i.contains(e))},gse=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",xse=n=>n.touches&&n.touches.length>1,yse=()=>{if(Jc(document.body,Ze.iosfix)){const n=parseInt(document.body.style.top,10);Ao(document.body,Ze.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},vse=()=>{const n=document.createElement("div");n.className=Ze["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let ym=null;const bse=n=>{ym===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(ym=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ym+vse()}px`)},wse=()=>{ym!==null&&(document.body.style.paddingRight=`${ym}px`,ym=null)};function Y5(n,e,t,i){J2()?fB(n,i):(rie(t).then(()=>fB(n,i)),G5(rn)),X5?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),AT()&&(wse(),yse(),W5()),Sse()}function Sse(){Ao([document.documentElement,document.body],[Ze.shown,Ze["height-auto"],Ze["no-backdrop"],Ze["toast-shown"]])}function hd(n){n=_se(n);const e=Um.swalPromiseResolve.get(this),t=Ase(this);this.isAwaitingPromise?n.isDismissed||(gy(this),e(n)):t&&e(n)}const Ase=n=>{const e=ri();if(!e)return!1;const t=Ti.innerParams.get(n);if(!t||Jc(e,t.hideClass.popup))return!1;Ao(e,t.showClass.popup),oi(e,t.hideClass.popup);const i=Jr();return Ao(i,t.showClass.backdrop),oi(i,t.hideClass.backdrop),Ese(n,e,t),!0};function K5(n){const e=Um.swalPromiseReject.get(this);gy(this),e&&e(n)}const gy=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,Ti.innerParams.get(n)||n._destroy())},_se=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),Ese=(n,e,t)=>{var i;const s=Jr(),a=O5(e);typeof t.willClose=="function"&&t.willClose(e),(i=rn.eventEmitter)===null||i===void 0||i.emit("willClose",e),a?Cse(n,e,s,t.returnFocus,t.didClose):Y5(n,s,t.returnFocus,t.didClose)},Cse=(n,e,t,i,s)=>{rn.swalCloseEventFinishedCallback=Y5.bind(null,n,t,i,s);const a=function(o){if(o.target===e){var c;(c=rn.swalCloseEventFinishedCallback)===null||c===void 0||c.call(rn),delete rn.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},fB=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=rn.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},km=n=>{let e=ri();if(e||new Ht,e=ri(),!e)return;const t=ng();J2()?_r(eg()):Mse(e,n),Xs(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Mse=(n,e)=>{const t=fy(),i=ng();!t||!i||(!e&&ba(ac())&&(e=ac()),Xs(t),e&&(_r(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),oi([n,t],Ze.loading))},Tse=(n,e)=>{e.input==="select"||e.input==="radio"?Dse(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(xT(e.inputValue)||yT(e.inputValue))&&(km(ac()),Ose(n,e))},Nse=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return jse(t);case"radio":return Rse(t);case"file":return Bse(t);default:return e.inputAutoTrim?t.value.trim():t.value}},jse=n=>n.checked?1:0,Rse=n=>n.checked?n.value:null,Bse=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,Dse=(n,e)=>{const t=ri();if(!t)return;const i=s=>{e.input==="select"?Pse(t,Fw(s),e):e.input==="radio"&&Lse(t,Fw(s),e)};xT(e.inputOptions)||yT(e.inputOptions)?(km(ac()),dy(e.inputOptions).then(s=>{n.hideLoading(),i(s)})):typeof e.inputOptions=="object"?i(e.inputOptions):jf(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Ose=(n,e)=>{const t=n.getInput();t&&(_r(t),dy(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Xs(t),t.focus(),n.hideLoading()}).catch(i=>{jf(`Error in inputValue promise: ${i}`),t.value="",Xs(t),t.focus(),n.hideLoading()}))};function Pse(n,e,t){const i=dd(n,Ze.select);if(!i)return;const s=(a,o,c)=>{const d=document.createElement("option");d.value=c,Xa(d,o),d.selected=J5(c,t.inputValue),a.appendChild(d)};e.forEach(a=>{const o=a[0],c=a[1];if(Array.isArray(c)){const d=document.createElement("optgroup");d.label=o,d.disabled=!1,i.appendChild(d),c.forEach(h=>s(d,h[1],h[0]))}else s(i,c,o)}),i.focus()}function Lse(n,e,t){const i=dd(n,Ze.radio);if(!i)return;e.forEach(a=>{const o=a[0],c=a[1],d=document.createElement("input"),h=document.createElement("label");d.type="radio",d.name=Ze.radio,d.value=o,J5(o,t.inputValue)&&(d.checked=!0);const m=document.createElement("span");Xa(m,c),m.className=Ze.label,h.appendChild(d),h.appendChild(m),i.appendChild(h)});const s=i.querySelectorAll("input");s.length&&s[0].focus()}const Fw=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let s=t;typeof s=="object"&&(s=Fw(s)),e.push([i,s])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=Fw(i)),e.push([t,i])}),e},J5=(n,e)=>!!e&&e.toString()===n.toString(),Ise=n=>{const e=Ti.innerParams.get(n);n.disableButtons(),e.input?Q5(n,"confirm"):jT(n,!0)},Use=n=>{const e=Ti.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?Q5(n,"deny"):NT(n,!1)},kse=(n,e)=>{n.disableButtons(),e(ig.cancel)},Q5=(n,e)=>{const t=Ti.innerParams.get(n);if(!t.input){jf(`The "input" parameter is needed to be set when using returnInputValueOn${gT(e)}`);return}const i=n.getInput(),s=Nse(n,t);t.inputValidator?Fse(n,s,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?NT(n,s):jT(n,s)},Fse=(n,e,t)=>{const i=Ti.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>dy(i.inputValidator(e,i.validationMessage))).then(a=>{n.enableButtons(),n.enableInput(),a?n.showValidationMessage(a):t==="deny"?NT(n,e):jT(n,e)})},NT=(n,e)=>{const t=Ti.innerParams.get(n||void 0);t.showLoaderOnDeny&&km(Rf()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>dy(t.preDeny(e,t.validationMessage))).then(s=>{s===!1?(n.hideLoading(),gy(n)):n.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>Z5(n||void 0,s))):n.close({isDenied:!0,value:e})},pB=(n,e)=>{n.close({isConfirmed:!0,value:e})},Z5=(n,e)=>{n.rejectPromise(e)},jT=(n,e)=>{const t=Ti.innerParams.get(n||void 0);t.showLoaderOnConfirm&&km(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>dy(t.preConfirm(e,t.validationMessage))).then(s=>{ba(Y2())||s===!1?(n.hideLoading(),gy(n)):pB(n,typeof s>"u"?e:s)}).catch(s=>Z5(n||void 0,s))):pB(n,e)};function zw(){const n=Ti.innerParams.get(this);if(!n)return;const e=Ti.domCache.get(this);_r(e.loader),J2()?n.icon&&Xs(eg()):zse(e),Ao([e.popup,e.actions],Ze.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const zse=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Xs(e[0],"inline-block"):pie()&&_r(n.actions)};function $5(){const n=Ti.innerParams.get(this),e=Ti.domCache.get(this);return e?Q2(e.popup,n.input):null}function eI(n,e,t){const i=Ti.domCache.get(n);e.forEach(s=>{i[s].disabled=t})}function tI(n,e){const t=ri();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${Ze.radio}"]`);for(let s=0;s<i.length;s++)i[s].disabled=e}else n.disabled=e}function nI(){eI(this,["confirmButton","denyButton","cancelButton"],!1)}function iI(){eI(this,["confirmButton","denyButton","cancelButton"],!0)}function sI(){tI(this.getInput(),!1)}function rI(){tI(this.getInput(),!0)}function aI(n){const e=Ti.domCache.get(this),t=Ti.innerParams.get(this);Xa(e.validationMessage,n),e.validationMessage.className=Ze["validation-message"],t.customClass&&t.customClass.validationMessage&&oi(e.validationMessage,t.customClass.validationMessage),Xs(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",Ze["validation-message"]),B5(i),oi(i,Ze.inputerror))}function oI(){const n=Ti.domCache.get(this);n.validationMessage&&_r(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ao(e,Ze.inputerror))}const vm={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Hse=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Vse={allowEnterKey:void 0},Gse=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],lI=n=>Object.prototype.hasOwnProperty.call(vm,n),cI=n=>Hse.indexOf(n)!==-1,uI=n=>Vse[n],qse=n=>{lI(n)||Kr(`Unknown parameter "${n}"`)},Wse=n=>{Gse.includes(n)&&Kr(`The parameter "${n}" is incompatible with toasts`)},Xse=n=>{const e=uI(n);e&&T5(n,e)},dI=n=>{n.backdrop===!1&&n.allowOutsideClick&&Kr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&Kr(`Invalid theme "${n.theme}"`);for(const e in n)qse(e),n.toast&&Wse(e),Xse(e)};function hI(n){const e=Jr(),t=ri(),i=Ti.innerParams.get(this);if(!t||Jc(t,i.hideClass.popup)){Kr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=Yse(n),a=Object.assign({},i,s);dI(a),e.dataset.swal2Theme=a.theme,H5(this,a),Ti.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const Yse=n=>{const e={};return Object.keys(n).forEach(t=>{cI(t)?e[t]=n[t]:Kr(`Invalid parameter to update: ${t}`)}),e};function fI(){const n=Ti.domCache.get(this),e=Ti.innerParams.get(this);if(!e){pI(this);return}n.popup&&rn.swalCloseEventFinishedCallback&&(rn.swalCloseEventFinishedCallback(),delete rn.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),rn.eventEmitter.emit("didDestroy"),Kse(this)}const Kse=n=>{pI(n),delete n.params,delete rn.keydownHandler,delete rn.keydownTarget,delete rn.currentInstance},pI=n=>{n.isAwaitingPromise?(W_(Ti,n),n.isAwaitingPromise=!0):(W_(Um,n),W_(Ti,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},W_=(n,e)=>{for(const t in n)n[t].delete(e)};var Jse=Object.freeze({__proto__:null,_destroy:fI,close:hd,closeModal:hd,closePopup:hd,closeToast:hd,disableButtons:iI,disableInput:rI,disableLoading:zw,enableButtons:nI,enableInput:sI,getInput:$5,handleAwaitingPromise:gy,hideLoading:zw,rejectPromise:K5,resetValidationMessage:oI,showValidationMessage:aI,update:hI});const Qse=(n,e,t)=>{n.toast?Zse(n,e,t):(ere(e),tre(e),nre(n,e,t))},Zse=(n,e,t)=>{e.popup.onclick=()=>{n&&($se(n)||n.timer||n.input)||t(ig.close)}},$se=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Hw=!1;const ere=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Hw=!0)}}},tre=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Hw=!0)}}},nre=(n,e,t)=>{e.container.onclick=i=>{if(Hw){Hw=!1;return}i.target===e.container&&X2(n.allowOutsideClick)&&t(ig.backdrop)}},ire=n=>typeof n=="object"&&n.jquery,mB=n=>n instanceof Element||ire(n),sre=n=>{const e={};return typeof n[0]=="object"&&!mB(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const s=n[i];typeof s=="string"||mB(s)?e[t]=s:s!==void 0&&jf(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof s}`)}),e};function rre(...n){return new this(...n)}function are(n){class e extends this{_main(i,s){return super._main(i,Object.assign({},n,s))}}return e}const ore=()=>rn.timeout&&rn.timeout.getTimerLeft(),mI=()=>{if(rn.timeout)return gie(),rn.timeout.stop()},gI=()=>{if(rn.timeout){const n=rn.timeout.start();return ET(n),n}},lre=()=>{const n=rn.timeout;return n&&(n.running?mI():gI())},cre=n=>{if(rn.timeout){const e=rn.timeout.increase(n);return ET(e,!0),e}},ure=()=>!!(rn.timeout&&rn.timeout.isRunning());let gB=!1;const pC={};function dre(n="data-swal-template"){pC[n]=this,gB||(document.body.addEventListener("click",hre),gB=!0)}const hre=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in pC){const i=e.getAttribute(t);if(i){pC[t].fire({template:i});return}}};class fre{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...s)=>{this.removeListener(e,i),t.apply(this,s)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,t)}catch(s){console.error(s)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),s=i.indexOf(t);s>-1&&i.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}rn.eventEmitter=new fre;const pre=(n,e)=>{rn.eventEmitter.on(n,e)},mre=(n,e)=>{rn.eventEmitter.once(n,e)},gre=(n,e)=>{if(!n){rn.eventEmitter.reset();return}e?rn.eventEmitter.removeListener(n,e):rn.eventEmitter.removeAllListeners(n)};var xre=Object.freeze({__proto__:null,argsToParams:sre,bindClickHandler:dre,clickCancel:sse,clickConfirm:V5,clickDeny:ise,enableLoading:km,fire:rre,getActions:fy,getCancelButton:tg,getCloseButton:wT,getConfirmButton:ac,getContainer:Jr,getDenyButton:Rf,getFocusableElements:ST,getFooter:R5,getHtmlContainer:vT,getIcon:eg,getIconContent:cie,getImage:j5,getInputLabel:uie,getLoader:ng,getPopup:ri,getProgressSteps:bT,getTimerLeft:ore,getTimerProgressBar:K2,getTitle:N5,getValidationMessage:Y2,increaseTimer:cre,isDeprecatedParameter:uI,isLoading:hie,isTimerRunning:ure,isUpdatableParameter:cI,isValidParameter:lI,isVisible:nse,mixin:are,off:gre,on:pre,once:mre,resumeTimer:gI,showLoading:km,stopTimer:mI,toggleTimer:lre});class yre{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const xI=["swal-title","swal-html","swal-footer"],vre=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return Mre(t),Object.assign(bre(t),wre(t),Sre(t),Are(t),_re(t),Ere(t),Cre(t,xI))},bre=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{bf(i,["name","value"]);const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(typeof vm[s]=="boolean"?e[s]=a!=="false":typeof vm[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},wre=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},Sre=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{bf(i,["type","color","aria-label"]);const s=i.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=i.innerHTML,e[`show${gT(s)}Button`]=!0,i.hasAttribute("color")&&(e[`${s}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},Are=n=>{const e={},t=n.querySelector("swal-image");return t&&(bf(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},_re=n=>{const e={},t=n.querySelector("swal-icon");return t&&(bf(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},Ere=n=>{const e={},t=n.querySelector("swal-input");t&&(bf(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(s=>{bf(s,["value"]);const a=s.getAttribute("value");if(!a)return;const o=s.innerHTML;e.inputOptions[a]=o})),e},Cre=(n,e)=>{const t={};for(const i in e){const s=e[i],a=n.querySelector(s);a&&(bf(a,[]),t[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return t},Mre=n=>{const e=xI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||Kr(`Unrecognized element <${i}>`)})},bf=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&Kr([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},yI=10,Tre=n=>{const e=Jr(),t=ri();typeof n.willOpen=="function"&&n.willOpen(t),rn.eventEmitter.emit("willOpen",t);const s=window.getComputedStyle(document.body).overflowY;Rre(e,t,n),setTimeout(()=>{Nre(e,t)},yI),AT()&&(jre(e,n.scrollbarPadding,s),hse()),!J2()&&!rn.previousActiveElement&&(rn.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),rn.eventEmitter.emit("didOpen",t),Ao(e,Ze["no-transition"])},Vw=n=>{const e=ri();if(n.target!==e)return;const t=Jr();e.removeEventListener("animationend",Vw),e.removeEventListener("transitionend",Vw),t.style.overflowY="auto"},Nre=(n,e)=>{O5(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Vw),e.addEventListener("transitionend",Vw)):n.style.overflowY="auto"},jre=(n,e,t)=>{fse(),e&&t!=="hidden"&&bse(t),setTimeout(()=>{n.scrollTop=0})},Rre=(n,e,t)=>{oi(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Xs(e,"grid"),setTimeout(()=>{oi(e,t.showClass.popup),e.style.removeProperty("opacity")},yI)):Xs(e,"grid"),oi([document.documentElement,document.body],Ze.shown),t.heightAuto&&t.backdrop&&!t.toast&&oi([document.documentElement,document.body],Ze["height-auto"])};var xB={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Bre(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=xB.email),n.input==="url"&&(n.inputValidator=xB.url))}function Dre(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Kr('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Ore(n){Bre(n),n.showLoaderOnConfirm&&!n.preConfirm&&Kr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Dre(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),_ie(n)}let Jl;var Qb=new WeakMap;class hs{constructor(...e){if(tie(this,Qb,void 0),typeof window>"u")return;Jl=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,nie(Qb,this,this._main(Jl.params))}_main(e,t={}){if(dI(Object.assign({},t,e)),rn.currentInstance){const a=Um.swalPromiseResolve.get(rn.currentInstance),{isAwaitingPromise:o}=rn.currentInstance;rn.currentInstance._destroy(),o||a({isDismissed:!0}),AT()&&W5()}rn.currentInstance=Jl;const i=Lre(e,t);Ore(i),Object.freeze(i),rn.timeout&&(rn.timeout.stop(),delete rn.timeout),clearTimeout(rn.restoreFocusTimeout);const s=Ire(Jl);return H5(Jl,i),Ti.innerParams.set(Jl,i),Pre(Jl,s,i)}then(e){return oB(Qb,this).then(e)}finally(e){return oB(Qb,this).finally(e)}}const Pre=(n,e,t)=>new Promise((i,s)=>{const a=o=>{n.close({isDismissed:!0,dismiss:o})};Um.swalPromiseResolve.set(n,i),Um.swalPromiseReject.set(n,s),e.confirmButton.onclick=()=>{Ise(n)},e.denyButton.onclick=()=>{Use(n)},e.cancelButton.onclick=()=>{kse(n,a)},e.closeButton.onclick=()=>{a(ig.close)},Qse(t,e,a),rse(rn,t,a),Tse(n,t),Tre(t),Ure(rn,t,a),kre(e,t),setTimeout(()=>{e.container.scrollTop=0})}),Lre=(n,e)=>{const t=vre(n),i=Object.assign({},vm,e,t,n);return i.showClass=Object.assign({},vm.showClass,i.showClass),i.hideClass=Object.assign({},vm.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},Ire=n=>{const e={popup:ri(),container:Jr(),actions:fy(),confirmButton:ac(),denyButton:Rf(),cancelButton:tg(),loader:ng(),closeButton:wT(),validationMessage:Y2(),progressSteps:bT()};return Ti.domCache.set(n,e),e},Ure=(n,e,t)=>{const i=K2();_r(i),e.timer&&(n.timeout=new yre(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Xs(i),Va(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&ET(e.timer)})))},kre=(n,e)=>{if(!e.toast){if(!X2(e.allowEnterKey)){T5("allowEnterKey"),Hre();return}Fre(n)||zre(n,e)||fC(-1,1)}},Fre=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&ba(t))return t.focus(),!0;return!1},zre=(n,e)=>e.focusDeny&&ba(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&ba(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&ba(n.confirmButton)?(n.confirmButton.focus(),!0):!1,Hre=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};hs.prototype.disableButtons=iI;hs.prototype.enableButtons=nI;hs.prototype.getInput=$5;hs.prototype.disableInput=rI;hs.prototype.enableInput=sI;hs.prototype.hideLoading=zw;hs.prototype.disableLoading=zw;hs.prototype.showValidationMessage=aI;hs.prototype.resetValidationMessage=oI;hs.prototype.close=hd;hs.prototype.closePopup=hd;hs.prototype.closeModal=hd;hs.prototype.closeToast=hd;hs.prototype.rejectPromise=K5;hs.prototype.update=hI;hs.prototype._destroy=fI;Object.assign(hs,xre);Object.keys(Jse).forEach(n=>{hs[n]=function(...e){return Jl&&Jl[n]?Jl[n](...e):null}});hs.DismissReason=ig;hs.version="11.22.4";const Ht=hs;Ht.default=Ht;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Vre=()=>{const[n,e]=V.useState(""),[t,i]=V.useState({}),[s,a]=V.useState(!1),o=Bi(),c=async()=>{try{const b=((await St.get("/getBrand")).data.data||[]).reduce((E,A)=>(E[A.type]||(E[A.type]=[]),E[A.type].push(A),E),{});i(b);const S=["Sunglasses","Contact Lenses"],_=Object.keys(b).sort((E,A)=>S.indexOf(E)-S.indexOf(A));_.length>0&&e(_[0])}catch(x){console.error("Error fetching brands:",x)}};V.useEffect(()=>{c()},[]);const d=Object.keys(t).sort((x,y)=>{const b=["Sunglasses","Contact Lenses"];return b.indexOf(x)-b.indexOf(y)}),h=x=>{x!==n&&(a(!0),setTimeout(()=>{e(x),a(!1)},300))},m=async x=>{try{const b=(await St.get(`/brand/${x._id}`)).data?.products||[];if(b.length===0){Ht.fire({icon:"info",title:"No Products Found",text:`No products found in ${x.brand}`,confirmButtonColor:"#d33",background:"#fff",color:"#000"});return}const S=b[0],_=S.subCategoryName||"AllProducts",E=S.cat_id,A=S.subCat_id;o(`/allproduct/${_}/${E}/${A}`,{state:{brandId:x._id,brandName:x.brand}})}catch(y){console.error("Error fetching brand products:",y)}};return r.jsxs("div",{className:"max-w-6xl mx-auto p-6 font-sans",children:[r.jsx("h2",{className:"text-3xl font-semibold mb-4 text-center",children:"Top brands for your eyes"}),r.jsx("div",{className:"flex justify-center gap-4 mb-6",children:d.map(x=>r.jsx("button",{onClick:()=>h(x),className:`px-4 py-2 rounded-full text-sm font-medium transition 
              ${n===x?"bg-[#f00000] text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:x},x))}),r.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 
                    transition-opacity duration-500 ${s?"opacity-0":"opacity-100"}`,children:t[n]?.map((x,y)=>r.jsxs("div",{className:`bg-white border border-red-500 rounded-lg shadow-sm p-4 text-center \r
                       hover:shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer`,onClick:()=>m(x),children:[x.image&&r.jsx("img",{src:x.image.startsWith("http")?x.image:`${Pn}${x.image}`,alt:x.brand,className:"w-20 h-10 object-contain mx-auto mb-2"}),r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:x.brand})]},y))})]})};function Gre(){return r.jsxs(r.Fragment,{children:[r.jsx(e9,{}),r.jsx(_9,{}),r.jsx(xO,{}),r.jsx(lH,{}),r.jsx(bO,{}),r.jsx(fH,{}),r.jsx(gH,{}),r.jsx(HQ,{}),r.jsx(VQ,{}),r.jsx(JQ,{}),r.jsx(Jne,{}),r.jsx(qL,{}),r.jsx(cZ,{}),r.jsx(hZ,{}),r.jsx(Qne,{}),r.jsx(fZ,{}),r.jsx($ne,{}),r.jsx(Vre,{}),r.jsx(Wne,{}),r.jsx(Xne,{}),r.jsx(Yne,{})]})}function yB(){const n=Bi();return r.jsx("div",{children:r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-8",children:[r.jsx("h1",{className:"text-9xl font-bold text-[#f00000]",children:"404"}),r.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mt-4",children:"Page Not Found"}),r.jsx("p",{className:"text-lg text-gray-600 mt-2 text-center max-w-xl",children:"The page you're looking for might have been removed, had its name changed, or is temporarily unavailable."}),r.jsx("button",{onClick:()=>n(-1),className:"px-4 py-2 mt-6 bg-[#f00000] text-white hover:bg-red-700 rounded hover:cursor-pointer",children:"Back"}),r.jsxs("footer",{className:"mt-6 text-sm text-gray-500",children:[r.jsxs("strong",{children:[" ",new Date().getFullYear()]})," ",r.jsx("span",{className:"text-[#f00000] font-bold",children:"ATAL OPTICAL || Developed by WORLD WEBLOGIC"})]})]})})}const vB="/assets/logo-J4_SBUWm.png";function qre(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm52.7 283.3L256 278.6l-52.7 52.7c-6.2 6.2-16.4 6.2-22.6 0-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3l52.7-52.7-52.7-52.7c-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3 6.2-6.2 16.4-6.2 22.6 0l52.7 52.7 52.7-52.7c6.2-6.2 16.4-6.2 22.6 0 6.2 6.2 6.2 16.4 0 22.6L278.6 256l52.7 52.7c6.2 6.2 6.2 16.4 0 22.6-6.2 6.3-16.4 6.3-22.6 0z"},child:[]}]})(n)}var X_={exports:{}},Y_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB;function Wre(){if(bB)return Y_;bB=1;var n=Er();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,c=n.useDebugValue;return Y_.useSyncExternalStoreWithSelector=function(d,h,m,x,y){var b=s(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=o(function(){function E(j){if(!A){if(A=!0,P=j,j=x(j),y!==void 0&&S.hasValue){var R=S.value;if(y(R,j))return N=R}return N=j}if(R=N,t(P,j))return R;var k=x(j);return y!==void 0&&y(R,k)?(P=j,R):(P=j,N=k)}var A=!1,P,N,L=m===void 0?null:m;return[function(){return E(h())},L===null?void 0:function(){return E(L())}]},[h,m,x,y]);var _=i(d,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=_},[_]),c(_),_},Y_}var wB;function Xre(){return wB||(wB=1,X_.exports=Wre()),X_.exports}var Yre=Xre();function Kre(n){n()}function Jre(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Kre(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!i||n===null||(i=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var SB={notify(){},get:()=>[]};function Qre(n,e){let t,i=SB,s=0,a=!1;function o(_){m();const E=i.subscribe(_);let A=!1;return()=>{A||(A=!0,E(),x())}}function c(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return a}function m(){s++,t||(t=n.subscribe(d),i=Jre())}function x(){s--,t&&s===0&&(t(),t=void 0,i.clear(),i=SB)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,x())}const S={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>i};return S}var Zre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$re=Zre(),eae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tae=eae(),nae=()=>$re||tae?V.useLayoutEffect:V.useEffect,iae=nae(),sae=Symbol.for("react-redux-context"),rae=typeof globalThis<"u"?globalThis:{};function aae(){if(!V.createContext)return{};const n=rae[sae]??=new Map;let e=n.get(V.createContext);return e||(e=V.createContext(null),n.set(V.createContext,e)),e}var Sd=aae();function oae(n){const{children:e,context:t,serverState:i,store:s}=n,a=V.useMemo(()=>{const d=Qre(s);return{store:s,subscription:d,getServerState:i?()=>i:void 0}},[s,i]),o=V.useMemo(()=>s.getState(),[s]);iae(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const c=t||Sd;return V.createElement(c.Provider,{value:a},e)}var lae=oae;function RT(n=Sd){return function(){return V.useContext(n)}}var vI=RT();function bI(n=Sd){const e=n===Sd?vI:RT(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var cae=bI();function uae(n=Sd){const e=n===Sd?cae:bI(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Td=uae(),dae=(n,e)=>n===e;function hae(n=Sd){const e=n===Sd?vI:RT(n),t=(i,s={})=>{const{equalityFn:a=dae}=typeof s=="function"?{equalityFn:s}:s,o=e(),{store:c,subscription:d,getServerState:h}=o;V.useRef(!0);const m=V.useCallback({[i.name](y){return i(y)}}[i.name],[i]),x=Yre.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,h||c.getState,m,a);return V.useDebugValue(x),x};return Object.assign(t,{withTypes:()=>t}),t}var Z2=hae();const fae=({isOpen:n,onClose:e})=>{const t=Z2(c=>c.cart.items),i=Bi(),s=t.reduce((c,d)=>c+d.price*d.quantity,0),a=()=>{e(),i("/cart")},o=()=>{e(),i("/checkout")};return r.jsxs("div",{className:`fixed top-0 right-0 h-full w-[350px] bg-white shadow-lg z-50 transform transition-transform duration-300 ${n?"translate-x-0":"translate-x-full"}`,children:[r.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Your Cart"}),r.jsx("button",{onClick:e,className:"text-xl hover:cursor-pointer font-bold",children:""})]}),r.jsx("div",{className:"p-4 overflow-y-auto h-[calc(100%-180px)]",children:t.length===0?r.jsx("p",{children:"Your cart is empty"}):t.map((c,d)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex hover:cursor-pointer items-center mb-4",children:[r.jsx("img",{src:c.image,alt:c.name,className:"w-30 h-16 object-cover"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"font-semibold",children:c.name}),r.jsxs("p",{children:["$",c.price," x ",c.quantity]})]})]},d),r.jsx("hr",{className:"border-gray-400 w-79"})]}))}),r.jsxs("div",{className:"p-4 border-t",children:[r.jsxs("div",{className:"flex justify-between font-bold text-lg mb-3",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",s.toFixed(2)]})]}),r.jsxs("div",{className:"flex gap-2 justify-around",children:[r.jsx("button",{onClick:a,className:"bg-blue-600 hover:cursor-pointer rounded-lg text-white py-2 px-6 hover:bg-blue-800 text-xl",children:"View Cart"}),r.jsx("button",{onClick:o,className:"bg-green-500 rounded-lg hover:cursor-pointer text-white py-2 px-6 hover:bg-green-700 text-xl",children:"Checkout"})]})]})]})},pae="/assets/contactLens-DZTceyz1.avif",wI="/assets/1st-dl5e1PlP.avif",mae="/assets/2nd-m52cNoZQ.webp",SI="/assets/3rd-DBE6vh-l.avif",gae="/assets/top_brands-BxNODWrq.jpeg",AB={},_B={},V0={EYEGLASSES:_5,Banner1:wI,Banner2:mae,Banner3:SI,Banner4:gae};function xae(n){return jn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m19.83 7.5-2.27-2.27c.07-.42.18-.81.32-1.15A1.498 1.498 0 0 0 16.5 2c-1.64 0-3.09.79-4 2h-5C4.46 4 2 6.46 2 9.5S4.5 21 4.5 21H10v-2h2v2h5.5l1.68-5.59 2.82-.94V7.5h-2.17zM13 9H8V7h5v2zm3 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(n)}function EB(n){return jn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(n)}function yae(n){return jn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(n)}const vae=()=>{const n=["SEASON ESSENTIALS SALE: Up to 60% off frames + 50% off all lenses","Buy 1 Get 1 Free on Contact Lenses","Free Eye Test on Every Purchase","Shop Smart. Save More with Atal Optical"],[e,t]=V.useState(0);return V.useEffect(()=>{const i=setInterval(()=>{t(s=>(s+1)%n.length)},4e3);return()=>clearInterval(i)},[n.length]),r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"bg-[#f00000] text-white overflow-hidden relative py-2 h-10 flex items-center justify-center",children:r.jsx(vf,{mode:"wait",children:r.jsx(Ke.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute text-center text-sm font-semibold w-full",children:n[e]},e)})}),r.jsxs("div",{className:"bg-gray-100 py-2 flex flex-wrap justify-center gap-8 text-sm font-medium text-gray-800",children:[r.jsxs(xt,{to:"/subscribe-save",className:"flex items-center gap-2 hover:text-red-600 transition",children:[r.jsx(xae,{className:"text-lg"}),r.jsx("span",{children:"Subscribe & save: 20% off"})]}),r.jsxs(xt,{to:"/offer-page",className:"flex items-center gap-2 hover:text-red-600 transition",children:[r.jsx(g9,{className:"text-lg"}),r.jsx("span",{children:"Glasses from $499 and contacts from $299"})]}),r.jsxs(xt,{to:"/customer-care",className:"flex items-center gap-2 hover:text-red-600 transition",children:[r.jsx(VD,{className:"text-lg"}),r.jsx("span",{children:"24/7 customer care"})]}),r.jsxs(xt,{to:"/fast-shipping",className:"flex items-center gap-2 hover:text-red-600 transition",children:[r.jsx(GD,{className:"text-lg"}),r.jsx("span",{children:"Fast shipping and delivery"})]})]})]})},AI=()=>{const n=Bi(),e=[{name:"Facebook",icon:r.jsx(ID,{size:20}),url:"https://www.facebook.com/profile.php?id=61584202492519"},{name:"Instagram",icon:r.jsx(UD,{size:20}),url:"https://www.instagram.com/ataloptical"},{name:"Youtube",icon:r.jsx(FD,{size:20}),url:"https://www.youtube.com/@ataloptical"},{name:"LinkedIn",icon:r.jsx(kD,{size:20}),path:"linkedin"}];return r.jsx("div",{children:r.jsx("div",{className:"flex flex-wrap justify-center sm:grid sm:grid-cols-4 gap-4 sm:gap-5",children:e.map(t=>r.jsx("div",{onClick:()=>{t.url?window.open(t.url,"_blank"):n(`connect/${t.path}`)},className:"flex flex-col items-center justify-center cursor-pointer transform transition-all duration-300 hover:scale-105 hover:text-gray-600",children:t.icon},t.name))})})};function bae({open:n,onClose:e,activeKey:t,dataByKey:i,grouped:s,brands:a}){const o=V.useRef(null),c=Bi();V.useEffect(()=>{const y=b=>{o.current&&!o.current.contains(b.target)&&e?.()};return n&&(document.addEventListener("mousedown",y),document.addEventListener("touchstart",y)),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("touchstart",y)}},[n]),V.useEffect(()=>{const y=b=>b.key==="Escape"&&e?.();return n&&window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[n]);const d=i[t],h=V.useMemo(()=>{if(!t||!s.length)return[];const b={glasses:"69157332eeb23fa59c7d5326",sunglasses:"6915705d9ceac0cdda41c83f",contact_lenses:"6915735feeb23fa59c7d532b"}[t];if(!b)return[];const S=s.find(_=>_._id===b);return S?[...S.subCategories].sort((_,E)=>_.name.localeCompare(E.name)):[]},[t,s]),m={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2}},x=["Shop By Face Shape","Shop by Category","Shop By Lens Type","Shop by Frame Shape","Shop by Our Picks","Shop by Lens Category","Top Brands","All Brands","Shop by Brands"];return r.jsx(vf,{children:n&&r.jsx(Ke.div,{...m,ref:o,className:"absolute left-1/2 -translate-x-1/2 top-full bg-white shadow-2xl border z-50 w-[1100px] max-w-[96vw]",children:r.jsxs("div",{className:"grid grid-cols-[340px_380px_1fr]",children:[r.jsxs("div",{className:"p-6 border-r overflow-y-auto max-h-[500px]",children:[r.jsx("h3",{className:"font-semibold text-[16px] mb-6",children:t?t.charAt(0).toUpperCase()+t.slice(1):"Shop"}),t==="brands"?r.jsxs(r.Fragment,{children:[r.jsx("ul",{className:"grid grid-cols-2 gap-1",children:[...a].sort((y,b)=>y.brand.localeCompare(b.brand)).map(y=>r.jsx("li",{className:"flex items-center gap-3 p-1 rounded-sm hover:bg-red-600 cursor-pointer transition",onClick:()=>{e?.(),c(`/brands/${y._id}`)},children:r.jsx("img",{src:y.image?.startsWith("http")?y.image:`${Pn}/${y.image}`,className:"w-auto h-auto object-contain",alt:y.brand})},y._id))}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{className:"bg-black py-3 px-8 rounded-lg text-white hover:bg-gray-900",onClick:()=>{e?.(),c("/allBrands/allProduct")},children:"View All"})})]}):r.jsxs(r.Fragment,{children:[h.length>0?r.jsx("ul",{className:"space-y-4",children:h.map(y=>{const S={glasses:"69157332eeb23fa59c7d5326",sunglasses:"6915705d9ceac0cdda41c83f",contact_lenses:"6915735feeb23fa59c7d532b"}[t],_=s.find(E=>E._id===S);return r.jsxs("li",{className:"flex items-center gap-4 p-2 rounded-lg hover:bg-red-600 hover:text-white cursor-pointer transition",onClick:()=>{e?.(),c(`/allproduct/${y.name}/${_.categoryId}/${y.id}`)},children:[r.jsx("img",{src:y.image.startsWith("http")?y.image:Pn+y.image,className:"w-12 h-12 rounded-full object-cover",alt:y.name}),r.jsx("span",{className:"text-[15px]",children:y.name})]},y.id)})}):r.jsx("p",{className:"text-gray-500 text-sm",children:"No subcategories available"}),r.jsx("div",{className:"mt-8",children:r.jsx("button",{className:"bg-black py-3 px-8 rounded-lg text-white hover:bg-gray-900",onClick:()=>{e?.();const b={glasses:"69157332eeb23fa59c7d5326",sunglasses:"6915705d9ceac0cdda41c83f",contact_lenses:"6915735feeb23fa59c7d532b"}[t];c(`/allproduct/${t}/${b}`)},children:"View All"})})]})]}),r.jsx("div",{className:"p-6 bg-gray-100 overflow-y-auto max-h-[500px]",children:d?.columns?.map(y=>r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-bold uppercase text-[14px] mb-2",children:y.title}),r.jsx("ul",{className:"space-y-1",children:y.dynamic?y.links?.length>0?y.links.map(b=>r.jsx("li",{children:r.jsx("button",{onClick:()=>{e?.(),c(`/brands/${b.slug||b.name}`,{state:b})},className:"text-[14px] hover:text-red-500 block py-1 text-left w-full",children:b.name})},b._id||b.name)):r.jsx("li",{className:"text-[13px] text-gray-500",children:"Loading..."}):y.links.map(b=>r.jsx("li",{children:x.includes(y.title)?r.jsx("button",{onClick:()=>{e?.(),y.id===101&&c(`/glasses/${b.faceShape}`),y.id===102&&c(`/glasses/gender/${b.gender}`),y.id===103&&c(`/glasses/lens_type/${b.lens_type}`),y.id===201&&c(`/sunglasses/collection/${b.collection}`),y.id===202&&c(`/sunglasses/lens_type/${b.lens_type}`),y.id===203&&c(`/sunglasses/frame_shape/${b.frame_shape}`),y.id===301&&c(`/contact_lenses/category/${b.lens_cat}/${b.catId}`),y.id===302&&c(`/contact_lenses/${b.label}/${b.brandId}`),(y.id===401||y.id===402)&&c(`/brands/${b.brandId}`)},className:"text-[14px] hover:text-red-500 block py-1 text-left w-full",children:b.label}):r.jsx(xt,{to:b.to,state:b.state,onClick:()=>e?.(),className:"text-[14px] hover:text-red-500 block py-1",children:b.label})},b.label))})]},y.title))}),r.jsxs("div",{className:"p-6 bg-[#fafafa] border-l",children:[d?.promo?.image&&r.jsx("img",{src:d.promo.image,className:"w-full h-[300px] rounded-sm object-cover",alt:"promo"}),r.jsx("h5",{className:"font-semibold text-[16px] mt-4",children:d?.promo?.headline}),r.jsx("p",{className:"text-[14px] text-gray-600 mt-1",children:d?.promo?.text}),d?.promo?.ctaLabel&&r.jsx(xt,{to:d.promo.ctaTo,onClick:()=>e?.(),className:"inline-block mt-3 bg-black text-white px-4 py-2 text-sm rounded-lg",children:d.promo.ctaLabel})]})]})})})}function CB({isOpen:n,onClose:e,query:t,handleSearch:i,handleSearchClick:s,handleKeyDown:a,filteredProducts:o,isLoading:c,errorMsg:d,goToSelected:h,recentSearches:m,onRecentSearchClick:x,onRemoveSearch:y,onClearAllSearches:b,navigate:S}){const _=V.useRef(null),[E,A]=V.useState(null),P=V.useMemo(()=>(o||[]).slice(4,8),[o]);V.useEffect(()=>(n?(setTimeout(()=>_.current?.focus(),80),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",A(null)):(document.body.style.overflow="auto",document.documentElement.style.overflow="auto"),()=>{document.body.style.overflow="auto",document.documentElement.style.overflow="auto"}),[n]),V.useEffect(()=>{const k=F=>{F.key==="Escape"&&e()};if(n)return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n,e]);const N=k=>{const F=k?.product_variants?.[0]?.images?.[0];if(F)return F.startsWith("http")?F:Pn+F;const D=k?.product_color?.[0];return D?D.startsWith("http")?D:Pn+D:"/no-image.png"},L=k=>{A(k)},j=()=>{if(t.trim()){const k=[t,...m.filter(F=>F!==t)].slice(0,10);localStorage.setItem("recentSearches",JSON.stringify(k)),S(`/search-results?q=${encodeURIComponent(t)}`),e()}},R=({product:k,isCompact:F=!1})=>r.jsxs("div",{onClick:()=>h(k),className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all cursor-pointer group",children:[r.jsxs("div",{className:`relative bg-gray-100 overflow-hidden ${F?"h-32":"h-48"}`,children:[r.jsx("img",{src:N(k),alt:k.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",loading:"lazy"}),k.product_price>k.product_sale_price&&r.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:[Math.round((k.product_price-k.product_sale_price)/k.product_price*100),"% OFF"]})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1 font-medium",children:k.brand||"Brand"}),r.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-900 line-clamp-2 mb-2",children:k.product_name}),r.jsxs("div",{className:"flex items-center justify-between gap-1",children:[k.product_price>k.product_sale_price&&r.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["$",Number(k.product_price).toFixed(0)]}),r.jsxs("span",{className:"text-sm font-bold text-red-600",children:["$",Number(k.product_sale_price||k.product_price).toFixed(0)]})]})]})]});return r.jsx(vf,{children:n&&r.jsxs(r.Fragment,{children:[r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 bg-gray-200/70",onClick:e}),r.jsxs(Ke.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-0 left-0 right-0 z-50 bg-gray-50 pt-4 pb-8 max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsx("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6 mb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-grow relative",children:[r.jsx("input",{ref:_,type:"text",placeholder:"Search for eyeglasses, sunglasses, contact lenses, brands...",value:t,onChange:i,onKeyDown:a,className:"w-full rounded-full border-2 border-red-600 bg-white py-3 pl-6 pr-12 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-600 text-gray-900 text-base sm:text-lg transition-all"}),r.jsx("button",{onClick:s,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-600 transition-colors",children:r.jsx(hE,{size:20})})]}),r.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0",children:r.jsx(_j,{size:24})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"max-w-7xl mx-auto w-full px-4 sm:px-6",children:[m.length>0&&!t&&r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Recent Searches"}),r.jsxs("button",{onClick:b,className:"text-xs text-red-600 hover:text-red-700 font-semibold flex items-center gap-1",children:[r.jsx(A9,{size:12})," Clear All"]})]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:m.slice(0,10).map((k,F)=>r.jsxs("div",{className:"px-4 py-2 bg-white hover:bg-red-50 text-gray-700 text-sm rounded-full transition-colors flex items-center gap-2 border border-gray-200",children:[r.jsxs("button",{onClick:()=>x(k),className:"flex items-center gap-2 flex-1",children:[r.jsx(f9,{size:12}),k]}),r.jsx("button",{onClick:D=>{D.stopPropagation(),y(k)},className:"text-gray-400 hover:text-red-600 transition-colors flex-shrink-0",children:r.jsx(_j,{size:14})})]},F))})]}),t&&r.jsx("div",{children:c?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):d?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:d})}):o.length>0?r.jsx(r.Fragment,{children:E?r.jsxs("div",{children:[r.jsx("button",{onClick:()=>A(null),className:"mb-4 text-sm text-red-600 font-semibold flex items-center gap-1",children:" Back to Results"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"sm:col-span-2 bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("img",{src:N(E),alt:E.product_name,className:"w-full h-80 object-contain rounded mb-6"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:E.product_name}),r.jsx("p",{className:"text-lg text-gray-600 mb-4",children:E.brand}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.product_price>E.product_sale_price&&r.jsxs("span",{className:"text-xl text-gray-400 line-through",children:["$",E.product_price]}),r.jsxs("span",{className:"text-3xl font-bold text-red-600",children:["$",E.product_sale_price||E.product_price]})]}),r.jsx("button",{onClick:()=>h(E),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:"View Full Details"})]}),r.jsxs("div",{className:"sm:col-span-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase",children:"Related Products"}),o.length>4&&r.jsxs("button",{onClick:j,className:"text-xs text-red-600 hover:text-red-700 font-semibold flex items-center gap-1",children:["View All ",r.jsx(vx,{size:12})]})]}),r.jsx("div",{className:"space-y-3",children:P.slice(0,4).map(k=>r.jsx(R,{product:k,isCompact:!0},k._id))})]})]})]}):r.jsxs("div",{children:[r.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-4",children:["Search Results (",o.length,")"]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 mb-6 max-h-96 overflow-y-auto",children:r.jsx("ul",{className:"divide-y divide-gray-200",children:o.map(k=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>L(k),className:"w-full text-left px-4 py-3 hover:bg-red-50 transition-colors flex items-center justify-between group",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.product_name}),r.jsxs("p",{className:"text-xs text-gray-600",children:[k.brand,"  $",k.product_sale_price||k.product_price]})]}),r.jsx("span",{className:"text-gray-400 group-hover:text-red-600 ml-2",children:""})]})},k._id))})}),P.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase",children:"Related Products"}),o.length>3&&r.jsxs("button",{onClick:j,className:"text-xs text-red-600 hover:text-red-700 font-semibold flex items-center gap-1",children:["View All ",r.jsx(vx,{size:12})]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:P.slice(0,3).map(k=>r.jsx(R,{product:k,isCompact:!0},k._id))})]})]})}):null})]})})]})]})})}function wae(){const n=Bi(),e=Td(),[t,i]=V.useState({glasses:!1,sunglasses:!1,contact_lenses:!1,brands:!1}),[s,a]=V.useState(!1),o=V.useRef(null),c=V.useRef(null),d=V.useRef(null),[h,m]=V.useState(""),[x,y]=V.useState([]),[b,S]=V.useState(!1),[_,E]=V.useState(""),[A,P]=V.useState([]),[N,L]=V.useState([]),[j,R]=V.useState(!1),k=V.useRef(null),F=V.useRef(null),[D,B]=V.useState([]),[q,Y]=V.useState(!1),[G,W]=V.useState(!1),[$,z]=V.useState(null),[I,Q]=V.useState(!1),K=V.useRef(null),[T,X]=V.useState([]),{ID:ee}=Ef(),[oe,ce]=V.useState(),re=Z2(Pe=>Pe.cart.items.reduce((Je,Ct)=>Je+Ct.quantity,0)),ue=localStorage.getItem("user"),[ye,Ve]=V.useState(!1),[Qe,We]=V.useState(!1),mt=["Search for sunglasses...","Search for eyeglasses...","Search for contact lenses...","Search for offers..."],[ut,le]=V.useState(0),Me=async()=>{try{const Je=(await St.get(`/getproductbyid/${ee}`)).data.product||{};ce(Je)}catch(Pe){console.error("Failed to fetch products:",Pe)}};V.useEffect(()=>{async function Pe(){try{const Ct=(await St.get("/getallsubcategory")).data?.subcategories||[],he={};Ct.forEach(Ne=>{const ct=Ne.category;!ct||!ct._id||(he[ct._id]||(he[ct._id]={categoryId:ct._id,_id:ct._id,categoryName:ct.categoryName,categoryImage:ct.categoryImage,subCategories:[]}),he[ct._id].subCategories.push({id:Ne._id,name:Ne.name,image:Ne.image,slug:Ne.slug}))}),X(Object.values(he))}catch(Je){console.error("Fetch error:",Je)}}Pe()},[]);const Ae=()=>{c.current&&clearTimeout(c.current),Y(!0),W(!1)},we=()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>Y(!1),300)},ge=()=>{K.current&&clearTimeout(K.current),Q(!0)},Be=()=>{K.current&&clearTimeout(K.current),K.current=setTimeout(()=>{Q(!1)},300)},Ue=Pe=>{d.current&&clearTimeout(d.current),z(Pe),W(!0),Y(!1)},_e=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>W(!1),300)},$e=Pe=>{i(Je=>({...Je,[Pe]:!Je[Pe]}))};V.useEffect(()=>()=>{c.current&&clearTimeout(c.current),d.current&&clearTimeout(d.current),K.current&&clearTimeout(K.current)},[]),V.useEffect(()=>{(async()=>{try{const Je=await St.get("/getBrand");P(Je.data.data||[])}catch(Je){console.error("Error fetching brands:",Je)}})()},[]),V.useEffect(()=>{const Pe=localStorage.getItem("recentSearches");Pe&&L(JSON.parse(Pe))},[]);const et=V.useMemo(()=>({glasses:{columns:[{id:101,title:"Shop By Face Shape",links:[{id:1011,label:"Heart Face",faceShape:"heart"},{id:1012,label:"Oval Face",faceShape:"oval"},{id:1013,label:"Round Face",faceShape:"round"},{id:1014,label:"Square Face",faceShape:"square"},{id:1015,label:"Triangle Face",faceShape:"triangle"}]},{id:102,title:"Shop by Category",links:[{id:1021,label:"Men's Glasses",gender:"men"},{id:1022,label:"Women's Glasses",gender:"women"}]},{id:103,title:"Shop By Lens Type",links:[{id:1031,label:"Blue-violet light glasses",lens_type:"blue violet"},{id:1032,label:"Progressive",lens_type:"progressive"},{id:1033,label:"Transitions Glasses",lens_type:"transitions"}]}],promo:{id:199,image:V0.Banner1,headline:"Meet the new collections",text:"Fresh arrivals inspired by the latest trends.",ctaLabel:"Shop Eyeglasses",ctaTo:"/allproduct/Eyeglasses/69157332eeb23fa59c7d5326",state:{category:AB.OUR_COLLECTION,subcategory:_B.EYEGLASSES,subCategoryName:"Eyeglasses",subCategoryImage:V0.EYEGLASSES},badge:"NEW"}},sunglasses:{columns:[{id:201,title:"Shop by Our Picks",links:[{id:2011,label:"Best Seller",collection:"best-seller"},{id:2012,label:"Ray-Ban",collection:"690c6e4bce83c44ad440e022"},{id:2013,label:"Trending",collection:"trending"},{id:2014,label:"Versace",collection:"690c6e7ece83c44ad440e028"}]},{id:202,title:"Shop By Lens Type",links:[{id:2021,label:"Prescription Sunglasses",lens_type:"prescription"},{id:2022,label:"Polarized lenses",lens_type:"polarized"}]},{id:203,title:"Shop by Frame Shape",links:[{id:2031,label:"Aviator",frame_shape:"aviator"},{id:2032,label:"Cat-Eye",frame_shape:"cat-eye"},{id:2033,label:"Oval",frame_shape:"oval"},{id:2034,label:"Rectangle",frame_shape:"rectangle"},{id:2035,label:"Round",frame_shape:"round"},{id:2036,label:"Square",frame_shape:"square"}]}],promo:{id:299,image:V0.Banner2,headline:"Seasonal offers",text:"Save on top silhouettes and lens upgrades.",ctaLabel:"Shop Sunglasses",ctaTo:"/allproduct/Sunglasses/6915705d9ceac0cdda41c83f",state:{category:AB.OUR_COLLECTION,subcategory:_B.SUNGLASSES,subCategoryName:"Sunglasses"},badge:"SALE"}},contact_lenses:{columns:[{id:301,title:"Shop by Lens Category",links:[{id:3011,label:"Biweekly / Weekly",lens_cat:"weekly",catId:"6915735feeb23fa59c7d532b"},{id:3012,label:"Daily",lens_cat:"daily",catId:"6915735feeb23fa59c7d532b"},{id:3013,label:"Monthly",lens_cat:"monthly",catId:"6915735feeb23fa59c7d532b"}]},{id:302,title:"Top Brands",links:[{id:3021,label:"Acuvue",brandId:"690c6ecece83c44ad440e02e"},{id:3022,label:"Air Optix",brandId:"690c6ee3ce83c44ad440e031"},{id:3023,label:"Biofinity",brandId:"690c6efbce83c44ad440e034"},{id:3024,label:"Dailies",brandId:"690c706cce83c44ad440e03d"},{id:3025,label:"Everclear",brandId:"690c708ace83c44ad440e040"},{id:3026,label:"MayDay",brandId:"690c70a0ce83c44ad440e043"},{id:3027,label:"Splash",brandId:"690c70fbce83c44ad440e04c"},{id:3028,label:"Total30",brandId:"690c7110ce83c44ad440e04f"}]}],promo:{id:399,image:V0.Banner3,headline:"Subscribe & save 20%",text:"Auto-delivery with free shipping.",ctaLabel:"Shop Contact Lenses",ctaTo:"/allproduct/Contact-Lenses/6915735feeb23fa59c7d532b",badge:"SAVE"}},brands:{columns:[{id:401,title:"Top Brands",links:[{id:4011,label:"Armani Exchange",brandId:"690c6d6dce83c44ad440e002"},{id:4012,label:"Michael Kors",brandId:"690c6de1ce83c44ad440e016"},{id:4013,label:"Oakley",brandId:"690c6dface83c44ad440e019"},{id:4014,label:"Ray-Ban",brandId:"690c6e4bce83c44ad440e022"},{id:4015,label:"Versace",brandId:"690c6e7ece83c44ad440e028"},{id:4016,label:"Vogue-Eyewear",brandId:"690c6ea9ce83c44ad440e02b"}]},{id:402,title:"Shop by Brands",links:[{id:4021,label:"Armani Exchange",brandId:"690c6d6dce83c44ad440e002"},{id:4022,label:"Arnette",brandId:"690c6d9bce83c44ad440e010"},{id:4023,label:"Coach NewYork",brandId:"690c6dc6ce83c44ad440e013"},{id:4024,label:"Michael Kors",brandId:"690c6de1ce83c44ad440e016"},{id:4025,label:"Oakley",brandId:"690c6dface83c44ad440e019"},{id:4026,label:"Persol",brandId:"690c6e0ece83c44ad440e01c"},{id:4027,label:"Polo Ralph Lauren",brandId:"690c6e35ce83c44ad440e01f"},{id:4028,label:"Ray-Ban",brandId:"690c6e4bce83c44ad440e022"},{id:4029,label:"Tory Burch",brandId:"690c6e67ce83c44ad440e025"},{id:4030,label:"Versace",brandId:"690c6e7ece83c44ad440e028"},{id:4031,label:"Vogue-Eyewear",brandId:"690c6ea9ce83c44ad440e02b"}]}],promo:{id:499,image:V0.Banner4,headline:"Shop the Best Brands",text:"Explore our top eyewear brands with exclusive styles and premium quality.",ctaLabel:"View All Brands",ctaTo:"/allBrands/allProduct"}}}),[]),te=Pe=>{const Je=Pe.target.value;if(m(Je),E(""),!Je.trim()){y([]),E(""),k.current&&clearTimeout(k.current),F.current&&F.current.abort();return}k.current&&clearTimeout(k.current),k.current=setTimeout(async()=>{try{F.current&&F.current.abort();const Ct=new AbortController;F.current=Ct,S(!0);const he=await St.get(`/products/search?search=${encodeURIComponent(Je)}`,{signal:Ct.signal}),Ne=he?.data?.success,ct=Array.isArray(he?.data?.products)?he.data.products:[],fe=At=>(At?.name||At?.title||At?.product_name||"").toString(),rt=Je.toLowerCase(),ht=ct.filter(At=>fe(At).toLowerCase().startsWith(rt));y(ht),!Ne||ht.length===0?E("No products found"):E("")}catch(Ct){Ct.name!=="CanceledError"&&Ct.name!=="AbortError"&&(E("Something went wrong. Try again."),y([]))}finally{S(!1)}},300)},Z=()=>{if(!h.trim())return;const Pe=[h,...N.filter(Je=>Je!==h)].slice(0,10);L(Pe),localStorage.setItem("recentSearches",JSON.stringify(Pe)),n(`/search-results?q=${encodeURIComponent(h)}`),R(!1),m(""),y([])},xe=Pe=>{if(Pe.key==="Enter"){Pe.preventDefault(),h.trim()&&Z();return}Pe.key==="Escape"&&(R(!1),m(""),y([]))},Oe=Pe=>{const Je=N.filter(Ct=>Ct!==Pe);L(Je),localStorage.setItem("recentSearches",JSON.stringify(Je))},Xe=()=>{L([]),localStorage.removeItem("recentSearches")},He=async()=>{try{const Pe=await St.get(`/customer/${ue}`);B(Pe?.data?.data?.profileImage)}catch{}};V.useEffect(()=>{He()},[ue]);const _t=Pe=>{const Je=[h,...N.filter(Ct=>Ct!==h)].slice(0,10);L(Je),localStorage.setItem("recentSearches",JSON.stringify(Je)),n(`/product/${Pe._id}/${Pe.subCategoryName||"details"}/${Pe.subCat_id}`),R(!1),m(""),y([]),Me()},yt=Pe=>{m(Pe),te({target:{value:Pe}})};V.useEffect(()=>{const Pe=setInterval(()=>{le(Je=>(Je+1)%4)},3e3);return()=>clearInterval(Pe)},[]),V.useEffect(()=>()=>{k.current&&clearTimeout(k.current),F.current&&F.current.abort()},[]),V.useEffect(()=>(Qe||ye?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="auto",document.documentElement.style.overflow="auto"),()=>{document.body.style.overflow="auto",document.documentElement.style.overflow="auto"}),[Qe,ye]);const Tt=()=>{o.current&&clearTimeout(o.current),a(!0)},Ot=()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>a(!1),300)};return V.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-[#f00000] py-1 text-white flex justify-between items-center px-4 lg:px-6",children:[r.jsxs("div",{className:"mt-1 text-xs sm:text-sm",children:["Call Us Today! 1866-242-3545 |",r.jsx("a",{href:"mailto: sales.ataloptical@gmail.com",className:"text-white hover:underline hover:text-black pl-1",children:"sales.ataloptical@gmail.com"}),r.jsx("span",{children:" |"}),r.jsx("a",{href:"mailto:info.ataloptical@gmail.com",className:"text-white hover:underline hover:text-black pl-1",children:"info.ataloptical@gmail.com"})]}),r.jsx(CB,{}),r.jsx("div",{className:"flex gap-4 text-lg lg:text-xl",children:r.jsx(AI,{})})]}),r.jsx("div",{className:"block lg:hidden bg-white border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 gap-2",children:[r.jsx("button",{onClick:()=>We(!0),className:"flex-shrink-0 p-2 text-black hover:text-[#f00000] transition-colors","aria-label":"Open menu",children:r.jsx(u9,{size:24})}),r.jsxs("button",{onClick:()=>R(!0),className:"flex-grow mx-2 flex items-center gap-2 bg-white border-2 border-red-600 rounded-full px-4 py-2 hover:bg-gray-50 transition-colors","aria-label":"Open search",children:[r.jsx(hE,{size:16,className:"text-red-600"}),r.jsx("span",{className:"text-sm text-gray-600 truncate",children:mt[ut]})]}),r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("button",{type:"button",onClick:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),ue?Ve(!0):n("/login")},className:"p-1","aria-label":"Open cart",children:r.jsx(WR,{className:"text-[#f00000] hover:text-black text-xl transition-colors"})}),re>0&&ue&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-black text-white text-xs w-4 h-4 rounded-full flex items-center justify-center text-[10px] font-semibold",children:re})]}),ue?r.jsx(xt,{to:"/update-profile",className:"flex-shrink-0",children:D?r.jsx("img",{src:`${Pn}${D}`,alt:"Profile",className:"w-9 h-9 rounded-full object-cover border border-red-600"}):r.jsx(Jv,{className:"text-[#f00000] hover:text-black w-6 h-6 transition-colors"})}):r.jsx("button",{onClick:()=>n("/login"),className:"flex-shrink-0 p-1",children:r.jsx(Jv,{className:"text-[#f00000] hover:text-black w-6 h-6 transition-colors"})})]})}),r.jsxs("header",{className:"hidden lg:block bg-white shadow-lg relative",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsx(xt,{to:"/",className:"flex-shrink-0",children:r.jsx("img",{src:vB,className:"object-cover h-[85px] w-[280px]",alt:"Logo",loading:"lazy",decoding:"async"})}),r.jsxs("button",{onClick:()=>R(!0),className:"flex-grow max-w-2xl mx-6 flex items-center gap-2 bg-white border-2 border-red-600 rounded-full px-6 py-2 hover:bg-gray-50 transition-all group","aria-label":"Open search",children:[r.jsx(hE,{size:18,className:"text-red-600"}),r.jsx("span",{className:"text-gray-600 group-hover:text-red-600 transition-colors",children:mt[ut]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-2xl",children:[r.jsx(x9,{onClick:()=>n("/wishlist-page"),className:"text-[#f00000] cursor-pointer hover:text-black transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:Pe=>{Pe.preventDefault(),Pe.stopPropagation(),ue?Ve(!0):n("/login")},className:"p-1 relative","aria-label":"Open cart",children:r.jsx(WR,{className:"text-[#f00000] cursor-pointer hover:text-black text-2xl transition-colors"})}),re>0&&ue&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-black text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-semibold",children:re})]}),ue?r.jsx(xt,{to:"/update-profile",className:"flex-shrink-0",children:D?r.jsx("img",{src:`${Pn}${D}`,alt:"Profile",className:"w-12 h-12 rounded-full object-cover border-2 border-red-600 hover:border-black transition-colors"}):r.jsx(Jv,{className:"text-[#f00000] hover:text-black w-8 h-8 transition-colors"})}):r.jsx("button",{onClick:()=>n("/login"),className:"p-1",children:r.jsx(Jv,{className:"text-[#f00000] hover:text-black w-8 h-8 transition-colors"})}),ue?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xt,{to:"/order-history",children:r.jsx("button",{className:"px-4 py-2 rounded-lg bg-[#f00000] text-white text-sm hover:bg-black transition-colors font-semibold",children:"My Orders"})}),r.jsx("button",{onClick:()=>{e({type:"LOGOUT"}),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("cartItems"),n("/")},className:"px-4 py-2 rounded-lg bg-[#f00000] text-white text-sm hover:bg-black transition-colors font-semibold",children:"Logout"})]}):r.jsx("button",{onClick:()=>n("/login"),className:"flex items-center gap-1 text-[#f00000] cursor-pointer hover:text-black transition-colors font-semibold",children:"Sign In"})]})]}),r.jsxs("nav",{className:"relative border-t border-gray-200",children:[r.jsxs("ul",{className:"flex items-center justify-center gap-10 py-3 font-semibold text-white bg-black tracking-wide text-base flex-wrap",children:[r.jsxs("li",{className:"relative",onMouseEnter:Ae,onMouseLeave:we,children:[r.jsxs("button",{type:"button",onClick:()=>n("/"),className:"flex items-center gap-1 cursor-pointer hover:text-red-500 transition-colors duration-200","aria-haspopup":"true","aria-expanded":q,children:["Home",r.jsx("span",{className:`inline-block transition-transform duration-200 ${q?"rotate-180":""}`,children:""})]}),r.jsx(vf,{children:q&&r.jsx(Ke.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:"absolute left-1/2 -translate-x-1/2 mt-3 w-56 bg-white text-gray-900 border rounded-lg shadow-2xl z-50",children:r.jsxs("ul",{className:"py-2",children:[r.jsx("li",{children:r.jsx(xt,{to:"/general-info",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"General Information"})}),r.jsxs("li",{className:"relative",onMouseEnter:ge,onMouseLeave:Be,children:[r.jsxs("button",{type:"button",className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex justify-between items-center",children:["Corporate Policy",r.jsx("span",{className:`inline-block text-lg transition-transform duration-200 ${I?"rotate-150":""}`,children:""})]}),I&&r.jsx("div",{className:"absolute top-0 left-full ml-1 w-56 bg-white border rounded-lg shadow-2xl transition-all z-50",onMouseEnter:ge,onMouseLeave:Be,children:r.jsxs("ul",{className:"py-2",children:[r.jsx("li",{children:r.jsx(xt,{to:"/cookies-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Cookies Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/disclaimer-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Disclaimer Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/exchange-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Exchange Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/eyeglasses-contact-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Eyeglasses Contact Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/optical-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Optical Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/privacy-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/return-exchange",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Return, Exchange & Consumer Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/rights-enforcement-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Right Enforcement Policy"})}),r.jsx("li",{children:r.jsx(xt,{to:"/shipping-policy",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Shipping Policy"})})]})})]}),r.jsx("li",{children:r.jsx(xt,{to:"/responsibility",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Vision & Responsibility"})})]})})})]}),r.jsxs("li",{className:"relative",onMouseEnter:Tt,onMouseLeave:Ot,children:[r.jsxs("button",{type:"button",className:"flex items-center gap-1 cursor-pointer hover:text-red-600 transition-colors",children:["About Us",r.jsx("span",{className:`inline-block transition-transform duration-200 ${s?"rotate-180":""}`,children:""})]}),r.jsx(vf,{children:s&&r.jsx(Ke.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:"absolute left-1/2 -translate-x-1/2 mt-3 w-56 bg-white text-gray-900 border rounded-lg shadow-2xl z-50",children:r.jsxs("ul",{className:"py-2",children:[r.jsx("li",{children:r.jsx(xt,{to:"/our-mission",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Our Mission"})}),r.jsx("li",{children:r.jsx(xt,{to:"/our-vision",className:"block px-4 py-2 text-sm hover:bg-gray-100",children:"Our Vision"})})]})})})]}),r.jsx("li",{onMouseEnter:()=>Ue("glasses"),onMouseLeave:_e,children:r.jsx("button",{type:"button",className:`cursor-pointer hover:text-red-600 transition-colors ${G&&$==="glasses"?"text-red-500":""}`,children:"Glasses"})}),r.jsx("li",{onMouseEnter:()=>Ue("sunglasses"),onMouseLeave:_e,children:r.jsx("button",{type:"button",className:`cursor-pointer hover:text-red-600 transition-colors ${G&&$==="sunglasses"?"text-red-500":""}`,children:"Sunglasses"})}),r.jsx("li",{onMouseEnter:()=>Ue("contact_lenses"),onMouseLeave:_e,children:r.jsx("button",{type:"button",className:`cursor-pointer hover:text-red-600 transition-colors ${G&&$==="contact_lenses"?"text-red-500":""}`,children:"Contact Lenses"})}),r.jsx("li",{onMouseEnter:()=>Ue("brands"),onMouseLeave:_e,children:r.jsx("button",{type:"button",className:`cursor-pointer hover:text-red-600 transition-colors ${G&&$==="brands"?"text-red-500":""}`,children:"Brands"})}),r.jsx(xt,{to:"/services",className:"hover:text-red-600 transition-colors",children:r.jsx("li",{className:"cursor-pointer",children:"Services"})}),r.jsx(xt,{to:"/how-to-order",className:"hover:text-red-600 transition-colors",children:r.jsx("li",{className:"cursor-pointer",children:"How To Order"})}),r.jsx(xt,{to:"/contact-us",className:"hover:text-red-600 transition-colors",children:r.jsx("li",{className:"cursor-pointer",children:"Contact Us"})}),r.jsx(xt,{to:"/eye-schedule-test",className:"hover:text-black transition-colors",children:r.jsx("li",{className:"cursor-pointer bg-[#f00000] py-1 px-4 rounded-xl",children:"BOOK EYE EXAM"})})]}),r.jsx("div",{onMouseEnter:()=>{d.current&&clearTimeout(d.current)},onMouseLeave:_e,children:r.jsx(bae,{open:G,onClose:()=>W(!1),activeKey:$,dataByKey:et,grouped:T,brands:A})})]}),r.jsx(vae,{})]}),r.jsxs("div",{className:`fixed top-0 left-0 w-72 h-screen bg-white text-gray-900 transform transition-all duration-300 ease-out z-50 shadow-2xl ${Qe?"translate-x-0 opacity-100":"-translate-x-full opacity-0"}`,children:[r.jsxs("div",{className:"flex justify-between items-center bg-white h-[70px] border-b border-gray-200 px-3 sticky top-0 z-50",children:[r.jsx(xt,{to:"/",onClick:()=>We(!1),children:r.jsx("img",{src:vB,className:"object-cover h-[70px] w-[150px]",alt:"Logo"})}),r.jsx("button",{onClick:()=>We(!1),className:"text-gray-900 hover:text-[#f00000]",children:r.jsx(qre,{size:28})})]}),r.jsx("div",{className:"overflow-y-auto h-[calc(100vh-70px)] px-1 pb-24",children:r.jsxs("nav",{className:"flex flex-col p-4 text-base font-semibold overscroll-contain",children:[r.jsx(xt,{to:"/",onClick:()=>We(!1),className:"px-4 py-3 rounded hover:text-red-600 hover:bg-gray-100 transition-colors",children:"Home"}),r.jsxs("div",{className:"px-4 py-3",children:[r.jsxs("button",{onClick:()=>$e("glasses"),className:"w-full flex justify-between items-center py-2 hover:text-red-600",children:["Glasses",r.jsx("span",{children:t.glasses?"":""})]}),t.glasses&&r.jsx("div",{className:"ml-4 mt-2 flex flex-col gap-2 text-sm",children:et.glasses.columns.map(Pe=>Pe.links.map(Je=>r.jsx("button",{onClick:()=>{n("/glasses",{state:Je}),We(!1)},className:"py-1 px-2 rounded hover:bg-gray-100 text-left",children:Je.label},Je.id)))})]}),r.jsxs("div",{className:"px-4 py-3",children:[r.jsxs("button",{onClick:()=>$e("sunglasses"),className:"w-full flex justify-between items-center py-2 hover:text-red-600",children:["Sunglasses",r.jsx("span",{children:t.sunglasses?"":""})]}),t.sunglasses&&r.jsx("div",{className:"ml-4 mt-2 flex flex-col gap-2 text-sm",children:et.sunglasses.columns.map(Pe=>Pe.links.map(Je=>r.jsx("button",{onClick:()=>{n("/sunglasses",{state:Je}),We(!1)},className:"py-1 px-2 rounded hover:bg-gray-100 text-left",children:Je.label},Je.id)))})]}),r.jsxs("div",{className:"px-4 py-3",children:[r.jsxs("button",{onClick:()=>$e("contact_lenses"),className:"w-full flex justify-between items-center py-2 hover:text-red-600",children:["Contact Lenses",r.jsx("span",{children:t.contact_lenses?"":""})]}),t.contact_lenses&&r.jsx("div",{className:"ml-4 mt-2 flex flex-col gap-2 text-sm",children:et.contact_lenses.columns.map(Pe=>Pe.links.map(Je=>r.jsx("button",{onClick:()=>{n("/contact-lenses",{state:Je}),We(!1)},className:"py-1 px-2 rounded hover:bg-gray-100 text-left",children:Je.label},Je.id)))})]}),r.jsxs("div",{className:"px-4 py-3",children:[r.jsxs("button",{onClick:()=>$e("brands"),className:"w-full flex justify-between items-center py-2 hover:text-red-600",children:["Brands",r.jsx("span",{children:t.brands?"":""})]}),t.brands&&r.jsx("div",{className:"ml-4 mt-2 flex flex-col gap-2 text-sm",children:et.brands.columns.map(Pe=>Pe.links.map(Je=>r.jsx("button",{onClick:()=>{n(`/brands/${Je.brandId}`),We(!1)},className:"py-1 px-2 rounded hover:bg-gray-100 text-left",children:Je.label},Je.id)))})]}),r.jsx("hr",{className:"my-2"}),r.jsx(xt,{to:"/contact-us",onClick:()=>We(!1),className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 rounded",children:"Contact Us"}),r.jsx(xt,{to:"/services",onClick:()=>We(!1),className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 rounded",children:"Services"}),r.jsx(xt,{to:"/faq",onClick:()=>We(!1),className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 rounded",children:"FAQ"}),r.jsx(xt,{to:"/how-to-order",onClick:()=>We(!1),className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 rounded",children:"How To Order"}),r.jsx(xt,{to:"/eye-schedule-test",onClick:()=>We(!1),className:"px-4 py-3 my-2 text-center bg-[#f00000] text-white rounded hover:bg-red-700",children:"BOOK EYE EXAM"}),r.jsx("hr",{className:"my-2"}),r.jsx("button",{onClick:()=>{n("/wishlist-page"),We(!1)},className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 text-left",children:"Wishlist"}),r.jsx("hr",{className:"my-2"}),ue?r.jsxs(r.Fragment,{children:[r.jsx(xt,{to:"/update-profile",onClick:()=>We(!1),className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 rounded",children:"My Profile"}),r.jsx(xt,{to:"/order-history",onClick:()=>We(!1),className:"px-4 py-3 hover:bg-gray-100 hover:text-red-600 rounded",children:"My Orders"}),r.jsx("button",{onClick:()=>{e({type:"LOGOUT"}),localStorage.clear(),n("/"),We(!1)},className:"px-4 py-3 bg-red-600 text-white rounded hover:bg-red-700 mt-2 text-left",children:"Logout"})]}):r.jsx("button",{onClick:()=>{n("/login"),We(!1)},className:"px-4 py-3 bg-[#f00000] text-white rounded hover:bg-red-700",children:"Sign In"})]})})]}),Qe&&r.jsx("div",{className:"fixed inset-0 z-40 transition-opacity duration-300 ease-out opacity-100",onClick:()=>We(!1),"aria-hidden":"true"}),r.jsx(CB,{isOpen:j,onClose:()=>{R(!1),m(""),y([])},query:h,handleSearch:te,handleSearchClick:Z,handleKeyDown:xe,filteredProducts:x,isLoading:b,errorMsg:_,goToSelected:_t,recentSearches:N,onRecentSearchClick:yt,onRemoveSearch:Oe,onClearAllSearches:Xe,navigate:n,brands:A}),ye&&ue&&r.jsx(fae,{isOpen:ye,onClose:()=>Ve(!1)}),ye&&ue&&r.jsx("div",{className:"fixed inset-0 z-[45] transition-opacity duration-300 ease-out opacity-100",onClick:()=>Ve(!1),"aria-hidden":"true"})]})}const Sae="/assets/mastercard-Dekgy4mj.png",Aae="/assets/paypal-ClwIHsp0.png",_ae="/assets/visa-afyQHn1c.png",oc=Object.create(null);oc.open="0";oc.close="1";oc.ping="2";oc.pong="3";oc.message="4";oc.upgrade="5";oc.noop="6";const w1=Object.create(null);Object.keys(oc).forEach(n=>{w1[oc[n]]=n});const mC={type:"error",data:"parser error"},_I=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",EI=typeof ArrayBuffer=="function",CI=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,BT=({type:n,data:e},t,i)=>_I&&e instanceof Blob?t?i(e):MB(e,i):EI&&(e instanceof ArrayBuffer||CI(e))?t?i(e):MB(new Blob([e]),i):i(oc[n]+(e||"")),MB=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function TB(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let K_;function Eae(n,e){if(_I&&n.data instanceof Blob)return n.data.arrayBuffer().then(TB).then(e);if(EI&&(n.data instanceof ArrayBuffer||CI(n.data)))return e(TB(n.data));BT(n,!1,t=>{K_||(K_=new TextEncoder),e(K_.encode(t))})}const NB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<NB.length;n++)Q0[NB.charCodeAt(n)]=n;const Cae=n=>{let e=n.length*.75,t=n.length,i,s=0,a,o,c,d;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const h=new ArrayBuffer(e),m=new Uint8Array(h);for(i=0;i<t;i+=4)a=Q0[n.charCodeAt(i)],o=Q0[n.charCodeAt(i+1)],c=Q0[n.charCodeAt(i+2)],d=Q0[n.charCodeAt(i+3)],m[s++]=a<<2|o>>4,m[s++]=(o&15)<<4|c>>2,m[s++]=(c&3)<<6|d&63;return h},Mae=typeof ArrayBuffer=="function",DT=(n,e)=>{if(typeof n!="string")return{type:"message",data:MI(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Tae(n.substring(1),e)}:w1[t]?n.length>1?{type:w1[t],data:n.substring(1)}:{type:w1[t]}:mC},Tae=(n,e)=>{if(Mae){const t=Cae(n);return MI(t,e)}else return{base64:!0,data:n}},MI=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},TI="",Nae=(n,e)=>{const t=n.length,i=new Array(t);let s=0;n.forEach((a,o)=>{BT(a,!1,c=>{i[o]=c,++s===t&&e(i.join(TI))})})},jae=(n,e)=>{const t=n.split(TI),i=[];for(let s=0;s<t.length;s++){const a=DT(t[s],e);if(i.push(a),a.type==="error")break}return i};function Rae(){return new TransformStream({transform(n,e){Eae(n,t=>{const i=t.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,i)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let J_;function Zb(n){return n.reduce((e,t)=>e+t.length,0)}function $b(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)t[s]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function Bae(n,e){J_||(J_=new TextDecoder);const t=[];let i=0,s=-1,a=!1;return new TransformStream({transform(o,c){for(t.push(o);;){if(i===0){if(Zb(t)<1)break;const d=$b(t,1);a=(d[0]&128)===128,s=d[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Zb(t)<2)break;const d=$b(t,2);s=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(Zb(t)<8)break;const d=$b(t,8),h=new DataView(d.buffer,d.byteOffset,d.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){c.enqueue(mC);break}s=m*Math.pow(2,32)+h.getUint32(4),i=3}else{if(Zb(t)<s)break;const d=$b(t,s);c.enqueue(DT(a?d:J_.decode(d),e)),i=0}if(s===0||s>n){c.enqueue(mC);break}}}})}const NI=4;function bs(n){if(n)return Dae(n)}function Dae(n){for(var e in bs.prototype)n[e]=bs.prototype[e];return n}bs.prototype.on=bs.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};bs.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};bs.prototype.off=bs.prototype.removeListener=bs.prototype.removeAllListeners=bs.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};bs.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e)}return this};bs.prototype.emitReserved=bs.prototype.emit;bs.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};bs.prototype.hasListeners=function(n){return!!this.listeners(n).length};const $2=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),yo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Oae="arraybuffer";function jI(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const Pae=yo.setTimeout,Lae=yo.clearTimeout;function eS(n,e){e.useNativeTimers?(n.setTimeoutFn=Pae.bind(yo),n.clearTimeoutFn=Lae.bind(yo)):(n.setTimeoutFn=yo.setTimeout.bind(yo),n.clearTimeoutFn=yo.clearTimeout.bind(yo))}const Iae=1.33;function Uae(n){return typeof n=="string"?kae(n):Math.ceil((n.byteLength||n.size)*Iae)}function kae(n){let e=0,t=0;for(let i=0,s=n.length;i<s;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function RI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Fae(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function zae(n){let e={},t=n.split("&");for(let i=0,s=t.length;i<s;i++){let a=t[i].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class Hae extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class OT extends bs{constructor(e){super(),this.writable=!1,eS(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new Hae(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=DT(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Fae(e);return t.length?"?"+t:""}}class Vae extends OT{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};jae(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Nae(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=RI()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let BI=!1;try{BI=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Gae=BI;function qae(){}class Wae extends Vae{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}let bm=class S1 extends bs{constructor(e,t,i){super(),this.createRequest=e,eS(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const t=jI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=S1.requestsCount++,S1.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=qae,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete S1.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};bm.requestsCount=0;bm.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jB);else if(typeof addEventListener=="function"){const n="onpagehide"in yo?"pagehide":"unload";addEventListener(n,jB,!1)}}function jB(){for(let n in bm.requests)bm.requests.hasOwnProperty(n)&&bm.requests[n].abort()}const Xae=function(){const n=DI({xdomain:!1});return n&&n.responseType!==null}();class Yae extends Wae{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Xae&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new bm(DI,this.uri(),e)}}function DI(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Gae))return new XMLHttpRequest}catch{}if(!e)try{return new yo[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const OI=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Kae extends OT{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=OI?{}:jI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;BT(i,this.supportsBinary,a=>{try{this.doWrite(i,a)}catch{}s&&$2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=RI()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Q_=yo.WebSocket||yo.MozWebSocket;class Jae extends Kae{createSocket(e,t,i){return OI?new Q_(e,t,i):t?new Q_(e,t):new Q_(e)}doWrite(e,t){this.ws.send(t)}}class Qae extends OT{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=Bae(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),s=Rae();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const a=()=>{i.read().then(({done:c,value:d})=>{c||(this.onPacket(d),a())}).catch(c=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;this._writer.write(i).then(()=>{s&&$2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Zae={websocket:Jae,webtransport:Qae,polling:Yae},$ae=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eoe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gC(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let s=$ae.exec(n||""),a={},o=14;for(;o--;)a[eoe[o]]=s[o]||"";return t!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=toe(a,a.path),a.queryKey=noe(a,a.query),a}function toe(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function noe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,a){s&&(t[s]=a)}),t}const xC=typeof addEventListener=="function"&&typeof removeEventListener=="function",A1=[];xC&&addEventListener("offline",()=>{A1.forEach(n=>n())},!1);class pd extends bs{constructor(e,t){if(super(),this.binaryType=Oae,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const i=gC(e);t.hostname=i.host,t.secure=i.protocol==="https"||i.protocol==="wss",t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=gC(t.host).host);eS(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=zae(this.opts.query)),xC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},A1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=NI,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&pd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",pd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(t+=Uae(s)),i>0&&t>this._maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$2(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,i){return this._sendPacket("message",e,t,i),this}send(e,t,i){return this._sendPacket("message",e,t,i),this}_sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const a={type:e,data:t,options:i};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(pd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),xC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=A1.indexOf(this._offlineEventListener);i!==-1&&A1.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}pd.protocol=NI;class ioe extends pd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;pd.priorWebsocketSuccess=!1;const s=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",x=>{if(!i)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;pd.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function a(){i||(i=!0,m(),t.close(),t=null)}const o=x=>{const y=new Error("probe error: "+x);y.transport=t.name,a(),this.emitReserved("upgradeError",y)};function c(){o("transport closed")}function d(){o("socket closed")}function h(x){t&&x.name!==t.name&&a()}const m=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",c),this.off("close",d),this.off("upgrading",h)};t.once("open",s),t.once("error",o),t.once("close",c),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}let soe=class extends ioe{constructor(e,t={}){const i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>Zae[s]).filter(s=>!!s)),super(e,i)}};function roe(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=gC(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const a=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port+e,i.href=i.protocol+"://"+a+(t&&t.port===i.port?"":":"+i.port),i}const aoe=typeof ArrayBuffer=="function",ooe=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,PI=Object.prototype.toString,loe=typeof Blob=="function"||typeof Blob<"u"&&PI.call(Blob)==="[object BlobConstructor]",coe=typeof File=="function"||typeof File<"u"&&PI.call(File)==="[object FileConstructor]";function PT(n){return aoe&&(n instanceof ArrayBuffer||ooe(n))||loe&&n instanceof Blob||coe&&n instanceof File}function _1(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(_1(n[t]))return!0;return!1}if(PT(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return _1(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&_1(n[t]))return!0;return!1}function uoe(n){const e=[],t=n.data,i=n;return i.data=yC(t,e),i.attachments=e.length,{packet:i,buffers:e}}function yC(n,e){if(!n)return n;if(PT(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=yC(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=yC(n[i],e));return t}return n}function doe(n,e){return n.data=vC(n.data,e),delete n.attachments,n}function vC(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=vC(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=vC(n[t],e));return n}const hoe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],foe=5;var qn;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(qn||(qn={}));class poe{constructor(e){this.replacer=e}encode(e){return(e.type===qn.EVENT||e.type===qn.ACK)&&_1(e)?this.encodeAsBinary({type:e.type===qn.EVENT?qn.BINARY_EVENT:qn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===qn.BINARY_EVENT||e.type===qn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=uoe(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}function RB(n){return Object.prototype.toString.call(n)==="[object Object]"}class LT extends bs{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===qn.BINARY_EVENT;i||t.type===qn.BINARY_ACK?(t.type=i?qn.EVENT:qn.ACK,this.reconstructor=new moe(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(PT(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(qn[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===qn.BINARY_EVENT||i.type===qn.BINARY_ACK){const a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(a,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(a,t)}else i.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const a=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(LT.isPayloadValid(i.type,a))i.data=a;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case qn.CONNECT:return RB(t);case qn.DISCONNECT:return t===void 0;case qn.CONNECT_ERROR:return typeof t=="string"||RB(t);case qn.EVENT:case qn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&hoe.indexOf(t[0])===-1);case qn.ACK:case qn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class moe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=doe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const goe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:LT,Encoder:poe,get PacketType(){return qn},protocol:foe},Symbol.toStringTag,{value:"Module"}));function il(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const xoe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class LI extends bs{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[il(e,"open",this.onopen.bind(this)),il(e,"packet",this.onpacket.bind(this)),il(e,"error",this.onerror.bind(this)),il(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,s,a;if(xoe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:qn.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const m=this.ids++,x=t.pop();this._registerAckCallback(m,x),o.id=m}const c=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,d=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(a),t.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((i,s)=>{const a=(o,c)=>o?s(o):i(c);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...a)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...a)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:qn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case qn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qn.EVENT:case qn.BINARY_EVENT:this.onevent(e);break;case qn.ACK:case qn.BINARY_ACK:this.onack(e);break;case qn.DISCONNECT:this.ondisconnect();break;case qn.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:qn.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function sg(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}sg.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};sg.prototype.reset=function(){this.attempts=0};sg.prototype.setMin=function(n){this.ms=n};sg.prototype.setMax=function(n){this.max=n};sg.prototype.setJitter=function(n){this.jitter=n};class bC extends bs{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,eS(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new sg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||goe;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new soe(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=il(t,"open",function(){i.onopen(),e&&e()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=il(t,"error",a);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),t.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(il(e,"ping",this.onping.bind(this)),il(e,"data",this.ondata.bind(this)),il(e,"error",this.onerror.bind(this)),il(e,"close",this.onclose.bind(this)),il(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){$2(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new LI(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const G0={};function E1(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=roe(n,e.path||"/socket.io"),i=t.source,s=t.id,a=t.path,o=G0[s]&&a in G0[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let d;return c?d=new bC(i,e):(G0[s]||(G0[s]=new bC(i,e)),d=G0[s]),t.query&&!e.query&&(e.query=t.queryKey),d.socket(t.path,e)}Object.assign(E1,{Manager:bC,Socket:LI,io:E1,connect:E1});const im=E1(nH,{path:"/socket.io/",transports:["websocket"]});function IT({onClose:n}){const[e,t]=V.useState("welcome"),[i,s]=V.useState({name:"",email:"",reason:""}),[a,o]=V.useState(null),[c,d]=V.useState([]),[h,m]=V.useState(""),[x,y]=V.useState(!1),[b,S]=V.useState(0),_=V.useRef(null),E=()=>_.current?.scrollIntoView({behavior:"smooth"});V.useEffect(()=>E(),[c]),V.useEffect(()=>{const j=R=>{R.chatId===a&&d(k=>[...k,R])};return im.on("newMessage",j),im.on("typing",()=>{y(!0),setTimeout(()=>y(!1),1500)}),()=>{im.off("newMessage",j),im.off("typing")}},[a]);const A=async()=>{if(e==="welcome")return t("name");if(e==="name"&&i.name.trim())return t("email");if(e==="email"&&i.email.trim())return t("reason");if(e==="reason"&&i.reason.trim()){const R=await(await fetch(`${d1}/support/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json();o(R.chatId),d(R.chat.messages||[]),im.emit("user:join",{chatId:R.chatId}),t("chat")}},P=j=>{j.preventDefault(),!(!h.trim()||!a)&&(im.emit("sendMessage",{chatId:a,text:h.trim(),sender:"user"}),m(""))},N=async()=>{a&&(await fetch(`${d1}/support/${a}/close`,{method:"PATCH"}),t("closed"))},L=async()=>{!a||b===0||(await fetch(`${d1}/support/${a}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:b})}),Ht.fire({icon:"success",title:"Thank you!",text:"Feedback submitted.",timer:2e3,showConfirmButton:!1}),n())};return r.jsxs("div",{className:"fixed bottom-20 right-5 w-80 md:w-96 shadow-2xl rounded-2xl border bg-[#ffffff] flex flex-col h-[520px] z-50 animate-slide-up",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-500 text-white p-4 rounded-t-2xl flex justify-between items-center shadow-md",children:[r.jsx("span",{className:"font-semibold",children:"ATAL Support"}),r.jsx("button",{onClick:n,className:"text-white text-xl",children:""})]}),r.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-2 text-sm bg-gray-50",children:[e!=="chat"&&e!=="closed"&&r.jsxs("div",{className:"bg-white p-4 rounded-xl shadow text-gray-700 text-center",children:[e==="welcome"&&"Hello! Need help today?",e==="name"&&"What's your name?",e==="email"&&"Your email address?",e==="reason"&&"How can we help you?"]}),e==="chat"&&r.jsxs(r.Fragment,{children:[c.map((j,R)=>r.jsx("div",{className:`flex ${j.sender==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`px-3 py-2 rounded-2xl max-w-[70%] shadow
                                ${j.sender==="user"?"bg-red-600 text-white":j.sender==="admin"?"bg-blue-100 text-gray-900":j.sender==="ai"?"bg-gray-300 text-black":"bg-yellow-200 text-gray-900 text-xs text-center"}`,children:j.text})},R)),x&&r.jsx("div",{className:"text-xs text-gray-500",children:"Admin is typing"})]}),e==="closed"&&r.jsxs("div",{className:"text-center text-gray-700",children:[r.jsx("p",{className:"font-semibold mb-3",children:"Chat closed! Thank you "}),r.jsx("p",{className:"mb-2",children:"Rate your experience"}),r.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[1,2,3,4,5].map(j=>r.jsx("span",{className:`text-2xl cursor-pointer ${j<=b?"text-yellow-400":"text-gray-400"}`,onClick:()=>S(j),children:""},j))}),r.jsx("button",{onClick:L,disabled:b===0,className:"bg-red-600 text-white rounded-lg px-4 py-2 disabled:bg-gray-400",children:"Submit Rating"})]}),r.jsx("div",{ref:_})]}),e!=="closed"&&r.jsx("div",{className:"p-3 border-t bg-white rounded-b-2xl",children:e!=="chat"?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{className:"flex-1 border rounded-xl px-3 py-2 text-sm bg-gray-100",value:i[e]||"",onChange:j=>s({...i,[e]:j.target.value}),placeholder:e==="name"?"Your name":e==="email"?"Your email":"Describe your issue..."}),r.jsx("button",{onClick:A,className:"bg-red-600 text-white px-4 py-2 rounded-xl text-sm shadow",children:e==="welcome"?"Start":"Next"})]}):r.jsxs("form",{onSubmit:P,className:"flex gap-2",children:[r.jsx("input",{className:"flex-1 border rounded-xl px-3 py-2 text-sm",value:h,onChange:j=>m(j.target.value),placeholder:"Type message..."}),r.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded-xl shadow",children:""}),r.jsx("button",{type:"button",onClick:N,className:"bg-gray-500 text-white px-3 py-2 rounded-lg text-xs",children:"Close"})]})})]})}const Z_=({img:n,alt:e})=>r.jsx("div",{className:"flex items-center gap-2 bg-white border rounded-xs px-2 scale-90",children:r.jsx("img",{src:n,alt:e,className:"w-6 h-5 object-contain"})}),yoe=()=>{const[n,e]=V.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-black text-white px-[5%] py-6",children:[r.jsxs("div",{className:"max-w-[1280px] mx-auto flex justify-between items-center",children:[r.jsx("p",{className:"text-sm tracking-wide",children:"Stay up to date with atal otical holiday deals"}),r.jsx("button",{className:"bg-[#f00000] text-white px-5 py-2 rounded-xl text-sm font-semibold hover:bg-red-700 transition",children:r.jsx(sn,{to:"/eye-schedule-test",children:"Select Eye Exam"})})]}),r.jsx("div",{className:"mt-6 mx-auto",style:{height:"1px",background:"#374151",width:"calc(100% - 3px)",maxWidth:"1280px",marginLeft:"-0.1%"}})]}),r.jsxs("div",{className:"bg-black text-white px-[5%] py-10",children:[r.jsxs("div",{className:"max-w-[1280px] mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-12",children:[r.jsxs("div",{className:"w-full",children:[r.jsx("h4",{className:"text-[#f00000] font-semibold mb-3",children:"Help"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/eye-schedule-test",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Book an eye exam"})}),r.jsx("li",{children:r.jsx(sn,{to:"/optical-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Optical Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/faq",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"FAQ"})})]}),r.jsxs("div",{className:"mt-5 w-xl pr-15",children:[r.jsx("h5",{className:"text-[#f00000] font-semibold mb-2",children:"Contact Us"}),r.jsxs("div",{className:"flex items-start gap-1 mb-2 text-gray-300",children:[r.jsx(yae,{className:"text-lg mt-1 text-white"}),r.jsx("span",{className:"text-sm",children:"Call 1866-242-3545"})]}),r.jsxs("div",{className:"flex items-start gap-1 mb-2 text-gray-300",children:[r.jsx(EB,{className:"text-lg mt-1 text-white"}),r.jsx("span",{className:"text-sm",children:r.jsx("a",{href:"mailto:sales.ataloptical@gmail.com",className:"text-sm hover:text-[#f00000] cursor-pointer",children:"sales.ataloptical@gmail.com"})})]}),r.jsxs("div",{className:"flex items-start gap-1 mb-2 text-gray-300",children:[r.jsx(EB,{className:"text-lg mt-1 text-white"}),r.jsx("span",{className:"text-sm",children:r.jsx("a",{href:"mailto:info.ataloptical@gmail.com",className:"text-sm hover:text-[#f00000] cursor-pointer",children:"info.ataloptical@gmail.com"})})]}),r.jsxs("div",{className:"flex items-start gap-1 text-gray-300",children:[r.jsx(b9,{className:"text-xl mt-1 text-white"}),r.jsx("button",{onClick:()=>e(!n),className:"text-sm",children:"Chat with an agent"})]}),n&&r.jsx("div",{className:"fixed bottom-20 right-6 z-50",children:r.jsx(IT,{onClose:()=>e(!1)})})]})]}),r.jsxs("div",{className:"pr-14 w-full",children:[r.jsx("h4",{className:"text-[#f00000] font-semibold mb-3",children:"Glasses"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/glasses/lens_type/blue%20violet",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Blue-violet light glasses"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/heart",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Heart Face"})}),r.jsx("li",{children:r.jsx(sn,{to:"/allproduct/kids/6915705d9ceac0cdda41c83f/69157748eeb23fa59c7d5378",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Kids' glasses"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/gender/men",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Men's glasses"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/oval",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Oval Face"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/lens_type/progressive",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Progressive"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/round",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Round Face"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/square",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Square Face"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/lens_type/transitions",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Transitions Glasses"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/triangle",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Triangle Face"})}),r.jsx("li",{children:r.jsx(sn,{to:"/glasses/gender/women",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Women's glasses"})})]})]}),r.jsxs("div",{className:"pr-14 w-full",children:[r.jsx("h4",{className:"text-[#f00000] font-semibold mb-3",children:"Contact Lenses"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/Acuvue/690c6ecece83c44ad440e02e",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Acuvue"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/Air%20Optix/690c6ee3ce83c44ad440e031",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Air optics"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/category/weekly/6915735feeb23fa59c7d532b",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Biweekly/weekly"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/Biofinity/690c6efbce83c44ad440e034",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Biofinity"})}),r.jsx("li",{children:r.jsx(sn,{to:"/allproduct/Coloured/6915735feeb23fa59c7d532b/69157878eeb23fa59c7d53a2",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Coloured"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/category/daily/6915735feeb23fa59c7d532b",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Daily"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/Everclear/690c708ace83c44ad440e040",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Everclear"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact_lenses/category/monthly/6915735feeb23fa59c7d532b",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Monthly"})}),r.jsx("li",{children:r.jsx(sn,{to:"/allproduct/Multifocal/6915735feeb23fa59c7d532b/69157823eeb23fa59c7d5394",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Multifocal"})}),r.jsx("li",{children:r.jsx(sn,{to:"/allproduct/Single%20Vision/6915735feeb23fa59c7d532b/69157803eeb23fa59c7d538d",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Single Vision"})}),r.jsx("li",{children:r.jsx(sn,{to:"/allproduct/Toric/6915735feeb23fa59c7d532b/6915785beeb23fa59c7d539b",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Toric"})})]})]}),r.jsxs("div",{className:"pr-2 w-full",children:[r.jsx("h4",{className:"text-[#f00000] font-semibold mb-3",children:"Our Services"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/disclaimer",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Disclaimer"})}),r.jsx("li",{children:r.jsx(sn,{to:"/eyeglasses-contact-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Eye Glasses Contact Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/general-info",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"General Information"})}),r.jsx("li",{children:r.jsx(sn,{to:"/intellectual-property",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Intellectual Property"})}),r.jsx("li",{children:r.jsx(sn,{to:"/liability",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Limitations of Liability"})}),r.jsx("li",{children:r.jsx(sn,{to:"/rights-enforcement-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Right Enforcement Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/services",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Services"})}),r.jsx("li",{children:r.jsx(sn,{to:"/responsibility",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Vision & Responsibility"})})]})]}),r.jsxs("div",{className:"pr-14 w-full",children:[r.jsx("h4",{className:"text-[#f00000] font-semibold mb-3",children:"Rewards & Eyewear"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/refer-coupon",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Refer a friend"})}),r.jsx("li",{children:r.jsx(sn,{to:"/face-shape",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Glasses for your face shape"})})]})]}),r.jsxs("div",{className:"pr-14 w-full",children:[r.jsx("h4",{className:"text-[#f00000] font-semibold mb-3",children:"About Us"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/about-us",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"About"})}),r.jsx("li",{children:r.jsx(sn,{to:"/contact-us",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Contact Us"})}),r.jsx("li",{children:r.jsx(sn,{to:"/atal-meaning",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Meaning of Atal"})}),r.jsx("li",{children:r.jsx(sn,{to:"/our-mission",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Our Mission"})}),r.jsx("li",{children:r.jsx(sn,{to:"/our-vision",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Our Vision"})})]}),r.jsxs("div",{className:"mt-5",children:[r.jsx("h5",{className:"text-[#f00000] font-semibold mb-2",children:"Policies"}),r.jsxs("ul",{className:"text-xs space-y-2 text-gray-300",children:[r.jsx("li",{children:r.jsx(sn,{to:"/cookies-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Cookies Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/disclaimer-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Disclaimer Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/exchange-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Exchange Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/shipping-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Shipping Policy"})}),r.jsx("li",{children:r.jsx(sn,{to:"/return-exchange",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Return, Exchange & Consumer Policy"})})]})]})]})]}),r.jsx("div",{className:"max-w-[1280px] mt-10 flex items-center justify-between -mb-6",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm text-gray-400 min-w-[260px]",children:"We guarantee every transaction is 100% secure"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Z_,{img:_ae,alt:"Visa"}),r.jsx(Z_,{img:Sae,alt:"Mastercard"}),r.jsx(Z_,{img:Aae,alt:"PayPal"})]})]})})]}),r.jsx("div",{className:"bg-black text-white border-t border-gray-800 text-xs py-3 pb-5",children:r.jsxs("div",{className:"max-w-[1280px] mx-auto px-[2%] flex justify-between items-center",children:[r.jsx(AI,{}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-300 pr-2",children:[r.jsx("span",{children:" 2025 Atal Optical"}),r.jsx("span",{children:"|"}),r.jsx("span",{children:r.jsx(sn,{to:"/terms&Conditions",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Terms and Conditions"})}),r.jsx("span",{children:"|"}),r.jsx("span",{children:r.jsx(sn,{to:"/privacy-policy",className:({isActive:t})=>t?"text-[#f00000]":"cursor-pointer hover:text-red-600",children:"Privacy Policy"})})]})]})})]})},voe=()=>{const{pathname:n}=ws();return V.useLayoutEffect(()=>{window.scrollTo(0,0)},[n]),null},boe="/assets/popupImg-Bgy7jU8b.avif",woe=()=>{const[n,e]=V.useState(!1),[t,i]=V.useState(!1),[s,a]=V.useState(""),[o,c]=V.useState(""),[d,h]=V.useState(""),[m,x]=V.useState(!1),[y,b]=V.useState(!1);V.useEffect(()=>{if(!sessionStorage.getItem("offerPopupShown")){const N=setTimeout(()=>e(!0),2e3);return sessionStorage.setItem("offerPopupShown","true"),()=>clearTimeout(N)}},[]);const S=()=>{e(!1)},_=()=>{b(!1),i(!0)},E=()=>{b(!0),i(!0)},A=async()=>{if(!s){h("Please enter your email address.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){h("Please enter a valid email address.");return}h(""),x(!0);try{y&&await St.post("/save-discount-email",{email:s,discountCode:"ATAL20"}),c("ATAL20")}catch(N){console.error("Email save error:",N),h("Something went wrong. Please try again later.")}finally{x(!1)}};return r.jsx(vf,{children:n&&r.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"},className:"fixed inset-0 flex items-center justify-center z-[9999] backdrop-blur-md bg-black/40",children:r.jsxs(Ke.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},transition:{duration:.4,ease:"easeInOut"},className:"bg-white rounded-2xl shadow-2xl overflow-hidden w-[90%] md:w-[750px] flex flex-col md:flex-row relative",children:[r.jsx("div",{className:"md:w-1/2",children:r.jsx("img",{src:boe,alt:"Offer visual",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"md:w-1/2 p-8 flex flex-col justify-center text-center",children:[!t&&!o&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Atal Optical"}),r.jsx("p",{className:"text-gray-700 text-sm mb-3",children:"Enjoy"}),r.jsx("p",{className:"text-3xl font-bold mb-1",children:"20% off on contact lenses"}),r.jsx("p",{className:"text-gray-500 mb-3",children:"+ free shipping"}),r.jsx("p",{className:"text-lg font-semibold mb-1",children:"&"}),r.jsx("p",{className:"text-3xl font-bold mb-2",children:"20% off on glasses"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"+ free shipping"}),r.jsx("button",{onClick:_,className:"bg-black text-white py-3 rounded-md mb-3 hover:bg-gray-800 transition-all duration-200",children:"Unlock Discount Now"}),r.jsx("button",{onClick:E,className:"border border-black py-3 rounded-md mb-3 hover:bg-gray-100 transition-all duration-200",children:"Save Discount for Later"}),r.jsx("button",{onClick:S,className:"text-gray-500 underline text-sm hover:text-black transition-all duration-200",children:"Decline Discount"})]}),t&&!o&&r.jsxs(Ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Enter your email address"}),r.jsx("input",{type:"email",value:s,onChange:P=>a(P.target.value),placeholder:"you@example.com",className:"border border-gray-300 rounded-md w-full p-3 mb-3 focus:outline-none focus:ring-2 focus:ring-black"}),d&&r.jsx("p",{className:"text-[#f00000] text-sm mb-3",children:d}),r.jsx("button",{onClick:A,disabled:m,className:"bg-black text-white py-3 rounded-md w-full hover:bg-gray-800 transition-all duration-200 disabled:opacity-60",children:m?"Submitting...":"Get My Discount Code"}),r.jsx("button",{onClick:S,className:"border border-black py-3 rounded-md w-full mt-3 hover:bg-gray-100 transition-all duration-200",children:"Decline Discount"})]},"emailInput"),o&&r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},children:[r.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Your Discount Code"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Use this code during checkout:"}),r.jsx("div",{className:"border border-dashed border-black rounded-md py-3 text-xl font-bold text-black mb-4 select-all",children:o}),s&&r.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["The code has also been sent to ",r.jsx("strong",{children:s}),"."]}),r.jsx("button",{onClick:S,className:"bg-black text-white py-3 rounded-md w-full hover:bg-gray-800 transition-all duration-200",children:"Close"})]},"discountCode")]}),r.jsx(Ke.button,{whileHover:{scale:1.2},whileTap:{scale:.9},className:"absolute top-3 right-4 text-gray-500 hover:text-black text-2xl",onClick:S,children:"x"})]})},"popup")})};function Soe(){const n=ws(),[e,t]=V.useState(!1),[i,s]=V.useState(!1);return V.useEffect(()=>{const a=()=>{const o=window.scrollY;s(o>200)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),r.jsxs(r.Fragment,{children:[r.jsx(voe,{}),r.jsx(wae,{}),n.pathname==="/"&&r.jsx(woe,{}),r.jsx("div",{children:r.jsx(SD,{})}),i&&r.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-4 right-0 bottom-40 bg-red-600 text-white px-6 py-2 rounded-lg shadow-lg \r
             hover:bg-red-700 transition transform rotate-270 origin-bottom-right`,children:"Help"}),e&&r.jsx("div",{className:"fixed bottom-20 right-6 z-50",children:r.jsx(IT,{onClose:()=>t(!1)})}),r.jsx(yoe,{})]})}function tS(){const n=[{icon:r.jsx(m9,{size:40}),text:"AFFORDABLE EYEWEAR"},{icon:r.jsx(GD,{size:40}),text:"FAST SHIPPING"},{icon:r.jsx(d9,{size:40}),text:"FREE RETURNS"},{icon:r.jsx(VD,{size:40}),text:"24/7 CUSTOMER CARE"}];return r.jsxs("div",{className:"w-full py-10 bg-white",children:[r.jsx("h2",{className:"text-center text-3xl font-semibold",children:"OUR PROMISE"}),r.jsx("hr",{className:"mb-14 mt-2 border-black mx-130"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 mx-auto text-center",children:n.map((e,t)=>r.jsxs("div",{className:"flex flex-col items-center space-y-3 bg-black mb-6 py-6 mx-6 text-white hover:bg-[#f00000] hover:cursor-pointer hover:scale-110",children:[r.jsx("div",{className:"",children:e.icon}),r.jsx("p",{className:"font-medium ",children:e.text})]},t))})]})}function sr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Aoe=typeof Symbol=="function"&&Symbol.observable||"@@observable",BB=Aoe,$_=()=>Math.random().toString(36).substring(7).split("").join("."),_oe={INIT:`@@redux/INIT${$_()}`,REPLACE:`@@redux/REPLACE${$_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$_()}`},Gw=_oe;function UT(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function II(n,e,t){if(typeof n!="function")throw new Error(sr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(sr(1));return t(II)(n,e)}let i=n,s=e,a=new Map,o=a,c=0,d=!1;function h(){o===a&&(o=new Map,a.forEach((E,A)=>{o.set(A,E)}))}function m(){if(d)throw new Error(sr(3));return s}function x(E){if(typeof E!="function")throw new Error(sr(4));if(d)throw new Error(sr(5));let A=!0;h();const P=c++;return o.set(P,E),function(){if(A){if(d)throw new Error(sr(6));A=!1,h(),o.delete(P),a=null}}}function y(E){if(!UT(E))throw new Error(sr(7));if(typeof E.type>"u")throw new Error(sr(8));if(typeof E.type!="string")throw new Error(sr(17));if(d)throw new Error(sr(9));try{d=!0,s=i(s,E)}finally{d=!1}return(a=o).forEach(P=>{P()}),E}function b(E){if(typeof E!="function")throw new Error(sr(10));i=E,y({type:Gw.REPLACE})}function S(){const E=x;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(sr(11));function P(){const L=A;L.next&&L.next(m())}return P(),{unsubscribe:E(P)}},[BB](){return this}}}return y({type:Gw.INIT}),{dispatch:y,subscribe:x,getState:m,replaceReducer:b,[BB]:S}}function Eoe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Gw.INIT})>"u")throw new Error(sr(12));if(typeof t(void 0,{type:Gw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function Coe(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const o=e[a];typeof n[o]=="function"&&(t[o]=n[o])}const i=Object.keys(t);let s;try{Eoe(t)}catch(a){s=a}return function(o={},c){if(s)throw s;let d=!1;const h={};for(let m=0;m<i.length;m++){const x=i[m],y=t[x],b=o[x],S=y(b,c);if(typeof S>"u")throw c&&c.type,new Error(sr(14));h[x]=S,d=d||S!==b}return d=d||i.length!==Object.keys(o).length,d?h:o}}function qw(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function Moe(...n){return e=>(t,i)=>{const s=e(t,i);let a=()=>{throw new Error(sr(15))};const o={getState:s.getState,dispatch:(d,...h)=>a(d,...h)},c=n.map(d=>d(o));return a=qw(...c)(s.dispatch),{...s,dispatch:a}}}function Toe(n){return UT(n)&&"type"in n&&typeof n.type=="string"}var UI=Symbol.for("immer-nothing"),DB=Symbol.for("immer-draftable"),Ga=Symbol.for("immer-state");function al(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Fm=Object.getPrototypeOf;function wf(n){return!!n&&!!n[Ga]}function iu(n){return n?kI(n)||Array.isArray(n)||!!n[DB]||!!n.constructor?.[DB]||iS(n)||sS(n):!1}var Noe=Object.prototype.constructor.toString();function kI(n){if(!n||typeof n!="object")return!1;const e=Fm(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Noe}function Ww(n,e){nS(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function nS(n){const e=n[Ga];return e?e.type_:Array.isArray(n)?1:iS(n)?2:sS(n)?3:0}function wC(n,e){return nS(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function FI(n,e,t){const i=nS(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function joe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function iS(n){return n instanceof Map}function sS(n){return n instanceof Set}function Vh(n){return n.copy_||n.base_}function SC(n,e){if(iS(n))return new Map(n);if(sS(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=kI(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Ga];let s=Reflect.ownKeys(i);for(let a=0;a<s.length;a++){const o=s[a],c=i[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[o]})}return Object.create(Fm(n),i)}else{const i=Fm(n);if(i!==null&&t)return{...n};const s=Object.create(i);return Object.assign(s,n)}}function kT(n,e=!1){return rS(n)||wf(n)||!iu(n)||(nS(n)>1&&(n.set=n.add=n.clear=n.delete=Roe),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>kT(i,!0))),n}function Roe(){al(2)}function rS(n){return Object.isFrozen(n)}var Boe={};function Sf(n){const e=Boe[n];return e||al(0,n),e}var Ux;function zI(){return Ux}function Doe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OB(n,e){e&&(Sf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function AC(n){_C(n),n.drafts_.forEach(Ooe),n.drafts_=null}function _C(n){n===Ux&&(Ux=n.parent_)}function PB(n){return Ux=Doe(Ux,n)}function Ooe(n){const e=n[Ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LB(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ga].modified_&&(AC(e),al(4)),iu(n)&&(n=Xw(e,n),e.parent_||Yw(e,n)),e.patches_&&Sf("Patches").generateReplacementPatches_(t[Ga].base_,n,e.patches_,e.inversePatches_)):n=Xw(e,t,[]),AC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==UI?n:void 0}function Xw(n,e,t){if(rS(e))return e;const i=e[Ga];if(!i)return Ww(e,(s,a)=>IB(n,i,e,s,a,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Yw(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),Ww(a,(c,d)=>IB(n,i,s,c,d,t,o)),Yw(n,s,!1),t&&n.patches_&&Sf("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function IB(n,e,t,i,s,a,o){if(wf(s)){const c=a&&e&&e.type_!==3&&!wC(e.assigned_,i)?a.concat(i):void 0,d=Xw(n,s,c);if(FI(t,i,d),wf(d))n.canAutoFreeze_=!1;else return}else o&&t.add(s);if(iu(s)&&!rS(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Xw(n,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Yw(n,s)}}function Yw(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&kT(e,t)}function Poe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:zI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,a=FT;t&&(s=[i],a=kx);const{revoke:o,proxy:c}=Proxy.revocable(s,a);return i.draft_=c,i.revoke_=o,c}var FT={get(n,e){if(e===Ga)return n;const t=Vh(n);if(!wC(t,e))return Loe(n,t,e);const i=t[e];return n.finalized_||!iu(i)?i:i===eE(n.base_,e)?(tE(n),n.copy_[e]=CC(i,n)):i},has(n,e){return e in Vh(n)},ownKeys(n){return Reflect.ownKeys(Vh(n))},set(n,e,t){const i=HI(Vh(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const s=eE(Vh(n),e),a=s?.[Ga];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(joe(t,s)&&(t!==void 0||wC(n.base_,e)))return!0;tE(n),EC(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return eE(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,tE(n),EC(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Vh(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){al(11)},getPrototypeOf(n){return Fm(n.base_)},setPrototypeOf(){al(12)}},kx={};Ww(FT,(n,e)=>{kx[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});kx.deleteProperty=function(n,e){return kx.set.call(this,n,e,void 0)};kx.set=function(n,e,t){return FT.set.call(this,n[0],e,t,n[0])};function eE(n,e){const t=n[Ga];return(t?Vh(t):n)[e]}function Loe(n,e,t){const i=HI(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function HI(n,e){if(!(e in n))return;let t=Fm(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Fm(t)}}function EC(n){n.modified_||(n.modified_=!0,n.parent_&&EC(n.parent_))}function tE(n){n.copy_||(n.copy_=SC(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Ioe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const o=this;return function(d=a,...h){return o.produce(d,m=>t.call(this,m,...h))}}typeof t!="function"&&al(6),i!==void 0&&typeof i!="function"&&al(7);let s;if(iu(e)){const a=PB(this),o=CC(e,void 0);let c=!0;try{s=t(o),c=!1}finally{c?AC(a):_C(a)}return OB(a,i),LB(s,a)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===UI&&(s=void 0),this.autoFreeze_&&kT(s,!0),i){const a=[],o=[];Sf("Patches").generateReplacementPatches_(e,s,a,o),i(a,o)}return s}else al(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,d=>e(d,...c));let i,s;return[this.produce(e,t,(o,c)=>{i=o,s=c}),i,s]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){iu(n)||al(8),wf(n)&&(n=Uoe(n));const e=PB(this),t=CC(n,void 0);return t[Ga].isManual_=!0,_C(e),t}finishDraft(n,e){const t=n&&n[Ga];(!t||!t.isManual_)&&al(9);const{scope_:i}=t;return OB(i,e),LB(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const i=Sf("Patches").applyPatches_;return wf(n)?i(n,e):this.produce(n,s=>i(s,e))}};function CC(n,e){const t=iS(n)?Sf("MapSet").proxyMap_(n,e):sS(n)?Sf("MapSet").proxySet_(n,e):Poe(n,e);return(e?e.scope_:zI()).drafts_.push(t),t}function Uoe(n){return wf(n)||al(10,n),VI(n)}function VI(n){if(!iu(n)||rS(n))return n;const e=n[Ga];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=SC(n,e.scope_.immer_.useStrictShallowCopy_)}else t=SC(n,!0);return Ww(t,(i,s)=>{FI(t,i,VI(s))}),e&&(e.finalized_=!1),t}var qa=new Ioe,GI=qa.produce;qa.produceWithPatches.bind(qa);qa.setAutoFreeze.bind(qa);qa.setUseStrictShallowCopy.bind(qa);qa.applyPatches.bind(qa);qa.createDraft.bind(qa);qa.finishDraft.bind(qa);function qI(n){return({dispatch:t,getState:i})=>s=>a=>typeof a=="function"?a(t,i,n):s(a)}var koe=qI(),Foe=qI,zoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qw:qw.apply(null,arguments)},Hoe=n=>n&&typeof n.match=="function";function mx(n,e){function t(...i){if(e){let s=e(...i);if(!s)throw new Error(Qc(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>Toe(i)&&i.type===n,t}var WI=class Z0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Z0.prototype)}static get[Symbol.species](){return Z0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Z0(...e[0].concat(this)):new Z0(...e.concat(this))}};function UB(n){return iu(n)?GI(n,()=>{}):n}function e1(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Voe(n){return typeof n=="boolean"}var Goe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let o=new WI;return t&&(Voe(t)?o.push(koe):o.push(Foe(t.extraArgument))),o},qoe="RTK_autoBatch",kB=n=>e=>{setTimeout(e,n)},Woe=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let s=!0,a=!1,o=!1;const c=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kB(10):n.type==="callback"?n.queueNotification:kB(n.timeout),h=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const x=()=>s&&m(),y=i.subscribe(x);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return s=!m?.meta?.[qoe],a=!s,a&&(o||(o=!0,d(h))),i.dispatch(m)}finally{s=!0}}})},Xoe=n=>function(t){const{autoBatch:i=!0}=t??{};let s=new WI(n);return i&&s.push(Woe(typeof i=="object"?i:void 0)),s};function Yoe(n){const e=Goe(),{reducer:t=void 0,middleware:i,devTools:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(UT(t))c=Coe(t);else throw new Error(Qc(1));let d;typeof i=="function"?d=i(e):d=e();let h=qw;s&&(h=zoe({trace:!1,...typeof s=="object"&&s}));const m=Moe(...d),x=Xoe(m);let y=typeof o=="function"?o(x):x();const b=h(...y);return II(c,a,b)}function XI(n){const e={},t=[];let i;const s={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Qc(28));if(c in e)throw new Error(Qc(29));return e[c]=o,s},addMatcher(a,o){return t.push({matcher:a,reducer:o}),s},addDefaultCase(a){return i=a,s}};return n(s),[e,t,i]}function Koe(n){return typeof n=="function"}function Joe(n,e){let[t,i,s]=XI(e),a;if(Koe(n))a=()=>UB(n());else{const c=UB(n);a=()=>c}function o(c=a(),d){let h=[t[d.type],...i.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[s]),h.reduce((m,x)=>{if(x)if(wf(m)){const b=x(m,d);return b===void 0?m:b}else{if(iu(m))return GI(m,y=>x(y,d));{const y=x(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=a,o}var Qoe=(n,e)=>Hoe(n)?n.match(e):n(e);function Zoe(...n){return e=>n.some(t=>Qoe(t,e))}var $oe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ele=(n=21)=>{let e="",t=n;for(;t--;)e+=$oe[Math.random()*64|0];return e},tle=["name","message","stack","code"],nE=class{constructor(n,e){this.payload=n,this.meta=e}_type},FB=class{constructor(n,e){this.payload=n,this.meta=e}_type},nle=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of tle)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},zB="External signal was aborted",zT=(()=>{function n(e,t,i){const s=mx(e+"/fulfilled",(d,h,m,x)=>({payload:d,meta:{...x||{},arg:m,requestId:h,requestStatus:"fulfilled"}})),a=mx(e+"/pending",(d,h,m)=>({payload:void 0,meta:{...m||{},arg:h,requestId:d,requestStatus:"pending"}})),o=mx(e+"/rejected",(d,h,m,x,y)=>({payload:x,error:(i&&i.serializeError||nle)(d||"Rejected"),meta:{...y||{},arg:m,requestId:h,rejectedWithValue:!!x,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:h}={}){return(m,x,y)=>{const b=i?.idGenerator?i.idGenerator(d):ele(),S=new AbortController;let _,E;function A(N){E=N,S.abort()}h&&(h.aborted?A(zB):h.addEventListener("abort",()=>A(zB),{once:!0}));const P=async function(){let N;try{let j=i?.condition?.(d,{getState:x,extra:y});if(sle(j)&&(j=await j),j===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((k,F)=>{_=()=>{F({name:"AbortError",message:E||"Aborted"})},S.signal.addEventListener("abort",_)});m(a(b,d,i?.getPendingMeta?.({requestId:b,arg:d},{getState:x,extra:y}))),N=await Promise.race([R,Promise.resolve(t(d,{dispatch:m,getState:x,extra:y,requestId:b,signal:S.signal,abort:A,rejectWithValue:(k,F)=>new nE(k,F),fulfillWithValue:(k,F)=>new FB(k,F)})).then(k=>{if(k instanceof nE)throw k;return k instanceof FB?s(k.payload,b,d,k.meta):s(k,b,d)})])}catch(j){N=j instanceof nE?o(null,b,d,j.payload,j.meta):o(j,b,d)}finally{_&&S.signal.removeEventListener("abort",_)}return i&&!i.dispatchConditionRejection&&o.match(N)&&N.meta.condition||m(N),N}();return Object.assign(P,{abort:A,requestId:b,arg:d,unwrap(){return P.then(ile)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:s,settled:Zoe(o,s),typePrefix:e})}return n.withTypes=()=>n,n})();function ile(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function sle(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var rle=Symbol.for("rtk-slice-createasyncthunk");function ale(n,e){return`${n}/${e}`}function ole({creators:n}={}){const e=n?.asyncThunk?.[rle];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Qc(11));const o=(typeof i.reducers=="function"?i.reducers(cle()):i.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(N,L){const j=typeof N=="string"?N:N.type;if(!j)throw new Error(Qc(12));if(j in d.sliceCaseReducersByType)throw new Error(Qc(13));return d.sliceCaseReducersByType[j]=L,h},addMatcher(N,L){return d.sliceMatchers.push({matcher:N,reducer:L}),h},exposeAction(N,L){return d.actionCreators[N]=L,h},exposeCaseReducer(N,L){return d.sliceCaseReducersByName[N]=L,h}};c.forEach(N=>{const L=o[N],j={reducerName:N,type:ale(s,N),createNotation:typeof i.reducers=="function"};dle(L)?fle(j,L,h,e):ule(j,L,h)});function m(){const[N={},L=[],j=void 0]=typeof i.extraReducers=="function"?XI(i.extraReducers):[i.extraReducers],R={...N,...d.sliceCaseReducersByType};return Joe(i.initialState,k=>{for(let F in R)k.addCase(F,R[F]);for(let F of d.sliceMatchers)k.addMatcher(F.matcher,F.reducer);for(let F of L)k.addMatcher(F.matcher,F.reducer);j&&k.addDefaultCase(j)})}const x=N=>N,y=new Map,b=new WeakMap;let S;function _(N,L){return S||(S=m()),S(N,L)}function E(){return S||(S=m()),S.getInitialState()}function A(N,L=!1){function j(k){let F=k[N];return typeof F>"u"&&L&&(F=e1(b,j,E)),F}function R(k=x){const F=e1(y,L,()=>new WeakMap);return e1(F,k,()=>{const D={};for(const[B,q]of Object.entries(i.selectors??{}))D[B]=lle(q,k,()=>e1(b,k,E),L);return D})}return{reducerPath:N,getSelectors:R,get selectors(){return R(j)},selectSlice:j}}const P={name:s,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...A(a),injectInto(N,{reducerPath:L,...j}={}){const R=L??a;return N.inject({reducerPath:R,reducer:_},j),{...P,...A(R,!0)}}};return P}}function lle(n,e,t,i){function s(a,...o){let c=e(a);return typeof c>"u"&&i&&(c=t()),n(c,...o)}return s.unwrapped=n,s}var YI=ole();function cle(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function ule({type:n,reducerName:e,createNotation:t},i,s){let a,o;if("reducer"in i){if(t&&!hle(i))throw new Error(Qc(17));a=i.reducer,o=i.prepare}else a=i;s.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,o?mx(n,o):mx(n))}function dle(n){return n._reducerDefinitionType==="asyncThunk"}function hle(n){return n._reducerDefinitionType==="reducerWithPrepare"}function fle({type:n,reducerName:e},t,i,s){if(!s)throw new Error(Qc(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:d,settled:h,options:m}=t,x=s(n,a,m);i.exposeAction(e,x),o&&i.addCase(x.fulfilled,o),c&&i.addCase(x.pending,c),d&&i.addCase(x.rejected,d),h&&i.addMatcher(x.settled,h),i.exposeCaseReducer(e,{fulfilled:o||t1,pending:c||t1,rejected:d||t1,settled:h||t1})}function t1(){}function Qc(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const ple=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],mle=n=>{const e=n.selectedSize||"",t=n.selectedColor||"",i=n.lens?.selectedLens||"",s=n.policy?.name||"";return`${n.id}-${e}-${t}-${i}-${s}`},KI=YI({name:"cart",initialState:{items:ple},reducers:{addToCart:(n,e)=>{const t={...e.payload};t.vendorID=t.vendorID||t.vendorId||null,t.subCategoryName=t.subCategoryName||"",t.variantId=mle(t);const i=n.items.find(s=>s.variantId===t.variantId);i?i.quantity+=1:(t.quantity=1,n.items.push(t)),localStorage.setItem("cartItems",JSON.stringify(n.items))},incrementQuantity:(n,e)=>{const t=e.payload,i=n.items.find(s=>s.variantId===t);i&&(i.quantity+=1),localStorage.setItem("cartItems",JSON.stringify(n.items))},decrementQuantity:(n,e)=>{const t=e.payload,i=n.items.find(s=>s.variantId===t);i&&i.quantity>1&&(i.quantity-=1),localStorage.setItem("cartItems",JSON.stringify(n.items))},removeFromCart:(n,e)=>{const t=e.payload;n.items=n.items.filter(i=>i.variantId!==t),localStorage.setItem("cartItems",JSON.stringify(n.items))},clearCart:n=>{n.items=[],localStorage.removeItem("cartItems")}}}),{addToCart:JI,incrementQuantity:QI,decrementQuantity:ZI,removeFromCart:$I,clearCart:gle}=KI.actions,xle=KI.reducer;function eU({onPolicySelect:n}){const[e,t]=V.useState([]),[i,s]=V.useState(null),[a,o]=V.useState(!1);V.useEffect(()=>{St.get("/getPolicies").then(d=>t(d.data.data||[])).catch(d=>console.error(d))},[]);const c=d=>{s(d),n(d)};return r.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 w-full",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Add Insurance (Optional)"}),e.length===0&&r.jsx("p",{className:"text-gray-500 text-sm",children:"No policies available"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2 mb-4 hover:cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d=>{const h=e.find(m=>m._id===d.target.value);c(h)},value:i?._id||"",children:[r.jsx("option",{value:"",disabled:!0,children:"------------------ Select an insurance policy -----------------"}),e.map(d=>r.jsxs("option",{value:d._id,children:[d.name,"  $",d.price," (",d.companyName,")"]},d._id))]}),i&&r.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:[i.name,"  $",i.price]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Valid: ",i.durationDays," days"]})]}),r.jsx("button",{onClick:()=>o(!0),className:"text-blue-600 text-sm font-semibold hover:underline hover:cursor-pointer",children:"Know More"})]}),a&&i&&r.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[r.jsx("div",{className:"absolute inset-0 bg-blur bg-opacity-30 backdrop-blur-sm transition-opacity duration-300",onClick:()=>o(!1)}),r.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg w-[90%] max-w-md p-6 transform transition-transform duration-300 ease-out animate-slide-up",children:[r.jsx("button",{onClick:()=>o(!1),className:"absolute top-3 right-3 text-gray-500 text-xl font-bold hover:cursor-pointer hover:text-gray-800",children:""}),r.jsx("h2",{className:"text-2xl font-semibold mb-3 text-gray-800",children:i.name}),r.jsxs("p",{className:"text-gray-700 mb-2",children:[r.jsx("strong",{children:"Coverage:"})," ",i.coverage]}),r.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:[r.jsx("strong",{children:"Provided by:"})," ",i.companyName]}),r.jsxs("p",{className:"text-gray-700 mb-2",children:[r.jsx("strong",{children:"Price:"})," $",i.price]}),r.jsxs("p",{className:"text-gray-700 mb-2",children:[r.jsx("strong",{children:"Validity:"})," ",i.durationDays," days"]}),i.deductibleRules?.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Deductible Rules:"}),r.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-700 mt-1",children:i.deductibleRules.map((d,h)=>r.jsxs("li",{children:["Days ",d.fromDay,"",d.toDay,":"," ",d.type==="percent"?`${d.value}% deductible`:`$${d.value} deductible`]},h))})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition hover:cursor-pointer",children:"Close"})})]})]}),r.jsx("style",{children:`
          @keyframes slide-up {
            0% { transform: translateY(50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
          }
          .animate-slide-up {
            animation: slide-up 0.3s ease-out forwards;
          }
        `})]})}function xy(n){return jn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(n)}function aS(n){return jn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"},child:[]}]})(n)}const tU=()=>{const{ID:n}=Ef(),[e,t]=V.useState({}),[i,s]=V.useState(null),[a,o]=V.useState([]),[c,d]=V.useState([]),[h,m]=V.useState([]),[x,y]=V.useState(null),[b,S]=V.useState(null),[_,E]=V.useState({od_selected:!0,os_selected:!0,od_sphere:"",od_addition:"Low",os_sphere:"",os_addition:"Low",quantity_od:1,quantity_os:1,purchase_type:"One-time"}),A=["-9.00","-8.75","-8.50","-8.25","-8.00","-7.75","-7.50","-7.25","-7.00","-6.75","-6.50","-6.25","-6.00","-5.75","-5.50","-5.25","-5.00","-4.75","-4.50","-4.25","-4.00","-3.75","-3.50","-3.25","-3.00","-2.75","-2.50","-2.25","-2.00","-1.75","-1.50","-1.25","-1.00","-0.75","-0.50","-0.25","+0.25","+0.50","+0.75","+1.00","+1.25","+1.50","+1.75","+2.00","+2.25","+2.50","+2.75","+3.00","+3.25","+3.50","+3.75","+4.00","+4.25","+4.50","+4.75","+5.00","+5.25","+5.50","+5.75","+6.00"],P=W=>{E({..._,[W.target.name]:W.target.value})},N=W=>{const{name:$,value:z,type:I,checked:Q}=W.target;E({..._,[$]:I==="checkbox"?Q:z})},L=W=>{W.preventDefault(),Ht.fire({icon:"success",title:"Done!",text:`Form Submitted! Check console for data.

Product: ACUVUE OASYS MAX 1-Day Multifocal 90
Base Curve: 8.4 mm
Diameter: 14.3 mm
Material: Senofilcon A
Water Content: 38%
Lens Type: Daily Multifocal`,timer:2e3,showConfirmButton:!1})},j=Td(),R=()=>{const W={id:e._id,name:e.product_name,price:Number(b!==null?q[b].salePrice:e.product_sale_price??e.product_price??0),oldPrice:Number(b!==null?q[b].oldPrice:e.product_price??0),pack:b!==null?q[b]:null,image:i,cat_id:e.cat_id,subCat_id:e.subCat_id,selectedColor:h,quantity:1,policy:x||null,vendorID:e.vendorID||e.vendorId||null,lens:{prescription:{od_sphere:_.od_sphere,od_addition:_.od_addition,os_sphere:_.os_sphere,os_addition:_.os_addition,od_selected:_.od_selected||!1,os_selected:_.os_selected||!1,prescriptionDate:_.prescriptionDate,doctorName:_.doctorName,purchase_type:_.purchase_type},totalPrice:e.product_sale_price}};j(JI(W)),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Product added to cart!",showConfirmButton:!1,timer:1500})},k=W=>W?W.startsWith("http")?W:`${Pn.replace(/\/+$/,"")}/${String(W).replace(/^\/+/,"")}`:"",F=async()=>{try{const $=(await St.get(`/getproductbyid/${n}`)).data.product||{};t($);let z=[];$.product_variants?.[0]?.images?.length&&(z=$.product_variants[0].images.map(I=>k(I))),z.length===0&&$.product_image_collection?.length&&(z=$.product_image_collection.map(I=>k(I))),z.length===0&&$.product_image&&(z=[k($.product_image)]),o(z),s(z[0]||null),z.length||(o(["/no-image.png"]),s("/no-image.png"))}catch(W){console.error("Failed to fetch products:",W)}},D=async W=>{const $=localStorage.getItem("user");try{c.includes(W)?(await St.delete("/removeWishlist",{data:{userId:$,productId:W}}),d(z=>z.filter(I=>I!==W)),Ht.fire({toast:!0,position:"top-end",icon:"error",title:"Removed from wishlist",showConfirmButton:!1,timer:1500,timerProgressBar:!0})):(await St.post("/addWishlist",{userId:$,productId:W}),d(z=>[...z,W]),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Added in wishlist",showConfirmButton:!1,timer:1500,timerProgressBar:!0}))}catch(z){console.error("Wishlist toggle failed:",z)}},B=async()=>{try{const W=localStorage.getItem("user"),$=await St.get(`/getWishlist/${W}`);d($.data?.products.map(z=>z.productId._id)||[])}catch(W){console.error("Failed to fetch wishlist:",W)}},q=V.useMemo(()=>Array.isArray(e.contactLens_packs)?e.contactLens_packs:[],[e]);V.useEffect(()=>{F(),B()},[]);const Y=({label:W,value:$})=>r.jsxs("li",{className:"flex gap-2",children:[r.jsx("strong",{className:"min-w-53",children:W}),r.jsx("span",{children:$||"-"})]}),G=V.useMemo(()=>(Array.isArray(e.product_color)?e.product_color:typeof e.product_color=="string"?[e.product_color]:[]).flatMap($=>String($).split(",")).map($=>$.trim()).filter(Boolean),[e]);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-10 px-4 md:px-8 lg:px-12",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"grid grid-cols-[96px_1fr] gap-4",children:[r.jsx("div",{className:"flex flex-col gap-3 overflow-auto max-h-[520px] pr-1",children:a.map((W,$)=>r.jsx("button",{onMouseEnter:()=>s(W),onFocus:()=>s(W),className:`rounded-lg border ${i===W?"border-red-600 ring-2 ring-red-200":"border-gray-200"} overflow-hidden`,children:r.jsx("img",{src:W,alt:`frame-${$}`,className:"w-[90px] h-[90px] object-contain bg-white",loading:"lazy",decoding:"async"})},$))}),r.jsxs("div",{className:"relative rounded-xl bg-[#f6fbff] max-h-115 p-4 border border-gray-200",children:[r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx("button",{onClick:()=>D(e._id),"aria-pressed":c.includes(e._id),"aria-label":c.includes(e._id)?"Remove from wishlist":"Add to wishlist",className:"p-2 rounded-full bg-white shadow border",children:c.includes(e._id)?r.jsx(xy,{className:"text-[#f00000] text-2xl"}):r.jsx(aS,{className:"text-gray-500 text-2xl"})})}),i&&r.jsx("img",{src:i,alt:e.product_name,className:"w-full h-[420px] object-contain select-none"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsx("h2",{className:"text-2xl font-semibold capitalize",children:e.product_name})}),G.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"font-medium text-sm mb-2 block",children:"Available Colors"}),r.jsx("div",{className:"flex space-x-2 mt-1",children:G.map((W,$)=>r.jsx("span",{onClick:()=>m(W),style:{backgroundColor:W},className:`w-6 h-6 rounded-full cursor-pointer transition-all ${h===W?"border-2 border-red-500":"border border-gray-300"}`,role:"radio","aria-checked":h===W,"aria-label":W},$))})]}),q.length>0&&r.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-md mt-6",children:[r.jsx("h2",{className:"text-base font-semibold mb-4",children:"Choose Pack Size"}),r.jsx("div",{className:"space-y-3",children:q.map((W,$)=>r.jsx("div",{onClick:()=>S($),className:`border rounded-xl p-4 cursor-pointer transition-all ${b===$?"border-red-600 bg-red-50":"border-gray-300 bg-white"}`,children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-lg",children:[W.packSize," Pack"]}),W.isBestValue&&r.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-400 text-black rounded ml-2",children:"BEST VALUE"})]}),r.jsxs("div",{className:"text-right",children:[W.oldPrice>W.salePrice&&r.jsx("p",{className:"line-through text-gray-500 text-sm",children:W.oldPrice}),r.jsxs("p",{className:"text-xl font-bold",children:["$",W.salePrice]})]})]})},$))})]}),r.jsxs("form",{onSubmit:L,className:"space-y-6",children:[r.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-md",children:[r.jsx("h2",{className:"text-base font-semibold mb-4",children:"Select Your Prescription"}),r.jsxs("div",{className:"flex gap-6 mb-6",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"od_selected",checked:_.od_selected,onChange:N,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),"OD (Right)"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"os_selected",checked:_.os_selected,onChange:N,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),"OS (Left)"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:`p-4 rounded-lg border ${_.od_selected?"opacity-100":"opacity-50 pointer-events-none"}`,children:[r.jsx("h3",{className:"font-semibold mb-2",children:"OD (Right Eye)"}),r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Power / Sphere"}),r.jsxs("select",{name:"od_sphere",value:_.od_sphere,onChange:N,disabled:!_.od_selected,className:"border p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 mb-3",children:[r.jsx("option",{value:"",children:"Select Power"}),A.map(W=>r.jsx("option",{value:W,children:W},W))]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"BC"}),r.jsx("input",{type:"text",value:"8.4",disabled:!0,className:"w-full border p-2 rounded-lg bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"DIA"}),r.jsx("input",{type:"text",value:"14.2",disabled:!0,className:"w-full border p-2 rounded-lg bg-gray-100"})]})]})]}),r.jsxs("div",{className:`p-4 rounded-lg border ${_.os_selected?"opacity-100":"opacity-50 pointer-events-none"}`,children:[r.jsx("h3",{className:"font-semibold mb-2",children:"OS (Left Eye)"}),r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Power / Sphere"}),r.jsxs("select",{name:"os_sphere",value:_.os_sphere,onChange:N,disabled:!_.os_selected,className:"border p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 mb-3",children:[r.jsx("option",{value:"",children:"Select Power"}),A.map(W=>r.jsx("option",{value:W,children:W},W))]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"BC"}),r.jsx("input",{type:"text",value:"8.4",disabled:!0,className:"w-full border p-2 rounded-lg bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"DIA"}),r.jsx("input",{type:"text",value:"14.2",disabled:!0,className:"w-full border p-2 rounded-lg bg-gray-100"})]})]})]})]})]}),r.jsx("hr",{className:"border-gray-200"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-lg font-medium mb-2",children:"Date of Prescription"}),r.jsx("input",{type:"date",name:"prescriptionDate",value:_.prescriptionDate,onChange:P,className:"w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500 text-base"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-lg font-medium mb-2",children:"Doctor Name"}),r.jsx("input",{type:"text",name:"doctorName",value:_.doctorName,onChange:P,placeholder:"Enter doctor's name",className:"w-full border rounded-lg p-3 focus:ring-2 focus:ring-blue-500 text-base"})]}),r.jsx("hr",{className:"border-gray-300"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-lg font-medium mb-2",children:"Purchase Type"}),r.jsxs("select",{id:"purchase_type",name:"purchase_type",value:_.purchase_type,onChange:P,className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 text-base",children:[r.jsx("option",{value:"One-time",children:"One-time Purchase"}),r.jsx("option",{value:"Subscription",children:"Automatic Delivery (Unsubscribe anytime)"})]})]}),r.jsx("hr",{className:"my-4 border-gray-300"})]}),r.jsx("div",{children:r.jsx(eU,{onPolicySelect:y})}),r.jsxs("div",{className:"space-y-2 mt-6 bg-gray-200 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-lg font-bold m-2",children:"Lens"}),r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"flex items-center",children:[b!==null?q[b].oldPrice>q[b].salePrice&&r.jsxs("p",{className:"text-lg font-bold mr-8 line-through text-gray-500",children:["$",q[b].oldPrice]}):e.product_price>e.product_sale_price&&r.jsxs("p",{className:"text-lg font-bold mr-8 line-through text-gray-500",children:["$",Number(e.product_price).toFixed(2)]}),r.jsxs("p",{className:"text-lg font-bold mr-8 text-black",children:["$",b!==null?q[b].salePrice:Number(e.product_sale_price??e.product_price??0).toFixed(2)]})]})})]}),r.jsx("button",{onClick:R,className:"bg-[#f00000] w-full sm:w-[100%] md:w-[100%] lg:w-[100%] xl:w-[100%] text-white px-6 py-4 mt-6 mb-2 rounded-lg hover:bg-red-700 font-semibold text-lg sm:text-xl border border-black transition-all duration-200 mx-auto block",children:"ADD TO CART"})]})]}),r.jsx("div",{className:"bg-blue-100 text-blue-900 p-3 font-semibold rounded",children:"COMPLETE YOUR RAY-BAN WITH 50% OFF ALL LENSES"})]})}),r.jsxs("div",{className:"mt-10 ml-10",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"ABOUT THIS PRODUCT"}),r.jsxs("ul",{className:"text-lg space-y-1",children:[r.jsx(Y,{label:"LENS TYPE:",value:e.lens_type}),r.jsx(Y,{label:"MATERIAL:",value:e.material}),r.jsx(Y,{label:"MANUFACTURER:",value:e.manufacturer}),r.jsx(Y,{label:"WATER % OF CONTENT:",value:e.water_content}),r.jsx(Y,{label:"Gender:",value:e.gender})]}),e.product_description&&r.jsx("p",{className:"mt-4 mb-10 text-lg",children:e.product_description})]})]})},yle="/assets/Lenswidt-DOkqGkQS.jpeg",vle="/assets/Lensheigh-CBa-jDpK.jpeg",ble="/assets/Bridgewidt-wun8OY9E.jpeg",wle="/assets/Templelengt-CGGaL-22.jpeg",Sle=()=>{const{ID:n,subCategory:e,subCatId:t}=Ef(),[i,s]=V.useState({}),[a,o]=V.useState([]),[c,d]=V.useState(null),[h,m]=V.useState(null),[x,y]=V.useState(null),[b,S]=V.useState(null),_=!!b,[E,A]=V.useState([]),[P,N]=V.useState(null),L=Td(),R=(Q=>{if(Q==null||Q==="")return 0;const K=Number(String(Q).replace(/[^0-9.-]+/g,""));return Number.isFinite(K)?K:0})(i.product_price??i.product_sale_price??0),k=Q=>Q?Q.startsWith("http")?Q:`${Pn.replace(/\/+$/,"")}/${String(Q).replace(/^\/+/,"")}`:"",F=V.useMemo(()=>{const Q=new Map;return(Array.isArray(i?.product_variants)?i.product_variants:[]).forEach(T=>{const X=String(T?.colorName||"").toLowerCase().trim(),ee=Array.isArray(T?.images)?T.images.map(k).filter(Boolean):[];X&&ee.length&&Q.set(X,ee)}),Q},[i]),D=V.useMemo(()=>Array.isArray(i?.product_image_collection)?i.product_image_collection.map(k).filter(Boolean):[],[i]);V.useEffect(()=>{const Q=String(h||"").toLowerCase().trim(),K=Q?F.get(Q):null,T=K?.length?K:D;A(T),N(T?.[0]||null)},[h,F,D]);const B=async()=>{try{const K=(await St.get(`/getproductbyid/${n}`)).data.product||{};s(K);const T=Array.isArray(K?.product_image_collection)?K.product_image_collection.map(k).filter(Boolean):[];T.length&&(A(T),N(T[0]))}catch(Q){console.error("Failed to fetch products:",Q)}},q=async()=>{try{const Q=localStorage.getItem("user");if(!Q)return;const T=(await St.get(`/getWishlist/${Q}`)).data?.products?.filter(X=>X.productId)||[];o(T.map(X=>X.productId._id))}catch(Q){console.error("Failed to fetch wishlist:",Q)}};V.useEffect(()=>{B(),q()},[n]),V.useEffect(()=>{const Q=localStorage.getItem("lensSelectionDetails");Q&&S(JSON.parse(Q))},[]),V.useEffect(()=>{i&&(i.product_size?.length===1&&d(i.product_size[0]),i.product_variants?.length===1&&m(i.product_variants[0].colorName))},[i]);const G=JSON.parse(localStorage.getItem("lensSelectionDetails")||"null")?.totalPrice||0,W=async Q=>{const K=localStorage.getItem("user");try{a.includes(Q)?(await St.delete("/removeWishlist",{data:{userId:K,productId:Q}}),o(T=>T.filter(X=>X!==Q)),Ht.fire({toast:!0,position:"top-end",icon:"error",title:"Removed from wishlist",showConfirmButton:!1,timer:1500})):(await St.post("/addWishlist",{userId:K,productId:Q}),o(T=>[...T,Q]),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Added in wishlist",showConfirmButton:!1,timer:1500}))}catch(T){console.error("Wishlist toggle failed:",T)}},$=Q=>{d(K=>K===Q?null:Q)};i.product_name,i.discountedPrice??i.product_sale_price,i.cat_id,i.vendorID||i.vendorId;const z=V.useMemo(()=>(Array.isArray(i?.product_variants)?i.product_variants:[]).map(K=>String(K?.colorName||"").toLowerCase().trim()).filter(Boolean),[i]);V.useEffect(()=>{!h&&z.length&&m(z[0])},[z,h]);const I=({label:Q,value:K})=>r.jsxs("div",{className:"min-w-[220px]",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:Q}),r.jsx("p",{className:"text-gray-700",children:K||"-"})]});return i.cat_id==="6915735feeb23fa59c7d532b"?r.jsx(tU,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mt-10 px-4 md:px-8 lg:px-12",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"grid grid-cols-[96px_1fr] gap-4",children:[r.jsx("div",{className:"flex flex-col gap-3 overflow-auto max-h-[520px] pr-1",children:E.map((Q,K)=>r.jsx("button",{onMouseEnter:()=>N(Q),onFocus:()=>N(Q),className:`rounded-lg border ${P===Q?"border-red-600 ring-2 ring-red-200":"border-gray-200"} overflow-hidden`,children:r.jsx("img",{src:Q,alt:`thumb-${K}`,className:"w-[90px] h-[90px] object-contain bg-white",loading:"lazy",decoding:"async"})},K))}),r.jsxs("div",{className:"relative rounded-xl bg-[#f6fbff] p-4 border border-gray-200 flex justify-center items-center",children:[r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx("button",{onClick:()=>W(i._id),"aria-pressed":a.includes(i._id),"aria-label":a.includes(i._id)?"Remove from wishlist":"Add to wishlist",className:"p-2 rounded-full bg-white shadow border",children:a.includes(i._id)?r.jsx(xy,{className:"text-[#f00000] text-2xl"}):r.jsx(aS,{className:"text-gray-500 text-2xl"})})}),P&&r.jsx("img",{src:P,alt:i.product_name,className:"w-full h-[420px] object-contain select-none"})]})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold",children:i.product_name}),!!i.gender&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i.gender})]}),z.length>0&&r.jsx("fieldset",{role:"radiogroup","aria-label":"Choose frame color",className:"mt-2",children:r.jsx("div",{className:"flex items-center gap-2",children:z.map(Q=>{const K=h===Q,T=`color-${Q}`;return r.jsx("label",{htmlFor:T,className:`h-7 w-7 rounded-full border hover:cursor-pointer ${K?"ring-2 ring-offset-1 ring-black border-black":"border-gray-300"}`,title:Q,style:{backgroundColor:Q},children:r.jsx("input",{id:T,type:"radio",name:"color-swatch",value:Q,checked:K,onChange:X=>m(X.target.value),className:"sr-only","aria-checked":K})},Q)})})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Size"}),r.jsx("div",{className:"flex gap-2 mt-2",children:(i.product_size||[]).map(Q=>String(Q).replace(/,/g,"").split("").filter(Boolean).map((T,X)=>{const ee=`${Q}-${X}`,oe=c===T;return r.jsx("button",{type:"button",onClick:()=>$(T),className:`px-4 py-2 rounded border text-sm ${oe?"bg-black text-white border-black":"bg-white text-black border-gray-300 hover:border-black"}`,"aria-pressed":oe,"aria-label":`Select size ${T}`,children:T},ee)}))}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",c||"None"]})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsx("p",{className:"text-base font-semibold",children:"Frame"}),r.jsxs("div",{className:"flex items-center gap-3",children:[!!i.product_price&&i.product_price>i.product_sale_price&&r.jsxs("span",{className:"line-through text-gray-400",children:["$",Number(i.product_price).toFixed(2)]}),r.jsxs("span",{className:"text-lg font-bold",children:["$",Number(i.product_sale_price??i.product_price??0).toFixed(2)]})]})]}),r.jsxs("div",{className:"px-4 pb-4",children:[r.jsx(xt,{to:"lens-selection-flow",state:{ID:n},children:r.jsx("button",{className:`${_?"bg-gray-400 cursor-not-allowed":"bg-black hover:bg-gray-900"} text-white w-full rounded-md py-3 text-sm`,disabled:_,children:_?"Lens Selected":"Select lenses"})}),i.stockAvailability>0?r.jsx("button",{onClick:()=>{if(!i)return;i.product_size?.length>0,i.product_variants?.length>0;const Q=i.product_size?.length>1,K=i.product_variants?.length>1;if(Q&&K&&(!c||!h)){Ht.fire({icon:"warning",title:"Please select size and color!",toast:!0,position:"top-end",showConfirmButton:!1,timer:1800,timerProgressBar:!0});return}if(Q&&!c){Ht.fire({icon:"warning",title:"Please select size!",toast:!0,position:"top-end",showConfirmButton:!1,timer:1800,timerProgressBar:!0});return}if(K&&!h){Ht.fire({icon:"warning",title:"Please select color!",toast:!0,position:"top-end",showConfirmButton:!1,timer:1800,timerProgressBar:!0});return}L(JI({id:n,name:i.product_name,selectedSize:c||null,selectedColor:h||null,price:i.discountedPrice??i.product_sale_price,originalPrice:R,image:P,lens:b||null,policy:x||null,cat_id:i.cat_id,subCat_id:t,vendorID:i.vendorID||i.vendorId||null})),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Product added to cart!",showConfirmButton:!1,timer:1500})},className:"mt-3 bg-[#f00000] hover:bg-red-700 text-white w-full rounded-md py-3 text-sm",children:"Add To Cart"}):r.jsx("button",{disabled:!0,className:"mt-3 bg-gray-400 text-white w-full rounded-md py-3 text-sm cursor-not-allowed",children:"Out of stock"})]})]}),b&&r.jsxs("div",{className:"mt-4 p-4 border rounded bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold",children:"Selected lenses"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(xt,{to:"lens-selection-flow",state:{ID:n},children:r.jsx("button",{className:"text-gray-600 text-sm hover:underline",children:"Edit"})}),r.jsx("button",{className:"text-[#f00000] text-sm hover:underline",onClick:()=>{localStorage.removeItem("lensSelectionDetails"),S(null),Ht.fire({toast:!0,position:"top-end",icon:"info",title:"Lens selection removed",showConfirmButton:!1,timer:1500})},children:"Remove"})]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Vision need:"})," ",b.lens?.selectedLens||"-"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Prescription:"})," ",b.lens?.selectedLens==="Non-prescription lenses"?"Not required":b.lens?.prescriptionMethod||"Not provided"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Lens type:"})," ",b.lens?.lensType?.name||"Clear lenses"," ",b.lens?.lensType?.price?r.jsx("span",{className:"text-blue-600",children:b.lens.lensType.price}):null]}),b.lens?.lensType?.name==="Sun lenses"&&b.lens?.tint&&r.jsxs("p",{children:[r.jsx("strong",{children:"Tint:"})," ",b.lens.tint.name," ",r.jsx("span",{className:"text-blue-600",children:b.lens.tint.price})]}),b.lens?.thickness&&r.jsxs("p",{children:[r.jsx("strong",{children:"Thickness:"})," ",b.lens.thickness.name," ",r.jsx("span",{className:"text-blue-600",children:b.lens.thickness.price})]}),b.lens?.enhancement&&r.jsxs("p",{children:[r.jsx("strong",{children:"Finishings:"})," ",b.lens.enhancement.name," ",r.jsx("span",{className:"text-blue-600",children:b.lens.enhancement.price})]}),r.jsxs("p",{className:"mt-2 font-semibold",children:[r.jsx("strong",{children:"Lens Total:"})," $",Number(G).toFixed(2)]})]}),r.jsx(eU,{onPolicySelect:y})]})]}),r.jsxs("div",{className:"mt-16 ml-10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 12h3l2 5h6l2-5h3",stroke:"black",strokeWidth:"1.5"}),r.jsx("circle",{cx:"8",cy:"12",r:"3",stroke:"black",strokeWidth:"1.5"}),r.jsx("circle",{cx:"16",cy:"12",r:"3",stroke:"black",strokeWidth:"1.5"})]}),r.jsx("h3",{className:"text-2xl font-semibold",children:"Frame description"})]}),r.jsx("div",{className:"border-b border-gray-300 mb-8"}),r.jsxs("div",{className:"flex flex-wrap gap-x-24 gap-y-10",children:[r.jsx(I,{label:"Frame material:",value:i.product_frame_material||i.frame_material}),r.jsx(I,{label:"Frame shape:",value:i.product_frame_shape||i.frame_shape}),r.jsx(I,{label:"Frame colour:",value:i.product_frame_color||i.frame_color}),r.jsx(I,{label:"Frame Fit:",value:i.frame_fit}),r.jsx(I,{label:"Face Shape:",value:i.face_shape}),r.jsx(I,{label:"Gender:",value:i.gender})]})]}),r.jsxs("div",{className:"mt-16 ml-10",children:[(i.lens_width||i.lens_hieght||i.bridge_width||i.temple_length)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:r.jsx("path",{d:"M3 12h18M12 3v18",stroke:"black",strokeWidth:"1.5"})}),r.jsx("h3",{className:"text-2xl font-semibold",children:"Product measurement"})]}),r.jsx("div",{className:"border-b border-gray-300 mb-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-y-12 gap-x-10",children:[i.lens_width&&r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("img",{src:yle,alt:"Lens Width",className:"w-[180px] h-auto object-contain"}),r.jsx("p",{className:"font-semibold text-[15px] mt-2",children:"Lens width:"}),r.jsxs("p",{className:"text-[14px] text-gray-700",children:[i.lens_width," mm"]})]}),i.lens_hieght&&r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("img",{src:vle,alt:"Lens Height",className:"w-[180px] h-auto object-contain"}),r.jsx("p",{className:"font-semibold text-[15px] mt-2",children:"Lens height:"}),r.jsxs("p",{className:"text-[14px] text-gray-700",children:[i.lens_hieght," mm"]})]}),i.bridge_width&&r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("img",{src:ble,alt:"Bridge Width",className:"w-[180px] h-auto object-contain"}),r.jsx("p",{className:"font-semibold text-[15px] mt-2",children:"Bridge width:"}),r.jsxs("p",{className:"text-[14px] text-gray-700",children:[i.bridge_width," mm"]})]}),i.temple_length&&r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("img",{src:wle,alt:"Temple Length",className:"w-[180px] h-auto object-contain"}),r.jsx("p",{className:"font-semibold text-[15px] mt-2",children:"Temple length:"}),r.jsxs("p",{className:"text-[14px] text-gray-700",children:[i.temple_length," mm"]})]})]})]}),i.product_description&&r.jsxs("div",{className:"mt-16 ml-10 max-w-7xl",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Description"}),r.jsx("div",{className:"border-b border-gray-300 mb-4"}),r.jsx("p",{className:"text-lg leading-relaxed text-gray-800",children:i.product_description})]})]}),i.product_lens_image1&&i.product_lens_image2&&r.jsx("div",{className:"py-12",children:r.jsxs("div",{className:"mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-10",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:k(i.product_lens_image1),alt:i.product_lens_title1,className:"mx-auto mb-6 object-cover hover:scale-105 transition-transform duration-300 max-h-[260px]"}),r.jsx("h4",{className:"text-3xl font-semibold mb-4",children:i.product_lens_title1}),r.jsx("p",{className:"text-lg",children:i.product_lens_description1})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:k(i.product_lens_image2),alt:i.product_lens_title2,className:"mx-auto mb-6 object-cover hover:scale-105 transition-transform duration-300 max-h-[260px]"}),r.jsx("h4",{className:"text-3xl font-semibold mb-4",children:i.product_lens_title2}),r.jsx("p",{className:"text-lg",children:i.product_lens_description2})]})]})}),r.jsx("div",{className:"bg-stone-900"}),r.jsx(tS,{})]})},Ale="/assets/FAQs-C-c2SFrO.jpg";var C1={exports:{}},_le=C1.exports,HB;function Ele(){return HB||(HB=1,function(n,e){(function(t,i){n.exports=i(Er())})(_le,t=>(()=>{var i={703:(c,d,h)=>{var m=h(414);function x(){}function y(){}y.resetWarningCache=x,c.exports=function(){function b(E,A,P,N,L,j){if(j!==m){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}function S(){return b}b.isRequired=b;var _={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:S,element:b,elementType:b,instanceOf:S,node:b,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:y,resetWarningCache:x};return _.PropTypes=_,_}},697:(c,d,h)=>{c.exports=h(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:c=>{c.exports=t}},s={};function a(c){var d=s[c];if(d!==void 0)return d.exports;var h=s[c]={exports:{}};return i[c](h,h.exports,a),h.exports}a.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return a.d(d,{a:d}),d},a.d=(c,d)=>{for(var h in d)a.o(d,h)&&!a.o(c,h)&&Object.defineProperty(c,h,{enumerable:!0,get:d[h]})},a.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),a.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var o={};return(()=>{a.r(o),a.d(o,{default:()=>q});var c=a(98),d=a.n(c),h=a(697),m=a.n(h);function x(){return x=Object.assign?Object.assign.bind():function(Y){for(var G=1;G<arguments.length;G++){var W=arguments[G];for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(Y[$]=W[$])}return Y},x.apply(this,arguments)}var y=function(Y){var G=Y.pageClassName,W=Y.pageLinkClassName,$=Y.page,z=Y.selected,I=Y.activeClassName,Q=Y.activeLinkClassName,K=Y.getEventListener,T=Y.pageSelectedHandler,X=Y.href,ee=Y.extraAriaContext,oe=Y.pageLabelBuilder,ce=Y.rel,re=Y.ariaLabel||"Page "+$+(ee?" "+ee:""),ue=null;return z&&(ue="page",re=Y.ariaLabel||"Page "+$+" is your current page",G=G!==void 0?G+" "+I:I,W!==void 0?Q!==void 0&&(W=W+" "+Q):W=Q),d().createElement("li",{className:G},d().createElement("a",x({rel:ce,role:X?void 0:"button",className:W,href:X,tabIndex:z?"-1":"0","aria-label":re,"aria-current":ue,onKeyPress:T},K(T)),oe($)))};y.propTypes={pageSelectedHandler:m().func.isRequired,selected:m().bool.isRequired,pageClassName:m().string,pageLinkClassName:m().string,activeClassName:m().string,activeLinkClassName:m().string,extraAriaContext:m().string,href:m().string,ariaLabel:m().string,page:m().number.isRequired,getEventListener:m().func.isRequired,pageLabelBuilder:m().func.isRequired,rel:m().string};const b=y;function S(){return S=Object.assign?Object.assign.bind():function(Y){for(var G=1;G<arguments.length;G++){var W=arguments[G];for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(Y[$]=W[$])}return Y},S.apply(this,arguments)}var _=function(Y){var G=Y.breakLabel,W=Y.breakAriaLabel,$=Y.breakClassName,z=Y.breakLinkClassName,I=Y.breakHandler,Q=Y.getEventListener,K=$||"break";return d().createElement("li",{className:K},d().createElement("a",S({className:z,role:"button",tabIndex:"0","aria-label":W,onKeyPress:I},Q(I)),G))};_.propTypes={breakLabel:m().oneOfType([m().string,m().node]),breakAriaLabel:m().string,breakClassName:m().string,breakLinkClassName:m().string,breakHandler:m().func.isRequired,getEventListener:m().func.isRequired};const E=_;function A(Y){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Y??G}function P(Y){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},P(Y)}function N(){return N=Object.assign?Object.assign.bind():function(Y){for(var G=1;G<arguments.length;G++){var W=arguments[G];for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(Y[$]=W[$])}return Y},N.apply(this,arguments)}function L(Y,G){for(var W=0;W<G.length;W++){var $=G[W];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(Y,$.key,$)}}function j(Y,G){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,$){return W.__proto__=$,W},j(Y,G)}function R(Y,G){if(G&&(P(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(Y)}function k(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function F(Y){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},F(Y)}function D(Y,G,W){return G in Y?Object.defineProperty(Y,G,{value:W,enumerable:!0,configurable:!0,writable:!0}):Y[G]=W,Y}var B=function(Y){(function(K,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(T&&T.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),T&&j(K,T)})(Q,Y);var G,W,$,z,I=($=Q,z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var K,T=F($);if(z){var X=F(this).constructor;K=Reflect.construct(T,arguments,X)}else K=T.apply(this,arguments);return R(this,K)});function Q(K){var T,X;return function(ee,oe){if(!(ee instanceof oe))throw new TypeError("Cannot call a class as a function")}(this,Q),D(k(T=I.call(this,K)),"handlePreviousPage",function(ee){var oe=T.state.selected;T.handleClick(ee,null,oe>0?oe-1:void 0,{isPrevious:!0})}),D(k(T),"handleNextPage",function(ee){var oe=T.state.selected,ce=T.props.pageCount;T.handleClick(ee,null,oe<ce-1?oe+1:void 0,{isNext:!0})}),D(k(T),"handlePageSelected",function(ee,oe){if(T.state.selected===ee)return T.callActiveCallback(ee),void T.handleClick(oe,null,void 0,{isActive:!0});T.handleClick(oe,null,ee)}),D(k(T),"handlePageChange",function(ee){T.state.selected!==ee&&(T.setState({selected:ee}),T.callCallback(ee))}),D(k(T),"getEventListener",function(ee){return D({},T.props.eventListener,ee)}),D(k(T),"handleClick",function(ee,oe,ce){var re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ue=re.isPrevious,ye=ue!==void 0&&ue,Ve=re.isNext,Qe=Ve!==void 0&&Ve,We=re.isBreak,mt=We!==void 0&&We,ut=re.isActive,le=ut!==void 0&&ut;ee.preventDefault?ee.preventDefault():ee.returnValue=!1;var Me=T.state.selected,Ae=T.props.onClick,we=ce;if(Ae){var ge=Ae({index:oe,selected:Me,nextSelectedPage:ce,event:ee,isPrevious:ye,isNext:Qe,isBreak:mt,isActive:le});if(ge===!1)return;Number.isInteger(ge)&&(we=ge)}we!==void 0&&T.handlePageChange(we)}),D(k(T),"handleBreakClick",function(ee,oe){var ce=T.state.selected;T.handleClick(oe,ee,ce<ee?T.getForwardJump():T.getBackwardJump(),{isBreak:!0})}),D(k(T),"callCallback",function(ee){T.props.onPageChange!==void 0&&typeof T.props.onPageChange=="function"&&T.props.onPageChange({selected:ee})}),D(k(T),"callActiveCallback",function(ee){T.props.onPageActive!==void 0&&typeof T.props.onPageActive=="function"&&T.props.onPageActive({selected:ee})}),D(k(T),"getElementPageRel",function(ee){var oe=T.state.selected,ce=T.props,re=ce.nextPageRel,ue=ce.prevPageRel,ye=ce.selectedPageRel;return oe-1===ee?ue:oe===ee?ye:oe+1===ee?re:void 0}),D(k(T),"pagination",function(){var ee=[],oe=T.props,ce=oe.pageRangeDisplayed,re=oe.pageCount,ue=oe.marginPagesDisplayed,ye=oe.breakLabel,Ve=oe.breakClassName,Qe=oe.breakLinkClassName,We=oe.breakAriaLabels,mt=T.state.selected;if(re<=ce)for(var ut=0;ut<re;ut++)ee.push(T.getPageElement(ut));else{var le=ce/2,Me=ce-le;mt>re-ce/2?le=ce-(Me=re-mt):mt<ce/2&&(Me=ce-(le=mt));var Ae,we,ge=function($e){return T.getPageElement($e)},Be=[];for(Ae=0;Ae<re;Ae++){var Ue=Ae+1;if(Ue<=ue)Be.push({type:"page",index:Ae,display:ge(Ae)});else if(Ue>re-ue)Be.push({type:"page",index:Ae,display:ge(Ae)});else if(Ae>=mt-le&&Ae<=mt+(mt===0&&ce>1?Me-1:Me))Be.push({type:"page",index:Ae,display:ge(Ae)});else if(ye&&Be.length>0&&Be[Be.length-1].display!==we&&(ce>0||ue>0)){var _e=Ae<mt?We.backward:We.forward;we=d().createElement(E,{key:Ae,breakAriaLabel:_e,breakLabel:ye,breakClassName:Ve,breakLinkClassName:Qe,breakHandler:T.handleBreakClick.bind(null,Ae),getEventListener:T.getEventListener}),Be.push({type:"break",index:Ae,display:we})}}Be.forEach(function($e,et){var te=$e;$e.type==="break"&&Be[et-1]&&Be[et-1].type==="page"&&Be[et+1]&&Be[et+1].type==="page"&&Be[et+1].index-Be[et-1].index<=2&&(te={type:"page",index:$e.index,display:ge($e.index)}),ee.push(te.display)})}return ee}),K.initialPage!==void 0&&K.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(K.initialPage,") and forcePage (").concat(K.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),X=K.initialPage?K.initialPage:K.forcePage?K.forcePage:0,T.state={selected:X},T}return G=Q,(W=[{key:"componentDidMount",value:function(){var K=this.props,T=K.initialPage,X=K.disableInitialCallback,ee=K.extraAriaContext,oe=K.pageCount,ce=K.forcePage;T===void 0||X||this.callCallback(T),ee&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(oe)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(oe,"). Did you forget a Math.ceil()?")),T!==void 0&&T>oe-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(T," > ").concat(oe-1,").")),ce!==void 0&&ce>oe-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(ce," > ").concat(oe-1,")."))}},{key:"componentDidUpdate",value:function(K){this.props.forcePage!==void 0&&this.props.forcePage!==K.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(K.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var K=this.state.selected,T=this.props,X=T.pageCount,ee=K+T.pageRangeDisplayed;return ee>=X?X-1:ee}},{key:"getBackwardJump",value:function(){var K=this.state.selected-this.props.pageRangeDisplayed;return K<0?0:K}},{key:"getElementHref",value:function(K){var T=this.props,X=T.hrefBuilder,ee=T.pageCount,oe=T.hrefAllControls;if(X)return oe||K>=0&&K<ee?X(K+1,ee,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(K){var T=K===this.state.selected;if(this.props.ariaLabelBuilder&&K>=0&&K<this.props.pageCount){var X=this.props.ariaLabelBuilder(K+1,T);return this.props.extraAriaContext&&!T&&(X=X+" "+this.props.extraAriaContext),X}}},{key:"getPageElement",value:function(K){var T=this.state.selected,X=this.props,ee=X.pageClassName,oe=X.pageLinkClassName,ce=X.activeClassName,re=X.activeLinkClassName,ue=X.extraAriaContext,ye=X.pageLabelBuilder;return d().createElement(b,{key:K,pageSelectedHandler:this.handlePageSelected.bind(null,K),selected:T===K,rel:this.getElementPageRel(K),pageClassName:ee,pageLinkClassName:oe,activeClassName:ce,activeLinkClassName:re,extraAriaContext:ue,href:this.getElementHref(K),ariaLabel:this.ariaLabelBuilder(K),page:K+1,pageLabelBuilder:ye,getEventListener:this.getEventListener})}},{key:"render",value:function(){var K=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&K!==void 0)return K&&K(this.props);var T=this.props,X=T.disabledClassName,ee=T.disabledLinkClassName,oe=T.pageCount,ce=T.className,re=T.containerClassName,ue=T.previousLabel,ye=T.previousClassName,Ve=T.previousLinkClassName,Qe=T.previousAriaLabel,We=T.prevRel,mt=T.nextLabel,ut=T.nextClassName,le=T.nextLinkClassName,Me=T.nextAriaLabel,Ae=T.nextRel,we=this.state.selected,ge=we===0,Be=we===oe-1,Ue="".concat(A(ye)).concat(ge?" ".concat(A(X)):""),_e="".concat(A(ut)).concat(Be?" ".concat(A(X)):""),$e="".concat(A(Ve)).concat(ge?" ".concat(A(ee)):""),et="".concat(A(le)).concat(Be?" ".concat(A(ee)):""),te=ge?"true":"false",Z=Be?"true":"false";return d().createElement("ul",{className:ce||re,role:"navigation","aria-label":"Pagination"},d().createElement("li",{className:Ue},d().createElement("a",N({className:$e,href:this.getElementHref(we-1),tabIndex:ge?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":te,"aria-label":Qe,rel:We},this.getEventListener(this.handlePreviousPage)),ue)),this.pagination(),d().createElement("li",{className:_e},d().createElement("a",N({className:et,href:this.getElementHref(we+1),tabIndex:Be?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Z,"aria-label":Me,rel:Ae},this.getEventListener(this.handleNextPage)),mt)))}}])&&L(G.prototype,W),Object.defineProperty(G,"prototype",{writable:!1}),Q}(c.Component);D(B,"propTypes",{pageCount:m().number.isRequired,pageRangeDisplayed:m().number,marginPagesDisplayed:m().number,previousLabel:m().node,previousAriaLabel:m().string,prevPageRel:m().string,prevRel:m().string,nextLabel:m().node,nextAriaLabel:m().string,nextPageRel:m().string,nextRel:m().string,breakLabel:m().oneOfType([m().string,m().node]),breakAriaLabels:m().shape({forward:m().string,backward:m().string}),hrefBuilder:m().func,hrefAllControls:m().bool,onPageChange:m().func,onPageActive:m().func,onClick:m().func,initialPage:m().number,forcePage:m().number,disableInitialCallback:m().bool,containerClassName:m().string,className:m().string,pageClassName:m().string,pageLinkClassName:m().string,pageLabelBuilder:m().func,activeClassName:m().string,activeLinkClassName:m().string,previousClassName:m().string,nextClassName:m().string,previousLinkClassName:m().string,nextLinkClassName:m().string,disabledClassName:m().string,disabledLinkClassName:m().string,breakClassName:m().string,breakLinkClassName:m().string,extraAriaContext:m().string,ariaLabelBuilder:m().func,eventListener:m().string,renderOnZeroPageCount:m().func,selectedPageRel:m().string}),D(B,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(Y){return Y},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const q=B})(),o})())}(C1)),C1.exports}var Cle=Ele();const Mle=Af(Cle);function Tle(){const[n,e]=V.useState(null),[t,i]=V.useState(0),[s,a]=V.useState(0),[o,c]=V.useState([{}]),d=y=>{e(n===y?null:y)},h=async()=>{try{const y=await St.get(`/getPagination?page=${t+1}&limit=8`);c(y.data.data),a(y.data.totalPages)}catch(y){console.error(y)}};V.useEffect(()=>{h()},[t]);const m=y=>{i(y.selected)},x=async()=>{try{const y=await St.get("/getallfaq",{headers:{"Content-Type":"application/json"}});c(y.data.faqs)}catch(y){console.error(y)}};return V.useEffect(()=>{x()},[]),r.jsx(r.Fragment,{children:r.jsxs("div",{className:"flex mb-20",children:[r.jsx("div",{className:"mr-6 hidden lg:block",children:r.jsx("div",{className:"mt-20 ml-26 ",children:r.jsx("img",{src:Ale,loading:"lazy",decoding:"async",alt:"woman",className:"rounded-2xl w-full"})})}),r.jsx("div",{children:r.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white mt-10 md:mr-10 ",children:[r.jsxs("p",{className:"md:text-4xl text-2xl",children:["Frequently Asked ",r.jsx("span",{className:"font-bold text-[#f00000]",children:"Questions"})]}),r.jsx("hr",{className:"md:w-102 w-66 mb-10 mt-2 border-black"}),o.map((y,b)=>r.jsxs("div",{className:"mb-4 border-b border-black pb-4",children:[r.jsxs("button",{onClick:()=>d(b),className:"w-full text-left flex justify-between items-center focus:outline-none hover:cursor-pointer",children:[r.jsx("div",{className:"flex flex-col",children:r.jsx("span",{className:"md:text-lg text-base font-medium",children:y.title})}),r.jsx("span",{className:"text-xl",children:n===b?"-":"+"})]}),r.jsx("div",{className:`transition-all duration-300 overflow-hidden ${n===b?"max-h-40 opacity-100 mt-2":"max-h-0 opacity-0"}`,children:r.jsx("p",{className:"text-gray-700",children:y.description})})]},b)),r.jsx(Mle,{previousLabel:" ",nextLabel:" ",pageCount:s,onPageChange:m,containerClassName:"flex gap-2 mt-6 justify-center",pageClassName:"border px-3 py-1 rounded",activeClassName:"bg-blue-500 text-white",previousClassName:"border px-3 py-1 rounded hover:cursor-pointer",nextClassName:"border px-3 py-1 rounded hover:cursor-pointer",disabledClassName:"opacity-50 cursor-not-allowed"})]})})]})})}function Nle(){const n=[{title:"Introduction",content:r.jsxs("p",{children:["At Atal Optical, we are committed to protecting your personal information and respecting your privacy. This policy explains how we collect, use, disclose, and safeguard your information in accordance with Canadian privacy laws.",r.jsx("br",{}),r.jsx("br",{}),"This policy applies when you visit our website, make a purchase, or use any of our optical services."]})},{title:"Information We Collect",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-3",children:"We may collect the following information:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Personal Information"}),r.jsxs("ul",{className:"mt-1 ml-5 list-disc list-inside",children:[r.jsx("li",{children:"Full name"}),r.jsx("li",{children:"Address"}),r.jsx("li",{children:"Phone number"}),r.jsx("li",{children:"Email address"})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Medical / Optical Information"}),r.jsxs("ul",{className:"mt-1 ml-5 list-disc list-inside",children:[r.jsx("li",{children:"Prescription details"}),r.jsx("li",{children:"Pupillary distance (PD)"}),r.jsx("li",{children:"Basic eye health information"})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Payment Information"}),r.jsxs("ul",{className:"mt-1 ml-5 list-disc list-inside",children:[r.jsx("li",{children:"Billing address"}),r.jsx("li",{children:"Transaction details"}),r.jsxs("li",{className:"mt-1 text-sm",children:[" ","We do not store full credit/debit card numbers."]})]})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Website Usage Information"}),r.jsxs("ul",{className:"mt-1 ml-5 list-disc list-inside",children:[r.jsx("li",{children:"IP address"}),r.jsx("li",{children:"Browser type"}),r.jsx("li",{children:"Cookies and usage analytics"})]})]})]})]})},{title:"How We Use Your Information",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We use your information to:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside mt-2",children:[r.jsx("li",{children:"Process orders and services"}),r.jsx("li",{children:"Prepare custom optical products"}),r.jsx("li",{children:"Contact you about your order"}),r.jsx("li",{children:"Process payments"}),r.jsx("li",{children:"Improve customer service and website performance"}),r.jsx("li",{children:"Comply with legal obligations"})]})]})},{title:"Sharing of Information",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We do not sell or rent your personal information. We may share limited information with:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside mt-2",children:[r.jsx("li",{children:"Lens and frame manufacturers"}),r.jsx("li",{children:"Insurance providers (with customer consent)"}),r.jsx("li",{children:"Payment processors"}),r.jsx("li",{children:"Legal and regulatory authorities when required by law"})]})]})},{title:"Cookies & Website Tracking",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Our website uses cookies to:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside mt-2",children:[r.jsx("li",{children:"Improve site functionality"}),r.jsx("li",{children:"Track website performance"}),r.jsx("li",{children:"Enhance user experience"})]}),r.jsx("p",{className:"mt-3",children:"You may disable cookies through your browser settings."})]})},{title:"Data Security",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We protect your information using:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside mt-2",children:[r.jsx("li",{children:"Secure servers"}),r.jsx("li",{children:"Encryption technologies"}),r.jsx("li",{children:"Restricted access controls"}),r.jsx("li",{children:"Industry-standard security practices"})]})]})},{title:"Data Retention",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We retain personal information only as long as necessary to:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside mt-2",children:[r.jsx("li",{children:"Fulfill business services"}),r.jsx("li",{children:"Meet legal and regulatory requirements"})]})]})},{title:"Your Rights",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"You have the right to:"}),r.jsxs("ul",{className:"space-y-2 list-disc list-inside mt-2",children:[r.jsx("li",{children:"Request access to your personal data"}),r.jsx("li",{children:"Request correction of inaccurate information"}),r.jsx("li",{children:"Withdraw consent (where applicable)"})]})]})},{title:"Policy Updates & Legal Compliance",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-2",children:"We may update this Privacy Policy from time to time. Any changes will be posted on our website."}),r.jsxs("p",{children:["This policy is designed to comply with: ",r.jsx("br",{})," PIPEDA (Personal Information Protection and Electronic Documents Act) ",r.jsx("br",{})," Ontario privacy regulations ",r.jsx("br",{})," Applicable Canadian healthcare privacy standards"]})]})},{title:"Contact Us",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-1",children:"Atal Optical"}),r.jsx("p",{className:"mb-1",children:"Corporate Office : 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"}),r.jsx("p",{className:"mb-1",children:"Toll-Free: 1-866-242-3545"}),r.jsx("p",{children:"Email: info@ataloptical@gmail.com"})]})}];return r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"mb-8 bg-gradient-to-r from-black via-red-600 to-black py-12 text-center shadow-md",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white tracking-wide px-4",children:"Privacy Policy"}),r.jsx("div",{className:"border-b border-white w-20 sm:w-24 mx-auto mt-4 opacity-80"})]}),r.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 md:px-8 pb-12",children:r.jsx("div",{className:"space-y-6",children:n.map((e,t)=>r.jsxs("section",{className:"bg-white shadow-sm p-4 sm:p-6 md:p-8 rounded-xl border border-red-400","aria-labelledby":`section-${t}`,children:[r.jsx("h2",{id:`section-${t}`,className:"text-lg sm:text-xl md:text-2xl font-semibold text-red-600 mb-3",children:e.title}),r.jsx("div",{className:"text-gray-700 leading-relaxed text-sm sm:text-[15px] md:text-base",children:e.content})]},t))})})]})}function jle(){return r.jsx("main",{className:"min-h-screen bg-white text-black py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("header",{className:"mb-8 text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-red-600",children:"Atal Optical  Optical Policy"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base text-red-500",children:"Committed to high-quality products and professional service"})]}),r.jsx("section",{className:"rounded-xl border border-red-500 bg-red-100 p-6 sm:p-8 mb-10 shadow-sm",children:r.jsx("p",{className:"text-sm sm:text-base leading-relaxed text-black",children:"Atal Optical is committed to providing high-quality optical products and professional services to ensure customer satisfaction."})}),r.jsxs("section",{className:"grid gap-6 sm:gap-8 sm:grid-cols-2",children:[r.jsxs("article",{className:"rounded-xl bg-gray-50 p-6 border border-red-500 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Product Quality Standards"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-black",children:[r.jsx("li",{children:" All eyeglasses, sunglasses, and optical lenses are sourced from reputable suppliers and meet strict quality standards."}),r.jsx("li",{children:" Products are inspected and tested to ensure clarity, durability, and comfort."})]})]}),r.jsxs("article",{className:"rounded-xl bg-gray-50 p-6 border border-red-500 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Customer Service & Support"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-black",children:[r.jsx("li",{children:" Our trained staff provide guidance on selecting the right optical products for your needs."}),r.jsx("li",{children:" We offer professional measurements, fittings, and adjustments to ensure optimal vision and comfort."})]})]}),r.jsxs("article",{className:"rounded-xl bg-gray-50 p-6 border border-red-500 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Returns & Exchanges"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-black",children:[r.jsx("li",{children:" Returns and exchanges are accepted in accordance with our product warranty and return policy."}),r.jsx("li",{children:" Customers must provide a valid receipt or proof of purchase."})]})]}),r.jsxs("article",{className:"rounded-xl bg-gray-50 p-6 border border-red-500 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Safety & Hygiene"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-black",children:[r.jsx("li",{children:" We adhere to health and safety guidelines during product handling, eye examinations, and customer interactions."}),r.jsx("li",{children:" All equipment and instruments are sanitized regularly to maintain a safe environment."})]})]}),r.jsxs("article",{className:"rounded-xl sm:col-span-2 bg-gray-50 p-6 border border-red-500 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Professional Consultation"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-black",children:[r.jsx("li",{children:" Customers are encouraged to consult our optical experts for personalized advice."}),r.jsx("li",{children:" Our team ensures that prescriptions are accurately filled and that lenses meet the required specifications."})]})]}),r.jsxs("article",{className:"rounded-xl sm:col-span-2 bg-gray-50 p-6 border border-red-500 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600",children:"Continuous Improvement"}),r.jsx("p",{className:"mt-3 text-sm text-black",children:"Atal Optical regularly updates its Optical Policy to reflect the latest industry standards, customer feedback, and technological advancements."})]})]}),r.jsx("footer",{className:"mt-12 text-center",children:r.jsxs("p",{className:"text-lg text-black",children:["If you have questions about our policy or need assistance, please"," ",r.jsx("a",{href:"/contact-us",className:"underline text-red-500 hover:text-red-600",children:"contact us"}),"."]})})]})})}function Rle(){const[n,e]=V.useState([]),t=async()=>{try{const i=await St.get("/getDisclaimer");e(i.data.disclaimerData||[])}catch(i){console.log(i)}};return V.useEffect(()=>{t()},[]),r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"mb-8 bg-gradient-to-r from-black via-red-600 to-black py-12",children:[r.jsx("h1",{className:"text-5xl font-bold text-white text-center",children:"Disclaimer of Warranty"}),r.jsx("hr",{className:"border-white w-156 mt-2 mx-90"})]}),r.jsx("div",{className:"mx-auto",children:r.jsx("article",{className:"rounded-2xl p-6 flex flex-col lg:flex-row gap-8",children:n.map((i,s)=>r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[r.jsx("div",{className:"max-w-lg h-full",children:r.jsx("img",{src:Pn+i.image,alt:"Optical Store",loading:"lazy",decoding:"async",className:"rounded-xl transition-transform duration-400 hover:scale-103 hover:shadow-lg h-full object-cover"})}),r.jsx("section",{className:"prose max-w-none leading-relaxed text-gray-800 lg:w-2/3 whitespace-pre-line",children:r.jsx("p",{children:i.description})})]},s))})})]})}const Ble=()=>r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"mb-8 bg-gradient-to-r from-black via-red-600 to-black py-12",children:[r.jsx("h1",{className:"text-5xl font-bold text-white text-center",children:"Terms & Conditions"}),r.jsx("hr",{className:"border-white w-120 mt-3 mx-auto"})]}),r.jsx("section",{className:"px-4 sm:px-8 lg:px-16",children:r.jsxs("div",{className:"mx-auto rounded-2xl p-8",children:[r.jsx("p",{className:"text-gray-700 mb-6",children:"Please read these terms carefully before using our website or purchasing our products or services."}),r.jsxs("div",{className:"pr-4 space-y-8 text-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"1. Business Overview"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Atal Optical is a retail optical business operating in Ontario, Canada, providing prescription eyewear, frames, lenses, sunglasses, contact lenses, and related optical services. By using our website or purchasing our products or services, you agree to these Terms & Conditions."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"2. Eligibility"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"By using our website or services, you confirm that:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["You are at least ",r.jsx("strong",{children:"18 years of age"}),", or"]}),r.jsx("li",{children:"You have permission from a legal guardian"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"3. Prescription Accuracy & Customer Responsibility"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Customers are responsible for providing:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"A valid and current prescription"}),r.jsx("li",{children:"Accurate personal information"}),r.jsx("li",{children:"Correct pupillary distance (PD) if required"})]}),r.jsxs("p",{className:"mt-2 text-gray-600 leading-relaxed",children:["Atal Optical is ",r.jsx("strong",{children:"not responsible"})," for vision issues caused by incorrect information supplied by the customer."]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"4. Orders & Acceptance"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"All orders placed are subject to:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Product availability"}),r.jsx("li",{children:"Price confirmation"}),r.jsx("li",{children:"Prescription validation"})]}),r.jsx("p",{className:"mt-2 text-gray-600 leading-relaxed",children:"We reserve the right to refuse service, cancel suspicious or fraudulent orders, and limit quantities per customer."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"5. Pricing & Payments"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Prices are listed in Canadian Dollars (CAD). We accept debit, credit cards, and approved financing options. Prices may change without prior notice. Full payment is required before order processing."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"6. Refund, Return & Exchange Policy Reference"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Prescription eyewear and frames are final sale"}),r.jsx("li",{children:"No refunds on custom products"}),r.jsx("li",{children:"Only eligible non-prescription sunglasses may qualify for exchange (as per separate policy)"})]}),r.jsxs("p",{className:"mt-2 text-gray-600 leading-relaxed",children:["Please refer to our separate Returns & Exchange Policy for full details. You can view it"," ",r.jsx(xt,{to:"/return-exchange",className:"text-blue-600 hover:underline",children:"here"}),"."]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"7. Warranty Policy"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Manufacturer warranties apply only to manufacturing defects and material faults. Warranties do not cover scratches, accidental breakage, normal wear and tear, or improper use or storage."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"8. Shipping & Delivery Terms"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Delivery timelines are estimated only. We are not liable for courier delays, weather delays, or incorrect address details provided by the customer. Risk of loss transfers to the customer once the product is shipped."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"9. Product Measurements & Fittings"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Customers are responsible for frame size selection and fit preferences. In-store adjustments are provided as a courtesy and are not guaranteed."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"10. Privacy & Data Protection"}),r.jsxs("p",{className:"mt-2 leading-relaxed",children:["Customer information is collected and protected in accordance with PIPEDA (Canada) and Ontario privacy regulations. Refer to our separate"," ",r.jsx(xt,{to:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})," ","for full details."]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"11. Promotions, Discounts & Gift Cards"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Promotional offers are time-limited and cannot be combined unless stated. Final sale items are excluded from additional promotions. Gift cards are non-refundable, have no cash value, and cannot be replaced if lost or stolen."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"12. Limitation of Liability"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Atal Optical is not responsible for indirect damages, loss of income or profits, or vision discomfort resulting from customer-provided prescription errors. Liability is limited to the purchase price of the product."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"13. Governing Law"}),r.jsxs("p",{className:"mt-2 leading-relaxed",children:["All transactions and disputes are governed by the laws of the",r.jsx("strong",{children:" Province of Ontario, Canada"}),", and federal laws of Canada."]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"14. Changes to Terms & Conditions"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"Atal Optical reserves the right to modify these Terms & Conditions at any time. Updates will be published on the website without prior notice."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:"15. Termination of Use"}),r.jsx("p",{className:"mt-2 leading-relaxed",children:"We reserve the right to suspend website access, terminate service, or refuse transactions if misuse, abuse, or fraudulent activity is detected."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Contact Us"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["Email:"," ",r.jsx("a",{href:"mailto:sales.ataloptical@gmail.com",className:"text-blue-600 hover:underline",children:"sales.ataloptical@gmail.com"}),r.jsx("span",{children:" | "}),r.jsx("a",{href:"mailto:info.ataloptical@gmail.com",className:"text-blue-600 hover:underline",children:"info.ataloptical@gmail.com"})]}),r.jsx("p",{className:"text-gray-600",children:"Address: Corporate Office: 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"}),r.jsx("p",{className:"text-gray-600",children:"Phone: 1866-242-3545"})]})]})]})})]}),Dle=()=>r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Limitation of Liability"}),r.jsx("hr",{className:"border-white w-120 mt-3 mx-auto"})]}),r.jsxs("div",{className:"p-8 text-gray-800 space-y-8 mx-15",children:[r.jsxs("p",{children:["By accessing or using this website (the Site) operated by"," ",r.jsx("strong",{children:"Atal Optical Corp"})," (we, us, or our), you expressly acknowledge and agree that you assume full responsibility and all associated risks arising from your use of this Site, including but not limited to any costs incurred for servicing or repairing any equipment used in connection with your access or use of the Site."]}),r.jsx("h2",{className:"text-3xl text-center font-semibold text-[#f00000] mt-10",children:"No Liability for Damages"}),r.jsx("hr",{className:"border-red-600 w-90 ml-117 mb-4 mt-2"}),r.jsx("p",{children:"Under no circumstances shall Atal Optical Corp, its affiliates, subsidiaries, officers, directors, employees, agents, partners, licensors, or any other party involved in the creation, production, or distribution of this Site be liable for any direct, indirect, incidental, special, consequential, or punitive damages, including but not limited to:"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[r.jsx("li",{children:"Loss of profits"}),r.jsx("li",{children:"Loss of goodwill"}),r.jsx("li",{children:"Loss or corruption of data"}),r.jsx("li",{children:"Loss of use or other intangible losses"})]}),r.jsx("p",{children:"Even if we have been advised of the possibility of such damages, arising from or relating to:"}),r.jsxs("ul",{className:"list-decimal ml-6 space-y-1",children:[r.jsx("li",{children:"Your use of, or inability to use, the Site;"}),r.jsx("li",{children:"The procurement, purchase, or use of substitute goods or services;"}),r.jsx("li",{children:"Unauthorized access to, or alteration of, your data;"}),r.jsx("li",{children:"Actions of any third party on or through the Site;"}),r.jsx("li",{children:"Any other matters related to the products, services, or information provided through the Site."})]}),r.jsx("p",{children:"This limitation of liability applies to all Content, products, services, and functionalities available through the Site. In certain jurisdictions where such exclusions are not permitted, liability will be limited to the maximum extent allowed by law."}),r.jsx("h2",{className:"text-3xl text-center font-semibold text-[#f00000] mt-10",children:"Indemnification"}),r.jsx("hr",{className:"border-red-600 w-60 ml-131 mb-4 mt-1"}),r.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Atal Optical Corp, including its subsidiaries, affiliates, officers, directors, agents, co-branders or partners, and employees, from and against any and all claims, demands, losses, liabilities, damages, costs, or expenses (including reasonable attorneys fees) arising out of or related to:"}),r.jsxs("ul",{className:"list-disc ml-6 space-y-1",children:[r.jsx("li",{children:"Content you submit, post, or transmit through the Site;"}),r.jsx("li",{children:"Your use or misuse of the Site;"}),r.jsx("li",{children:"Your connection to the Site;"}),r.jsx("li",{children:"Your violation of these Terms of Use; or"}),r.jsx("li",{children:"Your infringement of any intellectual property or other rights of another party."})]})]})]});function Ole(){return r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:" mx-auto bg-white shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"General Information"}),r.jsx("hr",{className:"border-white w-120 mt-3 mx-auto"})]}),r.jsxs("div",{className:"p-8 text-gray-800 space-y-8 mx-15",children:[r.jsxs("p",{children:["These Terms and Conditions of Use constitute the entire agreement between you (",r.jsx("strong",{children:'"User"'}),") and Atal Optical Corp (",r.jsx("strong",{children:'"we," "us," or "our"'}),") governing your access to and use of this Site. In addition to these Terms, you may be subject to other applicable terms when using affiliated services, third-party content, or third-party software integrated with the Site."]}),r.jsx("p",{children:"Our failure to enforce or exercise any right or provision under these Terms shall not be deemed a waiver of such right or provision. If any clause or provision of these Terms is held to be invalid, illegal, or unenforceable by a court of competent jurisdiction, the remaining provisions shall continue in full force and effect, and the court shall endeavor to enforce the original intention of the parties to the fullest extent permitted by law."}),r.jsx("p",{children:"You agree that any claim or cause of action arising out of or related to your use of the Site or these Terms must be filed within one (1) year after the claim or cause of action arose, or such claim shall be permanently barred."}),r.jsx("h2",{className:"text-3xl text-center font-semibold text-[#f00000] mt-10",children:"Submissions"}),r.jsx("hr",{className:"border-red-600 w-50 ml-136 mb-15 mt-1"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsx("li",{children:"All Submissions shall be deemed and remain the exclusive property of Atal Optical Corp."}),r.jsx("li",{children:"We hold no obligation of confidentiality concerning any Submissions you provide."}),r.jsx("li",{children:"We are not liable for any use or disclosure of any Submissions."}),r.jsx("li",{children:"You hereby irrevocably assign to Atal Optical Corp, without compensation or further obligation, all existing and future rights worldwide in and to the Submissions, including intellectual property rights."}),r.jsx("li",{children:"We may use, reproduce, publish, modify, adapt, distribute, or otherwise exploit the Submissions for any commercial or non-commercial purpose, including display on the Site or other platforms, without limitation."})]}),r.jsx("h2",{className:"text-3xl text-center font-semibold text-[#f00000] mt-10",children:"Copyright Notice"}),r.jsx("hr",{className:"border-red-600 w-65 ml-129 mb-4 mt-1"}),r.jsx("p",{children:" 2025 Atal Optical Corp. All rights reserved. All rights not expressly granted herein are reserved. Unauthorized use or reproduction of Site content is prohibited."})]})]})})}function Ple(){return r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"mx-auto bg-white shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Eyeglasses & Contact Lenses Policy"}),r.jsx("hr",{className:"border-white w-200 mt-3 mx-auto"})]}),r.jsxs("div",{className:"p-8 text-gray-800 space-y-8 mx-15",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Shipping & Payment Terms"}),r.jsx("hr",{className:"border-red-600 w-94 mx-auto my-2"}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Prescription Glasses"}),r.jsx("p",{children:"Production time for prescription lenses depends on the lens type and prescription complexity, ranging from several business days. Once crafted and quality-checked, lenses are mounted into your selected frame and shipped using your chosen delivery method."}),r.jsx("p",{children:"You will receive an email confirmation with a tracking number when your order ships."}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Contact Lenses"}),r.jsx("p",{children:"Processing times vary by lens type:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Common brands may be in stock"}),r.jsx("li",{children:"Specialized lenses (e.g., toric/astigmatism, RGP, multifocal) may require custom manufacturing"})]}),r.jsx("p",{children:"Once in stock, orders ship within 12 business days."}),r.jsx("p",{className:"mt-2",children:"You will be notified via email of any delays or quality assurance issues that may impact delivery time."}),r.jsx("p",{children:"For shipping FAQs, please visit the Shipping FAQ Section."}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Payment Options"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Visa"}),r.jsx("li",{children:"Mastercard"}),r.jsx("li",{children:"American Express"}),r.jsx("li",{children:"PayPal"})]}),r.jsx("p",{children:"You may place your order online or over the phone at 1-866-242-3545. Only one coupon code is permitted per order."}),r.jsx("p",{children:"Title and risk of ownership pass to the customer upon shipment."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Subscription Service"}),r.jsx("hr",{className:"border-red-600 w-74 mx-auto my-2 mb-7"}),r.jsx("p",{children:"Atal Optical Subscription is a convenient auto-reorder program for contact lenses, customized to your preferred frequency."}),r.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Key Terms:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"You authorize Atal Optical to place and charge repeat orders based on your selected plan."}),r.jsx("li",{children:"Subscription includes 15% off retail price and free shipping on every order."}),r.jsx("li",{children:"Payment is only collected upon order processing."}),r.jsx("li",{children:"Subscription continues until paused or cancelled via your online account or by calling 1-866-242-3545."})]}),r.jsx("h3",{className:"text-xl font-semibold mt-4",children:"You Can:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Modify your delivery schedule"}),r.jsx("li",{children:"Pause your subscription"}),r.jsx("li",{children:"Cancel at any time"})]}),r.jsx("p",{className:"mt-2",children:"If your payment method fails, well retry and notify you by email. Failure to resolve may result in temporary suspension of service. Reactivating a cancelled subscription may result in updated pricing or discount amounts."}),r.jsx("p",{children:"The Subscription discount cannot be combined with other offers or third-party benefits. Delivery schedules are subject to product availability. Custom-made lenses may be delayed due to manufacturer timelines. You will not be charged until your order is shipped, and you may cancel prior to dispatch."}),r.jsx("p",{children:"Youll receive an order confirmation email with tracking info once your order ships."}),r.jsx("p",{children:"All returns for subscription items are subject to our Returns Policy."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Prescription Requirements"}),r.jsx("hr",{className:"border-red-600 w-94 mx-auto my-2 mb-5"}),r.jsx("p",{children:"When ordering, you confirm that you have a valid optical prescription issued by a licensed Eye Care Professional."}),r.jsx("p",{children:"Note: Contact lens and eyeglasses prescriptions are not interchangeable. Please ensure you use the correct prescription details for your specific order."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Trademarks and Intellectual Property"}),r.jsx("hr",{className:"border-red-600 w-130 mx-auto my-2 mb-5"}),r.jsx("p",{children:"All trademarks, logos, and service names used on this Site are the intellectual property of Atal Optical Inc., unless otherwise noted."}),r.jsx("p",{children:"This includes but is not limited to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Atal Optical"}),r.jsx("li",{children:"The Optical Experts"}),r.jsx("li",{children:"Icons, graphics, product names, and brand slogans"})]}),r.jsx("p",{children:"These trademarks may not be used, reproduced, or associated with third-party goods or services without our express written consent."}),r.jsx("p",{children:"Third-party trademarks mentioned remain the property of their respective owners."})]})]})]})})}function Lle(){return r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"mx-auto bg-white shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Our Rights & Enforcement Policy"}),r.jsx("hr",{className:"border-white w-200 mx-auto mt-3"})]}),r.jsxs("div",{className:"mx-15 p-8 text-gray-800 space-y-8",children:[r.jsx("section",{children:r.jsx("p",{children:"At Atal Optical, we are committed to maintaining the safety, integrity, and lawful use of our Site. We reserve the right to take appropriate action as outlined below."})}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Monitoring and Disclosure"}),r.jsx("hr",{className:"border-red-600 w-94 mx-auto my-2"}),r.jsx("p",{children:"We may, at our sole discretion:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Monitor use of the Site, including communication and uploaded content."}),r.jsxs("li",{children:["Disclose content or records if required:",r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-6",children:[r.jsx("li",{children:"To comply with laws, regulations, or government requests"}),r.jsx("li",{children:"To ensure site functionality and operational integrity"}),r.jsx("li",{children:"To protect our legal rights, property, or the safety of other users"})]})]})]}),r.jsx("p",{className:"mt-3",children:"Atal Optical does not guarantee active monitoring or review of all user-submitted content. However, upon notification of allegedly illegal, infringing, defamatory, or harmful material, we may:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Conduct an internal investigation"}),r.jsx("li",{children:"Remove or request removal of such content at our discretion"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Right to Restrict Access"}),r.jsx("hr",{className:"border-red-600 w-86 mx-auto my-2"}),r.jsx("p",{children:"We reserve the right to:"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.jsxs("li",{children:["Terminate or suspend user access to the Site  in whole or in part  without notice, for conduct that we determine:",r.jsxs("ul",{className:"list-disc list-inside ml-6 space-y-1",children:[r.jsx("li",{children:"Violates these Terms or any law"}),r.jsx("li",{children:"Harms another user, third-party, or Atal Optical itself"})]})]})}),r.jsx("p",{className:"mt-3",children:"We also reserve the right to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Refuse sales to individuals if there is reasonable belief that products are being purchased for resale"}),r.jsx("li",{children:"Limit quantities of items purchased per customer"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Termination Policy"}),r.jsx("hr",{className:"border-red-600 w-68 mx-auto my-2"}),r.jsx("p",{children:"These Terms remain in effect unless and until terminated by either party."}),r.jsx("p",{children:"If you no longer accept these Terms, you must discontinue use of the Site. Subject to applicable law, Atal Optical reserves the right to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Suspend or revoke your access"}),r.jsx("li",{children:"Delete your account, data, and history without notice"}),r.jsx("li",{children:"Restrict your future access to all or parts of the Site"})]}),r.jsx("p",{className:"mt-3",children:"You agree that:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Termination may occur without prior warning"}),r.jsx("li",{children:"We shall not be liable to you or any third party for such action"}),r.jsx("li",{children:"You will not be entitled to any compensation or restoration of data or files following termination"})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Governing Law & Jurisdiction"}),r.jsx("hr",{className:"border-red-600 w-105 mx-auto my-2"}),r.jsx("h3",{className:"text-xl font-semibold mt-4",children:"International Use"}),r.jsx("p",{children:"We make no guarantees that content on the Site is suitable for access outside of Canada. Users who access the Site from other jurisdictions do so at their own risk and are responsible for complying with local laws."}),r.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Export Restrictions"}),r.jsx("p",{children:"Content may not be used or exported in violation of Canadian or U.S. export laws and regulations."}),r.jsx("h3",{className:"text-xl font-semibold mt-4",children:"Jurisdiction"}),r.jsx("p",{children:"All claims and disputes (Claims) related to this Site, its content, or services shall be governed exclusively by:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"The laws of the Province of Ontario"}),r.jsx("li",{children:"The federal laws of Canada applicable therein"})]}),r.jsx("p",{children:"By using the Site, you irrevocably consent to the exclusive jurisdiction of courts in Ontario, Canada and agree that final judgments rendered may be enforced across jurisdictions."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Contact Us"}),r.jsx("hr",{className:"border-red-600 w-45 mx-auto my-2"}),r.jsx("p",{children:"Atal Optical"}),r.jsx("p",{children:"Corporate Office : 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"}),r.jsx("p",{children:"Toll-Free: 1-866-242-3545"}),r.jsx("p",{children:"Email: support@ataloptical.com"})]})]})]})})}function Ile(){const n=ws(),e=[{name:"CONTACT",path:"/dash"},{name:"ABOUT",path:"/dash/about"},{name:"FAQ",path:"/dash/faq"}];return r.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[r.jsxs("div",{className:"w-64 bg-white shadow-lg p-5",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:"ATAL-OPTICAL"}),r.jsx("nav",{className:"space-y-2 text-center text-lg font-semibold mt-4",children:e.map(t=>r.jsx(xt,{to:t.path,className:`border-b-1 block px-4 py-2 rounded hover:bg-gray-500 hover:text-white hover:cursor-pointer ${n.pathname===t.path?"bg-[#f00000] text-white":"text-gray-700"}`,children:t.name},t.path))})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("header",{className:"bg-white shadow-md px-6 py-5 flex justify-between items-center",children:[r.jsx("h1",{className:"text-xl font-semibold",children:"User Dashboard"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-gray-600 text-xl",children:"Hello, User"}),r.jsx("button",{className:"px-3 py-1 bg-[#f00000] text-white rounded hover:bg-[#f00000] text-xl hover:cursor-pointer",children:"Logout"})]})]}),r.jsx("main",{className:"flex-1 p-4",children:r.jsx(SD,{})})]})]})}const Ule="/assets/about%20us-BhPLV4MK.png",kle=()=>r.jsxs("div",{className:"bg-gray-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"About Us - Atal Optical"}),r.jsx("hr",{className:"border-white w-150 mt-3 mx-auto"})]}),r.jsxs("div",{className:"max-w-7xl mx-auto p-10 text-gray-800 leading-relaxed space-y-6",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Atal Optical"})," stands as a beacon of dedication, vision, and community service in the Canadian optical industry. Founded with a heartfelt mission to bring accessible, high-quality eye care and eyewear to all, including those who may otherwise go without, Atal Optical reflects the passion and perseverance of its visionary leader."]}),r.jsx("h2",{className:"text-2xl font-semibold",children:"Our CEO: A Visionary Leader with a Clear Purpose"}),r.jsxs("p",{children:["Born in a small village, our CEO's journey is a testament to self-motivation, discipline, and resilience. Beginning his career with the prestigious ",r.jsx("strong",{children:"Oswal Group"}),", he quickly earned a reputation as a self-made, respected pillar of society. His relentless drive propelled him through the ranks of major corporations such as"," ",r.jsx("strong",{children:"Hindustan Lever"})," and ",r.jsx("strong",{children:"DuPont Chemicals"}),", and later in Canada with ",r.jsx("strong",{children:"SNC Lavalin, Magna Group, Honeywell"}),", and key players in the aviation and petrochemical industries."]}),r.jsx("p",{children:"In 2007, inspired by his own vision and the leadership he admired within Canada's optical industry, he aspired to start his own optical business. However, due to demanding career commitments, this dream was temporarily set aside. Despite the delay, his vision never wavered. He remained deeply inspired by the optical leaders in Canada, keeping the dream alive."}),r.jsx("h2",{className:"text-2xl font-semibold",children:"Bringing a Dream to Life"}),r.jsxs("p",{children:["After years of building a successful career and settling his familywhose members have since flourished in Canadian society through their own community contributionsour CEO finally turned his long-held vision into reality. In 2023, ",r.jsx("strong",{children:"Atal Optical"})," was officially incorporated, marking a powerful new chapter dedicated to serving the community with integrity, expertise, and compassion."]}),r.jsxs("div",{className:"leading-relaxed space-y-6 grid grid-cols-2 gap-x-10",children:[r.jsx("div",{children:r.jsx("img",{src:Ule,alt:"AboutUS Image",className:"w-full h-full rounded-xl mt-3 object-cover",loading:"lazy",decoding:"async"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Atal Optical: More Than Just an Optical Store"}),r.jsx("p",{className:"mt-6",children:"Atal Optical is not just a business; it is a commitment to excellence and accessibility in eye care. Leveraging decades of corporate experience and deep industry knowledge, the company strives to provide:"}),r.jsx("p",{className:"mt-2",children:"- State-of-the-art optical products that meet the highest standards of quality and style."}),r.jsx("p",{className:"mt-2",children:"- Comprehensive eye care services that prioritize patient health and comfort."}),r.jsxs("p",{className:"mt-2",children:["- A special focus on offering ",r.jsx("strong",{children:"free glasses"})," to Canadians who cannot afford them, embodying the company's spirit of giving back."]}),r.jsx("p",{className:"mt-2",children:"With a leadership team that blends visionary insight and practical experience, Atal Optical is positioned to become a trusted name across communities in Canada."}),r.jsx(xt,{to:"/",children:r.jsx("button",{className:"flex items-center bg-[#f00000] text-white p-3 rounded-lg hover:bg-black hover:cursor-pointer mt-5",children:"Visit Website"})})]})]}),r.jsx("h2",{className:"text-2xl font-semibold",children:"A Vision Rooted in Experience and Service"}),r.jsx("p",{children:"Our CEO's extensive background in management and leadership across multiple industries has instilled a unique perspective on business, service, and innovation. His ability to balance strategic thinking with compassionate leadership drives Atal Optical's commitment to customers and community alike."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Atal Optical"})," represents the fulfillment of a lifelong dream  a dream to create a company where vision care is accessible to all, regardless of circumstance. With unwavering dedication and a clear strategic focus, Atal Optical is poised to make a meaningful difference in the lives of Canadians."]}),r.jsx("h2",{className:"text-2xl font-semibold",children:"Join Us on This Visionary Journey"}),r.jsx("p",{children:"At Atal Optical, we don't just sell glasses; we empower people to see clearly, live confidently, and embrace life fully. We invite you to be part of our story  a story of vision, perseverance, and community spirit."})]}),r.jsx("div",{className:"bg-[#f00000] h-4"})]});function Fle(){return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Our Category"}),r.jsx("hr",{className:"border-white w-80 mt-3 mx-auto"})]}),r.jsx(xO,{}),r.jsx(bO,{}),r.jsx(qL,{})]})}function nU(){const{recentlyViewed:n}=FC();if(n.length===0)return null;const e=n.slice(-4).reverse(),t=i=>{if(i.product_variants&&i.product_variants.length>0&&i.product_variants[0].images&&i.product_variants[0].images.length>0){const s=i.product_variants[0].images[0];return s.startsWith("http")?s:Pn+s}if(i.product_color&&i.product_color.length>0){const s=i.product_color[0];return s.startsWith("http")?s:Pn+s}return"/no-image.png"};return r.jsxs("section",{className:"py-12 md:px-24 px-6 bg-white",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-black mb-6",children:"Recently Viewed"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((i,s)=>r.jsxs("div",{className:"border border-red-600 rounded-lg shadow-2xl hover:shadow-red-500 transition-all p-4 text-center cursor-pointer duration-500",children:[r.jsx(xt,{to:`/product/${i._id}/${i.subCategoryName}/${i.subCat_id}`,children:r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:t(i),alt:i.product_name,className:"w-full h-36 object-contain hover:scale-105 transition-transform duration-300",loading:"lazy"})})}),r.jsx("p",{className:"text-xl font-semibold tracking-wide text-[#f00000] capitalize mb-2",children:i.product_name}),r.jsxs("div",{className:"flex justify-center items-center gap-2",children:[i.product_price&&r.jsxs("span",{className:"text-gray-600 line-through text-sm",children:["$",i.product_price]}),r.jsxs("span",{className:"text-black font-bold",children:["$",i.product_sale_price]})]})]},i._id||s))})]})}const n1=Ht.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0}),iE={brands:new Set,genders:new Set,shapes:new Set,colors:new Set,materials:new Set,priceMin:0,priceMax:9999},zle=(n,e)=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t},M1=(n="")=>{if(!n)return"/no-image.png";if(n.startsWith("http://")||n.startsWith("https://"))return n;const e=Pn.endsWith("/")?Pn:`${Pn}/`,t=n.replace(/^\/+/,"");return e+t};function Hle({data:n,img:e,inWishlist:t,toggleWishlist:i,isInStock:s}){const[a,o]=Mi.useState(null),[c,d]=Mi.useState(0),h=Mi.useRef(null),m=Mi.useMemo(()=>{const L=n?.product_variants?.[0]?.images?.[0],j=n?.product_image_collection?.[0];return M1(L||j||e||"")},[n,e]),x=Mi.useMemo(()=>{const L=[...n?.product_image_collection||[],...n?.product_variants?.[0]?.images||[]].filter(Boolean);return L.length?L.map(M1):[m]},[n,m]),y=Mi.useMemo(()=>(a?.images?.length?a.images:x).map(M1),[a,x]),b=y[c]||y[0]||m,S=L=>{!L||L.length<2||(h.current&&clearInterval(h.current),d(0),h.current=setInterval(()=>{d(j=>(j+1)%L.length)},1200))},_=()=>{h.current&&clearInterval(h.current),h.current=null,d(0)};Mi.useEffect(()=>()=>{h.current&&clearInterval(h.current)},[]);const E=L=>{o(L),S(L?.images||[])},A=()=>{o(null),_()},P=Array.isArray(n.product_variants)?n.product_variants:[],N=n?.cat_id?._id==="6915735feeb23fa59c7d532b"||n?.cat_id==="6915735feeb23fa59c7d532b";return r.jsxs("div",{className:"relative bg-white border border-red-600 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 p-4 text-center cursor-pointer",onMouseLeave:A,children:[r.jsx("button",{type:"button",onClick:L=>{L.stopPropagation(),i(n._id)},"aria-pressed":t,"aria-label":t?"Remove from wishlist":"Add to wishlist",className:"absolute top-2 right-2 p-1 rounded-full bg-white/90 border border-gray-200 shadow hover:bg-white",children:t?r.jsx(xy,{className:"text-[#f00000] text-xl"}):r.jsx(aS,{className:"text-gray-500 text-xl"})}),n.product_price>n.product_sale_price&&r.jsxs("div",{className:"absolute top-2 left-2 bg-gray-200 text-[#f00000] text-xs font-semibold px-2 py-1 rounded-full z-10",children:[Math.round((n.product_price-n.product_sale_price)/n.product_price*100),"% OFF"]}),r.jsx(xt,{to:`/product/${n._id}/${n.subCategoryName}/${n.subCat_id}`,children:r.jsx("img",{src:b,alt:n.product_name,className:`w-full h-32 object-contain mb-3 mt-4 transition-transform duration-300 hover:scale-105\r
                     motion-safe:transition-opacity motion-safe:duration-300 motion-safe:ease-out\r
                     motion-safe:animate-[fadeIn_220ms_ease-out]`,loading:"lazy",decoding:"async"},b)}),n.gender&&r.jsx("p",{className:"text-sm text-gray-400",children:n.gender}),r.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize mb-1",children:n.product_name}),r.jsxs("div",{className:"flex justify-center items-center gap-2 mb-1",children:[n.product_price>n.product_sale_price&&r.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["$",Number(n.product_price).toFixed(2)]}),r.jsxs("span",{className:"text-gray-900 font-bold",children:["$",Number(n.product_sale_price??n.product_price??0).toFixed(2)]})]}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:`text-sm font-medium ${s?"text-green-600":"text-gray-500"}`,children:s?"In stock":"Out of stock"})}),P.length>0&&!N&&r.jsx("div",{className:"flex justify-center gap-2 mt-2",children:P.map((L,j)=>r.jsx("span",{title:L.colorName,onMouseEnter:()=>E(L),onFocus:()=>E(L),onMouseLeave:A,onBlur:A,className:`w-5 h-5 rounded-full border transition-all duration-200 
          ${a?.colorName===L.colorName?"border-black ring-2 ring-black/10 scale-110":"border-gray-300 hover:scale-105"}`,style:{backgroundColor:L.colorName?.toLowerCase().trim()||"gray"},role:"button",tabIndex:0,"aria-label":`Preview ${L.colorName}`},j))})]})}const VB=({filters:n,setFilters:e,facetData:t})=>{const i=({title:a,children:o})=>r.jsxs("div",{className:"py-3 border-b last:border-b-0",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:a}),o]}),s=({label:a,setKey:o,value:c})=>{const d=n[o].has(c);return r.jsxs("label",{className:"flex items-center gap-2 py-1 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",checked:d,onChange:()=>e(h=>({...h,[o]:zle(h[o],c)}))}),r.jsx("span",{className:"text-sm capitalize",children:a})]})};return r.jsxs("div",{children:[t.brands.length>0&&r.jsx(i,{title:"Brand",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.brands.map(a=>r.jsx(s,{label:a,setKey:"brands",value:a},a))})}),t.genders.length>0&&r.jsx(i,{title:"Gender",children:r.jsx("div",{className:"flex flex-col gap-1",children:t.genders.map(a=>r.jsx(s,{label:a,setKey:"genders",value:a},a))})}),r.jsx(i,{title:"Shape",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.shapes.map(a=>r.jsx(s,{label:a,setKey:"shapes",value:a},a))})}),r.jsx(i,{title:"Color",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.colors.map(a=>r.jsx(s,{label:a,setKey:"colors",value:a},a))})}),r.jsx(i,{title:"Material",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.materials.map(a=>r.jsx(s,{label:a,setKey:"materials",value:a},a))})})]})};function ir(){const{subCategory:n,subCatId:e,shape:t,gender:i,lens_type:s,frame_shape:a,collection:o,catId:c,lens_cat:d,contactBrandId:h,slug:m,collectionName:x,frameShape:y,categoryName:b,categoryId:S,BrandId:_,allBrands:E}=Ef(),A=ws(),P=A.state?.brandId||null,N=A.state?.brandName||null,[L,j]=V.useState([]),[R,k]=V.useState([]),[F,D]=V.useState(!1),[B,q]=V.useState(""),[Y,G]=V.useState(1),W=24,$=we=>typeof we=="string"?we.normalize("NFKC").trim():"",z=we=>/^[a-f0-9]{24}$/i.test(we),I=$(c),Q=$(e),K=n,[T,X]=V.useState(iE),[ee,oe]=V.useState("popular"),[ce,re]=V.useState(!1),ue=async()=>{try{if(D(!0),q(""),j([]),S&&b){try{D(!0);const $e=(await St.get(`/getProductByCatId/${S}`)).data?.data||[];j($e),G(1)}catch(_e){console.log(_e),q("Failed to load category products")}finally{D(!1)}return}if(_){try{const $e=(await St.get(`/brand/${_}`)).data?.products||[];j($e),G(1)}catch(_e){console.log(_e),q("Failed to load brand products")}finally{D(!1)}return}if(t){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>String(te.face_shape)?.toLowerCase()===t.toLowerCase());j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(E==="allProduct"){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>te.brand_id);j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(i){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>String(te.gender)?.toLowerCase()===i.toLowerCase());j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(s){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>String(te.subCategoryName)?.toLowerCase()===s.toLowerCase());j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(a){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>String(te.frame_shape)?.toLowerCase()===a.toLowerCase()&&String(te.cat_id)==="6915705d9ceac0cdda41c83f");j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(y){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>String(te.frame_shape)?.toLowerCase()===y.toLowerCase());j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(h){try{const _e=await St.get("/getallproduct"),et=(_e.data?.products||_e.data||[]).filter(te=>String(te.brand_id)===h&&String(te.cat_id)==="6915735feeb23fa59c7d532b");j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(o){try{const _e=await St.get("/getallproduct"),$e=_e.data?.products||_e.data||[];let et=[];o==="best-seller"?et=$e.filter(te=>te.isBestSeller===!0):o==="trending"?et=$e.filter(te=>te.isTrending===!0):et=$e.filter(te=>String(te.brand_id)===o),j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(d){try{const _e=await St.get("/getallproduct"),$e=_e.data?.products||_e.data||[],et=d.trim().toLowerCase(),te=$e.filter(Z=>{const xe=String(Z.lens_type||"").trim().toLowerCase(),Oe=String(Z.cat_id)==="6915735feeb23fa59c7d532b";return et==="daily"?xe==="daily"&&Oe:et==="weekly"||et==="biweekly"?(xe.includes("week")||xe.includes("bi"))&&Oe:et==="monthly"?xe==="monthly"&&Oe:!1});j(te),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(m){try{const $e=(await St.get("/getAllProduct")).data?.products||[];let et=[];const te=["6915705d9ceac0cdda41c83f","69157332eeb23fa59c7d5326"];m==="men"&&(et=$e.filter(Z=>te.includes(Z.cat_id)&&(Z.gender?.toLowerCase()==="men"||Z.gender?.toLowerCase()==="unisex"))),m==="women"&&(et=$e.filter(Z=>te.includes(Z.cat_id)&&(Z.gender?.toLowerCase()==="women"||Z.gender?.toLowerCase()==="unisex"))),m==="contact-lens"&&(et=$e.filter(Z=>Z.cat_id==="6915735feeb23fa59c7d532b")),j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(x){try{const $e=(await St.get("/getAllProduct")).data?.products||[];let et=[];const te="69157332eeb23fa59c7d5326",Z="6915705d9ceac0cdda41c83f";switch(x){case"glasses":et=$e.filter(xe=>xe.cat_id===te);break;case"sunglasses":et=$e.filter(xe=>xe.cat_id===Z);break;case"transitions":et=$e.filter(xe=>xe.subCategoryName?.toLowerCase()==="transitions");break;case"blue-violet":et=$e.filter(xe=>xe.subCategoryName?.toLowerCase()==="blue violet");break;case"progressive":et=$e.filter(xe=>xe.subCategoryName?.toLowerCase()==="progressive");break;case"kids":et=$e.filter(xe=>xe.subCategoryName?.toLowerCase()==="kids");break;case"men":et=$e.filter(xe=>xe.gender?.toLowerCase()==="men"||xe.gender?.toLowerCase()==="unisex");break;case"women":et=$e.filter(xe=>xe.gender?.toLowerCase()==="women"||xe.gender?.toLowerCase()==="unisex");break;case"contact-lens":et=$e.filter(xe=>xe.cat_id==="6915735feeb23fa59c7d532b");break}j(et),G(1)}catch(_e){console.log(_e),q("Failed to load products")}finally{D(!1)}return}if(P){const $e=(await St.get(`/brand/${P}`)).data?.products||[];j($e),G(1);return}if(!I||!Q){q("Category or Subcategory missing in navigation state."),D(!1);return}if(!z(I)||!z(Q)){q("Invalid categoryId or subCategoryId."),D(!1);return}const we=`/products/${I}/${Q}`,Be=(await St.get(we))?.data,Ue=Array.isArray(Be)?Be:Array.isArray(Be?.products)?Be.products:Array.isArray(Be?.data)?Be.data:[];j(Ue),G(1)}catch(we){console.error("PLP fetch error:",we),q(we?.response?.data?.message||"Failed to load products.")}finally{D(!1)}},ye=async()=>{try{const we=localStorage.getItem("user");if(!we)return;const Be=(await St.get(`/getWishlist/${we}`)).data?.products?.filter(Ue=>Ue.productId)||[];k(Be.map(Ue=>Ue.productId._id))}catch{}};V.useEffect(()=>{ue(),ye()},[c,e,P,t,i,s,a,o,d,h,m,x,y,S,b,_,E]);const Ve=V.useMemo(()=>{const we=new Set,ge=new Set,Be=new Set,Ue=new Set,_e=new Set;let $e=1/0,et=-1/0;return L.forEach(te=>{const Z=te?.brand_id?.brand||te?.brand||te?.product_brand||"";Z&&we.add(Z.trim());const xe=te.gender?.trim();xe&&ge.add(xe),te.frame_shape&&Be.add(te.frame_shape.trim()),te.face_shape&&Be.add(te.face_shape.trim()),te.frame_color&&Ue.add(te.frame_color.trim()),te.frame_material&&_e.add(te.frame_material.trim());const Oe=Number(te.product_sale_price||te.product_price||0);Number.isNaN(Oe)||($e=Math.min($e,Oe),et=Math.max(et,Oe))}),Number.isFinite($e)||($e=0,et=9999),{brands:Array.from(we).sort(),genders:Array.from(ge).sort(),shapes:Array.from(Be).sort(),colors:Array.from(Ue).sort(),materials:Array.from(_e).sort(),min:$e,max:et}},[L]),Qe=we=>{const ge=we?.brand_id?.brand?.trim()||we?.brand?.trim()||we?.product_brand?.trim()||"",Be=(we.gender||"").trim().toLowerCase(),Ue=String(we.frame_shape||"").trim(),_e=String(we.face_shape||"").trim(),$e=String(we.frame_color||"").trim(),et=String(we.frame_material||"").trim(),te=Number(we.product_sale_price||we.product_price||0);return!(T.brands.size&&!T.brands.has(ge)||T.genders.size&&![...T.genders].some(Z=>Z.toLowerCase()===Be)||T.shapes.size&&!T.shapes.has(Ue)||T.face_shape&&!T.face_shape.has(_e)||T.colors.size&&!T.colors.has($e)||T.materials.size&&!T.materials.has(et)||te<T.priceMin||te>T.priceMax)},We=we=>{switch(ee){case"low":return[...we].sort((ge,Be)=>(ge.product_sale_price||ge.product_price||0)-(Be.product_sale_price||Be.product_price||0));case"high":return[...we].sort((ge,Be)=>(Be.product_sale_price||Be.product_price||0)-(ge.product_sale_price||ge.product_price||0));case"new":return[...we].sort((ge,Be)=>new Date(Be.createdAt||0)-new Date(ge.createdAt||0));default:return we}},mt=V.useMemo(()=>We(L.filter(Qe)),[L,T,ee]);Math.max(1,Math.ceil(mt.length/W));const ut=V.useMemo(()=>{const we=(Y-1)*W;return mt.slice(we,we+W)},[mt,Y]);V.useEffect(()=>{G(1)},[ee,T.priceMin,T.priceMax,JSON.stringify([...T.brands]),JSON.stringify([...T.shapes]),JSON.stringify([...T.colors]),JSON.stringify([...T.materials])]);const le=V.useMemo(()=>new Set(R),[R]),Me=async we=>{const ge=localStorage.getItem("user");if(!ge){n1.fire({icon:"info",title:"Please sign in to use wishlist"});return}const Be=le.has(we),Ue=R,_e=Be?Ue.filter($e=>$e!==we):[...Ue,we];k(_e);try{Be?(await St.delete("/removeWishlist",{data:{userId:ge,productId:we}}),n1.fire({icon:"success",title:"Removed from wishlist"})):(await St.post("/addWishlist",{userId:ge,productId:we}),n1.fire({icon:"success",title:"Added to wishlist"}))}catch{k(Ue),n1.fire({icon:"error",title:"Wishlist update failed"})}},Ae=we=>{const ge=we?.product_variants?.[0]?.images?.[0]||we?.product_image_collection?.[0]||we?.product_image||"";return M1(ge)};return r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"w-full border-b border-gray-200 bg-[#f00000]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("div",{className:"text-[33px] ml-130 tracking-wide font-semibold uppercase text-white",children:N||n})}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"sort",className:"sr-only",children:"Sort by"}),r.jsxs("select",{id:"sort",value:ee,onChange:we=>oe(we.target.value),className:"px-3 py-1.5 border border-gray-300 rounded text-sm bg-white","aria-label":"Sort products",children:[r.jsx("option",{value:"popular",children:"Most popular"}),r.jsx("option",{value:"low",children:"Price: Low to high"}),r.jsx("option",{value:"high",children:"Price: High to low"}),r.jsx("option",{value:"new",children:"New arrivals"})]})]})})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:[r.jsx("h1",{className:"text-2xl font-bold capitalize",children:N?`${N}  ${K||""}`:K||"Products"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:F?"Loading":`${mt.length} Results`}),B&&r.jsx("div",{className:"bg-[#f00000] border border-red-200 text-[#f00000] rounded-lg p-3 mt-3",children:B})]}),r.jsx("div",{className:`fixed inset-0 bg-black/40 z-40 ${ce?"block":"hidden"}`,onClick:()=>re(!1),"aria-hidden":"true"}),r.jsxs("aside",{id:"filters-drawer",role:"dialog","aria-modal":"true",className:`fixed z-50 inset-y-0 left-0 w-80 bg-white border-r border-gray-200 transform transition-transform duration-200 ${ce?"translate-x-0":"-translate-x-full"} lg:hidden`,children:[r.jsxs("div",{className:"p-4 flex items-center justify-between border-b",children:[r.jsx("h3",{className:"text-base font-semibold",children:"Filters"}),r.jsx("button",{className:"text-sm px-2 py-1 rounded border",onClick:()=>re(!1),"aria-label":"Close filters",children:"Close"})]}),r.jsxs("div",{className:"p-4 overflow-y-auto h-full",children:[r.jsx(VB,{filters:T,setFilters:X,facetData:Ve}),r.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[r.jsx("button",{onClick:()=>re(!1),className:"flex-1 bg-black text-white rounded px-3 py-2 text-sm",children:"Apply"}),r.jsx("button",{onClick:()=>X(iE),className:"flex-1 border rounded px-3 py-2 text-sm",children:"Clear all"})]})]})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 pb-8",children:r.jsxs("div",{className:"lg:grid lg:grid-cols-[16rem_1fr] lg:gap-8",children:[r.jsx("aside",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start lg:w-64 lg:shrink-0",children:r.jsxs("div",{className:"border border-black rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-base font-semibold",children:"Filters"}),r.jsx("button",{onClick:()=>X(iE),className:"text-sm underline",children:"Clear"})]}),r.jsx(VB,{filters:T,setFilters:X,facetData:Ve})]})}),r.jsxs("div",{children:[F?r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:12}).map((we,ge)=>r.jsxs("div",{className:"rounded-xl border border-gray-200 p-4",children:[r.jsx("div",{className:"h-36 bg-gray-100 rounded mb-4 animate-pulse"}),r.jsx("div",{className:"h-4 w-3/4 bg-gray-100 rounded mb-2 animate-pulse"}),r.jsx("div",{className:"h-4 w-1/2 bg-gray-100 rounded animate-pulse"})]},ge))}):ut.length===0?r.jsx("div",{className:"text-center text-gray-600 py-16",children:"No products found."}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:ut.map(we=>{const ge=Ae(we),Be=le.has(we._id),Ue=(we.stockAvailability??0)>0;return r.jsx(Hle,{data:we,img:ge,inWishlist:Be,toggleWishlist:Me,isInStock:Ue},we._id)})}),!F&&mt.length>W&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[r.jsx("button",{className:"p-2 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:()=>G(we=>Math.max(1,we-1)),disabled:Y===1,"aria-label":"Previous page",children:r.jsx(zD,{})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.max(1,Math.ceil(mt.length/W))}).map((we,ge)=>{const Be=ge+1,Ue=Be===Y;return r.jsx("button",{onClick:()=>G(Be),className:`px-3 py-1 rounded border ${Ue?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,"aria-current":Ue?"page":void 0,children:Be},Be)})}),r.jsx("button",{className:"p-2 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:()=>G(we=>we+1),disabled:Y*W>=mt.length,"aria-label":"Next page",children:r.jsx(HD,{})})]})]})]})}),r.jsx(nU,{}),r.jsx(tS,{})]})}const Vle=()=>{const[n,e]=V.useState(0),[t,i]=V.useState({}),[s,a]=V.useState(!1),[o,c]=V.useState(""),d=Bi(),h=Z2(Y=>Y.cart.items),m=localStorage.getItem("user"),x=h.reduce((Y,G)=>{const $=(G.cat_id||"").includes("6915735feeb23fa59c7d532b"),z=G.price*G.quantity,I=(G.lens?.totalPrice||0)*G.quantity,Q=(G.policy?.price||0)*G.quantity;return $?Y+z+Q:Y+z+I+Q},0),y=["Contact","Shipping","Billing","Review & Pay"],b={Ontario:.13,Alberta:.05,Default:.13,International:0},S={Standard:10,Express:30,PremiumExpress:50},_=Y=>Y==="Ontario"?b.Ontario:Y==="Alberta"?b.Alberta:Y==="International"?b.International:b.Default,E=t.shippingProvince||"Default",A=_(E),P=+(x*A).toFixed(2),N=x>500?0:S[t.shippingMethod]||0,L=+(x+P+N).toFixed(2);V.useEffect(()=>{const Y=localStorage.getItem("checkoutDraft");Y&&i(JSON.parse(Y))},[]),V.useEffect(()=>{localStorage.setItem("checkoutDraft",JSON.stringify({...t,currentStep:n}))},[t,n]);const j=(Y,G)=>{i(W=>({...W,[Y]:G}))};V.useEffect(()=>{m||Ht.fire({icon:"warning",title:"Login Required",text:"Please login to proceed with checkout.",confirmButtonText:"Go to Login",confirmButtonColor:"#dc2626"}).then(()=>{d("/login")})},[m,d]);const R=()=>{switch(n){case 0:{const Y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,G=/^(\+1\s?)?\d{3}[\s.-]?\d{3}[\s.-]?\d{4}$/;return Y.test(t.email||"")&&G.test(t.phone||"")}case 1:return t.shippingName&&t.shippingStreet&&t.shippingCity&&t.shippingPostal&&t.shippingMethod&&t.shippingProvince;case 2:return s?/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/.test(t.billingPostal||"")&&t.billingStreet&&t.billingCity:!0;case 3:return t.terms&&t.warranty&&t.privacy;default:return!1}},k=()=>{if(!R()){Ht.fire({icon:"error",title:"Oops...",text:"Please fill all required fields before continuing!"});return}e(Y=>Math.min(Y+1,y.length-1))},F=()=>e(Y=>Math.max(Y-1,0)),D=()=>{const Y={userId:m,email:t.email,phone:t.phone,cartItems:h.map(G=>({productId:G.id,name:G.name,image:G.image,price:G.price,categoryId:G.cat_id,catName:G.cat_sec,subCategoryName:G.subCategoryName,quantity:G.quantity,product_size:G.selectedSize||[],product_color:G.selectedColor||null,lens:G.lens||null,policy:G.policy||null,vendorID:G.vendorID||null})),shippingAddress:{fullName:t.shippingName,address:t.shippingStreet,city:t.shippingCity,province:t.shippingProvince,postalCode:t.shippingPostal,country:"Canada",phone:t.phone},billingAddress:s?{fullName:t.shippingName,address:t.billingStreet,city:t.billingCity,province:t.billingProvince,postalCode:t.billingPostal,country:"Canada",phone:t.phone}:{fullName:t.shippingName,address:t.shippingStreet,city:t.shippingCity,province:t.shippingProvince,postalCode:t.shippingPostal,country:"Canada",phone:t.phone},subtotal:x,tax:P,shipping:N,total:L,paymentMethod:"COD",paymentStatus:"Pending",orderStatus:"Placed"};localStorage.setItem("orderSummary",JSON.stringify(Y)),d("/payment")},B={Standard:{min:10,max:17},Express:{min:8,max:14},PremiumExpress:{min:4,max:10}};V.useEffect(()=>{if(t.shippingMethod&&B[t.shippingMethod]){const{min:Y,max:G}=B[t.shippingMethod],W=new Date,$=new Date(W);$.setDate(W.getDate()+Y);const z=new Date(W);z.setDate(W.getDate()+G);const I={year:"numeric",month:"long",day:"numeric"};c(`${$.toLocaleDateString("en-US",I)} - ${z.toLocaleDateString("en-US",I)}`)}else c("")},[t.shippingMethod]);const q=Y=>{Y<n||R()?e(Y):Ht.fire({icon:"error",title:"Oops...",text:"Please fill all required fields before continuing!"})};return r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"flex items-center",children:y.map((Y,G)=>r.jsxs(Mi.Fragment,{children:[r.jsxs("button",{type:"button",onClick:()=>q(G),className:"flex flex-col items-center flex-shrink-0 text-center cursor-pointer group mt-5","aria-current":G===n?"step":void 0,children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all
                  ${G<=n?"bg-[#f00000] text-white border-red-600":"border-black text-black group-hover:bg-black group-hover:text-white"}`,children:G+1}),r.jsx("span",{className:`mt-2 text-sm ${G===n?"text-[#f00000] font-bold":"text-gray-700"}`,children:Y})]}),G<y.length-1&&r.jsx("div",{className:`flex-1 h-2 rounded-sm transition-colors hover:cursor-pointer
                  ${G<n?"bg-[#f00000]":"bg-gray-300"}`})]},G))})}),n===0&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("input",{type:"email",placeholder:"example@email.com",value:t.email||"",onChange:Y=>j("email",Y.target.value),className:`border p-2 rounded w-full 
          ${t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?"border-red-500":"border-black"}`,required:!0}),t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)&&r.jsx("p",{className:"text-[#f00000] text-sm mt-1",children:"Invalid email address"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("input",{type:"tel",placeholder:"416 123 4567",value:t.phone||"",onChange:Y=>j("phone",Y.target.value),className:`border p-2 rounded w-full ${t.phone&&!/^(\+1\s?)?\d{3}[\s.-]?\d{3}[\s.-]?\d{4}$/.test(t.phone)?"border-red-500":"border-black"}`,required:!0}),t.phone&&!/^(\+1\s?)?\d{3}[\s.-]?\d{3}[\s.-]?\d{4}$/.test(t.phone)&&r.jsx("p",{className:"text-[#f00000] text-sm mt-1",children:"Invalid phone number. Use 416 123 4567 format."})]})]}),n===1&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("h1",{className:"w-[488px]",children:["Expected Delivery Date:"," ",r.jsx("b",{children:o||"Please select a shipping method"})]}),r.jsx("br",{}),r.jsx("hr",{className:`border-t-2 -mt-2 ${o?"w-[498px] border-black":"w-[418px] border-black"}`}),r.jsx("input",{type:"text",placeholder:"Full Name",value:t.shippingName||"",onChange:Y=>j("shippingName",Y.target.value),className:"border border-black p-2 rounded w-full col-span-2",required:!0}),r.jsx("input",{type:"text",placeholder:"Street",value:t.shippingStreet||"",onChange:Y=>j("shippingStreet",Y.target.value),className:"border border-black p-2 rounded w-full col-span-2",required:!0}),r.jsx("input",{type:"text",placeholder:"City",value:t.shippingCity||"",onChange:Y=>j("shippingCity",Y.target.value),className:"border border-black p-2 rounded w-full",required:!0}),r.jsx("input",{type:"text",placeholder:"Postal Code",value:t.shippingPostal||"",onChange:Y=>{const G=Y.target.value.toUpperCase();j("shippingPostal",G)},className:`border p-2 rounded w-full ${t.shippingPostal&&!/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/.test(t.shippingPostal)?"border-red-500":"border-black"}`,required:!0}),t.shippingPostal&&!/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/.test(t.shippingPostal)&&r.jsx("p",{className:"text-[#f00000] text-sm mt-1",children:"Invalid postal code. Example: A1A 1A1"}),r.jsxs("select",{value:t.shippingProvince||"",onChange:Y=>j("shippingProvince",Y.target.value),className:"border border-black p-2 rounded w-full col-span-2",required:!0,children:[r.jsx("option",{value:"",children:"Select Province"}),r.jsx("option",{value:"Ontario",children:"Ontario"}),r.jsx("option",{value:"Alberta",children:"Alberta"}),r.jsx("option",{value:"British Columbia",children:"British Columbia"}),r.jsx("option",{value:"Quebec",children:"Quebec"}),r.jsx("option",{value:"Manitoba",children:"Manitoba"}),r.jsx("option",{value:"Saskatchewan",children:"Saskatchewan"}),r.jsx("option",{value:"Nova Scotia",children:"Nova Scotia"}),r.jsx("option",{value:"New Brunswick",children:"New Brunswick"}),r.jsx("option",{value:"Newfoundland",children:"Newfoundland"}),r.jsx("option",{value:"Prince Edward Island",children:"Prince Edward Island"}),r.jsx("option",{value:"Northwest Territories",children:"Northwest Territories"}),r.jsx("option",{value:"Yukon",children:"Yukon"}),r.jsx("option",{value:"Nunavut",children:"Nunavut"}),r.jsx("option",{value:"International",children:"International"})]}),r.jsxs("select",{value:t.shippingMethod||"",onChange:Y=>j("shippingMethod",Y.target.value),className:"border border-black p-2 rounded w-full col-span-2",required:!0,children:[r.jsx("option",{value:"",children:"Select Shipping Method"}),r.jsx("option",{value:"Standard",children:"Standard (10-17 days)"}),r.jsx("option",{value:"Express",children:"Express (8-14 days)"}),r.jsx("option",{value:"PremiumExpress",children:"Premium Express (4-10 days)"})]})]}),n===2&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"checkbox",checked:s,onChange:Y=>a(Y.target.checked),className:"mr-2"}),"Billing address is different from shipping"]}),s&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsx("input",{type:"text",placeholder:"Street",value:t.billingStreet||"",onChange:Y=>j("billingStreet",Y.target.value),className:"border border-black p-2 rounded w-full col-span-2",required:!0}),r.jsx("input",{type:"text",placeholder:"City",value:t.billingCity||"",onChange:Y=>j("billingCity",Y.target.value),className:"border border-black p-2 rounded w-full",required:!0}),r.jsx("input",{type:"text",placeholder:"Postal Code",value:t.billingPostal||"",onChange:Y=>{const G=Y.target.value.toUpperCase();j("billingPostal",G)},className:`border p-2 rounded w-full ${t.billingPostal&&!/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/.test(t.billingPostal)?"border-red-500":"border-black"}`,required:!0}),t.billingPostal&&!/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/.test(t.billingPostal)&&r.jsx("p",{className:"text-[#f00000] text-sm mt-1",children:"Invalid postal code. Example: A1A 1A1"})]})]}),n===3&&r.jsxs("div",{className:"border-2 border-black rounded-xl shadow-lg bg-white p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-xl mb-4 text-[#f00000] border-b border-black pb-2",children:"Billing Details"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",t.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",t.phone]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Shipping Address:"})," ",t.shippingStreet,","," ",t.shippingCity," ",t.shippingPostal," (",t.shippingMethod,")"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Province:"})," ",t.shippingProvince]}),s&&r.jsxs("p",{children:[r.jsx("strong",{children:"Billing:"})," ",t.billingStreet,","," ",t.billingCity," ",t.billingPostal]})]}),r.jsxs("div",{className:"w-full ml-auto bg-white shadow-lg border border-gray-200 rounded-xl p-6 overflow-hidden",children:[r.jsx("h2",{className:"font-bold text-xl mb-4 text-[#f00000] border-b border-gray-300 pb-2",children:"Your Order"}),h.map((Y,G)=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start pb-3 border-b border-dashed border-gray-300 gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-start w-full sm:w-auto",children:[r.jsx("img",{src:Y.image,alt:Y.name,className:"w-24 h-24 sm:w-50 sm:h-24 object-cover rounded mr-4 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"text-gray-800 font-semibold flex items-center",children:[Y.name,r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["x ",Y.quantity]})]}),Y.selectedSize?.length>0&&r.jsxs("p",{className:"text-gray-600 text-sm",children:["Size: ",Y.selectedSize]}),Y.selectedColor?.length>0&&r.jsxs("p",{className:"text-gray-600 text-sm flex items-center",children:["Color:",r.jsx("span",{style:{backgroundColor:Y.selectedColor,width:"15px",height:"15px",display:"inline-block",borderRadius:"50%",marginRight:"5px",marginLeft:"5px"}}),Y.selectedColor]}),Y.policy&&Y.policy.active&&r.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Policy: ",Y.policy.name," ($",(Y.policy.price||0).toFixed(2),")"]}),Y.lens&&Y.lens.totalPrice!=null&&Y.cat_id!=="6915735feeb23fa59c7d532b"&&r.jsxs("p",{className:"text-gray-600 text-sm",children:["Lens: $",(Y.lens.totalPrice||0).toFixed(2)]}),r.jsxs("p",{className:"text-gray-800 font-bold mt-1",children:[Y.cat_id==="6915735feeb23fa59c7d532b"?"Contact Lens":"Frame"," ","$",(Y.price||0).toFixed(2)]})]})]}),r.jsx("div",{className:"w-full sm:w-auto text-right mt-2 sm:mt-8",children:Y.cat_id==="6915735feeb23fa59c7d532b"?r.jsxs("p",{className:"text-gray-800 font-bold",children:["$",(((Y.price||0)+(Y.policy?.price||0))*(Y.quantity||1)).toFixed(2)]}):r.jsxs("p",{className:"text-gray-800 font-bold",children:["$",(((Y.price||0)+(Y.lens?.totalPrice||0)+(Y.policy?.price||0))*(Y.quantity||1)).toFixed(2)]})})]},G)),r.jsxs("div",{className:"mt-4 space-y-2 text-gray-700",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{className:"mt-1 sm:mt-0",children:["$",x.toFixed(2)]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsx("span",{className:"mt-1 sm:mt-0",children:N===0?"FREE":`$${N.toFixed(2)}`})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between",children:[r.jsxs("span",{children:["Tax (",(A*100).toFixed(0),"%)"]}),r.jsxs("span",{className:"mt-1 sm:mt-0",children:["$",P.toFixed(2)]})]}),r.jsxs("div",{className:"border-t pt-2 flex flex-col sm:flex-row sm:justify-between font-bold text-[#f00000] text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"mt-1 sm:mt-0",children:["$",L.toFixed(2)]})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-xl mb-4 text-[#f00000] border-b border-black pb-2",children:"Consents"}),r.jsxs("label",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"checkbox",checked:t.terms||!1,onChange:Y=>j("terms",Y.target.checked),className:"mr-2"}),"I agree to"," ",r.jsx(xt,{to:"/terms&Conditions",className:"text-blue-600 underline ml-1",children:"Terms & Conditions"})]}),r.jsxs("label",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"checkbox",checked:t.warranty||!1,onChange:Y=>j("warranty",Y.target.checked),className:"mr-2"}),"I agree to"," ",r.jsx(xt,{to:"/return-exchange",className:"text-blue-600 underline ml-1",children:"Warranty / Return Policy"})]}),r.jsxs("label",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"checkbox",checked:t.privacy||!1,onChange:Y=>j("privacy",Y.target.checked),className:"mr-2"}),"I agree to"," ",r.jsx(xt,{to:"/privacy-policy",className:"text-blue-600 underline ml-1",children:"Privacy Policy"})]})]})]}),r.jsxs("div",{className:"flex justify-between mt-6",children:[n>0&&r.jsx("button",{onClick:F,className:"px-4 py-2 rounded bg-black text-white hover:bg-gray-800 hover:cursor-pointer",children:"Previous"}),n<y.length-1&&r.jsx("button",{onClick:k,className:"px-4 py-2 rounded bg-[#f00000] text-white hover:bg-red-700 hover:cursor-pointer",children:"Next"}),n===y.length-1&&r.jsx("button",{onClick:D,disabled:!R(),className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 hover:cursor-pointer",children:"Continue Order"})]})]})};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qle=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),GB=n=>{const e=qle(n);return e.charAt(0).toUpperCase()+e.slice(1)},iU=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Wle=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:o,...c},d)=>V.createElement("svg",{ref:d,...Xle,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:iU("lucide",s),...!a&&!Wle(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,m])=>V.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=(n,e)=>{const t=V.forwardRef(({className:i,...s},a)=>V.createElement(Yle,{ref:a,iconNode:e,className:iU(`lucide-${Gle(GB(n))}`,`lucide-${n}`,i),...s}));return t.displayName=GB(n),t};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jle=cc("arrow-right",Kle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zle=cc("circle-check-big",Qle);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ece=cc("clock",$le);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],nce=cc("cpu",tce);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sce=cc("eye-off",ice);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sU=cc("eye",rce);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],oce=cc("heart",ace);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cce=cc("map-pin",lce);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dce=cc("shield",uce);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fce=cc("sparkles",hce),qB=()=>{const n=Bi(),e=()=>{n("/")};return r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white text-black",children:[r.jsx("div",{className:"flex items-center justify-center w-32 h-32 rounded-full border-4 border-red-600 animate-bounce",children:r.jsx(Zle,{className:"w-20 h-20 text-[#f00000]"})}),r.jsx("h1",{className:"mt-6 text-4xl font-bold text-[#f00000] drop-shadow-lg",children:"Order Placed!"}),r.jsx("p",{className:"mt-3 text-lg text-black",children:"Thank you for shopping with us. Your order has been confirmed."}),r.jsx("button",{onClick:e,className:"mt-6 px-6 py-3 rounded-2xl bg-[#f00000] hover:bg-red-700 text-white font-semibold shadow-lg transition hover:cursor-pointer",children:"Continue Shopping"})]})};function pce(){const[n,e]=V.useState(""),[t,i]=V.useState(null),[s,a]=V.useState(0),[o,c]=V.useState("Weak"),[d,h]=V.useState({firstName:"",lastName:"",dateOfBirth:"",mobilePhone:"",smsOptIn:!1,email:"",password:"",twoFactorAuth:"Email",street:"",city:"",province:"",postalCode:"",country:"",prefEmail:!1,prefSms:!1,prefPhone:!1,marketingOptIn:!1}),m=S=>{let _=0;S.length>=6&&_++,/[A-Z]/.test(S)&&_++,/[0-9]/.test(S)&&_++,/[^A-Za-z0-9]/.test(S)&&_++,a(_),c(_<=1?"Weak":_===2?"Medium":_===3?"Strong":"Very Strong")},x=S=>{const{name:_,value:E,type:A,checked:P}=S.target;A==="checkbox"?h(N=>({...N,[_]:P})):_==="password"?(h(N=>({...N,password:E})),m(E)):h(N=>({...N,[_]:E}))},y=S=>{i(S.target.files?.[0]||null)},b=async S=>{if(S.preventDefault(),d.password!==n){Ht.fire({toast:!0,position:"top-end",icon:"error",title:"Passwords do not match.",showConfirmButton:!1,timer:1500,timerProgressBar:!0});return}try{const _=new FormData;_.append("firstName",d.firstName),_.append("lastName",d.lastName),_.append("dateOfBirth",d.dateOfBirth),_.append("mobilePhone",d.mobilePhone),_.append("smsOptIn",String(d.smsOptIn)),_.append("email",d.email),_.append("password",d.password),_.append("twoFactorAuth",d.twoFactorAuth),_.append("marketingOptIn",String(d.marketingOptIn)),_.append("address[street]",d.street),_.append("address[city]",d.city),_.append("address[province]",d.province||""),_.append("address[postalCode]",d.postalCode),_.append("address[country]",d.country||""),_.append("communicationPreference[email]",String(d.prefEmail)),_.append("communicationPreference[sms]",String(d.prefSms)),_.append("communicationPreference[phone]",String(d.prefPhone)),t&&_.append("prescriptionFile",t);const E=await St.post("/customer-register",_,{headers:{"Content-Type":"multipart/form-data"}});Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Registration successful!",showConfirmButton:!1,timer:1500,timerProgressBar:!0}),h({firstName:"",lastName:"",dateOfBirth:"",mobilePhone:"",smsOptIn:!1,email:"",password:"",twoFactorAuth:"Email",street:"",city:"",province:"",postalCode:"",country:"",prefEmail:!1,prefSms:!1,prefPhone:!1,marketingOptIn:!1}),e(""),i(null),a(0),c("Weak")}catch(_){console.error(_);let E="Registration failed. Please try again.";if(_.response){const{status:A,data:P}=_.response;A===400||A===409?E=P.message||"User already registered with this email or phone number.":A===500&&P?.message?.includes("duplicate")?E="User already registered with this email or phone number.":P?.message&&(E=P.message)}Ht.fire({toast:!0,position:"top-end",icon:"error",title:E,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}};return r.jsxs("div",{className:"mx-auto p-8 mt-12 mb-12 max-w-4xl bg-white shadow-xl rounded-2xl border-t-8 border-red-600",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-center text-[#f00000] mb-6",children:"Create Your Account"}),r.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Join us to access exclusive features and services"}),r.jsxs("form",{onSubmit:b,encType:"multipart/form-data",className:"space-y-10",autoComplete:"off",children:[r.jsxs("section",{children:[r.jsx("h3",{className:"text-lg font-semibold text-[#f00000] border-b-2 border-red-200 pb-1 mb-4",children:"Personal Information"}),r.jsx("div",{className:"grid grid-cols-2 gap-6",children:[{label:"First Name",name:"firstName",type:"text"},{label:"Last Name",name:"lastName",type:"text"},{label:"Date of Birth",name:"dateOfBirth",type:"date"},{label:"Mobile Phone",name:"mobilePhone",type:"tel"}].map((S,_)=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:S.label}),r.jsx("input",{type:S.type,name:S.name,value:d[S.name],onChange:x,className:"w-full border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-lg p-2.5",required:!0})]},_))}),r.jsx("div",{className:"mt-3",children:r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",name:"smsOptIn",checked:d.smsOptIn,onChange:x,className:"text-[#f00000] focus:ring-red-500"}),"Opt-in for SMS/WhatsApp updates"]})})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-lg font-semibold text-[#f00000] border-b-2 border-red-200 pb-1 mb-4",children:"Login & Security"}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:d.email,onChange:x,placeholder:"example@gmail.com",autoComplete:"off",className:"w-full border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-lg p-2.5",required:!0}),r.jsx("label",{className:"block text-sm font-medium mt-4 text-gray-700",children:"Confirm Password"}),r.jsx("input",{type:"password",value:n,onChange:S=>e(S.target.value),placeholder:"Confirm Password",autoComplete:"new-password",className:"w-full border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-lg mt-1 p-2.5",required:!0}),d.password&&r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"mt-3 text-sm",children:["Password Strength:"," ",r.jsx("strong",{className:s<=1?"text-[#f00000]":s===2?"text-yellow-500":s===3?"text-green-500":"text-blue-600",children:o})]}),r.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:`h-full transition-all duration-300 ${s<=1?"bg-[#f00000] w-1/4":s===2?"bg-yellow-500 w-1/2":s===3?"bg-green-500 w-3/4":"bg-blue-500 w-full"}`})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Password"}),r.jsx("input",{type:"password",name:"password",value:d.password,onChange:x,placeholder:"Enter Password",autoComplete:"new-password",className:"w-full border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-lg p-2.5",required:!0}),r.jsx("p",{className:"block text-sm font-medium mb-1 mt-5 text-gray-700",children:"Two Factor Authentication"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twoFactorAuth",value:"Email",checked:d.twoFactorAuth==="Email",onChange:x,className:"text-[#f00000] focus:ring-red-500"}),"Email"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"radio",name:"twoFactorAuth",value:"SMS",checked:d.twoFactorAuth==="SMS",onChange:x,className:"text-[#f00000] focus:ring-red-500"}),"SMS"]})]})]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-lg font-semibold text-[#f00000] border-b-2 border-red-200 pb-1 mb-4",children:"Address & Preferences"}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsx("div",{children:[{label:"Street Address",name:"street"},{label:"City",name:"city"},{label:"Postal Code",name:"postalCode"}].map((S,_)=>r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:S.label}),r.jsx("input",{type:"text",name:S.name,value:d[S.name],onChange:x,className:"w-full border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-lg p-2.5",required:!0})]},_))}),r.jsxs("div",{children:[r.jsx("p",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Communication Preference"}),["prefEmail","prefSms","prefPhone"].map(S=>r.jsxs("label",{className:"block mb-2 text-sm",children:[r.jsx("input",{type:"checkbox",name:S,checked:d[S],onChange:x,className:"text-[#f00000] focus:ring-red-500 mr-2"}),S.replace("pref","")]},S)),r.jsx("p",{className:"block text-sm font-medium mb-1 mt-4 text-gray-700",children:"Marketing Opt-in"}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",name:"marketingOptIn",checked:d.marketingOptIn,onChange:x,className:"text-[#f00000] focus:ring-red-500"}),"I agree to receive promotional offers"]}),r.jsx("p",{className:"block text-sm font-medium mb-1 mt-6 text-gray-700",children:"Prescription Upload"}),r.jsx("input",{type:"file",onChange:y,className:"w-full border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 rounded-lg p-2.5 text-sm",accept:".pdf,.jpg,.jpeg,.png"})]})]})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{type:"submit",className:"w-full bg-[#f00000] text-white py-3 rounded-lg font-semibold text-lg shadow-md hover:bg-red-700 transition-all duration-300",children:"Sign Up"})})]})]})}const rU=V.createContext(),mce=({children:n})=>{const[e,t]=V.useState(!1);V.useEffect(()=>{localStorage.getItem("isAuthenticated")==="true"&&t(!0)},[]);const i=()=>{t(!0),localStorage.setItem("isAuthenticated","true")},s=()=>{t(!1),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user")};return r.jsx(rU.Provider,{value:{isAuthenticated:e,login:i,logout:s},children:n})},aU=()=>V.useContext(rU),gce=({children:n})=>{const{isAuthenticated:e}=aU();return e?n:r.jsx(N8,{to:"/register",replace:!0})};function xce(){const n=Bi(),{isAuthenticated:e}=aU(),[t,i]=V.useState({email:"",password:""}),[s,a]=V.useState(""),[o,c]=V.useState("login"),[d,h]=V.useState(""),[m,x]=V.useState(""),[y,b]=V.useState(!1),[S,_]=V.useState(!1),E=L=>{i({...t,[L.target.name]:L.target.value})},A=async L=>{L.preventDefault(),a(""),b(!0);try{const j=await St.post("/customer-login",t,{headers:{"Content-Type":"application/json"}});localStorage.setItem("user",j.data.customer.id),localStorage.setItem("token",j.data.token),n("/")}catch(j){a(j.response?.data?.message||"Login failed")}finally{b(!1)}},P=async L=>{if(L.preventDefault(),!t.email)return Ht.fire("Error","Please enter your email address.","error");try{b(!0);const j=await St.post("/customer-forgot-password",{email:t.email},{headers:{"Content-Type":"application/json"}});Ht.fire("Success",j.data.message,"success"),c("verify")}catch(j){Ht.fire("Error",j.response?.data?.message||"Failed to send OTP","error")}finally{b(!1)}},N=async L=>{if(L.preventDefault(),!d||!m)return Ht.fire("Error","Please fill all fields.","error");try{b(!0);const j=await St.post("/customer-verify-otp",{email:t.email,otp:d,newPassword:m},{headers:{"Content-Type":"application/json"}});Ht.fire("Success",j.data.message,"success"),c("login"),h(""),x(""),i({email:"",password:""})}catch(j){Ht.fire("Error",j.response?.data?.message||"Invalid OTP","error")}finally{b(!1)}};return r.jsx("div",{className:"flex justify-center items-center bg-gray-100 px-4",children:r.jsxs("form",{onSubmit:o==="login"?A:o==="forgot"?P:N,className:"bg-white shadow-lg rounded-xl w-full h-full max-w-[500px] max-h-[600px] sm:w-[90%] sm:h-auto p-8 mt-20 mb-20",children:[r.jsx("h2",{className:"text-2xl font-bold text-center text-[#f00000] mb-6",children:o==="login"?"Sign In":o==="forgot"?"Forgot Password":"Verify OTP"}),s&&o==="login"&&r.jsx("p",{className:"text-[#f00000] text-center mb-4",children:s}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-1",children:"Email Address"}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:E,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-600",placeholder:"Enter your email"})]}),o==="login"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 relative",children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-1",children:"Password"}),r.jsx("input",{type:S?"text":"password",name:"password",value:t.password,onChange:E,required:!0,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",className:"w-full border border-gray-300 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-red-600",placeholder:"Enter your password"}),r.jsx("button",{type:"button",onClick:()=>_(L=>!L),className:"absolute right-3 top-9 transform -translate-y-1/2 text-gray-600 mt-3.5",children:S?r.jsx(sce,{size:20}):r.jsx(sU,{size:20})})]}),r.jsx("div",{className:"text-right mb-4",children:r.jsx("span",{onClick:()=>c("forgot"),className:"text-[#f00000] text-sm hover:underline cursor-pointer",children:"Forgot Password?"})}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#f00000] hover:bg-black text-white py-2 rounded-lg font-semibold transition-colors",children:y?"Logging in...":"Login"}),r.jsxs("p",{className:"text-center text-gray-600 mt-4",children:["Don't have an account?"," ",r.jsx("span",{onClick:()=>n("/register"),className:"text-[#f00000] hover:underline cursor-pointer",children:"Register"})]})]}),o==="forgot"&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"Enter your registered email to receive an OTP."}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#f00000] hover:bg-black text-white py-2 rounded-lg font-semibold transition-colors",children:y?"Sending OTP...":"Send OTP"}),r.jsxs("p",{className:"text-center text-gray-600 mt-4",children:["Remembered your password?"," ",r.jsx("span",{onClick:()=>c("login"),className:"text-[#f00000] hover:underline cursor-pointer",children:"Back to Login"})]})]}),o==="verify"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-1",children:"Enter OTP"}),r.jsx("input",{type:"text",value:d,onChange:L=>h(L.target.value),maxLength:"6",required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-600",placeholder:"Enter the 6-digit OTP"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-1",children:"New Password"}),r.jsx("input",{type:"password",value:m,onChange:L=>x(L.target.value),required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-red-600",placeholder:"Enter new password"})]}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#f00000] hover:bg-black text-white py-2 rounded-lg font-semibold transition-colors",children:y?"Verifying...":"Reset Password"}),r.jsxs("p",{className:"text-center text-gray-600 mt-4",children:["Didnt receive OTP?"," ",r.jsx("span",{onClick:P,className:"text-[#f00000] hover:underline cursor-pointer",children:"Resend OTP"})]})]})]})})}function yce({userId:n}){const[e,t]=V.useState([]),[i,s]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const m=localStorage.getItem("user"),y=(await St.get(`/getWishlist/${m}`)).data?.products||[];t(y.filter(b=>b?.productId))}catch(m){console.error("Failed to fetch wishlist:",m),Ht.fire({icon:"error",title:"Error",text:"Failed to load wishlist"})}finally{s(!1)}})()},[]);const a=h=>{const m=h.product_image_collection?.[0]||h.product_variants?.[0]?.images?.[0];return m?`${Pn}${m}`:null},o=h=>h.discountType==="percentage"?h.discountValue:h.product_price&&h.product_sale_price?Math.round((h.product_price-h.product_sale_price)/h.product_price*100):0,c=h=>h.stockAvailability>0,d=async h=>{const m=localStorage.getItem("user");try{if(e.some(x=>x?.productId?._id===h))await St.delete("/removeWishlist",{data:{userId:m,productId:h}}),t(x=>x.filter(y=>y?.productId?._id!==h)),Ht.fire({toast:!0,position:"top-end",icon:"error",title:"Removed from wishlist",showConfirmButton:!1,timer:1500,timerProgressBar:!0});else{await St.post("/addWishlist",{userId:m,productId:h});const x=await St.get(`/getWishlist/${m}`);t((x.data?.products||[]).filter(y=>y?.productId)),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Added to wishlist",showConfirmButton:!1,timer:1500,timerProgressBar:!0})}}catch(x){console.error("Wishlist toggle failed:",x),Ht.fire({icon:"error",title:"Error",text:"Failed to update wishlist"})}};return i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("p",{className:"text-lg text-gray-600",children:"Loading wishlist..."})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 p-8",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8 border-b border-gray-300 pb-2",children:"My Wishlist"}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Your wishlist is empty."}),r.jsx(xt,{to:"/",className:"inline-block bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-medium",children:"Continue Shopping"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(h=>{const m=h?.productId;if(!m)return null;const x=a(m),y=c(m),b=o(m);return r.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden border border-gray-200 flex flex-col",children:[r.jsxs("div",{className:"relative h-40 bg-gray-100 group",children:[b>0&&r.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-bold z-10",children:[b,"% OFF"]}),!y&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center z-20",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"Out of Stock"})}),r.jsx("button",{onClick:()=>d(m._id),className:"absolute top-2 right-2 z-30 bg-white rounded-full p-2 hover:bg-gray-100 transition",title:e.some(S=>S?.productId?._id===m._id)?"Remove from wishlist":"Add to wishlist",children:r.jsx(xy,{className:"text-red-500 text-2xl"})}),x?r.jsx(xt,{to:`/product/${m._id}/${m.subCategoryName}/${m.subCat_id}`,state:{ID:m._id},children:r.jsx("img",{src:x,alt:m.product_name,className:"w-full h-40 object-contain group-hover:scale-102 transition-transform duration-200",loading:"lazy",decoding:"async"})}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"No Image Available"})]}),r.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[r.jsx("h2",{className:"font-semibold text-gray-800 text-base capitalize line-clamp-2 mb-2",children:m.product_name}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1 mb-2",children:[m.frame_color&&r.jsxs("p",{children:["Color: ",m.frame_color]}),m.frame_shape&&r.jsxs("p",{children:["Shape: ",m.frame_shape]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[m.product_price&&r.jsxs("span",{className:"text-gray-400 line-through text-md",children:["$",m.product_price.toFixed(2)]}),r.jsxs("span",{className:"text-red-600 font-bold text-lg",children:["$",m.product_sale_price.toFixed(2)]})]})}),r.jsx(xt,{to:`/product/${m._id}/${m.subCategoryName}/${m.subCat_id}`,className:`w-full block text-center py-2 rounded-lg font-medium transition ${y?"bg-green-500 hover:bg-green-600 text-white cursor-pointer":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:y?"View Details":"Out of Stock"})]})]},m._id)})})]})}const vce=()=>{const[n,e]=V.useState(!1),[t,i]=V.useState(!1),[s,a]=V.useState([]),[o,c]=V.useState(!1),[d,h]=V.useState(null),[m,x]=V.useState({name:"",email:"",userType:"",businessNumber:"",registrationNumber:"",vendorType:"",message:"",uploadDocument:null}),y=_=>{x({...m,[_.target.name]:_.target.value})},b=async _=>{_.preventDefault(),c(!0);try{const E=new FormData;E.append("name",m.name||""),E.append("email",m.email||""),E.append("userType",m.userType||""),E.append("businessNumber",m.businessNumber||""),E.append("registrationNumber",m.registrationNumber||""),E.append("vendorType",m.vendorType||""),E.append("message",m.message||""),d&&E.append("uploadDocument",d),await St.post("/addInquiry",E),Ht.fire({icon:"success",title:"Inquiry Submitted Successfully",text:"Your inquiry has been sent to the admin.",showConfirmButton:!1,timer:2e3,position:"top-end",toast:!0}),x({name:"",email:"",userType:"",businessNumber:"",registrationNumber:"",vendorType:"",message:"",uploadDocument:null}),h(null),e(!1),i(!1)}catch(E){console.error("Error submitting inquiry:",E),E?.response?.status===409?Ht.fire({icon:"warning",title:"Duplicate Found",text:E.response.data?.message||"Duplicate inquiry detected.",showConfirmButton:!0,position:"top-end",toast:!0}):Ht.fire({icon:"error",title:"Failed to submit inquiry",text:"Something went wrong. Please try again later or Check File type.",showConfirmButton:!1,timer:2e3,position:"top-end",toast:!0})}finally{c(!1)}},S=async _=>{try{const E=await St.get(`/customer/${_}`);a(E.data.data)}catch(E){console.error("Failed to fetch customer:",E)}};return V.useEffect(()=>{const _=localStorage.getItem("user");_&&S(_)},[]),r.jsxs("div",{className:"min-h-screen flex flex-col items-center py-12 px-4 bg-white",children:[r.jsx("h1",{className:"text-4xl font-bold text-[#f00000] mb-12",children:"Contact Us"}),r.jsxs("div",{className:"w-full max-w-4xl bg-white border border-red-500 rounded-lg",children:[r.jsxs("div",{className:"mt-5 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Atal Optical"}),r.jsxs("div",{className:"bg-white border border-red-500 rounded-md p-6 text-black shadow-md",children:[r.jsx("p",{className:"mb-4 text-gray-700",children:"Your trusted destination for premium sunglasses & eyewear. Visit us or get in touch using the details below."}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-[#f00000]",children:"Store Address:"})," ","Corporate Office : 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-[#f00000]",children:"Phone:"})," +1 1866-242-3545"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-[#f00000]",children:"Email:"})," ","sales.ataloptical@gmail.com, info.ataloptical@gmail.com"]}),r.jsxs("li",{children:[r.jsx("span",{className:"font-semibold text-[#f00000]",children:"Store Hours:"})," ","Mon - Sat, 10:00 AM - 8:00 PM"]})]})]})]}),r.jsx("hr",{className:"border-t-2 border-black w-full"}),r.jsxs("div",{className:"mt-5 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Become A Vendor"}),r.jsx("p",{className:"text-black mb-4",children:"Join our network of trusted vendors. Partner with us to supply quality products and services."}),r.jsx("button",{onClick:()=>{x(_=>({..._,userType:"vendor"})),e(!0)},className:"bg-[#f00000] hover:bg-black hover:text-[#f00000] text-white font-semibold py-2 px-4 rounded-md w-full hover:cursor-pointer",children:"Click Here"})]}),r.jsx("hr",{className:"border-t-2 border-black w-full"}),r.jsxs("div",{className:"mt-5 p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Become A Insurance Company"}),r.jsx("p",{className:"text-black mb-4",children:"Collaborate with us as an insurance company. Work together to provide innovative solutions."}),r.jsx("button",{onClick:()=>{x(_=>({..._,userType:"company"})),i(!0)},className:"bg-[#f00000] hover:bg-black hover:text-red-500 text-white font-semibold py-2 px-4 rounded-md w-full hover:cursor-pointer",children:"Click Here"})]})]}),n&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[r.jsx("h2",{className:"text-xl font-semibold text-[#f00000] mb-4",children:"Vendor Inquiry"}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsx("input",{type:"hidden",name:"userType",value:m.userType}),r.jsx("input",{name:"name",value:m.name,onChange:y,className:"w-full border p-2 rounded",placeholder:"Name",required:!0}),r.jsx("input",{type:"email",name:"email",value:m.email,onChange:y,className:"w-full border p-2 rounded",placeholder:"Email",required:!0}),r.jsx("input",{name:"businessNumber",value:m.businessNumber,onChange:y,className:"w-full border p-2 rounded",placeholder:"Business Number"}),r.jsxs("select",{name:"vendorType",value:m.vendorType,onChange:y,className:"w-full border p-2 rounded",required:!0,children:[r.jsx("option",{value:"",children:"Select Vendor Type"}),r.jsx("option",{value:"lab",children:"Lab"}),r.jsx("option",{value:"brand",children:"Brand"}),r.jsx("option",{value:"supplier",children:"Supplier"})]}),r.jsx("input",{type:"file",name:"uploadDocument",accept:".pdf",onChange:_=>h(_.target.files[0]),className:"w-full border border-gray-300 rounded-md p-2 mb-3",required:!0}),r.jsx("textarea",{name:"message",value:m.message,onChange:y,className:"w-full border p-2 rounded",placeholder:"Message"}),r.jsxs("div",{className:"flex justify-between mt-4",children:[r.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 bg-gray-300 rounded hover:cursor-pointer",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#f00000] text-white rounded hover:bg-red-700 hover:cursor-pointer",children:"Submit"})]})]}),o&&r.jsx("div",{className:"absolute inset-0 bg-white/70 flex items-center justify-center rounded-lg",children:r.jsx("div",{className:"w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full animate-spin"})})]})}),t&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[r.jsx("h2",{className:"text-xl font-semibold text-[#f00000] mb-4",children:"Company Inquiry"}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsx("input",{type:"hidden",name:"userType",value:m.userType}),r.jsx("input",{name:"name",value:m.name,onChange:y,className:"w-full border p-2 rounded",placeholder:"Name",required:!0}),r.jsx("input",{type:"email",name:"email",value:m.email,onChange:y,className:"w-full border p-2 rounded",placeholder:"Email",required:!0}),r.jsx("input",{name:"registrationNumber",value:m.registrationNumber,onChange:y,className:"w-full border p-2 rounded",placeholder:"Registration Number"}),r.jsx("input",{type:"file",name:"uploadDocument",accept:".pdf",onChange:_=>h(_.target.files[0]),className:"w-full border border-gray-300 rounded-md p-2 mb-3",required:!0}),r.jsx("textarea",{name:"message",value:m.message,onChange:y,className:"w-full border p-2 rounded",placeholder:"Message"}),r.jsxs("div",{className:"flex justify-between mt-4",children:[r.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-gray-300 rounded hover:cursor-pointer",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#f00000] text-white rounded hover:bg-red-700 hover:cursor-pointer",children:"Submit"})]})]}),o&&r.jsx("div",{className:"absolute inset-0 bg-white/70 flex items-center justify-center rounded-lg",children:r.jsx("div",{className:"w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full animate-spin"})})]})})]})},bce=()=>{const n=ws(),{doctorName:e,day:t,weekday:i,time:s,examType:a,doctorImage:o}=n.state||{},[c,d]=V.useState(!1),[h,m]=V.useState({firstName:"",lastName:"",dob:"",gender:"",email:"",phone:""}),x=localStorage.getItem("user"),y=S=>{const{name:_,value:E}=S.target;m(A=>({...A,[_]:E}))},b=async S=>{S.preventDefault();const _=t&&s?`${t} ${s}`:"";try{const E={...h,custId:x||null,doctorName:e||"",appointmentDate:_,examType:a||"",weekday:i||""},A=await St.post("/addEyeExam",E);A.data.success?(Ht.fire({title:"Appointment Booked",text:"Appointment booked successfully!",icon:"success",confirmButtonText:"OK"}),m({firstName:"",lastName:"",dob:"",gender:"",email:"",phone:""})):alert(A.data.message||"Failed to book appointment.")}catch(E){console.error("Error booking appointment:",E.response?.data||E),Ht.fire({title:"Error!",text:"Failed to book appointment. Please try again.",icon:"error",confirmButtonText:"OK"})}};return r.jsxs("div",{className:"p-4 md:p-10 bg-gray-50",children:[r.jsx("h1",{className:"text-2xl md:text-4xl text-[#f00000] text-center font-bold mb-3",children:"Book Your Eye Consultation"}),r.jsx("p",{className:"text-sm md:text-[16px] text-gray-700 text-center mb-6 md:mb-10",children:"Enter your details below to confirm your online booking."}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 w-full max-w-6xl bg-white shadow-xl rounded-xl overflow-hidden",children:[r.jsx("div",{className:"bg-[#f00000] p-8 flex flex-col justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Your Appointment"}),r.jsx("p",{className:"text-white text-lg",children:r.jsxs("span",{className:"font-medium",children:[t,", ",s]})}),r.jsx("p",{className:"mt-2 text-white",children:a}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-black mb-3",children:"Eye Care Professional"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:Pn+o,alt:e,className:"w-14 h-14 rounded-full border-2 border-red-500 mr-4",loading:"lazy",decoding:"async"}),r.jsx("p",{className:"text-white font-medium",children:e})]})]})]})}),r.jsxs("div",{className:"p-6 md:p-8",children:[r.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800 mb-5 md:mb-6",children:"Your Information"}),r.jsxs("form",{onSubmit:b,className:"space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),r.jsx("input",{type:"text",name:"firstName",value:h.firstName,onChange:y,placeholder:"First Name",className:"w-full border border-red-500 rounded-md p-2 text-sm md:text-base focus:ring-2 focus:ring-red-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),r.jsx("input",{type:"text",name:"lastName",value:h.lastName,onChange:y,placeholder:"Last Name",className:"w-full border border-red-500 rounded-md p-2 text-sm md:text-base focus:ring-2 focus:ring-red-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender"}),r.jsxs("select",{name:"gender",value:h.gender,onChange:y,className:"w-full border border-red-500 rounded-md p-2 text-sm md:text-base focus:ring-2 focus:ring-red-500",required:!0,children:[r.jsx("option",{value:"",children:"Select Gender"}),r.jsx("option",{children:"Male"}),r.jsx("option",{children:"Female"}),r.jsx("option",{children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date of Birth"}),r.jsx("input",{type:"date",name:"dob",value:h.dob,onChange:y,className:"w-full border border-red-500 rounded-md p-2 text-sm md:text-base focus:ring-2 focus:ring-red-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:h.email,onChange:y,placeholder:"Enter your email",className:"w-full border border-red-500 rounded-md p-2 text-sm md:text-base focus:ring-2 focus:ring-red-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),r.jsx("input",{type:"text",name:"phone",value:h.phone,onChange:y,placeholder:"Enter your phone",className:"w-full border border-red-500 rounded-md p-2 text-sm md:text-base focus:ring-2 focus:ring-red-500",required:!0})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Consent & Declaration"}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("input",{type:"checkbox",className:"mt-1 mr-2",checked:c,onChange:S=>d(S.target.checked)}),r.jsx("p",{className:"text-sm text-gray-600",children:"I declare that all the information provided is true, complete, and accurate. I agree to send my personal information to my clinic for processing this appointment request."})]})]}),r.jsx("button",{type:"submit",disabled:!c,className:`w-full rounded-md p-3 hover:cursor-pointer text-white font-semibold text-base md:text-lg mt-4 transition ${c?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,children:"Book Appointment"})]})]})]})})]})},wce=()=>r.jsx("div",{className:"bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"mx-auto bg-white shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Our Services"}),r.jsx("hr",{className:"border-white w-80 mt-3 mx-auto"})]}),r.jsxs("div",{className:"p-8 text-gray-800 space-y-8 mx-15",children:[r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-semibold text-[#f00000] text-center",children:"Services At Atal Optical"}),r.jsx("hr",{className:"border-red-600 w-90 mx-auto my-2"}),r.jsxs("p",{className:"mt-4",children:["At ",r.jsx("strong",{children:"ATAL Optical"}),", we go beyond just selling eyewearwe provide a ",r.jsx("strong",{children:"complete vision care experience"})," designed to meet your lifestyle and fashion needs. Since 2024, our team of experienced opticians and stylists has been helping clients in Toronto and the GTA see clearly, look stylish, and feel confident."]}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Prescription Eyewear"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsxs("li",{children:["Wide range of ",r.jsx("strong",{children:"luxury eyeglasses"})," for men, women, and children"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Designer frames"})," in classic, modern, and trendy styles"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Customized lens options"})," including single vision, bifocals, and progressives"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Blue light protection"})," lenses for digital screen users"]})]}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Sunglasses"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsxs("li",{children:["Premium sunglasses for ",r.jsx("strong",{children:"style and sun protection"})]}),r.jsxs("li",{children:["100% ",r.jsx("strong",{children:"UV protection"})," 100% UV protection lenses to safeguard your eyes"]}),r.jsx("li",{children:"Polarized lenses to reduce glare and improve clarity"}),r.jsx("li",{children:"Prescription sunglasses for everyday wear"})]}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Contact Lens Services"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsxs("li",{children:["Daily, bi-weekly, and monthly ",r.jsx("strong",{children:"contact lens fittings"})]}),r.jsxs("li",{children:["Comfortable lenses for ",r.jsx("strong",{children:"astigmatism and presbyopia"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Contact lens replacement and exchange"})," with annual supply purchases"]}),r.jsx("li",{children:"Expert guidance on safe lens care and hygiene"})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Luxury & Designer Frames"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsxs("li",{children:["Curated collection of ",r.jsx("strong",{children:"top designer brands"})]}),r.jsxs("li",{children:["Over ",r.jsx("strong",{children:"140,000+ frames"}),"to choose from"]}),r.jsxs("li",{children:["Styles to match every ",r.jsx("strong",{children:"face shape, personality, and lifestyle"})]}),r.jsxs("li",{children:["Exclusive savings on ",r.jsx("strong",{children:"multiple pair purchases"})]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Expert Optical Consultation"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"One-on-one style consultation"})," with trained opticians"]}),r.jsxs("li",{children:["Guidance on choosing frames that complement your ",r.jsx("strong",{children:"features and fashion"})]}),r.jsxs("li",{children:["Personalized solutions for your ",r.jsx("strong",{children:"vision needs"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Aftercare support"})," for adjustments and maintenance"]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Special Offer and Savings"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"40% Multiple Pair Savings"})," on eyewear (some exclusions apply)"]}),r.jsx("li",{children:"Exclusive seasonal promotions on frames and sunglasses"}),r.jsx("li",{children:"Free consultations and fittings with eyewear purchase"})]}),r.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Why Choose ATAL Optical?"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2 ml-4",children:[r.jsx("li",{children:"Serving Toronto & the GTA since 2024"}),r.jsxs("li",{children:["Over ",r.jsx("strong",{children:"170,000 satisfied clients"})]}),r.jsx("li",{children:"Friendly, knowledgeable, and caring staff"}),r.jsxs("li",{children:["Trusted by ",r.jsx("strong",{children:"95% of our customers"})," for quality and service"]})]}),r.jsx("p",{className:"text-[#f00000] text-2xl mt-8",children:r.jsx("strong",{children:"ATAL Optical  See Better. Look Better. Live Better."})})]})]})]})}),Sce=()=>r.jsxs("div",{className:"bg-gray-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Our Mission"}),r.jsx("hr",{className:"border-white w-80 mt-3 mx-auto"})]}),r.jsxs("div",{className:"p-8 text-gray-800 space-y-5 mx-15",children:[r.jsxs("p",{children:["At ",r.jsx("strong",{children:"Atal Optical"}),", our mission is to ",r.jsx("strong",{children:"deliver exceptional eye care and high-quality eyewear that is accessible and affordable to all Canadians"}),". We are dedicated to enhancing lives by improving vision through cutting-edge technology, compassionate service, and community-focused initiatives."]}),r.jsx("h1",{className:"text-xl font-medium",children:"We strive to:"}),r.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[r.jsx("li",{children:"Provide personalized and comprehensive optical solutions tailored to each individuals needs."}),r.jsxs("li",{children:["Ensure that no one is left behind by offering ",r.jsx("strong",{children:"free glasses to those who cannot afford them"}),"."]}),r.jsx("li",{children:"Foster trust, integrity, and excellence in every aspect of our business."}),r.jsx("li",{children:"Build lasting relationships with our customers by prioritizing their eye health and overall well-being."})]}),r.jsxs("p",{children:["Our commitment is to ",r.jsx("strong",{children:"empower people to see clearly, live confidently, and thrive fully"}),"."]})]})]}),Ace=()=>r.jsxs("div",{className:"bg-gray-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Our Vision"}),r.jsx("hr",{className:"border-white w-70 mt-3 mx-auto"})]}),r.jsx("div",{className:"p-8 text-gray-800 space-y-5 mx-15",children:r.jsxs("p",{children:["At ",r.jsx("strong",{children:"Atal Optical"}),", our vision is to be the ",r.jsx("strong",{children:"leading provider of exceptional and accessible eye care solutions across Canada"}),". We are committed to advancing the standards of the optical industry through innovation, integrity, and compassion, ensuring that every individual has access to superior vision care regardless of their circumstances. We strive to empower Canadians by enhancing their visual health, enabling them to achieve their fullest potential and enjoy a higher quality of life."]})})]}),_ce=()=>r.jsxs("div",{className:"bg-gray-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsxs("h1",{className:"text-5xl font-bold text-white",children:["Meaning of ",r.jsx("strong",{children:"Atal"})]}),r.jsx("hr",{className:"border-white w-110 mt-3 mx-auto"})]}),r.jsxs("div",{className:"p-8 text-gray-800 space-y-5 mx-15",children:[r.jsxs("p",{children:["The word ",r.jsx("strong",{children:"Atal"})," is of Sanskrit origin, meaning ",r.jsx("strong",{children:"steady, unwavering, firm,"})," or ",r.jsx("strong",{children:"constant."})," It represents strength, reliability, and perseverancequalities that never change or falter regardless of circumstances."]}),r.jsx("h1",{className:"text-xl font-medium",children:"Connection to Atal Opticals Statement"}),r.jsxs("p",{children:["Atal Optical embodies the spirit of being ",r.jsx("strong",{children:"steadfast and committed"})," to providing ",r.jsx("strong",{children:"consistent, reliable, and high-quality eye care"}),". Just as Atal means unwavering, we are dedicated to ",r.jsx("strong",{children:"helping everyone achieve clear and steady vision"}),"  because ",r.jsx("strong",{children:"everyone deserves to see the world with clarity and confidence."}),". Our name reflects our promise: to be a trusted, constant partner in your journey toward better vision and a better life."]})]})]}),Ece=()=>r.jsxs("div",{className:"bg-gray-50",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Your Vision, Your Responsibility  Guided by Atal"}),r.jsx("hr",{className:"border-white w-300 mt-3 mx-auto"})]}),r.jsx("div",{className:"p-8 text-gray-800 space-y-5 mx-15",children:r.jsxs("p",{children:["At ",r.jsx("strong",{children:"Atal Optical"}),", we believe that just as ",r.jsx("strong",{children:"Atal"})," means steadfast and unwavering, maintaining your vision requires ",r.jsx("strong",{children:"consistent care and personal responsibility"}),". Clear and healthy eyesight is a precious gift that calls for regular attention, protection, and proactive management. We encourage every individual to take charge of their eye health through regular check-ups, proper eyewear, and healthy habits. Our commitment is to support you on this journey by providing reliable, high-quality optical solutions  because preserving your vision is a lifelong responsibility that demands steadfast dedication. Together, with your commitment and Atal Opticals unwavering support, we can ensure your vision remains clear and steady throughout every stage of life."]})})]}),Cce=()=>{const n=[{title:"Intellectual Property Notice",content:r.jsxs("p",{children:["All content, images, designs, graphics, logos, product names, and other materials displayed on the Atal Optical website are the exclusive property of Atal Optical unless otherwise stated. This includes all creative, written, digital, and visual assets protected under Canadian and international copyright, trademark, and intellectual property laws.",r.jsx("br",{}),r.jsx("br",{}),"By accessing the website, you agree not to misuse, copy, or distribute any protected material without permission."]})},{title:"Ownership of Content",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"mb-3",children:"All content on the Atal Optical website (the Site) is owned by Atal Optical or licensed by authorized providers. This includes:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Images, graphics, photos, videos, and illustrations"}),r.jsx("li",{children:"Website layout, UI design, structure, and styling"}),r.jsx("li",{children:"Text, descriptions, articles, and written content"}),r.jsx("li",{children:"Product names, titles, labels, and descriptions"}),r.jsx("li",{children:"Source code, software, and digital assets"}),r.jsx("li",{children:"Data compilations, metadata, icons, and visual components"})]}),r.jsx("p",{className:"mt-4",children:"All rights, title, and interestincluding enhancements, formatting, and arrangementare reserved by Atal Optical. Unauthorized use is strictly prohibited."})]})},{title:"Restrictions on Use",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Without written consent from Atal Optical, you MAY NOT:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-3",children:[r.jsx("li",{children:"Republish, reproduce, or distribute any website content"}),r.jsx("li",{children:"Use images, graphics, or text for commercial purposes"}),r.jsx("li",{children:"Modify, edit, or alter any content"}),r.jsx("li",{children:"Remove or hide copyright or trademark notices"}),r.jsx("li",{children:"Create derivative works from any content"}),r.jsx("li",{children:"Reverse-engineer or tamper with website software"})]}),r.jsx("p",{className:"mt-3 text-[15px]",children:"Unauthorized use may result in legal action under Canadian and international laws."})]})},{title:"Permitted Personal Use",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"You may download or print small portions of website content ONLY if:"}),r.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-1",children:[r.jsx("li",{children:"Use is personal and non-commercial"}),r.jsx("li",{children:"Content remains unmodified"}),r.jsx("li",{children:"Copyright and proprietary notices remain intact"})]}),r.jsx("p",{className:"mt-3",children:"Personal use does not grant ownership, transfer of rights, or permission to redistribute content."})]})},{title:"Trademarks",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"All trademarks, logos, product names, and brand identifiers displayed on the Site are the exclusive property of Atal Optical or their respective owners."}),r.jsx("p",{className:"mt-3",children:"Use of these trademarks without express written permission is strictly prohibited."})]})},{title:"Software & Licensing",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Any software, application, or digital tools provided on the Site are protected and licensed for limited use. Unless stated otherwise, software is provided:"}),r.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-1",children:[r.jsx("li",{children:"On a non-transferable basis"}),r.jsx("li",{children:"For personal and non-commercial use only"}),r.jsx("li",{children:"Without permission for redistribution or modification"})]}),r.jsx("p",{className:"mt-3",children:"Prohibited actions include:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Reverse engineering or modifying software"}),r.jsx("li",{children:"Copying or distributing software"}),r.jsx("li",{children:"Using software for commercial or public purposes without consent"})]})]})},{title:"Website Links",content:r.jsx(r.Fragment,{children:r.jsx("p",{children:"External links provided on this website are offered for convenience only. Atal Optical is not responsible for the content, accuracy, or privacy practices of third-party websites."})})},{title:"Disclaimer",content:r.jsx(r.Fragment,{children:r.jsx("p",{children:"While Atal Optical strives for accuracy, we do not guarantee that website content is free from errors, omissions, or inaccuracies. Content may be updated or modified at any time without notice."})})},{title:"Licensing & Permission Requests",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"For commercial, academic, or publication use of any content:"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Email:"})," info@ataloptical@gmail.com"]}),r.jsx("p",{className:"mt-3",children:"Written permission is required prior to any use outside personal viewing."})]})}];return r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"mb-10 bg-gradient-to-r from-black via-red-600 to-black py-14 text-center shadow-md",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white tracking-wide",children:"Website Content & Intellectual Property Notice"}),r.jsx("div",{className:"border-b border-white w-24 mx-auto mt-4 opacity-70"})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-5 md:px-8 lg:px-10 pb-16",children:r.jsx("div",{className:"space-y-10",children:n.map((e,t)=>r.jsxs("div",{className:"bg-white shadow-sm p-6 md:p-8 rounded-xl border border-red-400",children:[r.jsx("h2",{className:"text-2xl font-semibold text-red-600 mb-3",children:e.title}),r.jsx("div",{className:"text-gray-700 leading-relaxed text-[15px] md:text-base",children:e.content})]},t))})})]})};function Mce(){return r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("header",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Atal Optical - Learn About Frame"}),r.jsx("p",{className:"text-center text-lg mt-3 text-gray-100",children:"How to Choose the Perfect Eyeglasses for Your Face Shape: Complete Guide 2025"}),r.jsx("hr",{className:"border-white w-210 mt-3 mx-auto"})]}),r.jsxs("main",{className:"w-7xl mx-auto px-6 py-10 space-y-10",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Why Choosing the Right Frame Matters"}),r.jsx("p",{className:"leading-relaxed",children:"The right eyeglasses are more than just a vision aidthey reflect your personality, enhance your facial features, and boost your confidence. In 2025, trends are evolving, but timeless rules about face shapes and frame compatibility still guide the perfect choice."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"p-6 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:"Round Face"}),r.jsx("p",{children:"Angular frames such as rectangular or geometric designs help balance the natural curves of a round face. Avoid overly round frames, as they may exaggerate facial roundness."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"p-6 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:"Square Face"}),r.jsx("p",{children:"Round or oval frames soften sharp jawlines and strong features, creating balance. Steer clear of boxy frames that emphasize angularity."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"p-6 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:"Oval Face"}),r.jsx("p",{children:"Almost any frame style works! Oval faces are versatile, but bold, oversized frames are especially flattering, adding character without overwhelming natural proportions."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.6},viewport:{once:!0},className:"p-6 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:"Heart Face"}),r.jsx("p",{children:"Frames that are wider at the bottom, like aviators or rimless styles, balance a broader forehead with a narrower chin, creating harmony."})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Eyeglass Trends in 2025"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-3",children:[r.jsx("li",{children:"Transparent and eco-friendly frames are gaining popularity."}),r.jsx("li",{children:"Bold red, metallic, and black accents define modern looks."}),r.jsx("li",{children:"Lightweight titanium and sustainable acetate materials lead the way."}),r.jsx("li",{children:"Custom-fit and AI-powered frame recommendations are trending."})]})]})]})]})}function Tce(){return r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("header",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Atal Optical - Learn About Lens"}),r.jsx("p",{className:"text-center text-lg mt-3 text-gray-100",children:"Progressive Lenses: The Complete Guide 2025"}),r.jsx("hr",{className:"border-white w-210 mt-3 mx-auto"})]}),r.jsxs("main",{className:"w-7xl mx-auto px-6 py-10 space-y-10",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"What are Progressive Lenses?"}),r.jsx("p",{className:"leading-relaxed",children:"Progressive lenses (also known as no-line bifocals) provide a smooth transition between multiple focal distances  near, intermediate, and distance  within a single lens. Unlike traditional bifocals, there are no visible lines; the power changes gradually to match your vision needs throughout the day."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:"Why choose progressive lenses?"}),r.jsxs("ul",{className:"list-disc list-inside ml-3 space-y-2",children:[r.jsx("li",{children:"Smooth, natural vision at all distances  no switching glasses."}),r.jsx("li",{children:"Cleaner appearance  no visible bifocal line."}),r.jsx("li",{children:"Convenience for mixed activities: reading, computer work, driving."}),r.jsx("li",{children:"Modern lens designs reduce distortion and improve comfort."})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"p-6 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#f00000] mb-2",children:"How they work"}),r.jsx("p",{children:"Progressive lenses are digitally surfaced to provide continuous optical power from the top (distance) down to the bottom (near). The wearer looks through different parts of the lens depending on the activity  driving uses the upper zone, computer work uses the middle, and reading uses the lower zone."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"shadow-md p-6 rounded-2xl border border-red-600",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#f00000] mb-2",children:"Types of progressive lenses"}),r.jsxs("ul",{className:"ml-3 list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Standard progressives  balanced design for general use."}),r.jsx("li",{children:"Computer-focused progressives  extended intermediate zones."}),r.jsx("li",{children:"Narrow-field progressives  for smaller frames or minimal distortion."}),r.jsx("li",{children:"Premium free-form progressives  digitally optimized for wider fields and personalization."})]})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"shadow-md p-8 rounded-2xl border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"How to choose & fit progressive lenses"}),r.jsx("h5",{className:"text-md font-semibold text-[#f00000] mt-3",children:"1. Get an up-to-date prescription"}),r.jsx("p",{children:"An accurate prescription, including your pupillary distance (PD), is essential for comfortable progressives."}),r.jsx("h5",{className:"text-md font-semibold text-[#f00000] mt-3",children:"2. Frame selection matters"}),r.jsx("p",{children:"Choose frames that offer enough vertical height (generally 30mm+ lens height) to accommodate the progressive zones. Small lenses can limit intermediate and near areas."}),r.jsx("h5",{className:"text-md font-semibold text-[#f00000] mt-3",children:"3. Consider lens design based on use"}),r.jsx("p",{children:"If you spend long hours on a computer, pick a design with an expanded intermediate zone. For driving, prioritize clear distance vision and a stable corridor."}),r.jsx("h5",{className:"text-md font-semibold text-[#f00000] mt-3",children:"4. Frame fitting and measurements"}),r.jsx("p",{children:"Accurate vertical fitting, pantoscopic tilt, and proper temple length ensure the progressive zones align with your eyes. Atal Optical recommends an in-person fitting with our specialists for best results."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"shadow-md p-6 rounded-2xl border border-red-600",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#f00000] mb-2",children:"Adapting period"}),r.jsx("p",{children:"Most people adapt to progressives within a few days to a couple of weeks. Mild symptoms like slight dizziness or swimming can occur as your brain learns to use the new zonesthese usually resolve with regular wear."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"shadow-md p-6 rounded-2xl border border-red-600",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#f00000] mb-2",children:"Care & maintenance"}),r.jsxs("ul",{className:"ml-3 list-disc list-inside space-y-2",children:[r.jsx("li",{children:"Use a microfibre cloth and lens cleaner  avoid tissue or shirt fabric."}),r.jsx("li",{children:"Store in a hard case to prevent warping and scratches."}),r.jsx("li",{children:"Have annual eye checks  vision can change, affecting progressive comfort."})]})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"shadow-md p-8 rounded-2xl border border-red-500",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Progressive Lens Trends 2025"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-3",children:[r.jsx("li",{children:"Personalized free-form surfaces created with AI-driven prescriptions."}),r.jsx("li",{children:"Blue-light filtering integrated into progressive designs for digital lifestyles."}),r.jsx("li",{children:"Sustainable lens materials and recyclable packaging."}),r.jsx("li",{children:"Smart lenses with variable tint or AR-friendly optics are becoming more accessible."})]})]})]})]})}function Nce(){return r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("header",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Atal Optical - Learn About Prescription"}),r.jsx("p",{className:"text-center text-lg mt-3 text-gray-100",children:"Understanding Your Eyeglass Prescription: Complete Guide 2025"}),r.jsx("hr",{className:"border-white w-235 mt-3 mx-auto"})]}),r.jsxs("main",{className:"w-7xl mx-auto px-6 py-10 space-y-10",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Why your prescription matters"}),r.jsx("p",{className:"leading-relaxed",children:"A clear and correctly interpreted eyeglass prescription ensures comfortable vision, sharper focus and healthier eyes. In 2025, prescriptions still follow standard notation  but knowing how to read them helps you choose lenses and frames that match your visual needs."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"shadow-md p-8 rounded-2xl border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:"Common prescription terms"}),r.jsxs("ul",{className:"list-disc list-inside space-y-3 ml-3",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"OD / OS:"})," Right eye (OD) and Left eye (OS)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Sphere (SPH):"})," The lens power for nearsightedness (-) or farsightedness (+)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Cylinder (CYL):"})," The amount of astigmatism correction needed."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Axis:"})," Orientation (0-180) of the astigmatism correction."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Add (ADD):"})," Additional power for near tasks (used in multifocals/progressives)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"PD (Pupillary Distance):"})," Distance between pupils in millimeters  crucial for lens centration."]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"shadow-md p-6 rounded-2xl border border-red-600",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#f00000] mb-2",children:"How to read a sample prescription"}),r.jsx("p",{children:"Example: OD -2.00 SPH / -0.75 CYL x 90  |  OS -1.75 SPH / -0.50 CYL x 85  |  ADD +2.00  |  PD 62mm."}),r.jsx("p",{className:"mt-3",children:"This means the right eye has moderate myopia with astigmatism at axis 90, and a near addition of +2.00 diopters for reading. PD of 62mm centers the lenses correctly for you."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"shadow-md p-6 rounded-2xl border border-red-600",children:[r.jsx("h4",{className:"text-lg font-semibold text-[#f00000] mb-2",children:"Prescription tips for buying lenses"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-3",children:[r.jsx("li",{children:"Always use the latest prescription (usually within 1 year for adults, 612 months for children)."}),r.jsx("li",{children:"Provide your PD  many labs require it to position progressive and single-vision lenses accurately."}),r.jsx("li",{children:"Consider lens material and coatings: high-index, anti-reflective, blue-light filter, and scratch-resistant options affect comfort and cost."}),r.jsx("li",{children:"For astigmatism, ensure cylinder and axis values are entered exactly as prescribed."})]})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"shadow-md p-8 rounded-2xl border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Special cases"}),r.jsxs("p",{className:"mb-3",children:[r.jsx("strong",{children:"Children:"})," Prescriptions for kids can change quickly  schedule regular eye checks and choose durable, impact-resistant lenses."]}),r.jsxs("p",{className:"mb-3",children:[r.jsx("strong",{children:"High prescriptions:"})," High plus or minus powers benefit from high-index lenses to reduce thickness and weight."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Monovision or multifocal needs:"})," Discuss options like monovision, bifocals, or progressives with your optometrist to match lifestyle needs."]})]})]})]})}function jce(){return r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("header",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Atal Optical - Learn About Maintenance"}),r.jsx("p",{className:"text-center text-lg mt-3 text-gray-100",children:"Essential Guide to Eyeglasses Care and Maintenance: Atal Optical's 10 Tips for 2025"}),r.jsx("hr",{className:"border-white w-235 mt-3 mx-auto"})]}),r.jsxs("main",{className:"w-7xl mx-auto px-6 py-10 space-y-10",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Why Eyeglass Care Matters"}),r.jsx("p",{className:"leading-relaxed",children:"Proper maintenance not only extends the life of your eyeglasses but also ensures clear vision and comfort. In 2025, advanced lens coatings and lightweight frames require the right care routine to keep them in top condition."})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Atal Optical's 10 Tips for 2025"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-3 ml-3",children:[r.jsx("li",{children:"Clean lenses daily with a microfiber cloth and lens cleaner."}),r.jsx("li",{children:"Avoid tissues, paper towels, or shirts  they scratch lenses."}),r.jsx("li",{children:"Rinse under lukewarm water before wiping to remove dust and debris."}),r.jsx("li",{children:"Keep glasses in a hard protective case when not in use."}),r.jsx("li",{children:"Avoid leaving glasses in hot cars  heat can warp frames and coatings."}),r.jsx("li",{children:"Hold glasses with both hands to avoid bending frames."}),r.jsx("li",{children:"Schedule regular adjustments at Atal Optical for best fit."}),r.jsx("li",{children:"Check screws and hinges; tighten or service when needed."}),r.jsx("li",{children:"Use anti-fog solutions if working in humid or masked environments."}),r.jsx("li",{children:"Update your prescription regularly to ensure optimal vision."})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Eyeglass Care Trends in 2025"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-3",children:[r.jsx("li",{children:"Eco-friendly cleaning sprays and biodegradable wipes."}),r.jsx("li",{children:"UV-protective coatings lasting longer with proper care."}),r.jsx("li",{children:"Smart cases with built-in cleaners becoming mainstream."}),r.jsx("li",{children:"Blue-light and anti-reflective coatings requiring gentler maintenance."})]})]})]})]})}function Rce(){return r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("header",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold text-white",children:"Atal Optical - Eye Check Details"}),r.jsx("p",{className:"text-center text-lg mt-3 text-gray-100",children:"Advanced Care for Dry Eye & Complete Eye Health - 2025"}),r.jsx("hr",{className:"border-white w-200 mt-3 mx-auto"})]}),r.jsxs("main",{className:"w-7xl mx-auto px-6 py-10 space-y-10",children:[r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Why Eye Checks at Atal Optical?"}),r.jsx("p",{className:"leading-relaxed",children:"At Atal Optical, we understand that your eyes are more than just windows to the worldthey're vital to your overall well-being. Our advanced eye check services go beyond routine vision tests to diagnose, treat, and prevent conditions like dry eye syndrome, refractive errors, and other ocular concerns. With expert care and modern technology, we create personalized treatment plans designed to keep your eyes healthy and comfortable."})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{title:"Comprehensive Eye Exams",text:"Detailed eye exams to detect early signs of dry eye, refractive errors, and overall eye health issues."},{title:"Dry Eye Diagnosis",text:"Using tear film analysis and meibomian gland imaging, we identify the exact cause of your discomfort."},{title:"Advanced Dry Eye Treatments",text:"From prescription drops to in-office therapies, we provide tailored solutions for mild to severe dry eye cases."},{title:"Lifestyle & Preventive Guidance",text:"Personalized advice on diet, hydration, and screen habits to reduce symptoms and protect your long-term eye health."}].map((n,e)=>r.jsxs(Ke.section,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.2},viewport:{once:!0},className:"p-6 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h3",{className:"text-xl font-bold text-[#f00000] mb-3",children:n.title}),r.jsx("p",{children:n.text})]},e))}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"What to Expect During Your Visit"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-3",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Initial Consultation:"})," Share your symptoms and history with our specialists."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Advanced Testing:"})," We conduct tear analysis and other diagnostic evaluations."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Personalized Plan:"})," A tailored treatment plan for your unique eye needs."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Ongoing Support:"})," Regular follow-ups to ensure long-term comfort and clarity."]})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"p-8 rounded-2xl shadow-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Innovations in Eye Care - 2025"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-3",children:[r.jsx("li",{children:"AI-powered eye screenings for faster and more accurate diagnosis."}),r.jsx("li",{children:"Non-invasive dry eye treatments for improved patient comfort."}),r.jsx("li",{children:"Eco-friendly contact lenses and sustainable frame materials."}),r.jsx("li",{children:"Personalized digital eye strain management programs."})]})]})]})]})}function Bce(){const n=[{title:"Buy 1 Get 1 Free",desc:"Get two stylish sunglasses for the price of one. Limited stock available!"},{title:"40% Off Designer Sunglasses",desc:"Save big on luxury designer brands. Look premium without overspending."},{title:"Summer Sale - Up to 50% Off",desc:"Perfect sunglasses for the season with unbeatable discounts."},{title:"Kids' Sunglasses Discount",desc:"Durable, protective, and stylish eyewear for children at special prices."},{title:"Polarized Lenses Offer",desc:"Exclusive deals on polarized sunglasses for crystal-clear outdoor vision."},{title:"Blue Light Sunglasses Deal",desc:"Protect your eyes from digital screens with discounts on blue light sunglasses."}];return r.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center",children:[r.jsx(Ke.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-bold text-white",children:"OUR PROMOTIONS"}),r.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center text-lg mt-3 text-gray-100",children:"Exclusive savings on sunglasses, lenses, and designer frames. Don't miss out on our limited-time offers!"}),r.jsx("hr",{className:"border-white w-220 mt-3 mx-auto"})]}),r.jsx("div",{className:"max-w-6xl mx-auto px-6 py-12 grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>r.jsxs(Ke.div,{whileHover:{scale:1.05},className:"rounded-2xl shadow-lg p-6 border border-red-600",children:[r.jsxs("h2",{className:"text-xl font-semibold text-[#f00000] flex items-center",children:[r.jsx(Jle,{className:"w-5 h-5 mr-2 text-[#f00000]"})," ",e.title]}),r.jsx("p",{className:"mt-3",children:e.desc})]},t))}),r.jsxs("div",{className:"bg-black py-12 text-center mb-15",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-[#f00000]",children:"Why Shop Our Promotions?"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-black font-semibold",children:[r.jsx("span",{className:"bg-white px-4 py-2 rounded-full shadow",children:"Free Shipping"}),r.jsx("span",{className:"bg-white px-4 py-2 rounded-full shadow",children:"Easy Returns"}),r.jsx("span",{className:"bg-white px-4 py-2 rounded-full shadow",children:"100% UV Protection"}),r.jsx("span",{className:"bg-white px-4 py-2 rounded-full shadow",children:"Authentic Brands"})]})]})]})}const T1=zT("wishlist/fetchWishlist",async n=>(await St.get(`/getWishlist/${n}`)).data.products||[]),Dce=zT("wishlist/addToWishlist",async({userId:n,productId:e})=>(await St.post("/addWishlist",{userId:n,productId:e}),(await St.get(`/getWishlist/${n}`)).data.products||[])),Oce=zT("wishlist/removeFromWishlist",async({userId:n,productId:e})=>(await St.delete("/removeWishlist",{data:{userId:n,productId:e}}),(await St.get(`/getWishlist/${n}`)).data.products||[])),Pce=YI({name:"wishlist",initialState:{items:[],loading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(T1.pending,e=>{e.loading=!0}).addCase(T1.fulfilled,(e,t)=>{e.loading=!1,e.items=t.payload}).addCase(T1.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(Dce.fulfilled,(e,t)=>{e.items=t.payload}).addCase(Oce.fulfilled,(e,t)=>{e.items=t.payload})}}),Lce=Pce.reducer,Ice=()=>{const[n,e]=V.useState(null),[t,i]=V.useState(""),[s,a]=V.useState(0),[o,c]=V.useState(null),[d,h]=V.useState(!0),[m,x]=V.useState(null),[y,b]=V.useState(!1),[S,_]=V.useState(!1),E=Bi(),A="sq0idp-7wKNw8CRP74fgDfv3iBoNA",P="L96VVFFGDM25P";if(V.useEffect(()=>{const Y=localStorage.getItem("orderSummary");Y&&e(JSON.parse(Y))},[]),V.useEffect(()=>{const Y=setInterval(()=>{document.getElementById("card-container")&&(_(!0),clearInterval(Y))},50);return()=>clearInterval(Y)},[]),V.useEffect(()=>{if(!S)return;const Y="square-web-sdk",G=async()=>{try{if(!window.Square){x("Square.js not loaded"),h(!1);return}if(window.__square_initialized){c(window.__square_card),h(!1);return}window.__square_initialized=!0;const I=await window.Square.payments(A,P).card();await I.attach("#card-container"),window.__square_card=I,c(I)}catch(z){console.error("Square init error:",z),x("Failed to initialize Square card")}finally{h(!1)}},W=document.getElementById(Y);if(W){window.Square?G():W.addEventListener("load",G);return}const $=document.createElement("script");$.id=Y,$.src="https://web.squarecdn.com/v1/square.js",$.async=!0,$.onload=G,$.onerror=()=>{x("Failed to load Square.js"),h(!1)},document.body.appendChild($)},[S]),!n)return r.jsx("div",{className:"flex justify-center items-center h-screen",children:r.jsx("p",{className:"text-lg",children:"Loading order summary..."})});const{subtotal:N,tax:L,shipping:j}=n,R=Math.max(N-s+j+L,.01),k=async()=>{if(!t.trim()){Ht.fire("Error","Please enter a coupon code","error");return}try{const Y=n.cartItems?.[0]?.categoryId||"",{data:G}=await St.get(`/validateCoupon/${t}?cartTotal=${N}&category=${Y}`);G.success?(a(G.data.discountAmount),Ht.fire("Success",`Coupon Applied! Discount: $${G.data.discountAmount.toFixed(2)}`,"success")):(a(0),Ht.fire("Invalid Coupon",G.message,"error"))}catch(Y){a(0),Ht.fire("Error",Y.response?.data?.message||"Failed to apply coupon","error")}},F=async Y=>{try{const G=n.cartItems?.map($=>({...$,vendorID:$.vendorID||$.vendorId||null,categoryId:$.categoryId||null}))||[],{data:W}=await St.post("/order",{userId:n.userId,email:n.email,cartItems:G,shippingAddress:n.shippingAddress,billingAddress:n.billingAddress,subtotal:N,tax:L,shipping:j,total:R,coupon:t,discount:s,...Y});Ht.fire({icon:"success",title:"Order Placed!",html:`<p>Tracking Number: <b>${W.order.trackingNumber}</b></p>`,confirmButtonText:"View Order"}).then(()=>{localStorage.removeItem("orderSummary"),localStorage.removeItem("cartItems"),localStorage.removeItem("checkoutDraft"),localStorage.removeItem("lensSelectionDetails"),E(`/order/${W.order._id}`)})}catch{Ht.fire("Error","Failed to place order","error")}},D=Y=>{const G=Y?.payment?.id||null;F({paymentMethod:"Square",paymentStatus:"Paid",transactionId:G})},B=()=>{Ht.fire({icon:"error",title:"Payment Failed",text:"Your card was declined. Please try a different card."})},q=async()=>{if(o){b(!0);try{const Y=await o.tokenize();if(Y.status!=="OK")return b(!1),B("Card tokenization failed.");const{data:G}=await St.post("/pay",{nonce:Y.token,amount:R});G.success&&G.payment?.status==="COMPLETED"?D(G):B()}catch{B()}b(!1)}};return r.jsx("div",{className:"flex justify-center items-center min-h-[80vh] bg-gray-200 pt-20 pb-20",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-[#f00000]",children:"Complete Your Payment"}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Order Summary"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",N.toFixed(2)]})]}),s>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- $",s.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Shipping"}),r.jsxs("span",{children:["$",j.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax"}),r.jsxs("span",{children:["$",L.toFixed(2)]})]}),r.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-[#f00000] text-lg",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["$",R.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsx("input",{type:"text",placeholder:"ENTER COUPON CODE",value:t,onChange:Y=>i(Y.target.value.toUpperCase()),className:"flex-1 border p-2 rounded-lg uppercase"}),r.jsx("button",{onClick:k,disabled:t.trim().length<2,className:`px-4 rounded-lg ${t.trim().length<2?"bg-gray-400 cursor-not-allowed":"bg-[#f00000] text-white hover:bg-black"}`,children:"Apply"})]}),r.jsxs("div",{className:"space-y-3",children:[d&&r.jsx("p",{children:"Loading payment form"}),m&&r.jsx("p",{className:"text-red-600",children:m}),r.jsx("div",{id:"card-container",className:"border rounded-lg p-4 bg-white",style:{minHeight:"60px"}}),r.jsx("button",{onClick:q,disabled:!o||y||!!m,className:`w-full mt-2 py-2 rounded-lg font-semibold ${!o||y||m?"bg-gray-400 cursor-not-allowed":"bg-[#f00000] text-white hover:bg-black"}`,children:y?"Processing...":"Pay Now"})]})]})})};function Uce(){const n=[{title:"Step 1: Browse Products",description:"Explore our wide collection of sunglasses."},{title:"Step 2: Select Your Sunglasses",description:"Click on the product you like to see detailed images, description, and specifications."},{title:"Step 3: Add to Cart",description:"Once satisfied, click 'Add to Cart'. You can continue shopping or go directly to checkout."},{title:"Step 4: Review Your Cart",description:"Open the cart from the top-right corner. Review product details, quantity, and price. Apply discount codes if you have one."},{title:"Step 5: Proceed to Checkout",description:"Click 'Checkout'. Enter your shipping details including name, address, phone, and email."},{title:"Step 6: Choose Payment Method",description:"Select your preferred payment option: Credit/Debit Card, PayPal."},{title:"Step 7: Place Your Order",description:"Review your order summary carefully and click 'Place Order'."},{title:"Step 8: Get Confirmation",description:"You'll receive an order confirmation email/SMS with your order number. Track your order in your account dashboard."},{title:"Step 9: Delivery",description:"Your sunglasses will be carefully packed and shipped. Delivery usually takes, Overnight, Standard(5-7 Days), Express(2-3 Days) 3-7 working days depending on location."}];return r.jsx("div",{className:"min-h-screen text-white py-12 px-6 flex justify-center",children:r.jsxs("div",{className:"max-w-3xl w-full",children:[r.jsxs(Ke.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-center text-[#f00000] mb-12",children:["How to Order",r.jsx("hr",{className:"border-red-600 w-80 mt-3 mx-auto"})]}),r.jsx("div",{className:"relative border-l-4 border-red-600 pl-6",children:n.map((e,t)=>r.jsx(Ke.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},transition:{duration:.5,delay:t*.15},className:"mb-10",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#f00000] text-white font-bold mr-4 shadow-md",children:t+1}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:e.title}),r.jsx("p",{className:"text-sm leading-relaxed text-black",children:e.description})]})]})},t))})]})})}const WB=()=>{const[n,e]=V.useState([]),t=async()=>{try{const a=await St.get("/getExam");e(a.data.data)}catch{}};V.useEffect(()=>{t()},[]);const i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},s={hidden:{x:-30,opacity:0},visible:{x:0,opacity:1}};return r.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[r.jsx(Ke.div,{className:"mt-2 space-y-4 ",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},transition:{duration:.6},children:r.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-[#f00000] text-center mb-15 underline decoration-[#f00000] underline-offset-4",children:"Select Exam Type"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-10",children:n.map((a,o)=>r.jsxs(Ke.div,{className:"border shadow-lg hover:shadow-red-600 rounded-lg p-6 flex flex-col justify-between",initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.6,delay:o*.2,ease:"easeOut"},viewport:{once:!0,amount:.3},children:[r.jsx("h2",{className:"text-lg font-bold mb-3 text-center",children:a.examName}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:a.description}),r.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Fee: $",a.price]}),r.jsx(xt,{to:"/appointmentSchedule",state:{examType:a.examName},children:r.jsx(Ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#f00000] hover:bg-red-700 text-white hover:cursor-pointer py-2 px-4 rounded font-semibold",children:"SELECT"})})]},o))}),r.jsxs(Ke.div,{className:"mt-10 space-y-4 text-sm text-black",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},transition:{duration:.6},children:[r.jsx("p",{className:"font-semibold",children:"The day of your appointment:"}),r.jsxs(Ke.ul,{className:"list-disc list-inside space-y-1",variants:i,children:[r.jsx(Ke.li,{variants:s,children:"Please arrive 15 minutes early to allow for preliminary testing."}),r.jsx(Ke.li,{variants:s,children:"Please kindly wear mask to appointment."}),r.jsx(Ke.li,{variants:s,children:"If you have a cough, cold, difficulty breathing, sore throat, fever, please seek medical attention before booking."})]}),r.jsxs(Ke.ul,{className:"list-disc list-inside space-y-1 mt-4",variants:i,children:[r.jsx(Ke.li,{variants:s,children:"Please bring your medication list."}),r.jsx(Ke.li,{variants:s,children:"Please bring all pairs of glasses that you currently use."}),r.jsx(Ke.li,{variants:s,children:"If you are a contact lens wearer, please wear your glasses to the appointment (if available), and bring your contact lens boxes/foils."}),r.jsx(Ke.li,{variants:s,children:"Please bring your Medicare card (OHIP Card)."}),r.jsx(Ke.li,{variants:s,children:"Appointments will last 20-40 minutes."}),r.jsx(Ke.li,{variants:s,children:"Dilation drops used as part of examination."}),r.jsx(Ke.li,{variants:s,children:"Cash payment not accepted (only credit/debit card)."})]})]})]})},XB=()=>{const e=ws().state?.examType,t=new Date,i=Array.from({length:7},(N,L)=>{const j=new Date(t);return j.setDate(t.getDate()+L),{label:j.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),weekday:j.toLocaleDateString("en-US",{weekday:"long"}),key:j.toDateString()}}),[s,a]=V.useState(null),[o,c]=V.useState(0),[d,h]=V.useState("Professional"),[m,x]=V.useState("All"),[y,b]=V.useState("All"),[S,_]=V.useState([]),E=i.slice(o,o+4),A=async()=>{try{const N=await St.get("/getDoctor");_(N.data.data)}catch(N){console.error(N)}};V.useEffect(()=>{A()},[]);const P=S.filter(N=>{const L=!e||N.exam_section?.toLowerCase()===e?.toLowerCase(),j=m==="All"||N.doctor_name===m,R=y==="All"||N.schedule.some(k=>k.day===y);return L&&j&&R});return r.jsxs("div",{children:[r.jsxs("div",{className:"bg-gradient-to-r from-black via-red-600 to-black py-12 md:py-20 text-center px-4 sm:px-6",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-2",children:e||"Appointment Schedule"}),r.jsx("p",{className:"text-center text-base md:text-xl text-white mb-2",children:"Select your eye care professional and appointment time."})]}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-10",children:[r.jsx("div",{className:"flex flex-col sm:flex-row justify-end items-start sm:items-center mb-12 space-y-3 sm:space-y-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-3 w-full sm:w-auto px-0 sm:px-0",children:[r.jsxs("select",{className:"border px-3 py-2 rounded-lg text-sm w-full sm:w-auto",value:d,onChange:N=>h(N.target.value),children:[r.jsx("option",{children:"Professional"}),r.jsx("option",{children:"Date"})]}),d==="Professional"&&r.jsxs("select",{className:"border px-3 py-2 rounded-lg text-sm w-full sm:w-auto mt-2 sm:mt-0",value:m,onChange:N=>x(N.target.value),children:[r.jsx("option",{children:"All"}),S.map((N,L)=>r.jsx("option",{children:N.doctor_name},L))]}),d==="Date"&&r.jsxs("select",{className:"border px-3 py-2 rounded-lg text-sm w-full sm:w-auto mt-2 sm:mt-0",value:y,onChange:N=>b(N.target.value),children:[r.jsx("option",{children:"All"}),i.map((N,L)=>r.jsx("option",{value:N.weekday,children:N.weekday},L))]})]})}),r.jsxs("div",{className:"space-y-12",children:[P.length===0&&r.jsx("p",{className:"text-center text-gray-500 text-lg",children:"No doctors available for this exam."}),P.map((N,L)=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start w-full sm:space-x-6 space-y-6 sm:space-y-0",children:[r.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-center w-full sm:w-32 px-4 sm:px-0",children:[r.jsx("img",{src:Pn+N.image,alt:N.doctor_name,className:"w-16 h-16 sm:w-12 sm:h-12 rounded-full object-cover mb-0 sm:mb-4 shadow border border-red-600",loading:"lazy",decoding:"async"}),r.jsxs("div",{className:"ml-4 sm:ml-0 text-left sm:text-center",children:[r.jsx("h4",{className:"font-bold text-sm uppercase",children:N.doctor_name}),r.jsx("p",{className:"text-xs text-gray-500",children:N.specialization})]})]}),r.jsx("div",{className:"flex-1 grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-7 px-4 sm:px-0",children:E.map(j=>{const R=N.schedule.find(F=>F.day===j.weekday),k=R?.status==="Available"?R.times:["No availability"];return r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"font-semibold text-sm mb-2",children:j.label}),k.includes("No availability")?r.jsx("p",{className:"text-gray-400 text-sm",children:"No availability"}):r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:k.map((F,D)=>r.jsx(xt,{to:"/book-eye-exam",state:{doctorName:N.doctor_name,doctorImage:N.image,day:j.label,weekday:j.weekday,time:F,examType:e},className:"w-full sm:w-auto",children:r.jsx("button",{onClick:()=>a(`${N.doctor_name} - ${j.label} - ${F}`),className:`block w-full sm:inline-block px-3 py-2 text-white text-xs font-medium rounded-sm transition 
                                  ${s===`${N.doctor_name} - ${j.label} - ${F}`?"bg-[#f00000]":"bg-gray-800 hover:bg-[#f00000]"}`,children:F})},D))})]},j.key)})})]},L))]}),r.jsxs("div",{className:"flex justify-center items-center space-x-6 mt-8 mb-8 px-4",children:[r.jsx("button",{disabled:o===0,onClick:()=>c(o-1),className:"px-4 py-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-40",children:r.jsx(y9,{})}),r.jsx("button",{disabled:o+4>=i.length,onClick:()=>c(o+1),className:"px-4 py-3 bg-gray-200 rounded-full hover:bg-gray-300 disabled:opacity-40",children:r.jsx(v9,{})})]})]})]})},kce="/assets/atal-man-CALwnrhI.jpg";function Fce(){const[n,e]=V.useState([]),t=async()=>{try{const i=await St.get("/getDoctor");console.log(i),e(i.data.data||[])}catch(i){console.error("Error fetching doctors:",i)}};return V.useEffect(()=>{t()},[]),r.jsx("div",{children:r.jsxs("section",{className:"max-w-6xl mx-auto p-6 mb-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Meet Our Optometrists"}),n.length===0?r.jsx("p",{className:"text-center text-gray-500",children:"No doctors available right now."}):r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((i,s)=>r.jsxs("div",{className:"rounded-2xl p-6 shadow-lg hover:shadow-red-400 border border-red-200 transition hover:scale-[1.02] cursor-pointer text-center",children:[r.jsx("img",{src:i.image?.startsWith("http")?i.image:`${Pn}${i.image}`,alt:i.name,className:"w-28 h-28 rounded-full mx-auto mb-4 object-cover border-2 border-red-300"}),r.jsx("h3",{className:"font-bold text-lg",children:i.doctor_name}),r.jsx("p",{className:"text-sm text-gray-600",children:i.specialization||"Optometrist"}),i.description&&r.jsx("p",{className:"text-gray-500 text-sm mt-2 leading-relaxed",children:i.description})]},s))})]})})}function YB(){const n=Bi(),e=()=>{Ht.fire({title:"<h2 class='text-2xl font-bold'>Book an eye exam at <span style='color:#dc2626;'>Atal Optical</span></h2>",html:`
        <ol style="text-align:left; line-height:1.6; margin-top:10px;">
          <li>1. Click below and we'll take you over to our optometry partner's website.</li>
          <li>2. Select an exam type and an open slot with one of our local optometrists.</li>
          <li>3. Fill in your details and we'll send a confirmation email. We look forward to seeing you!</li>
        </ol>
        <br />
        <p><strong>Need to cancel or reschedule?</strong></p>
        <p>Click the link in the original confirmation email you received to edit your booking.</p>
      `,confirmButtonText:"Click here to select exam",confirmButtonColor:"#da1515ff",background:"#fff",width:"600px",showCloseButton:!0,focusConfirm:!1}).then(t=>{t.isConfirmed&&n("/appointmentType")})};return r.jsxs("div",{className:" text-black min-h-screen",children:[r.jsxs("header",{className:"bg-gradient-to-r from-black via-red-600 to-black py-20 text-center text-5xl font-bold text-white",children:["Atal Optical",r.jsx("hr",{className:"border-white w-90 mt-3 mx-auto"})]}),r.jsxs("section",{className:"max-w-6xl mx-auto p-18 grid md:grid-cols-3 gap-6 text-center",children:[r.jsxs("div",{children:[r.jsx(sU,{className:"w-10 h-10 mx-auto mb-2 text-[#f00000]"}),r.jsx("h2",{className:"font-bold",children:"Atal Optical"}),r.jsx("p",{children:"Best eyewear & eye care in Toronto"})]}),r.jsxs("div",{children:[r.jsx(ece,{className:"w-10 h-10 mx-auto mb-2 text-[#f00000]"}),r.jsx("h2",{className:"font-bold",children:"Store Hours"}),r.jsx("p",{children:"Mon - Sat:  10:00 AM - 8:00 PM"}),r.jsx("p",{children:"Sun: Closed"})]}),r.jsxs("div",{children:[r.jsx(cce,{className:"w-10 h-10 mx-auto mb-2 text-[#f00000]"}),r.jsx("h2",{className:"font-bold",children:"Directions"}),r.jsx("p",{children:"Corporate Office : 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"})]})]}),r.jsx("div",{className:"w-full bg-[#f00000] flex justify-center",children:r.jsxs("div",{className:"max-w-6xl w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-10 items-center px-5 py-10",children:[r.jsx(Ke.section,{className:"order-1 flex justify-center md:justify-end",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:1,ease:"easeOut"},viewport:{once:!0,amount:.3},children:r.jsx("img",{src:kce,alt:"Atal Optical Store",className:"rounded-lg shadow-lg w-full max-w-md md:max-w-sm lg:max-w-lg"})}),r.jsxs(Ke.section,{className:"order-2 text-white md:pl-0 lg:pl-10",initial:{y:100,opacity:0},whileInView:{y:0,opacity:1},transition:{type:"spring",stiffness:80,damping:12,delay:.2},viewport:{once:!0,amount:.3},children:[r.jsx("h2",{className:"text-xl sm:text-2xl md:text-2xl lg:text-3xl font-bold mb-4",children:"Store Services"}),r.jsxs("ul",{className:"space-y-2 text-sm sm:text-base md:text-base lg:text-lg",children:[r.jsx("li",{children:"Eye Exams with Licensed Optometrists"}),r.jsx("li",{children:"Contact Lens Fittings"}),r.jsx("li",{children:"Prescription Glasses & Sunglasses"}),r.jsx("li",{children:"Kids Glasses & Safety Eyewear"}),r.jsx("li",{children:"Fashion-forward Eyewear Collections"}),r.jsx("li",{children:"Comprehensive Eye Exam for all ages"}),r.jsx("li",{children:"Glasses PD, and optical measurement"})]}),r.jsx(Ke.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"rounded-md px-6 py-2 bg-black mt-5 text-white hover:bg-white hover:text-red-600 text-base sm:text-lg md:text-lg lg:text-xl",children:"Select Eye Exam"})]})]})}),r.jsxs("section",{className:"max-w-6xl mx-auto p-6 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Top Reasons to Get Your Eyes Checked"}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx(dce,{className:"w-10 h-10 mx-auto text-[#f00000] mb-2"}),r.jsx("p",{children:"Vision Protection"})]}),r.jsxs("div",{children:[r.jsx(oce,{className:"w-10 h-10 mx-auto text-[#f00000] mb-2"}),r.jsx("p",{children:"General Health"})]}),r.jsxs("div",{children:[r.jsx(fce,{className:"w-10 h-10 mx-auto text-[#f00000] mb-2"}),r.jsx("p",{children:"Everyday Comfort"})]}),r.jsxs("div",{children:[r.jsx(nce,{className:"w-10 h-10 mx-auto text-[#f00000] mb-2"}),r.jsx("p",{children:"Leading Tech"})]})]})]}),r.jsxs("section",{className:"bg-black py-10 text-center border-t border-red-600",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-[#f00000]",children:"In-store Exclusive"}),r.jsx("p",{className:"text-lg text-white",children:"$20 OFF on your first pair of glasses at Atal Optical"})]}),r.jsx(Fce,{})]})}const zce="/assets/tick-ClyHRtiU.png",Hce=()=>{const{id:n}=Ef(),[e,t]=V.useState(null),[i,s]=V.useState(null),a=Td();if(V.useEffect(()=>{(async()=>{try{const{data:d}=await St.get(`/order/${n}`);t(d.order),a(gle())}catch(d){console.error(d),s("Failed to load order. Please try again.")}})()},[n,a]),i)return r.jsx("p",{className:"text-[#f00000] text-center mt-20 text-lg",children:i});if(!e)return r.jsx("p",{className:"text-center mt-20 text-gray-500 text-lg",children:"Loading..."});const o=c=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"USD"}).format(c);return r.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-3xl w-full animate-fadeIn",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:zce,alt:"Success",className:"w-24 h-24 object-contain animate-bounce"})}),r.jsx("h1",{className:"text-3xl font-bold text-[#f00000] text-center mb-4",children:"Order Placed Successfully!"}),r.jsxs("p",{className:"text-gray-900 text-center mb-6",children:["Thank you"," ",r.jsx("span",{className:"font-semibold",children:e.shippingAddress?.fullName}),", your order has been placed."]}),r.jsxs("section",{className:"mb-6 border-t pt-4",children:[r.jsx("h2",{className:"font-semibold text-xl mb-2 border-b pb-1",children:"Order Details"}),r.jsxs("p",{children:[r.jsx("b",{children:"Order ID:"})," ",e._id]}),e.trackingNumber&&r.jsxs("p",{children:[r.jsx("b",{children:"Tracking Number:"})," ",r.jsx("span",{className:"font-mono text-black",children:e.trackingNumber})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Order Status:"})," ",r.jsx("span",{className:"text-black",children:e.orderStatus})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Payment Method:"})," ",e.paymentMethod]}),r.jsxs("p",{children:[r.jsx("b",{children:"Total:"})," ",r.jsx("span",{className:"text-black font-semibold",children:o(e.total)})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Delivery To:"})," ",e.shippingAddress?.address,","," ",e.shippingAddress?.city,", ",e.shippingAddress?.province," ",e.shippingAddress?.postalCode]})]}),r.jsxs("section",{className:"mb-6 border-t pt-4",children:[r.jsx("h2",{className:"font-semibold text-xl mb-4 border-b pb-1",children:"Items"}),e.cartItems.map((c,d)=>{const h=c.lens?.totalPrice||0,m=c.policy?.price||0,x=c.categoryId==="6915735feeb23fa59c7d532b",y=c.price*c.quantity+m+(x?0:h);return r.jsx("div",{className:"flex flex-col py-2 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:c.image?.startsWith("http")?c.image:Pn+c.image,alt:c.name,className:"w-28 h-16 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:c.name}),r.jsxs("p",{children:["$",c.price]}),r.jsxs("p",{className:"text-gray-500 text-sm",children:["Quantity: ",c.quantity]}),!x&&c.lens?.lens?.selectedLens&&r.jsxs("p",{className:"text-gray-500 text-sm",children:["Lens: ",c.lens.lens.selectedLens," ($",h.toFixed(2),")"]}),c.policy?.name&&r.jsxs("p",{className:"text-gray-500 text-sm",children:["Policy: ",c.policy.name," ($",m.toFixed(2),")"]})]})]}),r.jsx("span",{className:"font-semibold",children:o(y)})]})},d)}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:()=>window.open(`${iH}/${e._id}/invoice`,"_blank"),className:"bg-[#f00000] text-white px-4 py-2 rounded-lg hover:bg-black hover:cursor-pointer",children:"Download Invoice"})})]}),e.trackingNumber&&r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsx(xt,{to:`/track/${e.trackingNumber}`,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-black hover:cursor-pointer",children:"Track My Order"})}),r.jsx(xt,{to:"/",className:"block text-center bg-[#f00000] text-white py-3 px-6 rounded-xl hover:bg-black transition-colors duration-300 font-semibold hover:cursor-pointer",children:"Continue Shopping"})]})})};function KB(){const[n,e]=V.useState(""),[t,i]=V.useState(null),[s,a]=V.useState(0),[o,c]=V.useState(null),[d,h]=V.useState(null),[m,x]=V.useState("Weak"),[y,b]=V.useState({firstName:"",lastName:"",dateOfBirth:"",mobilePhone:"",email:"",password:"",street:"",city:"",postalCode:""}),S=localStorage.getItem("user"),_=j=>{let R=0;j.length>=6&&R++,/[A-Z]/.test(j)&&R++,/[0-9]/.test(j)&&R++,/[^A-Za-z0-9]/.test(j)&&R++,a(R),x(R<=1?"Weak":R===2?"Medium":R===3?"Strong":"Very Strong")},E=j=>{const{name:R,value:k,type:F,checked:D}=j.target;F==="checkbox"?b(B=>({...B,[R]:D})):R==="password"?(b(B=>({...B,password:k})),_(k)):b(B=>({...B,[R]:k}))},A=j=>{i(j.target.files?.[0]||null)},P=j=>{const R=j.target.files[0];R&&(c(R),h(URL.createObjectURL(R)))},N=async()=>{try{const j=await St.get(`/customer/${S}`);if(j?.data?.data){const R=j.data.data;let k="";R.dateOfBirth&&(k=new Date(R.dateOfBirth).toISOString().split("T")[0]),b({firstName:R.firstName||"",lastName:R.lastName||"",dateOfBirth:k||"",mobilePhone:R.mobilePhone||"",email:R.email||"",password:"",street:R.address?.street||"",city:R.address?.city||"",postalCode:R.address?.postalCode||""}),R.profileImage&&(c(R.profileImage),h(`${Pn}${R.profileImage}`)),R.prescriptionFile&&i(`${Pn}${R.prescriptionFile}`)}}catch(j){console.error("Error fetching user:",j)}};V.useEffect(()=>{N()},[]);const L=async j=>{if(j.preventDefault(),y.password!==n){Ht.fire({toast:!0,position:"top-end",icon:"error",title:"Passwords do not match.",showConfirmButton:!1,timer:1500,timerProgressBar:!0});return}try{const R=new FormData;R.append("firstName",y.firstName),R.append("lastName",y.lastName),R.append("dateOfBirth",y.dateOfBirth),R.append("mobilePhone",y.mobilePhone),R.append("email",y.email),y.password&&R.append("password",y.password),R.append("address[street]",y.street),R.append("address[city]",y.city),R.append("address[postalCode]",y.postalCode),t instanceof File&&R.append("prescriptionFile",t),o instanceof File&&R.append("profileImage",o),await St.put(`/updateCustomer/${S}`,R),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Customer Profile Updated successfully!",showConfirmButton:!1,timer:1500,timerProgressBar:!0}),i(null),e("")}catch(R){console.error(R);let k="Profile update failed. Please try again.";R?.response?.data?.message&&(k=R.response.data.message),Ht.fire({toast:!0,position:"top-end",icon:"error",title:k,showConfirmButton:!1,timer:1500,timerProgressBar:!0})}};return r.jsxs("div",{className:"max-w-3xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 mt-6 mb-10 bg-white shadow-lg rounded-2xl",children:[r.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-center mb-6 sm:mb-8 text-[#f00000]",children:"Update Your Profile"}),r.jsxs("form",{onSubmit:L,encType:"multipart/form-data",className:"space-y-6 sm:space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md sm:text-lg font-semibold mb-3 sm:mb-4 border-b pb-2 text-gray-700",children:"Personal Info"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"First Name"}),r.jsx("input",{type:"text",name:"firstName",value:y.firstName,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Last Name"}),r.jsx("input",{type:"text",name:"lastName",value:y.lastName,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Date of Birth"}),r.jsx("input",{type:"date",name:"dateOfBirth",value:y.dateOfBirth,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Profile Image"}),r.jsx("input",{type:"file",onChange:P,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",accept:"image/*"}),o&&r.jsx("div",{className:"mt-3",children:r.jsx("img",{src:d||`${Pn}${o}`,alt:"Profile Preview",className:"w-16 h-16 sm:w-24 sm:h-24 object-cover rounded-full border shadow"})})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md sm:text-lg font-semibold mb-3 sm:mb-4 border-b pb-2 text-gray-700",children:"Login & Security"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:y.email,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0}),r.jsx("label",{className:"block text-sm font-medium mb-1 mt-3 text-gray-600",children:"Mobile Phone"}),r.jsx("input",{type:"tel",name:"mobilePhone",value:y.mobilePhone,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Password"}),r.jsx("input",{type:"password",name:"password",value:y.password,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none"}),r.jsx("label",{className:"block text-sm font-medium mt-3 mb-1 text-gray-600",children:"Confirm Password"}),r.jsx("input",{type:"password",value:n,onChange:j=>e(j.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none"}),y.password&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("p",{className:"text-sm",children:["Password Strength:"," ",r.jsx("span",{className:`font-semibold ${s<=1?"text-[#f00000]":s===2?"text-yellow-500":s===3?"text-green-500":"text-blue-600"}`,children:m})]}),r.jsx("input",{type:"range",min:"0",max:"4",value:s,readOnly:!0,className:`w-full h-2 rounded-lg mt-2 appearance-none cursor-default ${s<=1?"bg-[#f00000]":s===2?"bg-yellow-400":s===3?"bg-green-400":"bg-blue-400"}`})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md sm:text-lg font-semibold mb-3 sm:mb-4 border-b pb-2 text-gray-700",children:"Address"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Street Address"}),r.jsx("input",{type:"text",name:"street",value:y.street,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0}),r.jsx("label",{className:"block text-sm font-medium mb-1 mt-4 text-gray-600",children:"City"}),r.jsx("input",{type:"text",name:"city",value:y.city,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Prescription Upload"}),r.jsx("input",{type:"file",onChange:A,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",accept:".pdf,image/*"}),t&&r.jsx("div",{className:"mt-2 text-sm text-gray-500",children:t instanceof File?r.jsxs("p",{children:["Selected: ",t.name]}):r.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"View Uploaded Prescription"})})]}),r.jsx("label",{className:"block text-sm font-medium mb-1 mt-4 text-gray-600",children:"Postal Code"}),r.jsx("input",{type:"text",name:"postalCode",value:y.postalCode,onChange:E,className:"w-full border border-gray-300 rounded-lg p-2.5 sm:p-3 focus:ring-2 focus:ring-red-400 outline-none",required:!0})]})]})]}),r.jsx("div",{className:"pt-2",children:r.jsx("button",{type:"submit",className:"w-full bg-[#f00000] text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition hover:cursor-pointer",children:"Update Profile"})})]})]})}const Vce=({onProductLoaded:n})=>{const[e,t]=V.useState(null),i=ws(),{ID:s}=i.state||{},a=async()=>{try{const c=(await St.get(`/getproductbyid/${s}`)).data?.product||{};t(c),n&&n(c)}catch(o){console.error("Failed to fetch product:",o)}};return V.useEffect(()=>{a()},[s]),r.jsxs("div",{className:"w-1/2 flex flex-col justify-center items-center bg-white p-8 shadow-md",children:[e?.product_image_collection?.[0]||e?.product_variants?.[0]?.images?.[0]?r.jsx("img",{src:`${Pn}${e?.product_image_collection?.[0]||e?.product_variants?.[0]?.images?.[0]}`,alt:e?.product_name||"Frame",className:"w-72 h-auto"}):r.jsx("p",{children:"Loading..."}),r.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e?.product_name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Frame size: ",e?.product_size&&String(e.product_size).trim()||"N/A"]}),r.jsxs("div",{className:"text-sm text-blue-600 font-semibold mt-2",children:["Price: $",e?.product_sale_price||"0.00"]})]})},Gce="/assets/single_vision-DfUOcyJ5.png",qce="/assets/progressive_multifocal-BrME219c.png",Wce="/assets/reading_lens-DDHn_o-h.png",Xce="/assets/non_prescription-DNf11M7L.png",Yce=({selectedLens:n,onSelect:e})=>{const t=[{name:"Single vision lenses",description:"Corrects one field of vision (near, intermediate or distance).",image:Gce},{name:"Progressive lenses",description:"Corrects multiple fields of vision with one lens (near, intermediate and distance).",image:qce},{name:"Reading lenses",description:"Corrects one field of vision, to see things near, improving your focus while reading.",image:Wce},{name:"Non-prescription lenses",description:"Protective and stylish lenses, without vision correction.",image:Xce}];return r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Choose your vision need"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choose lenses based on your vision need. If your prescription has an ADD value, you'll need progressive lenses."}),r.jsx("div",{className:"space-y-4",children:t.map(i=>r.jsx("button",{className:`hover:cursor-pointer w-full text-left border rounded-lg p-4 hover:bg-gray-100 transition-all 
              ${n===i.name?"border-blue-500 bg-gray-100":"border-gray-300"}`,onClick:()=>e(i.name),children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-25 h-25 flex items-center justify-center bg-gray-200 rounded-full overflow-hidden",children:r.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:i.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i.description})]})]})},i.name))})]})},Kce=({onManual:n,onSaved:e,goBack:t})=>r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Enter your prescription"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"We'll create a lens tailor-made to your vision needs."}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{className:"hover:cursor-pointer w-full text-left border rounded-lg p-4 hover:bg-gray-100 transition-all border-gray-300",onClick:n,children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Enter it manually"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This is our quickest and most popular method. We will then recommend the most suitable lens type."})]})})}),r.jsx("button",{className:"hover:cursor-pointer w-full text-left border rounded-lg p-4 hover:bg-gray-100 transition-all border-gray-300",onClick:e,children:r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Upload prescription"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shopped here before? Upload or select your prescription."})]})})})]}),r.jsx("button",{onClick:t,className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100 mt-3",children:"Back"})]}),Jce=({goBack:n,onContinue:e,preFilledData:t})=>{const[i,s]=V.useState({odSph:"",odCyl:"",osSph:"",osCyl:"",pdLeft:"",pdRight:"",date:"",doctor:""});V.useEffect(()=>{t&&s({odSph:t.odSph||"",odCyl:t.odCyl||"",osSph:t.osSph||"",osCyl:t.osCyl||"",pdLeft:t.pdLeft||"",pdRight:t.pdRight||"",date:t.date||"",doctor:t.doctor||""})},[t]);const[a,o]=V.useState({}),c=["-6.00","-5.75","-5.50","-5.25","-5.00","-4.75","-4.50","-4.25","-4.00","-3.75","-3.50","-3.25","-3.00","-2.75","-2.50","-2.25","-2.00","-1.75","-1.50","-1.25","-1.00","-0.75","-0.50","-0.25","0.00","+0.25","+0.50","+0.75","+1.00","+1.25","+1.50","+1.75","+2.00","+2.25","+2.50","+2.75","+3.00","+3.25","+3.50","+3.75","+4.00","+4.25","+4.50","+4.75","+5.00","+5.25","+5.50","+5.75","+6.00"],d=["0.00","-0.25","-0.50","-0.75","-1.00","-1.25","-1.50","-1.75","-2.00","-2.25","-2.50","-2.75","-3.00","+0.25","+0.50","+0.75","+1.00","+1.25","+1.50"],h=y=>{const{name:b,value:S}=y.target;s(_=>({..._,[b]:S}))},m=()=>{let y={};return i.odSph||(y.odSph="Required"),i.osSph||(y.osSph="Required"),(!i.pdLeft||!i.pdRight)&&(y.pd="Required"),i.date||(y.date="Required"),i.doctor||(y.doctor="Required"),y},x=()=>{const y=m();if(Object.keys(y).length>0){o(y);return}e(i)};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Enter your prescription"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full border border-gray-200 text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 border",children:"Eye"}),r.jsx("th",{className:"p-2 border",children:"SPH (Sphere)"}),r.jsx("th",{className:"p-2 border",children:"CYL (Cylinder)"}),r.jsx("th",{className:"p-2 border",children:"Axis"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{className:"p-2 border",children:"OD (Right)"}),r.jsxs("td",{className:"p-2 border",children:[r.jsxs("select",{name:"odSph",value:i.odSph,onChange:h,className:"w-24 border p-1 rounded hover:cursor-pointer",children:[r.jsx("option",{value:"",children:"Select"}),c.map(y=>r.jsx("option",{className:"hover:cursor-pointer",value:y,children:y},y))]}),a.odSph&&r.jsx("p",{className:"text-[#f00000] text-xs",children:a.odSph})]}),r.jsx("td",{className:"p-2 border",children:r.jsxs("select",{name:"odCyl",value:i.odCyl,onChange:h,className:"w-24 border p-1 rounded hover:cursor-pointer",children:[r.jsx("option",{value:"",children:"Select"}),d.map(y=>r.jsx("option",{value:y,children:y},y))]})}),r.jsx("td",{className:"p-2 border",children:"None"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"p-2 border",children:"OS (Left)"}),r.jsxs("td",{className:"p-2 border",children:[r.jsxs("select",{name:"osSph",value:i.osSph,onChange:h,className:"w-24 border p-1 rounded hover:cursor-pointer",children:[r.jsx("option",{value:"",children:"Select"}),c.map(y=>r.jsx("option",{value:y,children:y},y))]}),a.osSph&&r.jsx("p",{className:"text-[#f00000] text-xs",children:a.osSph})]}),r.jsx("td",{className:"p-2 border",children:r.jsxs("select",{name:"osCyl",value:i.osCyl,onChange:h,className:"w-24 border p-1 rounded hover:cursor-pointer",children:[r.jsx("option",{value:"",children:"Select"}),d.map(y=>r.jsx("option",{value:y,children:y},y))]})}),r.jsx("td",{className:"p-2 border",children:"None"})]})]})]})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Pupillary Distance (PD)"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("input",{type:"number",name:"pdLeft",value:i.pdLeft,onChange:h,placeholder:"Left",className:"border rounded p-2 w-20 hover:cursor-pointer"}),r.jsx("input",{type:"number",name:"pdRight",value:i.pdRight,onChange:h,placeholder:"Right",className:"border rounded p-2 w-20 hover:cursor-pointer"})]}),a.pd&&r.jsx("p",{className:"text-[#f00000] text-xs",children:a.pd})]}),r.jsxs("div",{className:"mt-4 flex space-x-4",children:[r.jsxs("label",{className:"flex-1",children:[r.jsx("span",{className:"block text-sm font-medium mb-1",children:"Date of Prescription*"}),r.jsx("input",{type:"date",id:"date",name:"date",value:i.date,onChange:h,className:"border p-2 rounded w-full hover:cursor-pointer"})]}),r.jsx("input",{type:"text",name:"doctor",value:i.doctor,onChange:h,placeholder:"Doctor's Name*",className:"border p-2 rounded flex-1 hover:cursor-pointer h-10.5 mt-6"})]}),a.date&&r.jsx("p",{className:"text-[#f00000] text-xs mt-1",children:a.date}),a.doctor&&r.jsx("p",{className:"text-[#f00000] text-xs mt-1",children:a.doctor}),r.jsx("button",{onClick:x,className:"mt-6 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full hover:cursor-pointer",children:"Continue"}),r.jsx("button",{onClick:n,className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100 mt-3 w-full",children:"Back"})]})},Qce=({preFilledData:n,goBack:e,onContinue:t})=>{const[i,s]=V.useState(null),[a,o]=V.useState(null),[c,d]=V.useState(n||null),[h,m]=V.useState(!1),x=async y=>{const b=y.target.files[0];if(!b)return;s(b),b.type.startsWith("image/")?o(URL.createObjectURL(b)):o(null);const S=new FormData;S.append("file",b);try{m(!0);const{data:_}=await St.post("/uploads",S,{headers:{"Content-Type":"multipart/form-data"}});_.success?d(_):console.error("Upload failed:",_.message)}catch(_){console.error("Error uploading:",_)}finally{m(!1)}};return r.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Upload your prescription"}),r.jsx("div",{className:"border-dashed border-2 border-gray-300 rounded-lg p-6 text-center",children:!a&&!c?r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"file",id:"upload",accept:"image/*,application/pdf",className:"hidden",onChange:x}),r.jsx("label",{htmlFor:"upload",className:"cursor-pointer text-blue-600 hover:text-blue-800 font-medium",children:"Click to upload file"})]}):r.jsxs("div",{children:[a?r.jsx("img",{src:a,alt:"Preview",className:"mx-auto max-h-48 rounded mb-4"}):r.jsxs("p",{className:"text-gray-600",children:["File uploaded: ",i?.name]}),r.jsx("button",{onClick:()=>{s(null),o(null),d(null)},className:"text-[#f00000] underline text-sm",children:"Remove file"})]})}),r.jsx("button",{onClick:()=>t(c),disabled:!c||h,className:`mt-6 w-full py-2 rounded ${c?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:h?"Uploading...":"Continue"}),r.jsx("button",{onClick:e,className:"mt-2 w-full border border-gray-400 py-2 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back"})]})},Zce=({goBack:n,onSelectLensType:e,onContinue:t})=>{const[i,s]=V.useState(null),[a,o]=V.useState(null),c=[{name:"Sun lenses",description:"Choose from different lens colours and tints.",price:"$19.50",oldPrice:"$39.00",discount:"50% OFF"},{name:"Transitions GEN S",description:"Adapt from clear indoors to dark outdoors, for sun, clear and blue-violet light filtering lenses all in one.",price:"$85.00",oldPrice:"$170.00",discount:"50% OFF",colors:[{name:"Gray",hex:"#6e6e6e"},{name:"Brown",hex:"#8B4513"},{name:"Emerald",hex:"#2ecc71"},{name:"Amber",hex:"#FFBF00"},{name:"Sapphire",hex:"#0066cc"},{name:"Amethyst",hex:"#9966cc"}]},{name:"Clear lenses",description:"Premium lenses, perfect for everyday use.",price:"Included"},{name:"Blue-light treatment lenses",description:"Blue-violet light filtering lenses help reduce exposure indoors and outdoors.",price:"$22.50",oldPrice:"$45.00",discount:"50% OFF"}],d=m=>{s(m.name),o(null),m.name!=="Transitions GEN S"&&(e(m),t())},h=(m,x)=>{o(x.name),s("Transitions GEN S"),e({...m,name:`${m.name} - ${x.name}`,color:x})};return r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Choose your lens type"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Lenses and protective treatments to suit your lifestyle."}),r.jsx("div",{className:"space-y-4",children:c.map(m=>r.jsxs("div",{className:`hover:cursor-pointer border rounded-lg p-4 transition-all ${i===m.name?"border-blue-500 bg-gray-100":"border-gray-300 hover:bg-gray-50"}`,children:[r.jsx("button",{onClick:()=>d(m),className:"w-full text-left hover:cursor-pointer",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:m.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.description})]}),r.jsxs("div",{className:"text-right",children:[m.oldPrice&&r.jsx("span",{className:"line-through text-gray-400 text-sm mr-2",children:m.oldPrice}),r.jsx("span",{className:"text-blue-600 font-semibold",children:m.price}),m.discount&&r.jsx("div",{className:"text-[#f00000] text-xs",children:m.discount})]})]})}),m.colors&&m.name==="Transitions GEN S"&&r.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:m.colors.map(x=>r.jsx("button",{onClick:()=>h(m,x),className:`hover:cursor-pointer w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all ${a===x.name?"border-blue-600 scale-110":"border-gray-300 hover:scale-105"}`,style:{backgroundColor:x.hex},title:x.name,children:a===x.name&&r.jsx("div",{className:"w-4 h-4 rounded-full bg-white"})},x.name))}),m.name==="Transitions GEN S"&&a&&r.jsx("button",{onClick:t,className:"hover:cursor-pointer mt-4 w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Continue"})]},m.name))}),r.jsx("button",{onClick:n,className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100 mt-3",children:"Back"})]})},$ce=({selectedTint:n,onSelect:e,onApply:t,goBack:i})=>{const s=[{name:"Grey",type:"Solid Tint",price:"$19.50",oldPrice:"$39.00"},{name:"Brown",type:"Solid Tint",price:"$19.50",oldPrice:"$39.00"},{name:"Green",type:"Solid Tint",price:"$19.50",oldPrice:"$39.00"},{name:"Grey Polarised",type:"Solid Tint",price:"$57.50",oldPrice:"$115.00"},{name:"Brown Polarised",type:"Solid Tint",price:"$57.50",oldPrice:"$115.00"},{name:"Green Polarised",type:"Solid Tint",price:"$57.50",oldPrice:"$115.00"},{name:"Sapphire",type:"Mirror",price:"$37.00",oldPrice:"$74.00"},{name:"Silver",type:"Mirror",price:"$37.00",oldPrice:"$74.00"},{name:"Gold",type:"Mirror",price:"$37.00",oldPrice:"$74.00"}],[a,o]=V.useState(n||null);return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Authentic Lens Experience"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choose your lens tint and finish."}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.map(c=>r.jsxs("button",{onClick:()=>o(c),className:`hover:cursor-pointer border rounded-lg p-4 flex flex-col items-center text-center transition-all ${a?.name===c.name?"border-blue-500 bg-gray-100":"border-gray-300 hover:bg-gray-100"}`,children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 mb-2"}),r.jsx("span",{className:"font-medium",children:c.name}),r.jsx("span",{className:"text-xs text-gray-500",children:c.type}),r.jsxs("div",{className:"mt-1 text-sm",children:[r.jsx("span",{className:"line-through text-gray-400 mr-1",children:c.oldPrice}),r.jsx("span",{className:"text-blue-600 font-semibold",children:c.price})]})]},c.name))}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx("button",{onClick:i,className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100 mt-3",children:"Back"}),r.jsx("button",{disabled:!a,onClick:()=>{e(a),t()},className:"hover:cursor-pointer bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 disabled:opacity-50",children:"Apply"})]})]})},eue=({goBack:n,onSelectThickness:e})=>{const[t,i]=V.useState(null),s=[{name:"Standard lenses",description:"Slim, plastic lens (index 1.50) for low prescriptions and best for occasional wearers.",details:["Prescriptions between +2.5 and -2.5","Recommended for low prescriptions"],price:"Included"},{name:"Polycarbonate lenses",description:"Thin, durable and lightweight polycarbonate lens (index 1.59), best for everyday wearers.",details:["Prescriptions between +4 and -4","Recommended for low to medium prescriptions","Anti-reflective","Impact resistant"],oldPrice:"$50.00",price:"$25.00",discount:"50% OFF"},{name:"Thin lenses",description:"A thinner and lighter lens (index 1.60) that is best for medium prescriptions.",details:["Prescriptions between +4.5 and -4.5","Recommended for medium prescriptions","Anti-reflective","Impact resistant"],oldPrice:"$80.00",price:"$40.00",discount:"50% OFF"}],a=o=>{i(o.name),e(o)};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Choose your lens thickness"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"When choosing your lens thickness, remember that a thinner lens will be lighter and look best with thin-edged frames."}),r.jsx("div",{className:"space-y-4",children:s.map(o=>r.jsx("button",{onClick:()=>a(o),className:`hover:cursor-pointer w-full text-left border rounded-lg p-4 transition-all ${t===o.name?"border-blue-500 bg-gray-100":"border-gray-300 hover:bg-gray-100"}`,children:r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:o.name}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.description}),r.jsx("ul",{className:"text-xs text-gray-500 list-disc ml-4 mt-2",children:o.details.map((c,d)=>r.jsx("li",{children:c},d))})]}),r.jsxs("div",{className:"text-right",children:[o.oldPrice&&r.jsx("span",{className:"line-through text-gray-400 text-sm mr-2",children:o.oldPrice}),r.jsx("span",{className:"text-blue-600 font-semibold",children:o.price}),o.discount&&r.jsx("div",{className:"text-[#f00000] text-xs",children:o.discount})]})]})},o.name))}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsx("button",{onClick:n,className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back"}),t&&r.jsx("button",{onClick:()=>e(t),className:"hover:cursor-pointer bg-blue-500 text-white px-6 py-2 rounded-lg",children:"Continue"})]})]})},tue=({selectedEnhancement:n,onSelect:e,onContinue:t,goBack:i})=>{const s=[{id:"anti-reflective",name:"Anti-reflective coating",description:"Minimises unwanted reflections and reduces irritating glare.",benefits:["Reduced glare"],price:"Included"},{id:"c-shield",name:"C Shield",description:"A six-in-one protective coating for cleaner, clearer and stronger lenses.",benefits:["Reduced glare","Water-repellent","Smudge-repellent"],price:"$25.00",oldPrice:"$50.00",discount:"50% OFF"}],[a,o]=V.useState(n||null),c=h=>{o(h),e(h)},d=h=>{Ht.fire({title:h.name,html:`
      <div class="text-left text-gray-700 space-y-2">
        <p><b>Description:</b> ${h.description}</p>
        <p><b>Benefits:</b> ${h.benefits.join(", ")}</p>
        <p><b>Price:</b> ${h.price}</p>
        ${h.oldPrice?`<p><b>Old Price:</b> ${h.oldPrice}</p>`:""}
        ${h.discount?`<p><b>Discount:</b> ${h.discount}</p>`:""}
      </div> `,confirmButtonText:"Close",confirmButtonColor:"#2563eb",background:"#ffffff",customClass:{popup:"rounded-2xl shadow-2xl p-6 border border-gray-200",title:"text-xl font-bold text-gray-800 mb-2",htmlContainer:"text-base text-gray-600",confirmButton:"px-6 py-2 rounded-lg text-white bg-blue-600 hover:bg-blue-700",backdrop:"backdrop-blur-md bg-black/10"},didOpen:()=>{const m=document.querySelector(".swal2-container");m&&m.classList.add("backdrop-blur-md","bg-black/30")}})};return r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Enhance your lens performance"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Give your lens a boost with performance-enhancing features and premium add-ons."}),r.jsx("div",{className:"space-y-4",children:s.map(h=>r.jsx("div",{className:`hover:cursor-pointer border rounded-lg p-4 cursor-pointer transition ${a?.id===h.id?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>c(h),children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:h.name}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:h.description}),r.jsx("ul",{className:"mt-2 space-y-1 text-sm text-green-600",children:h.benefits.map((m,x)=>r.jsxs("li",{children:[" ",m]},x))}),r.jsx("button",{className:"text-blue-600 text-sm mt-2 inline-block hover:underline",onClick:m=>{m.preventDefault(),d(h)},children:"Learn More"})]}),r.jsx("div",{className:"text-right",children:h.price==="Included"?r.jsx("span",{className:"text-gray-600 font-medium",children:h.price}):r.jsxs("div",{children:[h.discount&&r.jsx("span",{className:"bg-[#f00000] text-white text-xs font-semibold px-2 py-1 rounded",children:h.discount}),r.jsxs("div",{className:"mt-1",children:[h.oldPrice&&r.jsx("span",{className:"line-through text-gray-500 text-sm mr-1",children:h.oldPrice}),r.jsx("span",{className:"text-blue-600 font-semibold",children:h.price})]})]})})]})},h.id))}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx("button",{onClick:i,className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back"}),r.jsx("button",{onClick:t,disabled:!a,className:`hover:cursor-pointer px-6 py-2 rounded-lg text-white ${a?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:"Continue"})]})]})},JB=()=>{const n=Bi(),e=(G,W)=>{try{const $=localStorage.getItem("lensFlow_"+G);return $?JSON.parse($):W}catch{return W}},[t,i]=V.useState(e("step",1)),[s,a]=V.useState(e("selectedLens",null)),[o,c]=V.useState(e("prescriptionMethod",null)),[d,h]=V.useState(e("lensType",null)),[m,x]=V.useState(e("tint",null)),[y,b]=V.useState(e("thickness",null)),[S,_]=V.useState(e("enhancement",null)),[E,A]=V.useState(e("prescription",null)),[P,N]=V.useState(!1),[L,j]=V.useState(e("product",null)),R=ws(),{ID:k,previousLens:F}=R.state||{};Td();const D=G=>!G||G==="Included"?0:parseFloat(G.replace("$",""))||0,B=D(d?.price)+D(m?.price)+D(y?.price)+D(S?.price);V.useEffect(()=>{localStorage.setItem("lensFlow_step",JSON.stringify(t)),localStorage.setItem("lensFlow_selectedLens",JSON.stringify(s)),localStorage.setItem("lensFlow_prescriptionMethod",JSON.stringify(o)),localStorage.setItem("lensFlow_lensType",JSON.stringify(d)),localStorage.setItem("lensFlow_tint",JSON.stringify(m)),localStorage.setItem("lensFlow_thickness",JSON.stringify(y)),localStorage.setItem("lensFlow_enhancement",JSON.stringify(S)),localStorage.setItem("lensFlow_prescription",JSON.stringify(E)),localStorage.setItem("lensFlow_product",JSON.stringify(L))},[t,s,o,d,m,y,S,E,L]);const q=()=>{if(!L)return;const G={lens:{selectedLens:s,prescriptionMethod:o,prescription:E,lensType:d,tint:m,thickness:y,enhancement:S,price:B},totalPrice:B};localStorage.setItem("lensSelectionDetails",JSON.stringify(G)),Ht.fire({toast:!0,position:"top-end",icon:"success",title:"Lens selection saved!",showConfirmButton:!1,timer:1500}),n(-1),i(1),a(null),c(null),h(null),x(null),b(null),_(null),A(null),N(!1),j(null),Object.keys(localStorage).filter(W=>W.startsWith("lensFlow_")).forEach(W=>localStorage.removeItem(W))},Y=G=>{j(G)};return V.useEffect(()=>{F?.lens&&(a(F.lens.selectedLens||null),c(F.lens.prescriptionMethod||null),A(F.lens.prescription||null),h(F.lens.lensType||null),x(F.lens.tint||null),b(F.lens.thickness||null),_(F.lens.enhancement||null))},[F]),r.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col sm:flex-row",children:[r.jsx("div",{className:"hidden sm:flex sm:w-1/2 items-center justify-center ",children:r.jsx(Vce,{onProductLoaded:Y})}),r.jsx("div",{className:"w-full sm:w-1/2 bg-gray-50 p-6 sm:p-8 flex justify-center",children:r.jsxs("div",{className:"w-full max-w-lg",children:[t===1&&r.jsx(Yce,{selectedLens:s,onSelect:G=>{a(G),i(G==="Non-prescription lenses"?5:2)}}),t===2&&r.jsx(Kce,{preSelectedMethod:F?.lens?.prescriptionMethod,onManual:()=>{c("Manually added"),i(3)},onSaved:()=>{i(4)},goBack:()=>i(1)}),t===3&&r.jsx(Jce,{preFilledData:E,goBack:()=>i(2),onContinue:G=>{A(G),i(5)}}),t===4&&r.jsx(Qce,{preFilledData:o,goBack:()=>i(2),onContinue:G=>{c(G.fileURL),i(5)}}),t===5&&r.jsx(Zce,{preSelectedType:d,goBack:()=>i(s==="Non-prescription lenses"?1:2),onSelectLensType:G=>{h(G),i(G.name==="Sun lenses"?6:7)}}),t===6&&d?.name==="Sun lenses"&&r.jsx($ce,{selectedTint:m,onSelect:G=>x(G),onApply:()=>i(7),goBack:()=>i(5)}),t===7&&r.jsx(eue,{preSelectedThickness:y,goBack:()=>i(d?.name==="Sun lenses"?6:5),onSelectThickness:G=>{b(G),i(8)}}),t===8&&r.jsx(tue,{selectedEnhancement:S,onSelect:G=>_(G),goBack:()=>i(7),onContinue:()=>i(9)}),t===9&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-[#f00000] mb-6",children:"Review"}),r.jsxs("div",{className:"mb-6 space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Vision Need:"})," ",s]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Prescription:"})," ",s==="Non-prescription lenses"?"Not required":o||"Not provided"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Lens Type:"})," ",d?.name||"Clear lenses"," ",d?.price&&r.jsx("span",{className:"text-blue-600",children:d.price})]}),d?.name==="Sun lenses"&&m&&r.jsxs("p",{children:[r.jsx("strong",{children:"Tint:"})," ",m.name," ",r.jsx("span",{className:"text-blue-600",children:m.price})]}),y&&r.jsxs("p",{children:[r.jsx("strong",{children:"Thickness:"})," ",y.name," ",r.jsx("span",{className:"text-blue-600",children:y.price})]}),S&&r.jsxs("p",{children:[r.jsx("strong",{children:"Finishings:"})," ",S.name," ",r.jsx("span",{className:"text-blue-600",children:S.price})]})]}),r.jsxs("div",{className:"border-t pt-4 mt-4 flex justify-between items-center text-xl font-semibold",children:[r.jsx("span",{children:"Lenses Total:"}),r.jsxs("span",{className:"text-green-600 font-bold",children:["$",B.toFixed(2)]})]}),r.jsxs("div",{className:"mt-8 flex justify-between",children:[r.jsx("button",{onClick:()=>i(8),className:"hover:cursor-pointer px-6 py-2 border border-gray-400 rounded-lg text-gray-700 hover:bg-gray-100",children:"Back"}),r.jsx("button",{onClick:q,className:"bg-[#f00000] text-white px-12 py-3 rounded hover:bg-red-800 text-xl border-1 border-black hover:cursor-pointer",children:"Confirm Lens Selection"})]})]})]})})]})},QB=()=>{const n=Bi(),{trackingNumber:e}=Ef(),[t,i]=V.useState(e||""),[s,a]=V.useState(null),[o,c]=V.useState(!1),d=["Placed","Processing","Shipped","Delivered","Cancelled","Returned"],h=s?d.findIndex(x=>x.toLowerCase()===(s.orderStatus||"").toLowerCase()):-1,m=async()=>{if(!t.trim()){Ht.fire("Error","Please enter a tracking number","error");return}c(!0);try{const{data:x}=await St.get(`/order/track/${t}`);a({...x,orderStatus:x.status})}catch{Ht.fire("Not Found","No order found with this tracking number","error"),a(null)}finally{c(!1)}};return V.useEffect(()=>{e&&m()},[e]),r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 p-6",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full max-w-3xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-[#f00000]",children:"Track Your Order"}),r.jsx("button",{onClick:()=>n(-1),className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition hover:cursor-pointer",children:" Back"})]}),r.jsxs("div",{className:"flex gap-2 mb-8",children:[r.jsx("input",{type:"text",placeholder:"Enter Tracking Number",value:t,onChange:x=>i(x.target.value.toUpperCase()),className:"flex-1 border border-gray-300 p-2 rounded-lg uppercase focus:ring-2 focus:ring-red-500 outline-none",disabled:!0}),r.jsx("button",{onClick:m,disabled:o,className:`px-4 rounded-lg text-white transition hover:cursor-pointer ${o?"bg-gray-400 cursor-not-allowed":"bg-[#f00000] hover:bg-black"}`,children:o?"Checking...":"Track"})]}),s&&r.jsx("div",{className:"flex items-center justify-between w-full mb-8",children:d.map((x,y)=>r.jsxs(Mi.Fragment,{children:[r.jsxs("div",{className:"flex flex-col items-center w-20",children:[r.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full border-2 transition-colors
                                            ${h>=y?"bg-[#f00000] border-red-600 text-white":"border-gray-300 text-gray-400"}`,children:y+1}),r.jsx("span",{className:`text-xs mt-2 ${h>=y?"text-[#f00000] font-semibold":"text-gray-400"}`,children:x})]}),y<d.length-1&&r.jsx("div",{className:`flex-1 h-[3px] mb-6 transition-colors duration-500
                                            ${h>y?"bg-[#f00000]":"bg-gray-300"}`})]},x))}),s?r.jsxs("div",{className:"text-gray-700 space-y-2",children:[r.jsxs("p",{children:[r.jsx("b",{children:"Status:"})," ",s.orderStatus]}),s.deliveryDate&&r.jsxs("p",{children:[r.jsx("b",{children:"Delivery Date:"})," ",new Date(s.deliveryDate).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mt-4 font-semibold text-gray-800 border-b pb-2",children:"Tracking History:"}),r.jsx("ul",{className:"list-disc pl-6 mt-2 space-y-1",children:s.trackingHistory.map((x,y)=>r.jsxs("li",{children:[r.jsx("b",{children:x.status}),"  ",x.message]},y))})]})]}):!o&&r.jsx("p",{className:"text-center text-gray-500",children:"Enter your tracking number to check order progress."})]})})},ZB=()=>{const[n,e]=V.useState([]),[t,i]=V.useState(!0),[s,a]=V.useState(""),o=localStorage.getItem("user");return V.useEffect(()=>{o?(async()=>{try{const d=await St.get(`/order/history/${o}`);e(d.data.orders||[])}catch(d){a(d.response?.data?.message||"Failed to fetch order history")}finally{i(!1)}})():(a("User not logged in"),i(!1))},[o]),t?r.jsx("p",{className:"text-center",children:"Loading order history..."}):s?r.jsxs("div",{className:"text-center mt-10 px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-[#f00000]",children:"Order History"}),r.jsx("p",{className:"text-black mt-4 text-lg",children:s}),r.jsx(xt,{to:"/",className:"mt-6 inline-block bg-[#f00000] text-white px-6 py-2 mb-10 rounded-lg hover:bg-black",children:"Go to Home"})]}):r.jsxs("div",{className:"p-4 md:p-6",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center text-[#f00000]",children:"My Order"}),n.length===0?r.jsxs("div",{className:"text-center mt-6 px-4",children:[r.jsx("p",{children:"No orders found."}),r.jsx(xt,{to:"/",className:"mt-4 inline-block bg-[#f00000] text-white px-6 py-2 rounded-lg hover:bg-black",children:"Go to Home"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden md:block",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-200",children:[r.jsx("th",{className:"border px-4 py-2 text-left",children:"Tracking no."}),r.jsx("th",{className:"border px-10 py-2",children:"Image"}),r.jsx("th",{className:"border px-4 py-2 text-left",children:"Products"}),r.jsx("th",{className:"border px-4 py-2",children:"Total Amount"}),r.jsx("th",{className:"border px-4 py-2",children:"Status"}),r.jsx("th",{className:"border px-4 py-2",children:"Manage Order"})]})}),r.jsx("tbody",{children:n.map(c=>r.jsxs("tr",{className:"hover:bg-gray-50 text-center align-top",children:[r.jsx("td",{className:"border px-4 py-2 text-left align-top",children:c.trackingNumber}),r.jsx("td",{className:"border px-4 py-2 text-center align-top",children:r.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:c.cartItems.map((d,h)=>{const m=d.image?.startsWith("http")?d.image:Pn+d.image;return r.jsx("img",{src:m,alt:d.image?.split("/").pop(),className:"h-20 w-24 object-cover rounded"},h)})})}),r.jsx("td",{className:"border px-4 py-2 align-top text-left",children:c.cartItems.map((d,h)=>r.jsxs("div",{className:"truncate",children:[d.name," (x",d.quantity,")"]},h))}),r.jsxs("td",{className:"border px-4 py-2 align-top",children:["$",c.total.toFixed(2)]}),r.jsx("td",{className:"border px-4 py-2 align-top",children:c.orderStatus}),r.jsx("td",{className:"border px-4 py-2 align-top",children:(()=>{const d=[];if(d.push(r.jsx(xt,{to:"/view-order",state:{id:c._id},children:r.jsx("button",{className:"bg-yellow-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-yellow-800",children:"View"})},"view")),c?.cartItems?.some(h=>h?.policy?.status==="Active")){const h=c.orderStatus==="Cancelled",x=c.orderStatus==="Delivered"&&!h;d.push(r.jsx(xt,{to:x?"/insurance-claim":"#",state:x?{order:c}:{},children:r.jsx("button",{className:`px-3 py-1.5 text-sm rounded-lg ${x?"bg-blue-600 text-white hover:bg-black":"bg-gray-400 text-white cursor-not-allowed"}`,disabled:!x,children:"Claim"})},"claim"))}return d.push(r.jsx(xt,{to:`/track/${c.trackingNumber}`,children:r.jsx("button",{className:"bg-[#f00000] text-white px-3 py-1.5 text-sm rounded-lg hover:bg-black",children:"Track"})},"track")),r.jsx("div",{className:"flex items-center justify-end gap-2 w-full",children:d})})()})]},c._id))})]})}),r.jsx("div",{className:"block md:hidden space-y-4",children:n.map(c=>r.jsxs("div",{className:"border rounded-lg p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"text-sm font-semibold",children:["Tracking:"," ",r.jsx("span",{className:"font-normal",children:c.trackingNumber})]}),r.jsx("div",{className:"text-sm",children:c.orderStatus})]}),r.jsx("div",{className:"mb-2",children:r.jsx("div",{className:"flex overflow-x-auto gap-2 pb-2",children:c.cartItems.map((d,h)=>{const m=d.image?.startsWith("http")?d.image:Pn+d.image;return r.jsx("img",{src:m,alt:d.image?.split("/").pop(),className:"h-16 w-20 object-cover rounded flex-shrink-0"},h)})})}),r.jsx("div",{className:"mb-2 text-sm",children:c.cartItems.map((d,h)=>r.jsxs("div",{className:"truncate",children:[d.name," (x",d.quantity,")"]},h))}),r.jsxs("div",{className:"mb-3 text-sm font-medium",children:["Total: $",c.total.toFixed(2)]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx(xt,{to:"/view-order",state:{id:c._id},children:r.jsx("button",{className:"w-full sm:w-auto bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-800",children:"View Order"})}),c?.cartItems?.some(d=>d?.policy?.status==="Active")&&(()=>{const d=c.orderStatus==="Cancelled",m=c.orderStatus==="Delivered"&&!d;return r.jsx(xt,{to:m?"/insurance-claim":"#",state:m?{order:c}:{},children:r.jsx("button",{className:`w-full sm:w-auto px-4 py-2 rounded-lg ${m?"bg-blue-600 text-white hover:bg-black":"bg-gray-400 text-white cursor-not-allowed"}`,disabled:!m,children:"Claim"})})})(),r.jsx(xt,{to:`/track/${c.trackingNumber}`,children:r.jsx("button",{className:"w-full sm:w-auto bg-[#f00000] text-white px-4 py-2 rounded-lg hover:bg-black",children:"Track Order"})})]})]},c._id))})]})]})},$B=()=>{const n=ws(),e=Bi(),{id:t}=n.state||{},[i,s]=V.useState(null),[a,o]=V.useState(!0),[c,d]=V.useState(!1),[h,m]=V.useState(null);V.useEffect(()=>{t&&(async()=>{try{const E=await St.get(`/order/${t}`);s(E.data.order)}catch(E){console.error("Error fetching order:",E)}finally{o(!1)}})()},[t]);const x=()=>e("/order-history"),y=async _=>{if((await Ht.fire({title:"Renew Policy?",text:`Do you want to renew the policy "${_.name}"?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"Proceed to Payment"})).isConfirmed)try{e("/payment-policy",{state:{policy:{_id:_._id,name:_.name,companyId:_.companyId,price:_.price},orderId:i._id,type:"renew"}})}catch(A){console.error("Error while setting renew policy:",A),Ht.fire("Error","Something went wrong while renewing policy.","error")}},b=async()=>{if(!h){Ht.fire({icon:"warning",title:"No Product Selected",text:"Please select a product to cancel.",confirmButtonColor:"#2563eb"});return}const _=localStorage.getItem("user");if(!_){Ht.fire({icon:"error",title:"Login Required",text:"Please log in to cancel the product.",confirmButtonColor:"#2563eb"});return}if((await Ht.fire({title:"Cancel Product?",text:`Do you want to cancel "${h.name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Cancel"})).isConfirmed){d(!0);try{const A=await St.put(`/cancleOrder/${i._id}`,{userId:_,productId:h._id});Ht.fire({icon:"success",title:"Product Cancelled",text:A.data.message||`${h.name} has been cancelled.`,confirmButtonColor:"#2563eb"}),s(A.data.order),m(null)}catch(A){Ht.fire({icon:"error",title:"Error",text:A.response?.data?.message||"Error cancelling product",confirmButtonColor:"#2563eb"})}finally{d(!1)}}},S=({title:_,children:E})=>r.jsxs(Ke.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-3",children:_}),E]});return a?r.jsxs("div",{className:"flex justify-center items-center min-h-screen text-gray-700 text-base",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Loading order details..."]}):i?r.jsx("div",{className:"bg-gray-100 min-h-screen py-6 px-4 sm:px-6 lg:px-8",children:r.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-5xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-4 border border-gray-200 flex flex-col sm:flex-row justify-between items-center gap-3",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("button",{onClick:x,className:"text-gray-700 hover:cursor-pointer hover:text-black font-medium text-md flex items-center gap-1 transition-colors",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Orders"]})}),r.jsx("div",{className:"text-center sm:text-right",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Order Details"})}),["Placed","Processing"].includes(i.orderStatus)&&r.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-1",children:"Select Product"}),r.jsxs("select",{value:h?._id||"",onChange:_=>{const E=i?.cartItems.find(A=>A._id===_.target.value);m(E)},required:!0,className:"border border-gray-300 p-2 w-64 rounded focus:ring-2 focus:ring-red-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"-- Select Product --"}),i?.cartItems.map(_=>r.jsxs("option",{value:_._id,children:[_.name," ($",_.price,")"]},_._id))]})]}),r.jsx("button",{onClick:b,disabled:c||!h,className:`text-md font-medium px-4 py-3 rounded-md mt-7 transition-colors ${c||!h?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-[#f00000] hover:cursor-pointer text-white hover:bg-red-700"}`,children:c?"Cancelling...":"Cancel Selected Product"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsx(S,{title:"Ordered Sunglasses",children:r.jsx("div",{className:"space-y-3",children:i.cartItems.map((_,E)=>r.jsxs(Ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:E*.1},className:"flex flex-col sm:flex-row items-start gap-3 border-b border-gray-200 py-3",children:[r.jsx("img",{src:_.image,alt:_.name,className:"w-20 h-20 sm:w-24 sm:h-24 object-contain rounded-md border border-gray-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:`text-base font-medium ${_.status==="Cancelled"?"text-gray-400 line-through":"text-gray-900"}`,children:[_.name,_.status==="Cancelled"&&r.jsx("span",{className:"inline-block ml-2 text-xs font-semibold text-[#f00000] bg-gray-100 px-3 py-2 rounded-full",children:"Cancelled"})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["$",Math.round(_.price),"  ",_.quantity]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Size: ",_.product_size?.join(", ")||"N/A"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Color: ",_.product_color?.join(", ")||"N/A"]})]})]},E))})}),i.cartItems[0]?.policy&&r.jsx(S,{title:"Policy Details",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"mb-3 border-b border-gray-200 pb-2",children:[r.jsx("h3",{className:"font-medium mb-1",children:"Current Policy:"}),["name","price","companyName","coverage","durationDays","expiryDate"].map(_=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"font-medium",children:[_.charAt(0).toUpperCase()+_.slice(1).replace("Name"," Name").replace("Days"," Days"),":"]}),r.jsx("span",{children:_==="price"?`$${Math.round(i.cartItems[0].policy[_])}`:_==="expiryDate"?new Date(i.cartItems[0].policy[_]).toLocaleDateString():i.cartItems[0].policy[_]||"N/A"})]},_)),r.jsxs("div",{className:"flex justify-between mt-1",children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("span",{className:`font-semibold ${new Date(i.cartItems[0].policy.expiryDate)<new Date?"text-[#f00000]":"text-green-600"}`,children:new Date(i.cartItems[0].policy.expiryDate)<new Date?"Expired":"Active"})]})]}),i.cartItems[0].previousPolicies?.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-1",children:"Previous Policies:"}),i.cartItems[0].previousPolicies.map((_,E)=>{const A=new Date(_.expiryDate)<new Date;return r.jsxs("div",{className:"mb-2 border-b border-gray-100 pb-1 text-xs text-gray-700",children:[["name","price","companyName","purchasedAt","expiryDate"].map(P=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"font-medium",children:[P.charAt(0).toUpperCase()+P.slice(1).replace("Name"," Name").replace("At"," At"),":"]}),r.jsx("span",{children:P==="price"?`$${Math.round(_[P])}`:["purchasedAt","expiryDate"].includes(P)?new Date(_[P]).toLocaleDateString():_[P]||"N/A"})]},P)),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("span",{className:`font-semibold ${A?"text-[#f00000]":"text-green-600"}`,children:A?"Expired":"Active"})]})]},E)})]})]})}),(()=>{const _=i?.cartItems?.[0]?.policy;return _&&new Date(_.expiryDate)<new Date?r.jsx("button",{onClick:()=>y(_),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md mt-3",children:"Renew Policy"}):null})(),i.trackingHistory?.length>0&&r.jsx(S,{title:"Tracking History",children:r.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:i.trackingHistory.map((_,E)=>r.jsxs("li",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between border-b border-gray-100 pb-2",children:[r.jsx("div",{className:"text-sm text-gray-700",children:r.jsx("span",{className:"font-semibold text-gray-900",children:_.status})}),r.jsx("div",{className:"text-xs text-gray-500 mt-1 sm:mt-0",children:new Date(_.updatedAt).toLocaleString()})]},E))})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(S,{title:"Order Summary",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${i.orderStatus==="Cancelled"?"bg-[#f00000]":i.orderStatus==="Delivered"?"bg-green-500":"bg-yellow-500"}`,children:i.orderStatus})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Payment:"}),r.jsx("span",{children:i.paymentStatus})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Method:"}),r.jsx("span",{children:i.paymentMethod})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Subtotal:"}),r.jsxs("span",{children:["$",Math.round(i.subtotal)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Tax:"}),r.jsxs("span",{children:["$",Math.round(i.tax)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Shipping:"}),r.jsxs("span",{children:["$",Math.round(i.shipping)]})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-gray-900",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["$",Math.round(i.total)]})]})]})}),r.jsx(S,{title:"Shipping Address",children:r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:Object.entries(i.shippingAddress||{}).map(([_,E])=>r.jsxs("p",{children:[r.jsxs("span",{className:"font-medium",children:[_.charAt(0).toUpperCase()+_.slice(1),":"]})," ",E]},_))})})]})]})]})}):r.jsx("div",{className:"text-center mt-16 text-[#f00000] font-semibold text-base",children:"Order not found."})},nue=()=>{const[n,e]=V.useState(""),[t,i]=V.useState([]),[s,a]=V.useState(!1),[o,c]=V.useState(null),[d,h]=V.useState(null),m=Bi(),x=ws(),{order:y}=x.state||{};V.useEffect(()=>{y&&(async()=>{try{const E=await St.get("/getClaimByOrder",{params:{orderId:y._id,userId:y.userId}});E.data?.claim&&c(E.data.claim)}catch(E){console.log("No existing claim or error:",E.message)}})()},[y]);const b=async _=>{if(_.preventDefault(),!d){Ht.fire("Error","Please select a product for the claim","error");return}a(!0);const E=new FormData;E.append("orderId",y._id),E.append("userId",y.userId),E.append("productId",d._id),E.append("productDetails",JSON.stringify({name:d.name,price:d.price,color:d.product_color,size:d.product_size,quantity:d.quantity,image:d.image,policy:d.policy,lens:d.lens,thickness:d.thickness})),E.append("description",n),Array.from(t).forEach(A=>E.append("photos",A));try{const A=await St.post("/submitClaim",E,{headers:{"Content-Type":"multipart/form-data"}});Ht.fire("Success","Claim submitted successfully","success"),c(A.data.claim)}catch{Ht.fire("Error","Failed to submit claim","error")}finally{a(!1)}},S=()=>m("/order-history");return r.jsx("div",{className:"bg-gray-100 min-h-screen flex justify-center py-10",children:r.jsxs("div",{className:"w-full max-w-3xl bg-white shadow-xl rounded-2xl border border-gray-200 p-8",children:[r.jsx("div",{className:"flex justify-start mb-6",children:r.jsx("button",{onClick:S,className:"bg-gray-800 text-white font-semibold px-5 py-2 rounded-lg hover:bg-gray-900 transition-all hover:cursor-pointer",children:" Back"})}),o?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-3xl font-bold text-center text-black mb-6",children:"Claim Details"}),r.jsxs("div",{className:"space-y-4 text-gray-800",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Order ID:"})," ",o.orderId]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Product:"})," ",o.productDetails?.name||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Claim Date:"})," ",new Date(o.createdAt).toLocaleDateString()]}),o.description&&r.jsxs("p",{children:[r.jsx("strong",{children:"Description:"})," ",o.description]}),o.claimAmount&&r.jsxs("p",{children:[r.jsx("strong",{children:"Claim Amount:"})," $",o.claimAmount]}),o.notes&&r.jsxs("p",{children:[r.jsx("strong",{children:"Notes:"})," ",o.notes]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," ",r.jsx("span",{className:`px-3 py-1 rounded text-white font-semibold ${o.status==="Approved"?"bg-green-600":o.status==="Rejected"?"bg-[#f00000]":"bg-yellow-500"}`,children:o.status})]}),o.rejectionReason&&r.jsxs("p",{children:[r.jsx("strong",{children:"Reason:"})," ",o.rejectionReason]}),o.photos?.length>0&&r.jsxs("div",{children:[r.jsx("strong",{children:"Uploaded Photos:"}),r.jsx("div",{className:"flex gap-3 mt-2 overflow-x-auto",children:o.photos.map((_,E)=>r.jsx("img",{src:`${Pn}/${_}`,alt:`Claim ${E}`,className:"w-32 h-24 object-cover rounded-lg border border-gray-300 hover:scale-105 transition-transform"},E))})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-3xl font-bold text-center text-[#f00000] mb-6",children:"Submit Insurance Claim"}),r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Select Product"}),r.jsxs("select",{value:d?._id||"",onChange:_=>{const E=y?.cartItems.find(A=>A._id===_.target.value);h(E)},required:!0,className:"border border-gray-300 p-2 w-full rounded focus:ring-2 focus:ring-red-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"-- Select Product --"}),y?.cartItems.map(_=>r.jsxs("option",{value:_._id,children:[_.name," ($",_.price,")"]},_._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Claim Description"}),r.jsx("textarea",{value:n,onChange:_=>e(_.target.value),required:!0,placeholder:"Describe the incident in detail...",className:"border border-gray-300 p-3 w-full rounded-lg h-28 resize-none focus:ring-2 focus:ring-red-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Upload Photos (optional)"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:_=>i(_.target.files),className:"border border-gray-300 p-2 w-full rounded focus:ring-2 focus:ring-red-500 focus:outline-none"})]}),r.jsx("button",{type:"submit",disabled:s,className:`w-full py-3 text-white text-lg font-semibold rounded-lg transition-all hover:cursor-pointer ${s?"bg-gray-400 cursor-not-allowed":"bg-[#f00000] hover:bg-black"}`,children:s?"Submitting...":"Submit Claim"})]})]})]})})},iue=({items:n,hideCheckout:e})=>{const t=n||[],i=Td(),s=t.reduce((a,o)=>{const c=Number(o.price)||0,d=Number(o.lens?.totalPrice)||0,h=Number(o.policy?.price)||0,m=Number(o.quantity)||1;return a+(c+d+h)*m},0);return t.map(a=>({productId:a.id,selectedSize:a.selectedSize,selectedColor:a.selectedColor,quantity:a.quantity,framePrice:a.price,lens:a.lens,policy:a.policy,vendorID:a.vendorID||null})),r.jsx("div",{className:"container mx-auto px-4 py-10",children:t.length===0?r.jsxs("div",{className:"text-center text-gray-600",children:["Your cart is empty.",r.jsx(xt,{to:"/",className:"text-blue-600 ml-2 hover:underline hover:cursor-pointer",children:"Continue Shopping"})]}):r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsx("div",{className:"md:col-span-2 space-y-6",children:t.map(a=>r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border p-4 rounded shadow-sm",children:[r.jsx(xt,{state:{ID:a.id},children:r.jsx("img",{src:a.image,alt:a.name,className:"w-50 h-24 object-cover rounded mr-4 hover:cursor-pointer"})}),r.jsxs("div",{className:"flex-1 mt-4 md:mt-0",children:[r.jsx(xt,{state:{ID:a.id},children:r.jsx("h4",{className:"text-lg font-semibold hover:cursor-pointer",children:a.name})}),r.jsxs("p",{children:["Size:"," ",a.selectedSize?.length?a.selectedSize:"None"]}),r.jsxs("p",{children:["Color:"," ",r.jsx("span",{style:{backgroundColor:a.selectedColor,padding:"0 10px",borderRadius:"50%"}})," ",a.selectedColor||"None"]}),r.jsx("div",{className:"mt-1",children:a.originalPrice&&Number(a.originalPrice)>Number(a.price)?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"line-through text-sm",children:["$",Number(a.originalPrice).toFixed(2)]}),r.jsxs("span",{className:"font-semibold",children:["$",Number(a.price).toFixed(2)]})]}):r.jsxs("span",{className:"font-semibold",children:["$",Number(a.price||0).toFixed(2)]})}),a.lens&&r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[a.lens&&r.jsxs("p",{children:["Lens: $",(a.lens.totalPrice||0).toFixed(2)," (",a.lens.lens?.selectedLens||"N/A",")"]}),a.lens?.lens&&r.jsx(r.Fragment,{children:a.lens.lens.prescriptionMethod&&(a.lens.lens.prescriptionMethod.startsWith("http")||a.lens.lens.prescriptionMethod.includes(".png")||a.lens.lens.prescriptionMethod.includes(".jpg")||a.lens.lens.prescriptionMethod.includes(".jpeg")||a.lens.lens.prescriptionMethod.includes(".pdf"))?r.jsx("div",{className:"mt-3",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Prescription:"})," ",r.jsx("button",{onClick:()=>window.open(a.lens.lens.prescriptionMethod.startsWith("http")?a.lens.lens.prescriptionMethod:Pn+a.lens.lens.prescriptionMethod,"_blank"),className:"text-red-600 mt-2 text-sm hover:underline",children:"View Prescription"})]})}):a.lens.lens.prescription&&r.jsxs("div",{className:"mt-3 space-y-1 text-sm text-gray-700 border-gray-300",children:[r.jsxs("p",{className:"font-medium",children:["OD:"," ",r.jsxs("span",{className:"font-normal",children:[a.lens.lens.prescription.odSph,"/",a.lens.lens.prescription.odCyl]})]}),r.jsxs("p",{className:"font-medium",children:["OS:"," ",r.jsxs("span",{className:"font-normal",children:[a.lens.lens.prescription.osSph,"/",a.lens.lens.prescription.osCyl]})]}),r.jsxs("p",{className:"font-medium",children:["PD:"," ",r.jsxs("span",{className:"font-normal",children:[a.lens.lens.prescription.pdLeft,"/",a.lens.lens.prescription.pdRight]})]}),r.jsxs("p",{className:"font-medium",children:["Doctor:"," ",r.jsx("span",{className:"font-normal",children:a.lens.lens.prescription.doctor})]})]})}),a.lens.lens?.lensType&&r.jsxs("p",{children:[r.jsx("strong",{children:"Lens Type:"})," ",a.lens.lens?.lensType.name," (",a.lens.lens?.lensType.price,")"]}),a.lens.lens?.thickness&&r.jsxs("p",{children:[r.jsx("strong",{children:"Thickness:"})," ",a.lens.lens?.thickness.name," (",a.lens.lens?.thickness.price,")"]}),a.lens.lens?.tint&&r.jsxs("p",{children:[r.jsx("strong",{children:"Tint:"})," ",a.lens.lens?.tint.name," (",a.lens.lens?.tint.price,")"]}),a.lens.lens?.enhancement&&r.jsxs("p",{children:[r.jsx("strong",{children:"Enhancement:"})," ",a.lens.lens?.enhancement.name," (",a.lens.lens?.enhancement.price,")"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total Lens Price:"})," $",(a.lens.totalPrice||0).toFixed(2)]})]}),a.policy&&r.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Policy Name:"})," ",a.policy.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Company:"})," ",a.policy.companyName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Coverage:"})," ",a.policy.coverage]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Price:"})," $",(a.policy.price||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center mt-2 gap-2",children:[r.jsx("button",{onClick:()=>i(ZI(a.variantId)),className:"px-2 py-1 border rounded hover:bg-gray-100 hover:cursor-pointer",children:"-"}),r.jsx("span",{className:"px-2",children:a.quantity}),r.jsx("button",{onClick:()=>i(QI(a.variantId)),className:"px-2 py-1 border rounded hover:bg-gray-100 hover:cursor-pointer",children:"+"})]})]}),r.jsxs("div",{className:"text-right mt-4 md:mt-0",children:[r.jsxs("p",{className:"font-bold",children:["$",((a.price+(a.lens?.totalPrice||0)+(a.policy?.price||0))*a.quantity).toFixed(2)]}),r.jsx("button",{onClick:()=>i($I(a.variantId)),className:"text-[#f00000] mt-2 text-sm hover:underline hover:cursor-pointer",children:"Remove"})]})]},a.variantId))}),r.jsxs("div",{className:"bg-gray-100 p-6 rounded shadow-sm h-fit",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),t.map(a=>r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-b pb-2 mb-2",children:[r.jsx("img",{src:a.image,alt:a.name,className:"w-30 h-15 object-cover rounded mr-4"}),r.jsxs("div",{className:"flex-1 text-sm md:text-base",children:[r.jsx("h4",{className:"font-semibold",children:a.name}),r.jsxs("p",{children:["Quantity: ",a.quantity]}),r.jsxs("p",{children:["Frame:"," ",a.originalPrice&&Number(a.originalPrice)>Number(a.price)?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"line-through text-sm mr-2",children:["$",Number(a.originalPrice).toFixed(2)]}),r.jsxs("span",{className:"font-semibold",children:["$",Number(a.price).toFixed(2)]})]}):r.jsxs("span",{className:"font-semibold",children:["$",Number(a.price||0).toFixed(2)]})]}),a.lens&&r.jsxs("p",{children:["Lens: $",(a.lens.totalPrice||0).toFixed(2)]}),a.policy&&r.jsxs("p",{children:["Policy: $",(a.policy.price||0).toFixed(2)]}),r.jsxs("p",{className:"font-bold",children:["Total: $",((a.price+(a.lens?.totalPrice||0)+(a.policy?.price||0))*a.quantity).toFixed(2)]})]})]},a.variantId)),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",s.toFixed(2)]})]}),!e&&r.jsx(xt,{to:"/checkout",children:r.jsx("button",{className:"mt-6 w-full bg-black text-white py-3 rounded hover:bg-gray-900 transition hover:cursor-pointer",children:"Proceed to Checkout"})})]})]})})},sue=({items:n,hideCheckout:e})=>{const t=Td(),i=n||[],[s,a]=V.useState({}),o=d=>{a(h=>({...h,[d]:!h[d]}))},c=i.reduce((d,h)=>d+(Number(h.price)+(Number(h.policy?.price)||0))*(Number(h.quantity)||1),0);return i.length===0?r.jsx("div",{className:"text-center mt-20 text-gray-500 text-lg",children:"No contact lenses in your cart."}):r.jsx("div",{className:"container mx-auto px-4 py-10",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsx("div",{className:"md:col-span-2 space-y-6",children:i.map(d=>{const h=d.variantId||d.id;return r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border p-4 rounded shadow-sm",children:[r.jsx("img",{src:d.image||`${Pn+d.product_image}`,alt:d.name,className:"w-40 h-40 object-cover rounded mr-4"}),r.jsxs("div",{className:"flex-1 mt-4 md:mt-0",children:[r.jsx("h4",{className:"text-lg font-semibold",children:d.name}),r.jsx("button",{onClick:()=>o(h),className:"text-blue-600 text-sm mt-1 flex items-center gap-1 underline",children:s[h]?r.jsxs(r.Fragment,{children:["Hide Details ",r.jsx(uH,{size:16})]}):r.jsxs(r.Fragment,{children:["View Details ",r.jsx(cH,{size:16})]})}),r.jsx(vf,{children:s[h]&&r.jsx(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:r.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border rounded text-sm text-gray-700 space-y-2",children:[d.lens?.prescription&&r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"OD Selected:"})," ",d.lens.prescription.od_selected?"Yes":"No"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"OD Sphere:"})," ",d.lens.prescription.od_sphere]}),r.jsxs("p",{children:[r.jsx("strong",{children:"OD Addition:"})," ",d.lens.prescription.od_addition]}),r.jsxs("p",{children:[r.jsx("strong",{children:"OS Selected:"})," ",d.lens.prescription.os_selected?"Yes":"No"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"OS Sphere:"})," ",d.lens.prescription.os_sphere]}),r.jsxs("p",{children:[r.jsx("strong",{children:"OS Addition:"})," ",d.lens.prescription.os_addition]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Prescription Date:"})," ",d.lens.prescription.prescriptionDate]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Doctor Name:"})," ",d.lens.prescription.doctorName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Purchase Type:"})," ",d.lens.prescription.purchase_type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total Lens Price:"})," $",Number(d.lens.totalPrice).toFixed(2)]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Pack Size:"})," ",d?.pack?.packSize||"Not selected"]}),d.policy&&r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Policy Name:"})," ",d.policy.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Company:"})," ",d.policy.companyName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Coverage:"})," ",d.policy.coverage]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Price:"})," $",Number(d.policy.price).toFixed(2)]})]})]})})}),r.jsxs("div",{className:"flex items-center mt-2 gap-2",children:[r.jsx("button",{onClick:()=>t(ZI(h)),className:"px-2 py-1 border rounded hover:bg-gray-100",children:"-"}),r.jsx("span",{className:"px-2",children:d.quantity}),r.jsx("button",{onClick:()=>t(QI(h)),className:"px-2 py-1 border rounded hover:bg-gray-100",children:"+"})]})]}),r.jsxs("div",{className:"text-right mt-4 md:mt-0",children:[r.jsxs("p",{className:"font-bold",children:["$",((d.price+(d.policy?.price||0))*d.quantity).toFixed(2)]}),r.jsx("button",{onClick:()=>t($I(h)),className:"text-red-600 mt-2 text-sm hover:underline",children:"Remove"})]})]},h)})}),r.jsxs("div",{className:"bg-gray-100 p-6 rounded shadow-sm h-fit",children:[i.map(d=>r.jsxs("div",{className:"flex items-center justify-between border-b pb-2 mb-2",children:[r.jsx("img",{src:d.image||`${Pn+d.product_image}`,alt:d.name,className:"w-24 h-24 object-cover rounded"}),r.jsxs("div",{className:"flex-1 text-sm md:text-base ml-3",children:[r.jsx("h4",{className:"font-semibold",children:d.name}),r.jsxs("p",{children:["Qty: ",d.quantity]}),r.jsxs("p",{className:"font-bold",children:["$",((Number(d.price||0)+Number(d.policy?.price||0))*Number(d.quantity||1)).toFixed(2)]})]})]},d.variantId||d.id)),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["$",c.toFixed(2)]})]}),!e&&r.jsx(xt,{to:"/checkout",children:r.jsx("button",{className:"mt-6 w-full bg-black text-white py-3 rounded hover:bg-gray-900",children:"Proceed to Checkout"})})]})]})})},rue=()=>{const n=Z2(a=>a.cart.items||[]),e="6915735feeb23fa59c7d532b";if(n.length===0)return r.jsxs("div",{className:"text-center text-[#f00000] mt-8 mb-8",children:["Your cart is empty.",r.jsx(xt,{to:"/",className:"text-blue-600 ml-2 hover:underline hover:cursor-pointer",children:"Continue Shopping"})]});const t=n.filter(a=>a?.cat_id===e),i=n.filter(a=>a?.cat_id!==e),s=t.length>0&&i.length>0;return r.jsxs("div",{className:"container mx-auto px-4 py-10 space-y-10",children:[r.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Your Shopping Cart"}),i.length>0&&r.jsx(iue,{items:i,hideCheckout:s}),t.length>0&&r.jsx(sue,{items:t,hideCheckout:s}),s&&r.jsx("div",{className:"flex justify-end ",children:r.jsx(xt,{to:"/checkout",children:r.jsx("button",{className:"bg-black text-white px-6 py-3 rounded hover:bg-gray-900 transition",children:"Proceed to Checkout"})})})]})},aue=()=>{const n=Bi(),t=ws().state,[i,s]=V.useState(null),[a,o]=V.useState(!0),[c,d]=V.useState(null),[h,m]=V.useState(!1),[x,y]=V.useState(!1);if(!t)return n("/order-history"),null;const{policy:b,orderId:S,type:_}=t,E="sq0idp-7wKNw8CRP74fgDfv3iBoNA",A="L96VVFFGDM25P";V.useEffect(()=>{const N=setInterval(()=>{document.getElementById("card-container")&&(m(!0),clearInterval(N))},40);return()=>clearInterval(N)},[]),V.useEffect(()=>{if(!h)return;const N="square-policy-sdk",L=async()=>{try{if(!window.Square){d("Square.js not loaded"),o(!1);return}if(window.__policy_square_card){s(window.__policy_square_card),o(!1);return}const F=await window.Square.payments(E,A).card();await F.attach("#card-container"),window.__policy_square_card=F,s(F)}catch(k){console.error("Square init error:",k),d("Failed to initialize Square card")}finally{o(!1)}},j=document.getElementById(N);if(j){window.Square?L():j.addEventListener("load",L);return}const R=document.createElement("script");R.id=N,R.src="https://web.squarecdn.com/v1/square.js",R.async=!0,R.onload=L,R.onerror=()=>{d("Failed to load Square SDK"),o(!1)},document.body.appendChild(R)},[h]);const P=async()=>{if(i){y(!0);try{const N=await i.tokenize();if(N.status!=="OK"){Ht.fire("Error","Card tokenization failed","error"),y(!1);return}const{data:L}=await St.post("/pay",{nonce:N.token,amount:b.price});if(!L.success){Ht.fire("Payment Failed",L.message||"Card declined","error"),y(!1);return}const j=_==="renew"?`/renewPolicy/${S}`:`/payPolicy/${S}`;await St.put(j,{policyId:b._id||b.policyId,transactionId:L.payment.id,paymentMethod:"Square"}),await Ht.fire({icon:"success",title:"Payment Successful",text:_==="renew"?"Your policy has been renewed successfully.":"Your policy is now active.",confirmButtonColor:"#2563eb"}),n("/view-order",{state:{id:S}})}catch(N){console.error(N),Ht.fire("Error","Payment failed. Try again.","error")}y(!1)}};return r.jsx("div",{className:"flex justify-center items-center min-h-[80vh] bg-gray-200 pt-20 pb-20",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md border border-red-600",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-[#f00000]",children:"Pay for Policy"}),r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Policy Name:"}),r.jsx("span",{children:b.name})]}),r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Amount:"}),r.jsxs("span",{children:["$",b.price.toFixed(2)]})]})]}),a&&r.jsx("p",{children:"Loading payment form"}),c&&r.jsx("p",{className:"text-red-600",children:c}),r.jsx("div",{id:"card-container",className:"border rounded-lg p-4 bg-white",style:{minHeight:"60px",marginBottom:"20px"}}),r.jsx("button",{onClick:P,disabled:!i||x,className:`w-full px-4 py-2 rounded-lg text-white font-semibold ${!i||x?"bg-gray-400 cursor-not-allowed":"bg-[#f00000] hover:bg-black"}`,children:x?"Processing...":"Pay Now"})]})})},oue="/assets/EyeWearGlasses-DBxBcDX1.jpg",lue=()=>r.jsx("div",{className:"bg-white text-gray-900 py-16 px-6 md:px-20",children:r.jsxs(Ke.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-center mb-8 relative flex-wrap",children:[r.jsx(xt,{to:"/",className:"absolute left-0 top-0",children:r.jsx("button",{className:"px-6 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-4 max-[480px]:py-1",children:"Back"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#f00000] whitespace-nowrap text-center max-[480px]:text-2xl",children:"Eye Wear Glasses"})]}),r.jsx("div",{className:"h-1 bg-[#f00000] mx-auto mb-6 rounded-full w-80 sm:w-96 md:w-[28rem] lg:w-[32rem] max-[480px]:w-48"}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-10 text-center",children:"Eye wear glasses are not just about visionthey represent style, confidence, and individuality. At our store, we believe in delivering eyewear that complements your personality while ensuring ultimate comfort and clarity."}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4 border-l-4 border-red-700 pl-3",children:"Why Quality Matters"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"High-quality eyewear ensures your eyes are properly protected and your vision remains sharp in every condition. Whether it's reducing digital eye strain, improving clarity, or preventing harmful UV rays, premium lenses make all the difference. Our glasses combine advanced optical technology with durable frames that last."})]}),r.jsxs("div",{className:"leading-relaxed space-y-6 grid grid-cols-1 md:grid-cols-2 gap-x-10",children:[r.jsxs("section",{className:"mb-12 bg-[#f00000] p-6 rounded-2xl shadow-sm",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4",children:"Perfect Fit for Every Face"}),r.jsx("p",{className:"text-white leading-relaxed",children:"Our eyewear collection is crafted to match every face shape and personal taste. From minimalist rimless frames to bold, statement designs  each pair is engineered for a perfect balance of aesthetics and functionality. With adjustable nose pads and lightweight materials, you can enjoy comfort that lasts all day long. Modern eyewear is designed to suit all face shapes and preferences. Whether you prefer a bold, classic, or minimal look, the right pair of glasses can highlight your features and enhance your personal style while providing clear and comfortable vision."})]}),r.jsx("div",{children:r.jsx("img",{src:oue,alt:"Eye Wear Glasses",className:"w-full h-89 rounded-xl object-cover",loading:"lazy",decoding:"async"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4 border-l-4 border-red-700 pl-3",children:"Style That Defines You"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Glasses are no longer just a necessity  they are a fashion statement. Our curated designs feature the latest trends from timeless classics to contemporary styles. Each frame is crafted to help you express your individuality while maintaining the elegance and charm that define true confidence."})]}),r.jsxs("section",{className:"bg-black text-white p-8 rounded-2xl",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4 text-[#f00000]",children:"Invest in Your Vision"}),r.jsx("p",{className:"leading-relaxed",children:"Your eyes deserve the best  and so do you. Choosing the right eyewear means investing in both style and protection. Our commitment is to provide premium glasses that elevate your everyday look while taking care of your visual health. Explore designs that redefine sophistication, built for those who see the world differently."})]})]})}),cue="/assets/ContactLens-Bzrq3XOn.jpg",uue=()=>r.jsx("div",{className:" text-white py-16 px-6 md:px-20",children:r.jsxs(Ke.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.7},className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12 relative",children:[r.jsxs("div",{className:"relative flex items-center justify-center mb-6 px-4",children:[r.jsx(xt,{to:"/",className:"absolute left-0 top-0",children:r.jsx("button",{className:"px-4 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-3 max-[480px]:py-1",children:"Back"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#f00000] text-center whitespace-nowrap max-[480px]:text-2xl",children:"Contact Lens"})]}),r.jsx("div",{className:"h-1 bg-[#f00000] mx-auto mb-6 rounded-full w-80 sm:w-96 md:w-[28rem] lg:w-[32rem] max-[480px]:w-48"}),r.jsx("p",{className:"text-black text-lg mx-auto leading-relaxed max-w-6xl",children:"Experience the freedom of crystal-clear vision with contact lenses that combine technology, comfort, and style. Designed for those who live life without boundaries  contact lenses provide effortless clarity and confidence in every look."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center mb-16",children:[r.jsx(Ke.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.8},children:r.jsx("img",{src:cue,alt:"Contact Lens",className:"rounded-2xl shadow-2xl w-full h-87 object-cover border-4 border-red-700",loading:"lazy"})}),r.jsxs(Ke.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},transition:{duration:.8},className:"bg-[#f00000] p-8 rounded-2xl shadow-lg",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4 text-black",children:"Perfect Vision, Every Moment"}),r.jsx("p",{className:"text-gray-100 leading-relaxed",children:"Contact lenses provide natural vision correction by adapting seamlessly to your eye's movement. Whether you're working, traveling, or exercising, these lenses ensure uninterrupted clarity. Lightweight and nearly invisible, they redefine comfort and confidence for your everyday lifestyle. Contact lenses are a modern alternative to traditional eyewear, offering clear, natural vision without the frames. Whether youre looking for daily comfort, style flexibility, or freedom during sports and outdoor activities, contact lenses provide a seamless visual experience that moves with you."})]})]}),r.jsxs("section",{className:"bg-gray-900 p-8 rounded-2xl mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-[#f00000] mb-4",children:"Why Choose Contact Lenses?"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Unlike traditional glasses, contact lenses move with your eyes, providing a full field of vision. Made with advanced moisture-lock technology, they allow your eyes to breathe and remain hydrated all day. Ideal for all lifestyles, contact lenses give you a sleek, frame-free experience that complements every occasion."})]}),r.jsxs("section",{className:"text-black p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4 text-black",children:"Eye Care & Hygiene"}),r.jsx("p",{className:"leading-relaxed text-black/90",children:"Proper lens care is key to keeping your eyes healthy and your vision sharp. Always clean and store your lenses using recommended solutions. With the right care routine, your lenses stay comfortable, safe, and effective  allowing you to enjoy clear, confident vision every day."})]})]})}),due="/assets/EyeExam-BHf5AWMj.jpg",hue=()=>r.jsx("div",{className:"bg-white text-gray-900 py-16 px-6 md:px-20",children:r.jsxs(Ke.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-center mb-8 relative flex-wrap",children:[r.jsx(xt,{to:"/",className:"absolute left-0 top-0",children:r.jsx("button",{className:"px-6 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-4 max-[480px]:py-1",children:"Back"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#f00000] text-center whitespace-nowrap max-[480px]:text-2xl",children:"Eye Exam"})]}),r.jsx("div",{className:"h-1 bg-[#f00000] mx-auto mb-6 rounded-full w-80 sm:w-96 md:w-[28rem] lg:w-[32rem] max-[480px]:w-48"}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-10 text-center",children:"A comprehensive eye exam is essential for maintaining clear vision and healthy eyes. Our detailed examination goes beyond checking your eyesight  it helps detect early signs of eye diseases and ensures your overall visual wellness."}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4 border-l-4 border-red-700 pl-3",children:"Why Regular Eye Exams Are Important"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Regular eye exams help identify changes in vision and detect potential eye conditions before they progress. Many vision problems develop gradually without obvious symptoms, which makes routine check-ups essential. Early detection can prevent long-term damage and ensure your vision remains sharp and comfortable."})]}),r.jsxs("div",{className:"leading-relaxed space-y-6 grid grid-cols-1 md:grid-cols-2 gap-x-10",children:[r.jsxs("section",{className:"mb-12 bg-[#f00000] p-6 rounded-2xl shadow-sm",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4",children:"What to Expect During an Eye Exam"}),r.jsx("p",{className:"text-white leading-relaxed",children:"Our eye exams include a series of painless and precise tests to evaluate your vision and eye health. These include visual acuity checks, refraction tests, eye pressure measurement, and retina examination. Using advanced diagnostic tools, we ensure accurate results and provide personalized recommendations for your vision care needs."})]}),r.jsx("div",{children:r.jsx("img",{src:due,alt:"Eye Exam",className:"w-full h-58 rounded-xl object-cover",loading:"lazy",decoding:"async"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4 border-l-4 border-red-700 pl-3",children:"Protect Your Vision for the Future"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Eye health is an essential part of your overall wellness. Regular exams can help prevent eye strain, manage refractive errors, and detect conditions such as glaucoma, cataracts, and diabetic retinopathy. Taking time for your eyes today ensures clear, healthy vision for tomorrow."})]}),r.jsxs("section",{className:"bg-black text-white p-8 rounded-2xl",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4 text-[#f00000]",children:"Schedule Your Eye Exam Today"}),r.jsx("p",{className:"leading-relaxed",children:"Your eyes are your window to the world  keep them healthy and protected. Book your comprehensive eye exam with our specialists and experience professional care designed to maintain your vision at its best. Because great eyesight starts with great care."}),r.jsx(xt,{to:"/eye-schedule-test",children:r.jsx("button",{className:"bg-white text-black mt-4 rounded-xl hover:bg-[#f00000] hover:text-white text-xl font-semibold py-4 px-6 hover:cursor-pointer transition-colors duration-300 ",children:"Book Eye Exam"})})]})]})}),fue="/assets/Promotions-CSY5Sgsy.jpg",pue=()=>r.jsx("div",{className:"bg-white text-gray-900 py-16 px-6 md:px-20",children:r.jsxs(Ke.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8 relative",children:[r.jsx("div",{className:"absolute left-0 top-0",children:r.jsx(xt,{to:"/",children:r.jsx("button",{className:"px-6 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-4 max-[480px]:py-1",children:"Back"})})}),r.jsx("div",{className:"w-full flex justify-center",children:r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-[#f00000] text-center whitespace-nowra max-[480px]:mt-12 max-[480px]:text-xl",children:"Promotions - Atal Optical"})})]}),r.jsx("div",{className:"h-1 bg-[#f00000] mx-auto mb-6 rounded-full w-80 sm:w-96 md:w-[28rem] lg:w-[32rem] max-[480px]:w-48"}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-10 text-center",children:"At Atal Optical, we love rewarding our valued customers. Explore our latest promotions and special offers designed to make premium eyewear, lenses, and accessories more accessible  without compromising on quality or style."}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4 border-l-4 border-red-700 pl-3",children:"Smart Savings for Smart Vision"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Get more for less with Atal Optical's exclusive promotions. Whether you're buying your first pair of glasses, upgrading your lenses, or picking up stylish sunglasses, our offers ensure you enjoy premium products at unbeatable prices. We believe everyone deserves crystal clear vision  affordably."})]}),r.jsxs("div",{className:"leading-relaxed space-y-6 grid grid-cols-1 md:grid-cols-2 gap-x-10",children:[r.jsxs("section",{className:"mb-12 bg-[#f00000] p-6 rounded-2xl shadow-sm",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4",children:"What's on Offer"}),r.jsx("p",{className:"text-white leading-relaxed",children:"Enjoy exciting deals on prescription glasses, contact lenses, and designer frames. From seasonal discounts to Buy One, Get One offers, there's always something new to discover. Stay tuned for festive promotions, loyalty points, and referral rewards that make your shopping experience even more delightful. From seasonal discounts to combo deals and loyalty rewards, we ensure you get the best experience every time you visit. Discover unbeatable savings on premium eyewear brands, stylish sunglasses, contact lenses, and advanced eye care services  all under one roof."})]}),r.jsx("div",{children:r.jsx("img",{src:fue,alt:"Promotions - Atal Optical",className:"w-full h-84 rounded-xl object-cover",loading:"lazy",decoding:"async"})})]}),r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-semibold text-black mb-4 border-l-4 border-red-700 pl-3",children:"Why Choose Atal Optical Offers"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We understand that eyewear is both a necessity and a style choice. Our promotional offers are designed to give you access to the best frames, lenses, and accessories at affordable prices  without cutting corners on quality. With Atal Optical, you can see clearly, look great, and save smartly."})]}),r.jsxs("section",{className:"bg-black text-white p-8 rounded-2xl",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4 text-[#f00000]",children:"Stay Updated on Upcoming Deals"}),r.jsx("p",{className:"leading-relaxed",children:"Don't miss out on our latest offers and seasonal promotions. Follow Atal Optical on social media or subscribe to our newsletter for exclusive early access to discounts and new collections. Because at Atal Optical, great vision always comes with great value."})]})]})}),mue="/assets/Brands-C1eGHTIO.jpeg",gue=()=>r.jsxs("div",{className:"bg-white text-gray-900",children:[r.jsxs("div",{className:"relative w-full h-[60vh] overflow-hidden max-[480px]:h-[40vh]",children:[r.jsx(xt,{to:"/",className:"absolute top-6 left-6 z-20 max-[480px]:top-3 max-[480px]:left-3",children:r.jsx("button",{className:"px-4 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-3 max-[480px]:py-1 text-sm",children:"Back"})}),r.jsx("img",{src:mue,alt:"Brand",className:"w-full h-full object-cover brightness-75 max-[480px]:object-center max-[480px]:brightness-90",loading:"lazy",decoding:"async"}),r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsx(Ke.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-6xl font-extrabold text-[#f00000] drop-shadow-lg text-center max-[480px]:text-3xl",children:"Our Brand"})})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-5xl mx-auto py-16 px-6 md:px-20 text-center",children:[r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-black mb-6",children:["The Identity of ",r.jsx("span",{className:"text-[#f00000]",children:"Atal Optical"})]}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Atal Optical represents trust, precision, and timeless style. Our brand stands for excellence in vision care  where innovation meets tradition. Each product we offer reflects our dedication to quality, comfort, and individuality."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[r.jsxs(Ke.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"bg-[#f00000] text-white p-10 md:p-16 flex flex-col justify-center",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"A Legacy of Vision"}),r.jsx("p",{className:"leading-relaxed text-gray-100",children:"For years, Atal Optical has been more than an eyewear brand  its a statement of confidence. Our mission is to redefine the way people experience vision by combining cutting-edge technology with world-class craftsmanship."})]}),r.jsxs(Ke.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8},className:"bg-black text-white p-10 md:p-16 flex flex-col justify-center",children:[r.jsx("h3",{className:"text-2xl font-semibold mb-4 text-[#f00000]",children:"Our Brand Promise"}),r.jsx("p",{className:"leading-relaxed text-gray-200",children:"Every frame, lens, and design embodies our promise  to deliver the best visual clarity and unmatched comfort. We are committed to innovation, sustainability, and bringing a fashionable edge to every look."})]})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto py-16 px-6 md:px-20 grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-[#f00000] p-6 rounded-2xl shadow-md hover:shadow-lg transition",children:[r.jsx("h4",{className:"text-xl font-semibold text-black mb-3",children:"Innovation"}),r.jsx("p",{className:"text-white leading-relaxed",children:"Constantly evolving with the latest in optical technology to give you sharper, smarter, and safer vision."})]}),r.jsxs("div",{className:"bg-black text-white p-6 rounded-2xl shadow-md hover:shadow-lg transition",children:[r.jsx("h4",{className:"text-xl font-semibold text-[#f00000] mb-3",children:"Quality"}),r.jsx("p",{className:"leading-relaxed",children:"We use the finest materials and expert craftsmanship to ensure every product meets our premium standards."})]}),r.jsxs("div",{className:"bg-[#f00000] p-6 rounded-2xl shadow-md hover:shadow-lg transition",children:[r.jsx("h4",{className:"text-xl font-semibold text-black mb-3",children:"Style"}),r.jsx("p",{className:"text-white leading-relaxed",children:"Our designs are inspired by modern aesthetics and timeless trends, crafted to match every personality and face."})]})]}),r.jsxs("section",{className:"bg-black text-white p-10 md:p-16 text-center mb-10",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4 text-[#f00000]",children:"Discover the Spirit of Atal Optical"}),r.jsx("p",{className:"max-w-3xl mx-auto leading-relaxed text-gray-300",children:"Our brand stands for trust, clarity, and sophistication. Join us on our journey to make vision care not just a necessity, but a lifestyle. Atal Optical  where your eyes meet elegance."})]})]}),xue="/assets/Optometrists-qa8A-Mfg.jpg",yue="/assets/Optometrist1-COuay8UZ.jpg",vue="/assets/Optometrist2-BPNlmogS.jpg",bue="/assets/Optometrist3-nW4ETkLD.jpg",wue=()=>r.jsxs("div",{className:"bg-gray-50 text-gray-900 overflow-hidden",children:[r.jsxs(Ke.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative w-full h-[60vh] flex items-center justify-center bg-black max-[480px]:h-[40vh]",children:[r.jsx(xt,{to:"/",className:"absolute top-6 left-6 z-20 max-[480px]:top-3 max-[480px]:left-3",children:r.jsx("button",{className:"px-4 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-3 max-[480px]:py-1 max-[480px]:text-sm",children:"Back"})}),r.jsx("img",{src:xue,alt:"Optometrists",className:"absolute inset-0 w-full h-full object-cover opacity-60 max-[480px]:object-center max-[480px]:opacity-60"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 to-black/50 max-[480px]:from-black/60 max-[480px]:to-black/40"}),r.jsx(Ke.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 text-5xl md:text-6xl font-extrabold text-[#f00000] drop-shadow-lg text-center     max-[480px]:text-3xl max-[480px]:px-4",children:"Our Optometrists"})]}),r.jsxs(Ke.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-5xl mx-auto py-16 px-6 md:px-20 text-center",children:[r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-black",children:["Expert Vision Care by"," ",r.jsx("span",{className:"text-[#f00000]",children:"Atal Optical Specialists"})]}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Our team of certified optometrists combines years of experience, advanced technology, and genuine care to ensure your eyes receive the attention they deserve. At Atal Optical, your vision is our mission."})]}),r.jsx("section",{className:"relative bg-[#f00000] text-white py-20 md:py-28 -skew-y-2",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-20 skew-y-2",children:[r.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Why Choose Our Optometrists"}),r.jsx("p",{className:"leading-relaxed text-gray-100 mb-6",children:"Our optometrists specialize in comprehensive eye examinations, vision correction, and early detection of eye conditions. They believe in building lasting relationships with patients through trust, expertise, and compassion."}),r.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-100",children:[r.jsx("li",{children:"Comprehensive vision and eye health check-ups"}),r.jsx("li",{children:"State-of-the-art diagnostic tools and equipment"}),r.jsx("li",{children:"Personalized solutions for every visual need"}),r.jsx("li",{children:"Guidance on eyewear, contact lenses, and eye care habits"})]})]})}),r.jsxs("section",{className:"py-20 bg-white",children:[r.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-20 text-center mb-10",children:[r.jsxs("h3",{className:"text-3xl font-bold text-black mb-4",children:["Meet Our ",r.jsx("span",{className:"text-[#f00000]",children:"Experienced Team"})]}),r.jsx("p",{className:"text-gray-700",children:"Each of our optometrists brings a unique combination of skill, empathy, and dedication to help you see better and live better."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl mx-auto px-6 md:px-20",children:[{name:"DR. MELISSA YUEN",img:yue,role:"Chief Optometrist",desc:"Specialist in advanced vision analysis and customized lens fitting."},{name:"DR. MALISA",img:vue,role:"Eye Health Consultant",desc:"Expert in detecting early signs of glaucoma and retinal disorders."},{name:"Dr. EMMA KARLIN",img:bue,role:"Contact Lens Specialist",desc:"Dedicated to providing comfort-focused contact lens solutions."}].map((n,e)=>r.jsxs(Ke.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"bg-gray-50 border border-gray-200 rounded-2xl shadow-md hover:shadow-lg transition p-6",children:[r.jsx("img",{src:n.img,alt:n.name,className:"w-full h-64 object-cover rounded-xl mb-6"}),r.jsx("h4",{className:"text-xl font-semibold text-black mb-1",children:n.name}),r.jsx("p",{className:"text-[#f00000] font-medium mb-3",children:n.role}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.desc})]},e))})]}),r.jsxs("section",{className:"bg-black text-white py-16 text-center mb-10",children:[r.jsx("h3",{className:"text-3xl font-bold mb-4 text-[#f00000]",children:"Vision Care You Can Trust"}),r.jsx("p",{className:"max-w-3xl mx-auto leading-relaxed text-gray-300",children:"From comprehensive eye exams to expert guidance on frames and lenses, our optometrists are committed to enhancing your visual clarity and comfort. Discover the human side of eye care with Atal Optical."})]})]}),Sue="/assets/Insurance1-D5UpxSKq.png",Aue=()=>r.jsxs("div",{className:"bg-gray-50 text-gray-900 overflow-hidden",children:[r.jsxs(Ke.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative w-full h-[60vh] flex items-center justify-center bg-black max-[480px]:h-[40vh]",children:[r.jsx(xt,{to:"/",className:"absolute top-6 left-6 z-20 max-[480px]:top-3 max-[480px]:left-3",children:r.jsx("button",{className:"px-4 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-3 max-[480px]:py-1 max-[480px]:text-sm",children:"Back"})}),r.jsx("img",{src:dC,alt:"Insurance Claims",className:"absolute inset-0 w-full h-full object-cover opacity-60 max-[480px]:object-center max-[480px]:opacity-60"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 to-black/50 max-[480px]:from-black/60 max-[480px]:to-black/40"}),r.jsx(Ke.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 text-5xl md:text-6xl font-extrabold text-[#f00000] drop-shadow-lg text-center     max-[480px]:text-3xl max-[480px]:px-4",children:"Insurance Claims"})]}),r.jsxs("section",{className:"max-w-5xl mx-auto py-16 px-6 md:px-20 text-center",children:[r.jsxs(Ke.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl md:text-4xl font-bold mb-4 text-black",children:["Hassle-Free ",r.jsx("span",{className:"text-[#f00000]",children:"Insurance Claims"})]}),r.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["At ",r.jsx("span",{className:"font-semibold text-[#f00000]",children:"Atal Optical"}),", we make your eyewear insurance claims simple and stress-free. Whether it's for spectacles, contact lenses, or eye exams, our team helps you with every step of the process  from documentation to final approval."]})]}),r.jsx("section",{className:"bg-white py-16",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-20",children:[r.jsxs("h3",{className:"text-3xl font-bold text-center mb-10 text-black",children:["Claim Process ",r.jsx("span",{className:"text-[#f00000]",children:"Made Easy"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[{title:"Step 1: Consultation",desc:"Visit Atal Optical and get your eye exam or eyewear invoice. Ensure your insurance covers the required service or product."},{title:"Step 2: Documentation",desc:"Collect all necessary documents  medical prescription, payment receipt, and insurance card copy."},{title:"Step 3: Claim Submission",desc:"Submit your claim through our team or directly to your provider. We assist in completing the forms correctly for faster approval."}].map((n,e)=>r.jsxs(Ke.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"bg-gray-50 border border-gray-200 p-6 rounded-2xl shadow-md hover:shadow-lg transition",children:[r.jsx("h4",{className:"text-xl font-semibold text-[#f00000] mb-3",children:n.title}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.desc})]},e))})]})}),r.jsxs("section",{className:"relative bg-[#f00000] text-white py-20 md:py-28 -skew-y-2 mt-10 grid grid-cols-2",children:[r.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-20 skew-y-2 ml-30",children:[r.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Whats Covered?"}),r.jsx("p",{className:"leading-relaxed text-gray-100 mb-6",children:"Insurance policies differ by provider, but most cover:"}),r.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-100",children:[r.jsx("li",{children:"Prescription eyeglasses and sunglasses"}),r.jsx("li",{children:"Contact lenses (monthly, yearly, or specialized)"}),r.jsx("li",{children:"Comprehensive eye exams and vision tests"}),r.jsx("li",{children:"Replacement lenses due to damage or prescription change"}),r.jsx("li",{children:"Frames and lens upgrades (anti-glare, blue-light filter, or transition lenses)"}),r.jsx("li",{children:"Pediatric eye care and childrens eyewear"}),r.jsx("li",{children:"Treatment for common eye conditions like dry eyes or allergies"}),r.jsx("li",{children:"Coverage for diabetic eye exams or glaucoma screening"}),r.jsx("li",{children:"Contact lens fitting and follow-up consultations"}),r.jsx("li",{children:"Discounts on designer frames and premium lenses"})]})]}),r.jsx("div",{className:"px-6 md:px-20 skew-y-2",children:r.jsx(Ke.div,{initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:r.jsx("img",{src:Sue,alt:"Insurance Support",className:"rounded-2xl w-full h-full object-cover shadow-md",loading:"lazy"})})})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-20 grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[r.jsxs(Ke.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:[r.jsxs("h3",{className:"text-3xl font-bold text-black mb-4",children:["Tips for a Smooth ",r.jsx("span",{className:"text-[#f00000]",children:"Claim Experience"})]}),r.jsxs("ul",{className:"list-disc pl-6 space-y-3 text-gray-700",children:[r.jsx("li",{children:"Keep all your receipts and prescriptions safely stored."}),r.jsx("li",{children:"Double-check your insurance providers coverage details."}),r.jsx("li",{children:"Submit claims within the valid timeframe mentioned in your policy."}),r.jsx("li",{children:"Reach out to our staff for any clarification or assistance."})]})]}),r.jsx(Ke.div,{initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:r.jsx("img",{src:dC,alt:"Insurance Support",className:"rounded-2xl w-full h-80 object-cover shadow-md",loading:"lazy"})})]})}),r.jsxs("section",{className:"bg-black text-white py-16 text-center mb-10",children:[r.jsx("h3",{className:"text-3xl font-bold mb-4 text-[#f00000]",children:"Need Help with Your Claim?"}),r.jsx("p",{className:"max-w-3xl mx-auto leading-relaxed text-gray-300 mb-6",children:"Our insurance support team at Atal Optical is ready to guide you through every step  from form submission to claim approval. We believe in transparency, efficiency, and care."}),r.jsx(xt,{to:"/contact-us",children:r.jsx("button",{className:"bg-[#f00000] hover:bg-red-700 text-white px-8 py-3 rounded-full font-semibold transition",children:"Contact Us"})})]})]}),sE="/assets/BlueLightTechnology-Dt_IIxLN.jpg",_ue=()=>r.jsxs("div",{className:"bg-gray-50 text-gray-900 overflow-hidden",children:[r.jsxs(Ke.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative w-full h-[60vh] flex items-center justify-center bg-black max-[480px]:h-[40vh]",children:[r.jsx(xt,{to:"/",className:"absolute top-6 left-6 z-20 max-[480px]:top-3 max-[480px]:left-3",children:r.jsx("button",{className:"px-4 py-2 bg-[#f00000] text-white font-medium rounded-md shadow-md hover:bg-red-700 active:scale-95 transition-transform max-[480px]:px-3 max-[480px]:py-1 max-[480px]:text-sm",children:"Back"})}),r.jsx("img",{src:sE,alt:"Blue Light Protection",className:"absolute inset-0 w-full h-full object-cover opacity-60 max-[480px]:object-center max-[480px]:opacity-60"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 to-black/50 max-[480px]:from-black/60 max-[480px]:to-black/40"}),r.jsx(Ke.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 text-5xl md:text-6xl font-extrabold text-[#f00000] drop-shadow-lg text-center     max-[480px]:text-3xl max-[480px]:px-4",children:"Blue Light Technology"})]}),r.jsxs("section",{className:"max-w-7xl mx-auto py-16 px-6 md:px-20 text-center",children:[r.jsxs(Ke.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl md:text-4xl font-bold mb-4 text-black",children:["Advanced ",r.jsx("span",{className:"text-[#f00000]",children:"Blue Light Protection"})]}),r.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["In today's digital world, our eyes are constantly exposed to harmful blue light emitted from screens. At ",r.jsx("span",{className:"font-semibold text-[#f00000]",children:"Atal Optical"}),", we use cutting-edge ",r.jsx("strong",{children:"Blue Light Filter Technology"})," in lenses to reduce eye strain, improve sleep, and enhance long-term vision health."]})]}),r.jsx("section",{className:"bg-white py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-20 grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[r.jsx(Ke.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:r.jsx("img",{src:sE,alt:"Blue Light Lenses",className:"rounded-2xl w-full h-80 object-cover shadow-md max-[480px]:h-48 max-[480px]:rounded-xl   max-[480px]:object-center max-[480px]:shadow-sm",loading:"lazy"})}),r.jsxs(Ke.div,{initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:[r.jsxs("h3",{className:"text-3xl font-bold text-black mb-4",children:["How ",r.jsx("span",{className:"text-[#f00000]",children:"Blue Light Filter"})," Works"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Blue light filter lenses use advanced coatings and materials that selectively block harmful high-energy visible (HEV) light while maintaining clear vision and natural color balance."}),r.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:[r.jsx("li",{children:"Reduces digital eye strain and fatigue"}),r.jsx("li",{children:"Improves focus during screen time"}),r.jsx("li",{children:"Enhances contrast and comfort for night use"}),r.jsx("li",{children:"Protects eyes from long-term damage"})]})]})]})}),r.jsx("section",{className:"bg-gradient-to-b from-black to-red-900 text-white py-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-20 text-center",children:[r.jsxs(Ke.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl font-bold mb-6",children:["Why Choose ",r.jsx("span",{className:"text-[#f00000]",children:"Atal Optical"})," Blue Light Glasses?"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[{title:"Precision Lenses",desc:"Crafted with premium coatings that block 90% of harmful blue rays without compromising visual clarity."},{title:"Screen-Ready Comfort",desc:"Perfect for professionals, gamers, and students  designed for extended digital use."},{title:"Stylish & Protective",desc:"Available in modern frames that blend technology and fashion effortlessly."}].map((n,e)=>r.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/10 p-6 rounded-2xl shadow-md hover:shadow-lg border border-white/20 transition",children:[r.jsx("h4",{className:"text-xl font-semibold text-[#f00000] mb-3",children:n.title}),r.jsx("p",{className:"text-gray-200 leading-relaxed",children:n.desc})]},e))})]})}),r.jsx("section",{className:"bg-white py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-20 grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[r.jsxs(Ke.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:[r.jsxs("h3",{className:"text-3xl font-bold text-black mb-4",children:["Tips for ",r.jsx("span",{className:"text-[#f00000]",children:"Healthy Digital Vision"})]}),r.jsxs("ul",{className:"list-disc pl-6 space-y-3 text-gray-700",children:[r.jsxs("li",{children:["Follow the ",r.jsx("strong",{children:"20-20-20 rule"})," - every 20 minutes, look 20 feet away for 20 seconds."]}),r.jsx("li",{children:"Adjust your screen brightness and contrast to reduce glare."}),r.jsx("li",{children:"Use blue light protection lenses during extended screen use."}),r.jsx("li",{children:"Keep your screen at least an arm's length away from your eyes."})]})]}),r.jsx(Ke.div,{initial:{opacity:0,x:40},whileInView:{opacity:1,x:0},transition:{duration:.8},children:r.jsx("img",{src:sE,alt:"Blue Light Lenses",className:`rounded-2xl w-full h-80 object-cover shadow-md max-[480px]:h-48 max-[480px]:rounded-xl \r
                            max-[480px]:object-center max-[480px]:shadow-sm`,loading:"lazy"})})]})}),r.jsxs("section",{className:"bg-black text-white py-16 text-center mb-10",children:[r.jsx("h3",{className:"text-3xl font-bold mb-4 text-[#f00000]",children:"Protect Your Eyes from Digital Fatigue"}),r.jsx("p",{className:"max-w-3xl mx-auto leading-relaxed text-gray-300 mb-6",children:"Experience clarity and comfort with Atal Optical's Blue Light Technology lenses. Perfect for professionals, gamers, and anyone who spends hours on screens."})]})]});function Eue(n){return jn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M229.28 21.97v39.75c-30.905 1.29-61.546 9.284-89.53 23.905l21.406 37.063C184.2 110.92 210.32 104.28 238 104.28c93.408 0 168.938 75.53 168.938 168.94 0 26.766-6.234 52.056-17.282 74.53l-5.97-2.563-26.467-12.437c-21.125 44.53-66.495 75.313-119.064 75.313-8.49 0-16.8-.778-24.844-2.313l-7.375 33.375C127.89 424.178 69.03 355.665 69.03 273.22c0-26.843 6.267-52.2 17.376-74.72l-37.312-21.53c-40.207 78.3-28.27 175.748 33.937 242.093l-31.124 31.125 13.22 13.218L116.53 412c24.013 21.04 53.516 35.934 86.064 42.28l-6.938 31.44c1.515.333 3.016.636 4.53.936.01.002.023-.002.033 0 6.05 1.198 12.11 2.15 18.155 2.813.01 0 .02-.002.03 0 3.02.33 6.053.58 9.064.78 4.53.3 9.056.458 13.56.47 25.954.06 51.352-4.64 75.095-13.564 2.363-.888 4.734-1.81 7.063-2.78 9.477-3.953 18.656-8.6 27.468-13.876 2.518-1.508 5.014-3.076 7.47-4.688 1.227-.805 2.444-1.605 3.655-2.437 2.424-1.663 4.802-3.39 7.158-5.156 8.243-6.18 16.06-12.97 23.375-20.345 2.09-2.107 4.15-4.268 6.156-6.47 1.007-1.105 1.98-2.213 2.967-3.342.977-1.118 1.952-2.235 2.907-3.375.005-.007-.005-.026 0-.032.954-1.14 1.912-2.275 2.844-3.437.005-.008-.006-.026 0-.033.936-1.168 1.867-2.34 2.78-3.53 2.748-3.582 5.375-7.252 7.907-11.032.842-1.257 1.682-2.502 2.5-3.78 1.912-2.992 3.734-6.052 5.5-9.158l36.688 15.782 7.375-17.158-66.032-28.437c11.786-24.18 18.458-51.308 18.563-79.97h28.06c0-16.67-1.963-33.12-5.75-49.06L485.657 220l-2.187-18.563-43.876 5.188c-11.17-33.444-30.614-63.935-57-88.406-24.59-22.81-53.15-38.68-83.25-47.72L309.5 32.625l-18.03-4.844-10.22 38.126c-10.994-2.27-22.124-3.643-33.28-4.156V21.97h-18.69zM123.595 95c-10.347 6.634-20.245 14.223-29.53 22.813l30.28 30.312h.03c6.448-5.856 13.358-11.22 20.657-16.03L123.595 95zm-42.688 36.094c-8.512 9.367-15.998 19.302-22.53 29.656l37.187 21.47c4.692-7.334 9.95-14.283 15.687-20.782l-30.344-30.344zm83.688 61.062c-21.845 19.907-35.906 48.677-35.906 80.625 0 60.152 49.005 109.158 109.156 109.158 60.15 0 109.156-49.006 109.156-109.157h-18.688c0 50.038-40.43 90.47-90.468 90.47-50.037 0-90.47-40.432-90.47-90.47 0-26.47 11.628-50.238 29.814-66.81l-12.594-13.814zM239.25 215.5c-33.542 0-60.938 27.395-60.938 60.938 0 33.53 27.392 60.906 60.938 60.906 33.542 0 60.906-27.364 60.906-60.906 0-33.53-27.36-60.938-60.906-60.938zm0 18.688c23.443 0 42.22 18.82 42.22 42.25 0 5.505-1.05 10.754-2.94 15.562-3.377-10.958-13.59-18.906-25.655-18.906-14.82 0-26.844 12.023-26.844 26.844 0 7.082 2.736 13.516 7.22 18.312-20.575-2.883-36.25-20.418-36.25-41.813 0-23.446 18.803-42.25 42.25-42.25z"},child:[]}]})(n)}const Cue=[{icon:r.jsx(Eue,{className:"w-7 h-7","aria-hidden":!0}),title:"Find your contact lens",text:"Pick your prescribed lenses and select the subscription option."},{icon:r.jsx(p9,{className:"w-7 h-7","aria-hidden":!0}),title:"Customize your plan",text:"Choose monthly, 3-month, or 6-month deliveries and boxes."},{icon:r.jsx(qD,{className:"w-7 h-7","aria-hidden":!0}),title:"Checkout",text:"We ship automatic refills on your schedulefree shipping."}],Mue=[{icon:r.jsx(qD,{className:"w-6 h-6","aria-hidden":!0}),title:"Free delivery always",text:"No extra fees. Shipping's on us for every refill."},{icon:r.jsx(h9,{className:"w-6 h-6","aria-hidden":!0}),title:"Automatic delivery",text:"Set it onceyour lenses arrive right when you need them."},{icon:r.jsx(w9,{className:"w-6 h-6","aria-hidden":!0}),title:"Pause or cancel anytime",text:"Total control from your account. No commitments."}],ha={hidden:{opacity:0,y:12},show:(n=0)=>({opacity:1,y:0,transition:{delay:.1*n,duration:.45,ease:"easeOut"}})};function Tue(){return r.jsxs("div",{className:"min-h-screen",children:[r.jsxs("section",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600 via-red-700/80 to-black"}),r.jsxs("div",{className:"relative mx-auto max-w-7xl px-6 py-20 lg:flex lg:items-center lg:gap-16",children:[r.jsxs(Ke.div,{className:"max-w-2xl",initial:ha.hidden,animate:ha.show(0),children:[r.jsx("p",{className:"inline-block rounded-full bg-black text-white px-4 py-3 text-sm tracking-wider uppercase",children:"Subscribe & Save"}),r.jsxs("h1",{className:"mt-4 text-4xl font-extrabold leading-tight text-white sm:text-5xl",children:["Save ",r.jsx("span",{className:"text-red-200",children:"20%"})," + Free Shipping"]}),r.jsx("p",{className:"mt-4 text-white",children:"Start a contact lenses subscriptionnever run out again. Customize your delivery schedule and enjoy hassle-free refills."}),r.jsxs("div",{className:"mt-6 flex items-center gap-3 text-white",children:[r.jsx(Kv,{className:"w-4 h-4"}),"Auto-refills. Change anytime."]})]}),r.jsx(Ke.div,{className:"mt-10 w-full rounded-3xl p-3 lg:mt-0 lg:max-w-md",initial:ha.hidden,animate:ha.show(1),children:r.jsx("img",{src:pae,alt:"Contact lenses and solution",className:"w-full rounded-2xl object-cover"})})]})]}),r.jsxs("section",{id:"how",className:"mx-auto max-w-7xl px-6 py-16",children:[r.jsx(Ke.h2,{className:"text-center text-2xl font-bold tracking-tight",initial:ha.hidden,whileInView:ha.show(0),viewport:{once:!0,amount:.3},children:"How to order"}),r.jsx("div",{className:"mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Cue.map((n,e)=>r.jsxs(Ke.div,{custom:e,initial:ha.hidden,whileInView:ha.show(e),viewport:{once:!0,amount:.3},className:"group rounded-3xl border border-red-300 bg-gray-100 shadow-lg hover:shadow-red-400 p-6",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-[#f00000] text-white",children:n.icon}),r.jsx("h3",{className:"mt-4 text-lg font-semibold text-black",children:n.title}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:n.text})]},n.title))})]}),r.jsxs("section",{id:"plans",className:"relative isolate",children:[r.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-black to-neutral-950"}),r.jsx("div",{className:"mx-auto max-w-7xl px-6 py-16",children:r.jsxs(Ke.div,{initial:ha.hidden,whileInView:ha.show(0),viewport:{once:!0,amount:.3},className:"grid items-center gap-10 lg:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"You choose your subscription"}),r.jsx("p",{className:"mt-3 text-neutral-300",children:"Decide how often your order ships automatically:"}),r.jsxs("ul",{className:"mt-4 space-y-2 text-neutral-200",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Kv,{className:"mt-0.5 h-5 w-5 text-[#f00000]"})," Every month"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Kv,{className:"mt-0.5 h-5 w-5 text-[#f00000]"})," Every three months"]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Kv,{className:"mt-0.5 h-5 w-5 text-[#f00000]"})," Every six months"]})]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:[{name:"Monthly",save:"20% off",note:"Best for dailies"},{name:"Every 3 months",save:"20% off",note:"Popular"},{name:"Every 6 months",save:"20% off",note:"Set & forget"}].map((n,e)=>r.jsxs(Ke.div,{custom:e,initial:ha.hidden,whileInView:ha.show(e),viewport:{once:!0,amount:.2},className:"rounded-3xl border border-white/10 bg-neutral-900 p-5 text-center ring-1 ring-white/5 hover:bg-neutral-800",children:[r.jsx("div",{className:"text-sm uppercase tracking-wider text-neutral-400",children:n.name}),r.jsx("div",{className:"mt-2 text-3xl font-extrabold text-[#f00000]",children:n.save}),r.jsx("div",{className:"mt-2 text-xs text-neutral-300",children:n.note})]},n.name))})]})})]}),r.jsx("section",{className:"mx-auto max-w-7xl px-6 py-16",children:r.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:Mue.map((n,e)=>r.jsxs(Ke.div,{custom:e,initial:ha.hidden,whileInView:ha.show(e),viewport:{once:!0,amount:.3},className:"rounded-3xl border border-red-300 shadow-lg hover:shadow-red-400 bg-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 text-[#f00000]",children:[n.icon,r.jsx("span",{className:"font-semibold",children:n.title})]}),r.jsx("p",{className:"mt-2 text-sm text-black",children:n.text})]},n.title))})}),r.jsx("section",{id:"cta",className:"px-6 pb-20",children:r.jsxs("div",{className:"rounded-3xl bg-[#f00000] p-8 text-center",children:[r.jsx("h3",{className:"text-2xl text-white font-extrabold",children:"Ready to subscribe & save?"}),r.jsx("p",{className:"mt-2 text-white",children:"Pick your lenses, select subscription at checkout, and enjoy automatic refills."})]})}),r.jsx(tS,{})]})}const i1=Ht.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0}),rE={brands:new Set,genders:new Set,shapes:new Set,colors:new Set,materials:new Set,priceMin:0,priceMax:9999},Nue=(n,e)=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t},N1=(n="")=>{if(!n)return"/no-image.png";if(n.startsWith("http://")||n.startsWith("https://"))return n;const e=Pn.endsWith("/")?Pn:`${Pn}/`,t=n.replace(/^\/+/,"");return e+t};function jue({data:n,img:e,inWishlist:t,toggleWishlist:i,isInStock:s}){const[a,o]=Mi.useState(null),[c,d]=Mi.useState(0),h=Mi.useRef(null),m=Mi.useMemo(()=>{const N=n?.product_variants?.[0]?.images?.[0],L=n?.product_image_collection?.[0];return N1(N||L||e||"")},[n,e]),x=Mi.useMemo(()=>{const N=[...n?.product_image_collection||[],...n?.product_variants?.[0]?.images||[]].filter(Boolean);return N.length?N.map(N1):[m]},[n,m]),y=Mi.useMemo(()=>(a?.images?.length?a.images:x).map(N1),[a,x]),b=y[c]||y[0]||m,S=N=>{!N||N.length<2||(h.current&&clearInterval(h.current),d(0),h.current=setInterval(()=>{d(L=>(L+1)%N.length)},1200))},_=()=>{h.current&&clearInterval(h.current),h.current=null,d(0)};Mi.useEffect(()=>()=>{h.current&&clearInterval(h.current)},[]);const E=N=>{o(N),S(N?.images||[])},A=()=>{o(null),_()},P=Array.isArray(n.product_variants)?n.product_variants:[];return r.jsxs("div",{className:"relative bg-white border border-gray-100 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 p-4 text-center cursor-pointer",onMouseLeave:A,children:[r.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),i(n._id)},"aria-pressed":t,"aria-label":t?"Remove from wishlist":"Add to wishlist",className:"absolute top-2 right-2 p-1 rounded-full bg-white/90 border border-gray-200 shadow hover:bg-white",children:t?r.jsx(xy,{className:"text-[#f00000] text-xl"}):r.jsx(aS,{className:"text-gray-500 text-xl"})}),n.product_price>n.product_sale_price&&r.jsxs("div",{className:"absolute top-2 left-2 bg-gray-200 text-[#f00000] text-xs font-semibold px-2 py-1 rounded-full z-10",children:[Math.round((n.product_price-n.product_sale_price)/n.product_price*100),"% OFF"]}),r.jsx(xt,{to:`/product/${n._id}/${n.subCategoryName}/${n.subCat_id}`,children:r.jsx("img",{src:b,alt:n.product_name,className:`w-full h-32 object-contain mb-3 mt-4 transition-transform duration-300 hover:scale-105\r
                     motion-safe:transition-opacity motion-safe:duration-300 motion-safe:ease-out\r
                     motion-safe:animate-[fadeIn_220ms_ease-out]`,loading:"lazy",decoding:"async"},b)}),n.gender&&r.jsx("p",{className:"text-sm text-gray-400",children:n.gender}),r.jsx("p",{className:"text-base font-semibold text-gray-900 capitalize mb-1",children:n.product_name}),r.jsxs("div",{className:"flex justify-center items-center gap-2 mb-1",children:[n.product_price>n.product_sale_price&&r.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["$",Number(n.product_price).toFixed(2)]}),r.jsxs("span",{className:"text-gray-900 font-bold",children:["$",Number(n.product_sale_price??n.product_price??0).toFixed(2)]})]}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:`text-sm font-medium ${s?"text-green-600":"text-gray-500"}`,children:s?"In stock":"Out of stock"})}),P.length>0&&r.jsx("div",{className:"flex justify-center gap-2 mt-2",children:P.map((N,L)=>r.jsx("span",{title:N.colorName,onMouseEnter:()=>E(N),onFocus:()=>E(N),onMouseLeave:A,onBlur:A,className:`w-5 h-5 rounded-full border transition-all duration-200 
                          ${a?.colorName===N.colorName?"border-black ring-2 ring-black/10 scale-110":"border-gray-300 hover:scale-105"}`,style:{backgroundColor:N.colorName?.toLowerCase().trim()||"gray"},role:"button",tabIndex:0,"aria-label":`Preview ${N.colorName}`},L))})]})}const eD=({filters:n,setFilters:e,facetData:t})=>{const i=({title:a,children:o})=>r.jsxs("div",{className:"py-3 border-b last:border-b-0",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:a}),o]}),s=({label:a,setKey:o,value:c})=>{const d=n[o].has(c);return r.jsxs("label",{className:"flex items-center gap-2 py-1 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",checked:d,onChange:()=>e(h=>({...h,[o]:Nue(h[o],c)}))}),r.jsx("span",{className:"text-sm capitalize",children:a})]})};return r.jsxs("div",{children:[t.brands.length>0&&r.jsx(i,{title:"Brand",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.brands.map(a=>r.jsx(s,{label:a,setKey:"brands",value:a},a))})}),t.genders.length>0&&r.jsx(i,{title:"Gender",children:r.jsx("div",{className:"flex flex-col gap-1",children:t.genders.map(a=>r.jsx(s,{label:a,setKey:"genders",value:a},a))})}),t.shapes.length>0&&r.jsx(i,{title:"Shape",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.shapes.map(a=>r.jsx(s,{label:a,setKey:"shapes",value:a},a))})}),t.colors.length>0&&r.jsx(i,{title:"Color",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.colors.map(a=>r.jsx(s,{label:a,setKey:"colors",value:a},a))})}),t.materials.length>0&&r.jsx(i,{title:"Material",children:r.jsx("div",{className:"max-h-40 overflow-auto pr-1",children:t.materials.map(a=>r.jsx(s,{label:a,setKey:"materials",value:a},a))})})]})};function Rue(){const[n]=aF(),e=Bi(),t=n.get("q")||"",[i,s]=V.useState([]),[a,o]=V.useState([]),[c,d]=V.useState(!1),[h,m]=V.useState(""),[x,y]=V.useState(1),b=24,[S,_]=V.useState(rE),[E,A]=V.useState("popular"),[P,N]=V.useState(!1),L=async()=>{try{if(d(!0),m(""),!t.trim()){m("No search query provided"),s([]);return}const W=await St.get(`/products/search?search=${encodeURIComponent(t)}`),$=Array.isArray(W?.data?.products)?W.data.products:[];s($),y(1)}catch(W){console.error("Search fetch error:",W),m(W?.response?.data?.message||"Failed to load search results."),s([])}finally{d(!1)}},j=async()=>{try{const W=localStorage.getItem("user");if(!W)return;const z=(await St.get(`/getWishlist/${W}`)).data?.products?.filter(I=>I.productId)||[];o(z.map(I=>I.productId._id))}catch(W){console.error("Wishlist fetch error:",W)}};V.useEffect(()=>{L(),j()},[t]);const R=V.useMemo(()=>{const W=new Set,$=new Set,z=new Set,I=new Set,Q=new Set;let K=1/0,T=-1/0;return i.forEach(X=>{const ee=X?.brand_id?.brand||X?.brand||X?.product_brand||"";ee&&W.add(ee.trim());const oe=X.gender?.trim();oe&&$.add(oe),X.frame_shape&&z.add(X.frame_shape.trim()),X.frame_color&&I.add(X.frame_color.trim()),X.frame_material&&Q.add(X.frame_material.trim());const ce=Number(X.product_sale_price||X.product_price||0);Number.isNaN(ce)||(K=Math.min(K,ce),T=Math.max(T,ce))}),Number.isFinite(K)||(K=0,T=9999),{brands:Array.from(W).sort(),genders:Array.from($).sort(),shapes:Array.from(z).sort(),colors:Array.from(I).sort(),materials:Array.from(Q).sort(),min:K,max:T}},[i]),k=W=>{const $=W?.brand_id?.brand?.trim()||W?.brand?.trim()||W?.product_brand?.trim()||"",z=(W.gender||"").trim().toLowerCase(),I=String(W.frame_shape||"").trim(),Q=String(W.frame_color||"").trim(),K=String(W.frame_material||"").trim(),T=Number(W.product_sale_price||W.product_price||0);return!(S.brands.size&&!S.brands.has($)||S.genders.size&&![...S.genders].some(X=>X.toLowerCase()===z)||S.shapes.size&&!S.shapes.has(I)||S.colors.size&&!S.colors.has(Q)||S.materials.size&&!S.materials.has(K)||T<S.priceMin||T>S.priceMax)},F=W=>{switch(E){case"low":return[...W].sort(($,z)=>($.product_sale_price||$.product_price||0)-(z.product_sale_price||z.product_price||0));case"high":return[...W].sort(($,z)=>(z.product_sale_price||z.product_price||0)-($.product_sale_price||$.product_price||0));case"new":return[...W].sort(($,z)=>new Date(z.createdAt||0)-new Date($.createdAt||0));default:return W}},D=V.useMemo(()=>F(i.filter(k)),[i,S,E]);Math.max(1,Math.ceil(D.length/b));const B=V.useMemo(()=>{const W=(x-1)*b;return D.slice(W,W+b)},[D,x]);V.useEffect(()=>{y(1)},[E,S.priceMin,S.priceMax,JSON.stringify([...S.brands]),JSON.stringify([...S.shapes]),JSON.stringify([...S.colors]),JSON.stringify([...S.materials])]);const q=V.useMemo(()=>new Set(a),[a]),Y=async W=>{const $=localStorage.getItem("user");if(!$){i1.fire({icon:"info",title:"Please sign in to use wishlist"});return}const z=q.has(W),I=a,Q=z?I.filter(K=>K!==W):[...I,W];o(Q);try{z?(await St.delete("/removeWishlist",{data:{userId:$,productId:W}}),i1.fire({icon:"success",title:"Removed from wishlist"})):(await St.post("/addWishlist",{userId:$,productId:W}),i1.fire({icon:"success",title:"Added to wishlist"}))}catch{o(I),i1.fire({icon:"error",title:"Wishlist update failed"})}},G=W=>{const $=W?.product_variants?.[0]?.images?.[0]||W?.product_image_collection?.[0]||W?.product_image||"";return N1($)};return r.jsxs("div",{className:"bg-white",children:[r.jsx("div",{className:"w-full border-b border-gray-200 bg-[#f00000]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("div",{className:"text-[33px] tracking-wide font-semibold uppercase text-white",children:"Search Results"})}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"relative",children:[r.jsx("label",{htmlFor:"sort",className:"sr-only",children:"Sort by"}),r.jsxs("select",{id:"sort",value:E,onChange:W=>A(W.target.value),className:"px-3 py-1.5 border border-gray-300 rounded text-sm bg-white","aria-label":"Sort products",children:[r.jsx("option",{value:"popular",children:"Most popular"}),r.jsx("option",{value:"low",children:"Price: Low to high"}),r.jsx("option",{value:"high",children:"Price: High to low"}),r.jsx("option",{value:"new",children:"New arrivals"})]})]})})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:[r.jsxs("h1",{className:"text-2xl font-bold capitalize",children:['Results for "',t,'"']}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c?"Loading":`${D.length} Results`}),h&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 mt-3",children:h})]}),r.jsx("div",{className:`fixed inset-0 bg-black/40 z-40 ${P?"block":"hidden"}`,onClick:()=>N(!1),"aria-hidden":"true"}),r.jsxs("aside",{id:"filters-drawer",role:"dialog","aria-modal":"true",className:`fixed z-50 inset-y-0 left-0 w-80 bg-white border-r border-gray-200 transform transition-transform duration-200 ${P?"translate-x-0":"-translate-x-full"} lg:hidden`,children:[r.jsxs("div",{className:"p-4 flex items-center justify-between border-b",children:[r.jsx("h3",{className:"text-base font-semibold",children:"Filters"}),r.jsx("button",{className:"text-sm px-2 py-1 rounded border",onClick:()=>N(!1),"aria-label":"Close filters",children:"Close"})]}),r.jsxs("div",{className:"p-4 overflow-y-auto h-full",children:[r.jsx(eD,{filters:S,setFilters:_,facetData:R}),r.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[r.jsx("button",{onClick:()=>N(!1),className:"flex-1 bg-black text-white rounded px-3 py-2 text-sm",children:"Apply"}),r.jsx("button",{onClick:()=>_(rE),className:"flex-1 border rounded px-3 py-2 text-sm",children:"Clear all"})]})]})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 pb-8",children:r.jsxs("div",{className:"lg:grid lg:grid-cols-[16rem_1fr] lg:gap-8",children:[r.jsx("aside",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start lg:w-64 lg:shrink-0",children:r.jsxs("div",{className:"border border-black rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-base font-semibold",children:"Filters"}),r.jsx("button",{onClick:()=>_(rE),className:"text-sm underline",children:"Clear"})]}),r.jsx(eD,{filters:S,setFilters:_,facetData:R})]})}),r.jsxs("div",{children:[c?r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:12}).map((W,$)=>r.jsxs("div",{className:"rounded-xl border border-gray-200 p-4",children:[r.jsx("div",{className:"h-36 bg-gray-100 rounded mb-4 animate-pulse"}),r.jsx("div",{className:"h-4 w-3/4 bg-gray-100 rounded mb-2 animate-pulse"}),r.jsx("div",{className:"h-4 w-1/2 bg-gray-100 rounded animate-pulse"})]},$))}):B.length===0?r.jsxs("div",{className:"text-center text-gray-600 py-16",children:[r.jsx("p",{className:"text-lg",children:"No products found matching your search."}),r.jsx("button",{onClick:()=>e("/"),className:"mt-4 px-6 py-2 bg-[#f00000] text-white rounded-lg hover:bg-red-700",children:"Go Back Home"})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:B.map(W=>{const $=G(W),z=q.has(W._id),I=(W.stockAvailability??0)>0;return r.jsx(jue,{data:W,img:$,inWishlist:z,toggleWishlist:Y,isInStock:I},W._id)})}),!c&&D.length>b&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[r.jsx("button",{className:"p-2 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:()=>y(W=>Math.max(1,W-1)),disabled:x===1,"aria-label":"Previous page",children:r.jsx(zD,{})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.max(1,Math.ceil(D.length/b))}).map((W,$)=>{const z=$+1,I=z===x;return r.jsx("button",{onClick:()=>y(z),className:`px-3 py-1 rounded border ${I?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,"aria-current":I?"page":void 0,children:z},z)})}),r.jsx("button",{className:"p-2 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50",onClick:()=>y(W=>W+1),disabled:x*b>=D.length,"aria-label":"Next page",children:r.jsx(HD,{})})]})]})]})}),r.jsx(nU,{}),r.jsx(tS,{})]})}const Bue=()=>{const{platform:n}=Ef(),e=Bi(),t={facebook:r.jsx(ID,{size:80,className:"text-blue-600"}),instagram:r.jsx(UD,{size:80,className:"text-pink-500"}),youtube:r.jsx(FD,{size:80,className:"text-red-600"}),linkedin:r.jsx(kD,{size:80,className:"text-blue-700"})},i={facebook:"Facebook",instagram:"Instagram",youtube:"YouTube",linkedin:"LinkedIn"};return r.jsx("div",{className:"flex flex-col items-center justify-center text-center px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"p-6 sm:p-10 w-full transition-all duration-300",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"text-6xl sm:text-7xl md:text-8xl",children:t[n]})}),r.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 text-gray-800",children:[i[n]," Page"]}),r.jsx("p",{className:"text-gray-500 mb-6 text-base sm:text-lg md:text-xl",children:"Exciting updates ahead! Our social platforms are launching soon."}),r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold text-gray-800 mb-4",children:"Coming Soon"}),r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base md:text-lg leading-relaxed",children:["Our ",i[n]," page will feature the latest eyewear collections,",r.jsx("br",{}),"fashion inspiration, and exclusive discounts  all tailored for you."]}),r.jsx("button",{onClick:()=>e("/"),className:"mt-8 px-5 sm:px-6 py-2.5 bg-[#f00000] text-white rounded-full font-medium hover:bg-red-700 transition-all text-sm sm:text-base",children:"Back to Home"})]})})},sd="#f00000",Due=()=>r.jsxs("div",{className:"w-full",children:[r.jsx("section",{style:{backgroundColor:sd},className:"text-white py-20",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 text-center",children:r.jsx(Ke.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold",children:"High-quality eyewear at affordable prices"})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Affordable Prices for Premium Eyewear"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-10",children:[r.jsxs(Ke.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.5},className:"bg-gray-50 rounded-xl shadow p-6 border flex flex-col h-full",style:{borderColor:sd},children:[r.jsx("img",{src:wI,alt:"Glasses",className:"w-full h-90 object-cover rounded-lg"}),r.jsx("div",{className:"mt-auto pt-6 text-center",children:r.jsx(xt,{to:"/allproduct/glasses/69157332eeb23fa59c7d5326",children:r.jsx(Ke.button,{whileHover:{scale:1.05},className:"px-8 py-3 text-white rounded-full font-semibold",style:{backgroundColor:sd},children:"Shop Glasses"})})})]}),r.jsxs(Ke.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.6},className:"bg-gray-50 rounded-xl shadow p-6 border flex flex-col h-full",style:{borderColor:sd},children:[r.jsx("img",{src:SI,alt:"Contact Lenses",className:"w-full h-90 object-cover rounded-lg"}),r.jsx("div",{className:"mt-auto pt-6 text-center",children:r.jsx(xt,{to:"/allproduct/contact_lenses/6915735feeb23fa59c7d532b",children:r.jsx(Ke.button,{whileHover:{scale:1.05},className:"px-8 py-3 text-white rounded-full font-semibold",style:{backgroundColor:sd},children:"Shop Contact Lenses"})})})]})]})]})}),r.jsx("section",{className:"py-16 bg-gray-100",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Buy From Us?"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"fa-shield",title:"Premium Quality",text:"Certified optical products sourced for Canadian standards."},{icon:"fa-truck-fast",title:"Fast Delivery",text:"Fast & reliable shipping across Canada."},{icon:"fa-headset",title:"24/7 Support",text:"Our team is always ready to help you."},{icon:"fa-tag",title:"Affordable Pricing",text:"Best value compared to retail optical stores."}].map((n,e)=>r.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5+e*.1},className:"p-6 bg-white rounded-xl shadow border",style:{borderColor:sd},children:[r.jsx("i",{className:`fa-solid ${n.icon} text-3xl mb-3`,style:{color:sd}}),r.jsx("h4",{className:"font-semibold mb-2",children:n.title}),r.jsx("p",{className:"text-gray-600",children:n.text})]},e))})]})}),r.jsxs("section",{className:"py-20 bg-black text-white text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Upgrade Your Vision Today"}),r.jsx("p",{className:"mb-6 text-lg",children:"High-quality eyewear at prices you'll love."}),r.jsx(xt,{to:"/",children:r.jsx(Ke.button,{whileHover:{scale:1.05},className:"px-10 py-3 bg-white font-semibold rounded-full shadow",style:{color:sd},children:"Explore Products"})})]})]}),Pa="#f00000",Oue=()=>{const[n,e]=V.useState(!1),[t,i]=V.useState(!1);return r.jsxs("div",{className:"w-full",children:[r.jsx("section",{style:{backgroundColor:Pa},className:"text-white py-20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx(Ke.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl font-bold",children:"24/7 Customer Care"}),r.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.6},className:"text-lg mt-2",children:"We're here for you anytime, anywhere  because your vision matters."})]})}),r.jsx("section",{className:"py-20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"We're Always Available to Help You"}),r.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"Whether it's about your order, prescription, subscription plan, or general support  our dedicated optical care team is available round-the-clock to assist you. Call, chat, or email us anytime."}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 mt-12",children:[r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.4},className:"p-8 bg-white rounded-xl shadow border",style:{borderColor:Pa},children:[r.jsx("i",{className:"fa-solid fa-phone-volume text-4xl mb-4",style:{color:Pa}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Phone Support"}),r.jsx("p",{className:"text-gray-600",children:"Talk to our experts 24/7 for quick help."}),r.jsx("p",{style:{color:Pa},className:"font-bold mt-3",children:"+1 1866-242-3545"})]}),r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow border",style:{borderColor:Pa},children:[r.jsx("i",{className:"fa-solid fa-comments text-4xl mb-4",style:{color:Pa}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Live Chat"}),r.jsx("p",{className:"text-gray-600",children:"Instant solutions through live chat support."}),r.jsx(Ke.button,{whileHover:{scale:1.05},className:"mt-4 px-6 py-2 text-white rounded-full",style:{backgroundColor:Pa},onClick:()=>e(!n),children:"Start Chat"})]}),n&&r.jsx("div",{className:"fixed bottom-20 right-6 z-50",children:r.jsx(IT,{onClose:()=>e(!1)})}),r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},className:"p-8 bg-white rounded-xl shadow border",style:{borderColor:Pa},children:[r.jsx("i",{className:"fa-solid fa-envelope-open-text text-4xl mb-4",style:{color:Pa}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Email Support"}),r.jsx("p",{className:"text-gray-600",children:"Get responses within minutes  any time of day."}),r.jsxs("p",{className:"font-bold mt-3",style:{color:Pa},children:["sales.ataloptical@gmail.com ",r.jsx("br",{}),"info.ataloptical@gmail.com"]})]})]})]})}),r.jsx("section",{className:"bg-gray-100 py-16",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-10",children:"What We Can Help You With"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"fa-file-prescription",title:"Prescription Help",text:"Understanding your vision prescription made easy."},{icon:"fa-box",title:"Order Tracking",text:"Real-time updates for your order shipments."},{icon:"fa-sync",title:"Subscription Support",text:"Modify, pause, or cancel your subscription anytime."},{icon:"fa-wand-magic-sparkles",title:"Frame & Lens Advice",text:"Find the best style and lens type for your needs."}].map((s,a)=>r.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5+a*.1},className:"p-6 bg-white rounded-xl shadow border text-center",style:{borderColor:Pa},children:[r.jsx("i",{className:`fa-solid ${s.icon} text-3xl mb-3`,style:{color:Pa}}),r.jsx("h4",{className:"font-semibold mb-2",children:s.title}),r.jsx("p",{className:"text-gray-600",children:s.text})]},a))})]})}),r.jsxs("section",{className:"py-20 bg-black text-white text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Need Help Right Now?"}),r.jsx("p",{className:"mb-6",children:"Our support team is standing by 24/7 to assist you."}),r.jsx(xt,{to:"/contact-us",children:r.jsx(Ke.button,{whileHover:{scale:1.05},className:"px-10 py-3 bg-white font-semibold rounded-full shadow",style:{color:Pa},children:"Contact Support"})})]})]})},el="#f00000",Pue=()=>r.jsxs("div",{className:"w-full",children:[r.jsx("section",{style:{backgroundColor:el},className:"text-white py-20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx(Ke.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-4xl font-bold",children:"Fast Shipping & Delivery"}),r.jsx(Ke.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.6},className:"text-lg mt-2",children:"Get your glasses, contact lenses, and accessories delivered quicklyanywhere in Canada."})]})}),r.jsx("section",{className:"py-20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Canada-Wide Fast Delivery"}),r.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"We ensure quick and reliable delivery for all your eyewear products. Whether youre ordering prescription glasses, contact lenses, or accessories, your order is processed and shipped with careso you can enjoy clear vision without delay."}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 mt-14",children:[r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.4},className:"p-8 bg-white rounded-xl shadow text-center border",style:{borderColor:el},children:[r.jsx("i",{className:"fa-solid fa-bolt text-4xl mb-4",style:{color:el}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fast Processing"}),r.jsx("p",{className:"text-gray-600",children:"Orders are packed and processed within 24 hours."})]}),r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow text-center border",style:{borderColor:el},children:[r.jsx("i",{className:"fa-solid fa-map-canada text-4xl mb-4",style:{color:el}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Canada-Wide Delivery"}),r.jsx("p",{className:"text-gray-600",children:"Reliable delivery across all provinces & territories."})]}),r.jsxs(Ke.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6},className:"p-8 bg-white rounded-xl shadow text-center border",style:{borderColor:el},children:[r.jsx("i",{className:"fa-solid fa-location-dot text-4xl mb-4",style:{color:el}}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Real-Time Tracking"}),r.jsx("p",{className:"text-gray-600",children:"Track your shipment live from warehouse to doorstep."})]})]})]})}),r.jsx("section",{className:"py-5",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 mb-15 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Top Delivery Partners"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:["Purolator","Canada Post","UPS Canada","FedEx Canada","DHL Express"].map((n,e)=>r.jsx(Ke.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4+e*.1},className:"p-5 bg-white rounded-xl shadow border text-lg font-semibold",style:{borderColor:el},children:n},e))})]})}),r.jsx("section",{className:"bg-gray-100 py-16",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-10",children:"Shipping Options"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[{icon:"fa-truck",title:"Standard Delivery",text:"37 business days across Canada."},{icon:"fa-plane",title:"Express Delivery",text:"13 business day express option available."},{icon:"fa-house-circle-check",title:"Home Delivery",text:"Orders delivered straight to your doorstep."}].map((n,e)=>r.jsxs(Ke.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5+e*.1},className:"p-8 bg-white rounded-xl shadow border",style:{borderColor:el},children:[r.jsx("i",{className:`fa-solid ${n.icon} text-4xl mb-4`,style:{color:el}}),r.jsx("h4",{className:"font-semibold text-xl mb-2",children:n.title}),r.jsx("p",{className:"text-gray-600",children:n.text})]},e))})]})}),r.jsxs("section",{className:"py-20 bg-black text-white text-center",children:[r.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Ready to Receive Your Order Fast?"}),r.jsx("p",{className:"mb-6 text-lg",children:"Place your order today and enjoy reliable, fast shipping."}),r.jsx(xt,{to:"/allproduct/glasses/69157332eeb23fa59c7d5326",children:r.jsx(Ke.button,{whileHover:{scale:1.05},className:"px-10 py-3 bg-white font-semibold rounded-full shadow",style:{color:el},children:"Shop Eyewear Now"})})]})]}),Lue="/assets/refer-DLYeJDUv.avif";function Iue(){const[n,e]=V.useState(""),[t,i]=V.useState(""),[s,a]=V.useState(""),[o,c]=V.useState(""),[d,h]=V.useState(""),[m]=V.useState("ATAL20"),[x,y]=V.useState(!1),[b,S]=V.useState(""),[_,E]=V.useState(!1),A=L=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L),P=async L=>{if(L.preventDefault(),S(""),E(!1),!t.trim()){S("Please enter your friend's email.");return}if(!A(t)){S("Please enter a valid friend's email address.");return}y(!0);try{await St.post("/save-discount-email",{email:t,discountCode:m}),E(!0),e(""),i(""),h("")}catch(j){console.error("Send coupon error:",j);const R=j?.response?.data?.message||"Could not send coupon. Please try again later.";S(R)}finally{y(!1)}},N=()=>{e(""),i(""),a(""),c(""),h(""),S(""),E(!1)};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-6 py-12",children:r.jsxs("div",{className:"max-w-6xl w-full bg-white rounded-3xl shadow-xl overflow-hidden grid grid-cols-1 md:grid-cols-2",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(Ke.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},className:"h-full",children:r.jsx("img",{src:Lue,alt:"Gift visual",className:"w-full h-full object-contain"})})}),r.jsx("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:r.jsxs(Ke.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.45},className:"max-w-xl mx-auto",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-[#f00000]",children:"Send a 20% Coupon to a Friend"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Share the love  enter your friend's email and we'll send them the coupon code instantly."})]}),r.jsxs("form",{onSubmit:P,className:"space-y-4",noValidate:!0,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Friends name"}),r.jsx("input",{value:n,onChange:L=>e(L.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Friends email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",value:t,onChange:L=>i(L.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"friend@example.com",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your name (optional)"}),r.jsx("input",{value:s,onChange:L=>a(L.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"From who?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your email (optional)"}),r.jsx("input",{type:"email",value:o,onChange:L=>c(L.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:outline-none focus:ring-2 focus:ring-black",placeholder:"you@example.com"})]})]}),b&&r.jsx("p",{className:"text-sm text-red-600",children:b}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx("button",{type:"submit",disabled:x,className:"w-full bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-800 disabled:opacity-60",children:x?"Sending...":"Send Coupon"}),r.jsx("button",{type:"button",onClick:N,className:"w-full border border-gray-300 py-3 rounded-lg hover:bg-gray-100",children:"Reset"})]})]}),_&&r.jsxs(Ke.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"mt-6 p-4 border-l-4 border-green-500 bg-green-50 rounded-md",children:[r.jsx("p",{className:"text-green-800 font-medium",children:"Coupon sent successfully!"}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Your friend should receive the email shortly."})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-6",children:"By sending this coupon you agree to our terms and to only send to recipients whove opted in to receive emails."})]})})]})})}const Uue="/assets/Heart-DBIyOQkn.jpeg",kue="/assets/Oval-slay1vUt.jpeg",tD="/assets/Round-BqY6JUu8.jpeg",Fue="/assets/Square-BdgryodB.jpeg",zue="/assets/Triangle-BWpo5rQ3.jpeg",Hue="/assets/glasses-cvDsV6Pb.jpeg",Vue="/assets/Sunglasses-_GTj6rW_.jpeg";function Gue(){const n=tD,e=[{id:"oval",label:"Shop for Oval",src:kue},{id:"round",label:"Shop for Round",src:tD},{id:"heart",label:"Shop for Heart",src:Uue},{id:"square",label:"Shop for Square",src:Fue},{id:"triangle",label:"Shop for Triangle",src:zue}];return r.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[r.jsx("header",{className:"border-b bg-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:r.jsx("h1",{className:"text-3xl font-bold text-[#f00000]",children:"Face Shape"})})}),r.jsx("section",{className:"bg-purple-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16 grid grid-cols-1 lg:grid-cols-12 gap-8 items-center",children:[r.jsxs("div",{className:"lg:col-span-6",children:[r.jsx("h2",{className:"text-center lg:text-left text-2xl font-semibold mb-4",children:"Glasses for face shape"}),r.jsx("p",{className:"text-center lg:text-left text-sm text-gray-600 max-w-md mx-auto lg:mx-0",children:"Which shape is your (beautiful) face? Read on to find out, then shop frames for square, round, heart, diamond and oval shapes."})]}),r.jsx("div",{className:"lg:col-span-6 relative",children:r.jsx("div",{className:"w-full overflow-hidden rounded-r-lg",children:r.jsx("img",{src:n,alt:"hero face",className:"block w-full h-96 object-cover rounded"})})})]})}),r.jsx("section",{className:"pt-12 pb-10",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 mt-20",children:[r.jsx("h3",{className:"text-center text-xl font-medium mb-8",children:"Shop glasses by face shape"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 items-start",children:e.map(t=>r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-full overflow-hidden rounded shadow-sm bg-gray-50",children:r.jsx("img",{src:t.src,alt:t.id,className:"block w-full h-56 object-cover"})}),r.jsx(sn,{to:`/glasses/${t.id}`,className:({isActive:i})=>i?"mt-6 w-48 md:w-56 lg:w-48 py-3 bg-black text-white rounded-md text-sm font-medium text-center":"mt-6 w-48 md:w-56 lg:w-48 py-3 bg-black text-white rounded-md text-sm font-medium text-center hover:bg-red-600",children:t.label})]},t.id))})]})}),r.jsx("section",{className:"pb-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-6 mt-20",children:[r.jsx("h3",{className:"text-center text-xl font-medium mb-8",children:"Glasses shopping tips"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("article",{className:"bg-white",children:[r.jsx("div",{className:"h-64 bg-purple-50 overflow-hidden rounded",children:r.jsx("img",{src:Hue,alt:"tip1",className:"block w-full h-full object-contain"})}),r.jsxs("div",{className:"py-6 text-center",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Glasses"}),r.jsx("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto mb-4",children:"Discover the best glasses for your face shape. Let's Explore."}),r.jsx(sn,{to:"/allproduct/glasses/69157332eeb23fa59c7d5326",className:" px-6 py-2 bg-black text-white rounded  ",children:"Shop Now"})]})]}),r.jsxs("article",{className:"bg-white",children:[r.jsx("div",{className:"h-64 bg-blue-50 overflow-hidden rounded",children:r.jsx("img",{src:Vue,alt:"tip2",className:"block w-full h-full object-contain"})}),r.jsxs("div",{className:"py-6 text-center",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Sunglasses"}),r.jsx("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto mb-4",children:"Discover the best sunglasses for your face shape. Let's Explore."}),r.jsx(sn,{to:"/allproduct/glasses/69157332eeb23fa59c7d5326",className:" px-6 py-2 bg-black text-white rounded  ",children:"Shop Now"})]})]})]})]})}),r.jsx("footer",{className:"border-t py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center text-sm text-gray-500",children:" Atal Optical"})})]})}function que(){const n=[{title:"Custom & Prescription Products  Final Sale",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"All prescription eyeglasses, prescription sunglasses, custom lenses, and medical optical devices are custom-made and personalized."}),r.jsx("p",{children:"As per Ontario Consumer Protection Act  Custom Goods Exemption, these products are final sale."}),r.jsx("p",{children:"Orders cannot be cancelled, refunded, or changed once production has started."})]})},{title:"Non-Custom / Non-Prescription Products",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Non-prescription frames, sunglasses, contact lens accessories, cleaning kits, and cases may be returned within 7 days of purchase."}),r.jsx("p",{children:"Products must be unused, in original packaging, in resalable condition, and accompanied by the original receipt."})]})},{title:"Defective or Incorrect Products",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"If Atal Optical makes an error or supplies a defective product, repair, replacement, or remake will be provided at no additional charge."}),r.jsx("p",{children:"Claims must be reported within 7 calendar days of delivery/pickup and customers should provide proof of defect (photos or in-store inspection)."})]})},{title:"Legal Cooling-Off Rights (Ontario Law)",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"For in-store purchases, Ontario law does not provide automatic refund or cooling-off rights except where required by law."}),r.jsx("p",{children:"For online or remote sales, customers may cancel within 7 days only if the product has not entered production."})]})},{title:"Deposits and Special Orders",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Deposits for special orders are non-refundable once the manufacturing process has started."}),r.jsx("p",{children:"Any balance must be paid before product collection or delivery."})]})},{title:"Sale, Clearance & Promotional Items",content:r.jsx("p",{children:"All discounted, clearance, promotional, and warehouse sale items are considered final sale and are not eligible for return, exchange, or refund."})},{title:"Return Approval Conditions",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Returned items must be in original packaging with a valid receipt."}),r.jsx("p",{children:"Items must show no scratches, marks, damage, or wear and must include all accessories."}),r.jsx("p",{children:"Items failing inspection will be refused."})]})},{title:"Refunds (Where Applicable)",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Approved refunds are issued only to the original payment method."}),r.jsx("p",{children:"Refund processing time: 710 business days."}),r.jsx("p",{children:"Shipping charges are non-refundable."})]})},{title:"Shipping, Delivery & Risk of Loss",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Responsibility transfers to the customer once the order is collected, shipped, or delivered."}),r.jsx("p",{children:"Atal Optical is not responsible for delays caused by third-party couriers."})]})},{title:"Warranty Coverage",content:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"Manufacturer warranties apply to frames and lenses for manufacturing defects only."}),r.jsx("p",{children:"Warranties do NOT cover scratches, accidents, misuse, or normal wear and tear."})]})},{title:"Order Refusal Rights",content:r.jsx("p",{children:"Atal Optical reserves the right to refuse service, cancel orders, limit quantities, or protect against fraud or misuse."})},{title:"Legal Compliance Statement",content:r.jsx(r.Fragment,{children:r.jsx("p",{children:"This policy follows the Ontario Consumer Protection Act (CPA), Canadian Custom Goods Regulations, and industry standards for healthcare and optical devices."})})}];return r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"mb-8 bg-gradient-to-r from-black via-red-600 to-black py-12 text-center shadow-md",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white tracking-wide px-4",children:"Return, Exchange & Consumer Policy"}),r.jsx("hr",{className:"border border-gray-200 my-4 w-230 mx-auto"})]}),r.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 md:px-8 pb-12",children:r.jsx("div",{className:"space-y-6",children:n.map((e,t)=>r.jsxs("section",{className:"bg-white shadow-sm p-4 sm:p-6 md:p-8 rounded-xl border border-red-400","aria-labelledby":`section-${t}`,children:[r.jsx("h2",{id:`section-${t}`,className:"text-lg sm:text-xl md:text-2xl font-semibold text-red-600 mb-3",children:e.title}),r.jsx("div",{className:"text-gray-700 leading-relaxed text-sm sm:text-[15px] md:text-base space-y-2",children:e.content})]},t))})})]})}function Wue(){return r.jsx("main",{className:"min-h-screen bg-red-50 flex items-center justify-center p-6",children:r.jsxs("section",{className:"w-full max-w-4xl bg-white shadow-md rounded-2xl overflow-hidden",children:[r.jsx("header",{className:"bg-[#f00000] text-white p-6 flex justify-center",children:r.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold",children:"Exchange Policy"})}),r.jsxs("article",{className:"p-6 sm:p-8 text-gray-800",children:[r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000] flex items-center",children:" Prescription Glasses  No Exchange / No Refund"}),r.jsxs("ul",{className:"mt-2 list-disc list-inside text-sm sm:text-base space-y-1",children:[r.jsx("li",{children:"All prescription glasses are custom-made medical optical products."}),r.jsx("li",{children:"These items are final sale and not eligible for exchange or refund under any circumstances."})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000] flex items-center",children:" Frames  No Exchange / No Refund"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"All frames, once sold and adjusted, are final sale and are not eligible for exchange or refund."})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000] flex items-center",children:" Sunglasses  Exchange Only"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Only sunglasses (non-prescription) are eligible for exchange."}),r.jsxs("ul",{className:"mt-2 ml-5 list-disc list-inside text-sm sm:text-base space-y-1",children:[r.jsxs("li",{children:["Exchange requests must be made within ",r.jsx("strong",{children:"48 hours (12 days)"})," of purchase or delivery."]}),r.jsx("li",{children:"Items must be:"})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-red-50",children:[r.jsx("span",{className:"text-[#f00000] font-semibold"}),r.jsx("span",{className:"text-sm",children:"Unused"})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-red-50",children:[r.jsx("span",{className:"text-[#f00000] font-semibold"}),r.jsx("span",{className:"text-sm",children:"In original packaging"})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-red-50",children:[r.jsx("span",{className:"text-[#f00000] font-semibold"}),r.jsx("span",{className:"text-sm",children:"With original receipt"})]})]})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000] flex items-center",children:" No Refunds Policy"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical does not offer refunds for any products. Only exchanges are permitted for eligible sunglasses."})]}),r.jsxs("section",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000] flex items-center",children:" Final Inspection Condition"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical reserves the right to refuse exchange if products show signs of wear, scratches, damage, or tampering."})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000] flex items-center",children:" Legal Compliance"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"This policy follows Ontario Consumer Protection Act guidelines for medical and non-medical optical products."})]})]})]})})}function Xue(){return r.jsx("main",{className:"min-h-screen bg-red-50 flex items-center justify-center p-6",children:r.jsxs("article",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-md overflow-hidden",children:[r.jsx("header",{className:"bg-[#f00000] px-6 py-6 text-center",children:r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-white mb-2",children:"COOKIES POLICY"})}),r.jsxs("section",{className:"p-6 sm:p-8 text-gray-800 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 1. What Are Cookies?"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Cookies are small text files stored on your device when you visit a website. They help us improve your browsing experience and website functionality."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 2. Types of Cookies We Use"}),r.jsxs("ul",{className:"mt-2 text-sm sm:text-base list-inside list-disc space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Essential Cookies"}),"  Required for website security, login sessions, and shopping cart functionality."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Performance Cookies"}),"  Used to analyze website traffic and improve website speed and performance."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Functional Cookies"}),"  Used to remember user preferences, language and location settings."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Marketing Cookies"}),"  Used to display relevant promotions and track engagement with marketing content."]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 3. Purpose of Cookies"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"We use cookies to:"}),r.jsxs("ul",{className:"mt-2 text-sm sm:text-base list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Improve website functionality"}),r.jsx("li",{children:"Enhance user experience"}),r.jsx("li",{children:"Monitor website performance"}),r.jsx("li",{children:"Support marketing activities"})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 4. Managing Cookies"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"You have full control over cookies. You can enable or disable cookies through your browser settings and delete stored cookies at any time. Please note disabling cookies may affect some website functions."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 5. Third-Party Cookies"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"We may allow trusted third-party services to place cookies, including analytics tools, advertising partners, and security monitoring services. All partners are required to follow strict privacy standards."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 6. Updates to This Policy"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical reserves the right to update this Cookies Policy at any time. Updates will be posted directly on the website."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 7. Legal Compliance"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"This Cookies Policy complies with Canadian PIPEDA regulations, Ontario privacy guidelines, and digital privacy best practices."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 8. Contact Us"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"For any cookie-related inquiries, contact us:"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:[r.jsx("strong",{children:" Email:"})," ",r.jsx("a",{href:"mailto:sales.ataloptical@gmail.com",className:"text-blue-600 hover:underline",children:"sales.ataloptical@gmail.com"}),r.jsx("span",{children:" | "}),r.jsx("a",{href:"mailto:info.ataloptical@gmail.com",className:"text-blue-600 hover:underline",children:"info.ataloptical@gmail.com"})]}),r.jsxs("p",{className:"text-gray-600",children:[r.jsx("strong",{children:" Address:"})," Corporate Office: 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"]})]})]})]})})}function Yue(){return r.jsx("main",{className:"min-h-screen bg-[#f00000]/5 flex items-center justify-center p-6",children:r.jsxs("article",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-md overflow-hidden",children:[r.jsx("header",{className:"bg-[#f00000] px-6 py-6 text-center",children:r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-white mb-1",children:"SHIPPING POLICY"})}),r.jsxs("section",{className:"p-6 sm:p-8 text-gray-800 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 1. Shipping Carriers"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical ships orders using trusted national and international courier partners: UPS, DHL, FedEx, and Canada Post. Carrier selection depends on destination, service level, package size, and delivery urgency."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 2. Order Processing Time"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Standard processing time (production/packing, not transit):"}),r.jsxs("ul",{className:"mt-2 list-inside list-disc text-sm sm:text-base space-y-1",children:[r.jsxs("li",{children:["Non-prescription products: ",r.jsx("strong",{children:"13 business days"})]}),r.jsxs("li",{children:["Prescription / custom products: ",r.jsx("strong",{children:"37 business days"})]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 3. Custom & Prescription Product Shipping"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Prescription glasses and custom lenses are made-to-order  production begins after payment confirmation. Shipping timelines may vary due to laboratory processing."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 4. Shipping Methods & Delivery Times"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Estimated delivery timelines (not guaranteed):"}),r.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm sm:text-base",children:[r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Ontario / Canada"}),r.jsx("p",{children:"Standard Shipping: 37 business days"}),r.jsx("p",{children:"Express Shipping: 13 business days"})]}),r.jsxs("div",{className:"p-3 border rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"International"}),r.jsx("p",{children:"Delivery timelines vary by destination and carrier."})]})]}),r.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"Delays may occur due to weather, customs, or courier issues."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 5. Shipping Fees"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Shipping charges are calculated at checkout based on destination, package size/weight, and courier service selected. Shipping fees are non-refundable."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 6. Risk of Loss & Responsibility"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Responsibility transfers to the customer once the order is shipped or handed over to the courier. Atal Optical is not liable for delayed deliveries, lost packages by carrier, or damage caused by couriers."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 7. Incorrect or Incomplete Addresses"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Customers are responsible for providing accurate shipping details. Additional shipping costs due to incorrect addresses are the customers responsibility."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 8. Tracking & Delivery Confirmation"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"A tracking number will be sent via email once shipped. Customers must monitor courier websites directly for the latest status."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 9. Customs, Duties & Taxes"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"For international shipments, customers are responsible for import duties, customs taxes, and brokerage fees. These are not included in product or shipping prices."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 10. Shipping Damage Claims"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"If a package arrives damaged, please take photos immediately, report within 24 hours of delivery, and keep all original packaging. Claims outside this time frame may not be accepted."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 11. No Shipping to Certain Locations"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical may restrict shipping to PO Boxes and remote or high-risk areas for courier deliveries."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 12. Legal Compliance"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"This policy follows Ontario business standards, Canadian commercial shipping regulations, and courier company shipping terms."})]})]})]})})}function Kue(){return r.jsx("main",{className:"min-h-screen bg-[#f00000]/5 flex items-center justify-center p-6",children:r.jsxs("article",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-md overflow-hidden",children:[r.jsx("header",{className:"bg-[#f00000] px-6 py-6 text-center",children:r.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-white mb-1",children:"DISCLAIMER POLICY"})}),r.jsxs("section",{className:"p-6 sm:p-8 text-gray-800 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 1. General Information"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"The content on the Atal Optical website is for informational purposes only. While we strive to provide accurate and up-to-date information, we make no guarantees regarding the completeness, accuracy, or reliability of any content, products, or services listed on the website."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 2. Medical & Optical Advice"}),r.jsxs("ul",{className:"mt-2 list-inside list-disc text-sm sm:text-base space-y-1",children:[r.jsx("li",{children:"Prescription glasses, lenses, and other optical products are customized medical devices."}),r.jsx("li",{children:"The information provided on this website does not replace professional eye care advice."}),r.jsx("li",{children:"Customers should consult a qualified eye care professional for any vision or eye health concerns."})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 3. Product Information"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Product images, descriptions, and specifications are provided for reference only. Actual product appearance, colour, or dimensions may vary slightly from website images. Availability and pricing are subject to change without notice."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 4. Limitation of Liability"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical and its affiliates are not liable for any damages, losses, or injuries resulting from the use or misuse of our products, indirect or consequential damages, or errors and omissions on the website. The maximum liability is limited to the purchase price of the product in question."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 5. Third-Party Links"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"The website may include links to third-party websites. We do not control or endorse the content of these sites and are not responsible for any loss or damage from using third-party websites."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 6. Website Use"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"By using the Atal Optical website, users agree to use the website lawfully, not to copy or reproduce content without permission, and not to use the website for fraudulent purposes."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 7. Policy Updates"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Atal Optical reserves the right to update this Disclaimer Policy at any time. Changes will be posted on the website; users are encouraged to review it regularly."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-[#f00000]",children:" 8. Contact Information"}),r.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"For questions regarding this Disclaimer Policy, contact us:"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:[r.jsx("strong",{children:"Email:"})," ",r.jsx("a",{href:"mailto:sales.ataloptical@gmail.com",className:"text-blue-600 hover:underline",children:"sales.ataloptical@gmail.com"}),r.jsx("span",{children:" | "}),r.jsx("a",{href:"mailto:info.ataloptical@gmail.com",className:"text-blue-600 hover:underline",children:"info.ataloptical@gmail.com"})]}),r.jsxs("p",{className:"text-gray-600",children:[r.jsx("strong",{children:"Address:"})," Corporate Office: 34 Shining Willow Crescent, Brampton, ON L6P 2A2, Canada"]})]})]})]})})}function Jue(){const[n,e]=V.useState(localStorage.getItem("user")||null),t=Td();V.useEffect(()=>{const s=localStorage.getItem("user");s&&s!=="null"&&e(s)},[]),V.useEffect(()=>{n&&t(T1(n))},[n,t]);const i=eF([{path:"/",element:r.jsx(Soe,{}),children:[{path:"/",element:r.jsx(Gre,{})},{path:"/register",element:r.jsx(pce,{})},{path:"/login",element:r.jsx(xce,{})},{path:"/faq",element:r.jsx(Tle,{})},{path:"/privacy-policy",element:r.jsx(Nle,{})},{path:"/optical-policy",element:r.jsx(jle,{})},{path:"/allproduct/:subCategory/:catId/:subCatId",element:r.jsx(ir,{})},{path:"/product/:ID/:subCategory/:subCatId",element:r.jsx(Sle,{})},{path:"/disclaimer",element:r.jsx(Rle,{})},{path:"/terms&Conditions",element:r.jsx(Ble,{})},{path:"/liability",element:r.jsx(Dle,{})},{path:"/general-info",element:r.jsx(Ole,{})},{path:"/eyeglasses-contact-policy",element:r.jsx(Ple,{})},{path:"/rights-enforcement-policy",element:r.jsx(Lle,{})},{path:"/return-exchange",element:r.jsx(que,{})},{path:"/exchange-policy",element:r.jsx(Wue,{})},{path:"/cookies-policy",element:r.jsx(Xue,{})},{path:"/Shipping-policy",element:r.jsx(Yue,{})},{path:"/disclaimer-policy",element:r.jsx(Kue,{})},{path:"/cart",element:r.jsx(rue,{})},{path:"/checkout",element:r.jsx(Vle,{})},{path:"/order/:id",element:r.jsx(Hce,{})},{path:"/payment-policy",element:r.jsx(aue,{})},{path:"/payment",element:r.jsx(Ice,{})},{path:"/contact-us",element:r.jsx(vce,{})},{path:"/book-eye-exam",element:r.jsx(bce,{})},{path:"/glasses/:shape",element:r.jsx(ir,{})},{path:"/glasses/gender/:gender",element:r.jsx(ir,{})},{path:"/glasses/lens_type/:lens_type",element:r.jsx(ir,{})},{path:"/sunglasses/frame_shape/:frame_shape",element:r.jsx(ir,{})},{path:"/sunglasses/lens_type/:lens_type",element:r.jsx(ir,{})},{path:"/sunglasses/collection/:collection",element:r.jsx(ir,{})},{path:"/contact_lenses/category/:lens_cat/:catId",element:r.jsx(ir,{})},{path:"/contact_lenses/category/:lens_cat/:catId",element:r.jsx(tU,{})},{path:"/contact_lenses/:brand/:contactBrandId",element:r.jsx(ir,{})},{path:"/categoryProducts/:slug",element:r.jsx(ir,{})},{path:"/collectionProducts/:collectionName",element:r.jsx(ir,{})},{path:"/products/frame-shape/:frameShape",element:r.jsx(ir,{})},{path:"/products/collection/:collection",element:r.jsx(ir,{})},{path:"/allproduct/:categoryName/:categoryId",element:r.jsx(ir,{})},{path:"/brands/:BrandId",element:r.jsx(ir,{})},{path:"/allBrands/:allBrands",element:r.jsx(ir,{})},{path:"/products",element:r.jsx(ir,{})},{path:"/services",element:r.jsx(wce,{})},{path:"/insurance-claim",element:r.jsx(nue,{})},{path:"/about-us",element:r.jsx(kle,{})},{path:"/category",element:r.jsx(Fle,{})},{path:"/our-mission",element:r.jsx(Sce,{})},{path:"/our-vision",element:r.jsx(Ace,{})},{path:"/atal-meaning",element:r.jsx(_ce,{})},{path:"/responsibility",element:r.jsx(Ece,{})},{path:"/intellectual-property",element:r.jsx(Cce,{})},{path:"/learn-about-frame",element:r.jsx(Mce,{})},{path:"/learn-about-lens",element:r.jsx(Tce,{})},{path:"/learn-about-prescription",element:r.jsx(Nce,{})},{path:"/learn-about-maintenance",element:r.jsx(jce,{})},{path:"/eye-check-details",element:r.jsx(Rce,{})},{path:"/promotions-page",element:r.jsx(Bce,{})},{path:"/how-to-order",element:r.jsx(Uce,{})},{path:"/appointmentType",element:r.jsx(WB,{})},{path:"/appointmentSchedule",element:r.jsx(XB,{})},{path:"/eye-schedule-test",element:r.jsx(YB,{})},{path:"/update-profile",element:r.jsx(KB,{})},{path:"/product/:ID/:subCategory/:subCatId/lens-selection-flow",element:r.jsx(JB,{})},{path:"/track/:trackingNumber",element:r.jsx(QB,{})},{path:"/view-order",element:r.jsx($B,{})},{path:"/order-history",element:r.jsx(ZB,{})},{path:"/place-order",element:r.jsx(qB,{})},{path:"/appointmentType",element:r.jsx(WB,{})},{path:"/appointmentSchedule",element:r.jsx(XB,{})},{path:"/eye-schedule-test",element:r.jsx(YB,{})},{path:"/update-profile",element:r.jsx(KB,{})},{path:"/product/:ID/:subCategory/:subCatId/lens-selection-flow",element:r.jsx(JB,{})},{path:"/track/:trackingNumber",element:r.jsx(QB,{})},{path:"/view-order",element:r.jsx($B,{})},{path:"/order-history",element:r.jsx(ZB,{})},{path:"/eye-services/eye-wear-glass",element:r.jsx(lue,{})},{path:"/eye-services/contact-lens",element:r.jsx(uue,{})},{path:"/eye-services/eye-exam",element:r.jsx(hue,{})},{path:"/eye-services/promotions",element:r.jsx(pue,{})},{path:"/eye-services/brands",element:r.jsx(gue,{})},{path:"/eye-services/optometrists",element:r.jsx(wue,{})},{path:"/eye-services/insurance-claims",element:r.jsx(Aue,{})},{path:"/eye-services/blue-light-technology",element:r.jsx(_ue,{})},{path:"/subscribe-save",element:r.jsx(Tue,{})},{path:"connect/:platform",element:r.jsx(Bue,{})},{path:"/place-order",element:r.jsx(qB,{})},{path:"/offer-page",element:r.jsx(Due,{})},{path:"/customer-care",element:r.jsx(Oue,{})},{path:"/fast-shipping",element:r.jsx(Pue,{})},{path:"/wishlist-page",element:r.jsx(yce,{userId:n})},{path:"/search-results",element:r.jsx(Rue,{})},{path:"/refer-coupon",element:r.jsx(Iue,{})},{path:"/face-shape",element:r.jsx(Gue,{})},{path:"*",element:r.jsx(yB,{})}]},{path:"/dash",element:r.jsx(gce,{children:r.jsx(Ile,{})}),children:[{path:"*",element:r.jsx(yB,{})}]}]);return r.jsx(r.Fragment,{children:r.jsx(fF,{router:i})})}const Que=Yoe({reducer:{cart:xle,wishlist:Lce}}),oU=V.createContext(),Zue=({children:n})=>{const[e,t]=V.useState(!1);return r.jsx(oU.Provider,{value:{loading:e,setLoading:t},children:n})},$ue=()=>V.useContext(oU),ede=()=>{const[n,e]=V.useState("");return V.useEffect(()=>{const t=setInterval(()=>{e(i=>i.length>=3?"":i+".")},500);return()=>clearInterval(t)},[]),r.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-blur bg-opacity-30 backdrop-blur-sm z-50",children:[r.jsxs("div",{className:"relative w-28 h-28 mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-transparent border-b-transparent border-l-red-500 border-r-black animate-spin-slow"}),r.jsx("div",{className:"absolute inset-3 rounded-full border-4 border-t-transparent border-b-transparent border-l-black border-r-red-500 animate-spin-slower"}),r.jsx("div",{className:"absolute inset-6 rounded-full border-4 border-t-transparent border-b-transparent border-l-red-500 border-r-black animate-spin-fast"}),r.jsx("div",{className:"absolute inset-11 w-6 h-6 bg-black rounded-full animate-pulse"})]}),r.jsxs("div",{className:"text-black text-lg font-bold tracking-wide",children:["Loading",n]})]})};let MC=null;try{const n=localStorage.getItem("user");n&&(n.startsWith("{")?MC=JSON.parse(n):MC={_id:n})}catch(n){console.error("Invalid user data in localStorage",n)}function tde({children:n}){const{loading:e,setLoading:t}=$ue();return Mi.useEffect(()=>{tH(t)},[]),r.jsxs(r.Fragment,{children:[e&&r.jsx(ede,{}),n]})}function nde(){return r.jsx(Zue,{children:r.jsx(tde,{children:r.jsx(mce,{children:r.jsx(Mi.StrictMode,{children:r.jsx(dH,{user:MC,children:r.jsx(lae,{store:Que,children:r.jsx(Jue,{})})})})})})})}ik.createRoot(document.getElementById("root")).render(r.jsx(nde,{}));
